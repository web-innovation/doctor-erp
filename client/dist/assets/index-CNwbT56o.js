var mz=Object.defineProperty;var f6=e=>{throw TypeError(e)};var gz=(e,t,n)=>t in e?mz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ie=(e,t,n)=>gz(e,typeof t!="symbol"?t+"":t,n),Ob=(e,t,n)=>t.has(e)||f6("Cannot "+n);var Q=(e,t,n)=>(Ob(e,t,"read from private field"),n?n.call(e):t.get(e)),$e=(e,t,n)=>t.has(e)?f6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ke=(e,t,n,r)=>(Ob(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),rt=(e,t,n)=>(Ob(e,t,"access private method"),n);var vm=(e,t,n,r)=>({set _(s){ke(e,t,s,n)},get _(){return Q(e,t,r)}});function xz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var aM={exports:{}},jy={},oM={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=Symbol.for("react.element"),yz=Symbol.for("react.portal"),vz=Symbol.for("react.fragment"),bz=Symbol.for("react.strict_mode"),wz=Symbol.for("react.profiler"),jz=Symbol.for("react.provider"),Nz=Symbol.for("react.context"),Sz=Symbol.for("react.forward_ref"),Pz=Symbol.for("react.suspense"),Az=Symbol.for("react.memo"),Cz=Symbol.for("react.lazy"),h6=Symbol.iterator;function Oz(e){return e===null||typeof e!="object"?null:(e=h6&&e[h6]||e["@@iterator"],typeof e=="function"?e:null)}var lM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cM=Object.assign,uM={};function yd(e,t,n){this.props=e,this.context=t,this.refs=uM,this.updater=n||lM}yd.prototype.isReactComponent={};yd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dM(){}dM.prototype=yd.prototype;function bS(e,t,n){this.props=e,this.context=t,this.refs=uM,this.updater=n||lM}var wS=bS.prototype=new dM;wS.constructor=bS;cM(wS,yd.prototype);wS.isPureReactComponent=!0;var p6=Array.isArray,fM=Object.prototype.hasOwnProperty,jS={current:null},hM={key:!0,ref:!0,__self:!0,__source:!0};function pM(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)fM.call(t,r)&&!hM.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Vp,type:e,key:i,ref:o,props:s,_owner:jS.current}}function kz(e,t){return{$$typeof:Vp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function NS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vp}function _z(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var m6=/\/+/g;function kb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_z(""+e.key):t.toString(36)}function Eg(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Vp:case yz:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+kb(o,0):r,p6(s)?(n="",e!=null&&(n=e.replace(m6,"$&/")+"/"),Eg(s,t,n,"",function(u){return u})):s!=null&&(NS(s)&&(s=kz(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(m6,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",p6(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+kb(i,l);o+=Eg(i,t,n,c,s)}else if(c=Oz(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+kb(i,l++),o+=Eg(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function wm(e,t,n){if(e==null)return e;var r=[],s=0;return Eg(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Tz(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pr={current:null},Mg={transition:null},Ez={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:Mg,ReactCurrentOwner:jS};function mM(){throw Error("act(...) is not supported in production builds of React.")}at.Children={map:wm,forEach:function(e,t,n){wm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wm(e,function(){t++}),t},toArray:function(e){return wm(e,function(t){return t})||[]},only:function(e){if(!NS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};at.Component=yd;at.Fragment=vz;at.Profiler=wz;at.PureComponent=bS;at.StrictMode=bz;at.Suspense=Pz;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ez;at.act=mM;at.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=cM({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=jS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)fM.call(t,c)&&!hM.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Vp,type:e.type,key:s,ref:i,props:r,_owner:o}};at.createContext=function(e){return e={$$typeof:Nz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jz,_context:e},e.Consumer=e};at.createElement=pM;at.createFactory=function(e){var t=pM.bind(null,e);return t.type=e,t};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:Sz,render:e}};at.isValidElement=NS;at.lazy=function(e){return{$$typeof:Cz,_payload:{_status:-1,_result:e},_init:Tz}};at.memo=function(e,t){return{$$typeof:Az,type:e,compare:t===void 0?null:t}};at.startTransition=function(e){var t=Mg.transition;Mg.transition={};try{e()}finally{Mg.transition=t}};at.unstable_act=mM;at.useCallback=function(e,t){return Pr.current.useCallback(e,t)};at.useContext=function(e){return Pr.current.useContext(e)};at.useDebugValue=function(){};at.useDeferredValue=function(e){return Pr.current.useDeferredValue(e)};at.useEffect=function(e,t){return Pr.current.useEffect(e,t)};at.useId=function(){return Pr.current.useId()};at.useImperativeHandle=function(e,t,n){return Pr.current.useImperativeHandle(e,t,n)};at.useInsertionEffect=function(e,t){return Pr.current.useInsertionEffect(e,t)};at.useLayoutEffect=function(e,t){return Pr.current.useLayoutEffect(e,t)};at.useMemo=function(e,t){return Pr.current.useMemo(e,t)};at.useReducer=function(e,t,n){return Pr.current.useReducer(e,t,n)};at.useRef=function(e){return Pr.current.useRef(e)};at.useState=function(e){return Pr.current.useState(e)};at.useSyncExternalStore=function(e,t,n){return Pr.current.useSyncExternalStore(e,t,n)};at.useTransition=function(){return Pr.current.useTransition()};at.version="18.3.1";oM.exports=at;var N=oM.exports;const B=jt(N),M2=xz({__proto__:null,default:B},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mz=N,Dz=Symbol.for("react.element"),Rz=Symbol.for("react.fragment"),Iz=Object.prototype.hasOwnProperty,$z=Mz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lz={key:!0,ref:!0,__self:!0,__source:!0};function gM(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Iz.call(t,r)&&!Lz.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Dz,type:e,key:i,ref:o,props:s,_owner:$z.current}}jy.Fragment=Rz;jy.jsx=gM;jy.jsxs=gM;aM.exports=jy;var a=aM.exports,D2={},xM={exports:{}},cs={},yM={exports:{}},vM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,F){var W=R.length;R.push(F);e:for(;0<W;){var q=W-1>>>1,G=R[q];if(0<s(G,F))R[q]=F,R[W]=G,W=q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],W=R.pop();if(W!==F){R[0]=W;e:for(var q=0,G=R.length,H=G>>>1;q<H;){var J=2*(q+1)-1,ce=R[J],fe=J+1,Z=R[fe];if(0>s(ce,W))fe<G&&0>s(Z,ce)?(R[q]=Z,R[fe]=W,q=fe):(R[q]=ce,R[J]=W,q=J);else if(fe<G&&0>s(Z,W))R[q]=Z,R[fe]=W,q=fe;else break e}}return F}function s(R,F){var W=R.sortIndex-F.sortIndex;return W!==0?W:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=R)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function j(R){if(g=!1,b(R),!m)if(n(c)!==null)m=!0,_(w);else{var F=n(u);F!==null&&L(j,F.startTime-R)}}function w(R,F){m=!1,g&&(g=!1,y(A),A=-1),p=!0;var W=h;try{for(b(F),f=n(c);f!==null&&(!(f.expirationTime>F)||R&&!k());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var G=q(f.expirationTime<=F);F=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&r(c),b(F)}else r(c);f=n(c)}if(f!==null)var H=!0;else{var J=n(u);J!==null&&L(j,J.startTime-F),H=!1}return H}finally{f=null,h=W,p=!1}}var S=!1,P=null,A=-1,C=5,T=-1;function k(){return!(e.unstable_now()-T<C)}function O(){if(P!==null){var R=e.unstable_now();T=R;var F=!0;try{F=P(!0,R)}finally{F?I():(S=!1,P=null)}}else S=!1}var I;if(typeof v=="function")I=function(){v(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,E=M.port2;M.port1.onmessage=O,I=function(){E.postMessage(null)}}else I=function(){x(O,0)};function _(R){P=R,S||(S=!0,I())}function L(R,F){A=x(function(){R(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,_(w))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var W=h;h=F;try{return R()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=h;h=R;try{return F()}finally{h=W}},e.unstable_scheduleCallback=function(R,F,W){var q=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?q+W:q):W=q,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=W+G,R={id:d++,callback:F,priorityLevel:R,startTime:W,expirationTime:G,sortIndex:-1},W>q?(R.sortIndex=W,t(u,R),n(c)===null&&R===n(u)&&(g?(y(A),A=-1):g=!0,L(j,W-q))):(R.sortIndex=G,t(c,R),m||p||(m=!0,_(w))),R},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(R){var F=h;return function(){var W=h;h=F;try{return R.apply(this,arguments)}finally{h=W}}}})(vM);yM.exports=vM;var Fz=yM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bz=N,os=Fz;function we(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bM=new Set,mh={};function ac(e,t){Pu(e,t),Pu(e+"Capture",t)}function Pu(e,t){for(mh[e]=t,e=0;e<t.length;e++)bM.add(t[e])}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R2=Object.prototype.hasOwnProperty,Vz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g6={},x6={};function zz(e){return R2.call(x6,e)?!0:R2.call(g6,e)?!1:Vz.test(e)?x6[e]=!0:(g6[e]=!0,!1)}function Uz(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hz(e,t,n,r){if(t===null||typeof t>"u"||Uz(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ar(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new Ar(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new Ar(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new Ar(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new Ar(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new Ar(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new Ar(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new Ar(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new Ar(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new Ar(e,5,!1,e.toLowerCase(),null,!1,!1)});var SS=/[\-:]([a-z])/g;function PS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(SS,PS);Xn[t]=new Ar(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(SS,PS);Xn[t]=new Ar(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(SS,PS);Xn[t]=new Ar(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new Ar(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new Ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new Ar(e,1,!1,e.toLowerCase(),null,!0,!0)});function AS(e,t,n,r){var s=Xn.hasOwnProperty(t)?Xn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hz(t,n,s,r)&&(n=null),r||s===null?zz(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pa=Bz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jm=Symbol.for("react.element"),Oc=Symbol.for("react.portal"),kc=Symbol.for("react.fragment"),CS=Symbol.for("react.strict_mode"),I2=Symbol.for("react.profiler"),wM=Symbol.for("react.provider"),jM=Symbol.for("react.context"),OS=Symbol.for("react.forward_ref"),$2=Symbol.for("react.suspense"),L2=Symbol.for("react.suspense_list"),kS=Symbol.for("react.memo"),Ba=Symbol.for("react.lazy"),NM=Symbol.for("react.offscreen"),y6=Symbol.iterator;function Hd(e){return e===null||typeof e!="object"?null:(e=y6&&e[y6]||e["@@iterator"],typeof e=="function"?e:null)}var en=Object.assign,_b;function wf(e){if(_b===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_b=t&&t[1]||""}return`
`+_b+e}var Tb=!1;function Eb(e,t){if(!e||Tb)return"";Tb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Tb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wf(e):""}function Wz(e){switch(e.tag){case 5:return wf(e.type);case 16:return wf("Lazy");case 13:return wf("Suspense");case 19:return wf("SuspenseList");case 0:case 2:case 15:return e=Eb(e.type,!1),e;case 11:return e=Eb(e.type.render,!1),e;case 1:return e=Eb(e.type,!0),e;default:return""}}function F2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kc:return"Fragment";case Oc:return"Portal";case I2:return"Profiler";case CS:return"StrictMode";case $2:return"Suspense";case L2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jM:return(e.displayName||"Context")+".Consumer";case wM:return(e._context.displayName||"Context")+".Provider";case OS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kS:return t=e.displayName||null,t!==null?t:F2(e.type)||"Memo";case Ba:t=e._payload,e=e._init;try{return F2(e(t))}catch{}}return null}function qz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F2(t);case 8:return t===CS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function SM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kz(e){var t=SM(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nm(e){e._valueTracker||(e._valueTracker=Kz(e))}function PM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=SM(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function l0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function B2(e,t){var n=t.checked;return en({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function v6(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ao(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function AM(e,t){t=t.checked,t!=null&&AS(e,"checked",t,!1)}function V2(e,t){AM(e,t);var n=Ao(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?z2(e,t.type,n):t.hasOwnProperty("defaultValue")&&z2(e,t.type,Ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function b6(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function z2(e,t,n){(t!=="number"||l0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jf=Array.isArray;function Jc(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ao(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function U2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(we(91));return en({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function w6(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(we(92));if(jf(n)){if(1<n.length)throw Error(we(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ao(n)}}function CM(e,t){var n=Ao(t.value),r=Ao(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function j6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function OM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?OM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sm,kM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sm=Sm||document.createElement("div"),Sm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gz=["Webkit","ms","Moz","O"];Object.keys(zf).forEach(function(e){Gz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zf[t]=zf[e]})});function _M(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zf.hasOwnProperty(e)&&zf[e]?(""+t).trim():t+"px"}function TM(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=_M(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Yz=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function W2(e,t){if(t){if(Yz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(we(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(we(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(we(61))}if(t.style!=null&&typeof t.style!="object")throw Error(we(62))}}function q2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K2=null;function _S(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var G2=null,Zc=null,eu=null;function N6(e){if(e=Hp(e)){if(typeof G2!="function")throw Error(we(280));var t=e.stateNode;t&&(t=Cy(t),G2(e.stateNode,e.type,t))}}function EM(e){Zc?eu?eu.push(e):eu=[e]:Zc=e}function MM(){if(Zc){var e=Zc,t=eu;if(eu=Zc=null,N6(e),t)for(e=0;e<t.length;e++)N6(t[e])}}function DM(e,t){return e(t)}function RM(){}var Mb=!1;function IM(e,t,n){if(Mb)return e(t,n);Mb=!0;try{return DM(e,t,n)}finally{Mb=!1,(Zc!==null||eu!==null)&&(RM(),MM())}}function xh(e,t){var n=e.stateNode;if(n===null)return null;var r=Cy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(we(231,t,typeof n));return n}var Y2=!1;if(pa)try{var Wd={};Object.defineProperty(Wd,"passive",{get:function(){Y2=!0}}),window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{Y2=!1}function Xz(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Uf=!1,c0=null,u0=!1,X2=null,Qz={onError:function(e){Uf=!0,c0=e}};function Jz(e,t,n,r,s,i,o,l,c){Uf=!1,c0=null,Xz.apply(Qz,arguments)}function Zz(e,t,n,r,s,i,o,l,c){if(Jz.apply(this,arguments),Uf){if(Uf){var u=c0;Uf=!1,c0=null}else throw Error(we(198));u0||(u0=!0,X2=u)}}function oc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $M(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S6(e){if(oc(e)!==e)throw Error(we(188))}function eU(e){var t=e.alternate;if(!t){if(t=oc(e),t===null)throw Error(we(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return S6(s),e;if(i===r)return S6(s),t;i=i.sibling}throw Error(we(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(we(189))}}if(n.alternate!==r)throw Error(we(190))}if(n.tag!==3)throw Error(we(188));return n.stateNode.current===n?e:t}function LM(e){return e=eU(e),e!==null?FM(e):null}function FM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=FM(e);if(t!==null)return t;e=e.sibling}return null}var BM=os.unstable_scheduleCallback,P6=os.unstable_cancelCallback,tU=os.unstable_shouldYield,nU=os.unstable_requestPaint,dn=os.unstable_now,rU=os.unstable_getCurrentPriorityLevel,TS=os.unstable_ImmediatePriority,VM=os.unstable_UserBlockingPriority,d0=os.unstable_NormalPriority,sU=os.unstable_LowPriority,zM=os.unstable_IdlePriority,Ny=null,bi=null;function iU(e){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(Ny,e,void 0,(e.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:lU,aU=Math.log,oU=Math.LN2;function lU(e){return e>>>=0,e===0?32:31-(aU(e)/oU|0)|0}var Pm=64,Am=4194304;function Nf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function f0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Nf(l):(i&=o,i!==0&&(r=Nf(i)))}else o=n&~s,o!==0?r=Nf(o):i!==0&&(r=Nf(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Zs(t),s=1<<n,r|=e[n],t&=~s;return r}function cU(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uU(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Zs(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=cU(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Q2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function UM(){var e=Pm;return Pm<<=1,!(Pm&4194240)&&(Pm=64),e}function Db(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zs(t),e[t]=n}function dU(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Zs(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ES(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Zs(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Pt=0;function HM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WM,MS,qM,KM,GM,J2=!1,Cm=[],fo=null,ho=null,po=null,yh=new Map,vh=new Map,Ua=[],fU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A6(e,t){switch(e){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":yh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(t.pointerId)}}function qd(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Hp(t),t!==null&&MS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hU(e,t,n,r,s){switch(t){case"focusin":return fo=qd(fo,e,t,n,r,s),!0;case"dragenter":return ho=qd(ho,e,t,n,r,s),!0;case"mouseover":return po=qd(po,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return yh.set(i,qd(yh.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,vh.set(i,qd(vh.get(i)||null,e,t,n,r,s)),!0}return!1}function YM(e){var t=ol(e.target);if(t!==null){var n=oc(t);if(n!==null){if(t=n.tag,t===13){if(t=$M(n),t!==null){e.blockedOn=t,GM(e.priority,function(){qM(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Z2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);K2=r,n.target.dispatchEvent(r),K2=null}else return t=Hp(n),t!==null&&MS(t),e.blockedOn=n,!1;t.shift()}return!0}function C6(e,t,n){Dg(e)&&n.delete(t)}function pU(){J2=!1,fo!==null&&Dg(fo)&&(fo=null),ho!==null&&Dg(ho)&&(ho=null),po!==null&&Dg(po)&&(po=null),yh.forEach(C6),vh.forEach(C6)}function Kd(e,t){e.blockedOn===t&&(e.blockedOn=null,J2||(J2=!0,os.unstable_scheduleCallback(os.unstable_NormalPriority,pU)))}function bh(e){function t(s){return Kd(s,e)}if(0<Cm.length){Kd(Cm[0],e);for(var n=1;n<Cm.length;n++){var r=Cm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fo!==null&&Kd(fo,e),ho!==null&&Kd(ho,e),po!==null&&Kd(po,e),yh.forEach(t),vh.forEach(t),n=0;n<Ua.length;n++)r=Ua[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ua.length&&(n=Ua[0],n.blockedOn===null);)YM(n),n.blockedOn===null&&Ua.shift()}var tu=Pa.ReactCurrentBatchConfig,h0=!0;function mU(e,t,n,r){var s=Pt,i=tu.transition;tu.transition=null;try{Pt=1,DS(e,t,n,r)}finally{Pt=s,tu.transition=i}}function gU(e,t,n,r){var s=Pt,i=tu.transition;tu.transition=null;try{Pt=4,DS(e,t,n,r)}finally{Pt=s,tu.transition=i}}function DS(e,t,n,r){if(h0){var s=Z2(e,t,n,r);if(s===null)Hb(e,t,r,p0,n),A6(e,r);else if(hU(s,e,t,n,r))r.stopPropagation();else if(A6(e,r),t&4&&-1<fU.indexOf(e)){for(;s!==null;){var i=Hp(s);if(i!==null&&WM(i),i=Z2(e,t,n,r),i===null&&Hb(e,t,r,p0,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hb(e,t,r,null,n)}}var p0=null;function Z2(e,t,n,r){if(p0=null,e=_S(r),e=ol(e),e!==null)if(t=oc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$M(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return p0=e,null}function XM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rU()){case TS:return 1;case VM:return 4;case d0:case sU:return 16;case zM:return 536870912;default:return 16}default:return 16}}var so=null,RS=null,Rg=null;function QM(){if(Rg)return Rg;var e,t=RS,n=t.length,r,s="value"in so?so.value:so.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Rg=s.slice(e,1<r?1-r:void 0)}function Ig(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Om(){return!0}function O6(){return!1}function us(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Om:O6,this.isPropagationStopped=O6,this}return en(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Om)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Om)},persist:function(){},isPersistent:Om}),t}var vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},IS=us(vd),Up=en({},vd,{view:0,detail:0}),xU=us(Up),Rb,Ib,Gd,Sy=en({},Up,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$S,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gd&&(Gd&&e.type==="mousemove"?(Rb=e.screenX-Gd.screenX,Ib=e.screenY-Gd.screenY):Ib=Rb=0,Gd=e),Rb)},movementY:function(e){return"movementY"in e?e.movementY:Ib}}),k6=us(Sy),yU=en({},Sy,{dataTransfer:0}),vU=us(yU),bU=en({},Up,{relatedTarget:0}),$b=us(bU),wU=en({},vd,{animationName:0,elapsedTime:0,pseudoElement:0}),jU=us(wU),NU=en({},vd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SU=us(NU),PU=en({},vd,{data:0}),_6=us(PU),AU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OU[e])?!!t[e]:!1}function $S(){return kU}var _U=en({},Up,{key:function(e){if(e.key){var t=AU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ig(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$S,charCode:function(e){return e.type==="keypress"?Ig(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ig(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TU=us(_U),EU=en({},Sy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T6=us(EU),MU=en({},Up,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$S}),DU=us(MU),RU=en({},vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),IU=us(RU),$U=en({},Sy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LU=us($U),FU=[9,13,27,32],LS=pa&&"CompositionEvent"in window,Hf=null;pa&&"documentMode"in document&&(Hf=document.documentMode);var BU=pa&&"TextEvent"in window&&!Hf,JM=pa&&(!LS||Hf&&8<Hf&&11>=Hf),E6=" ",M6=!1;function ZM(e,t){switch(e){case"keyup":return FU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _c=!1;function VU(e,t){switch(e){case"compositionend":return eD(t);case"keypress":return t.which!==32?null:(M6=!0,E6);case"textInput":return e=t.data,e===E6&&M6?null:e;default:return null}}function zU(e,t){if(_c)return e==="compositionend"||!LS&&ZM(e,t)?(e=QM(),Rg=RS=so=null,_c=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return JM&&t.locale!=="ko"?null:t.data;default:return null}}var UU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UU[e.type]:t==="textarea"}function tD(e,t,n,r){EM(r),t=m0(t,"onChange"),0<t.length&&(n=new IS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wf=null,wh=null;function HU(e){fD(e,0)}function Py(e){var t=Mc(e);if(PM(t))return e}function WU(e,t){if(e==="change")return t}var nD=!1;if(pa){var Lb;if(pa){var Fb="oninput"in document;if(!Fb){var R6=document.createElement("div");R6.setAttribute("oninput","return;"),Fb=typeof R6.oninput=="function"}Lb=Fb}else Lb=!1;nD=Lb&&(!document.documentMode||9<document.documentMode)}function I6(){Wf&&(Wf.detachEvent("onpropertychange",rD),wh=Wf=null)}function rD(e){if(e.propertyName==="value"&&Py(wh)){var t=[];tD(t,wh,e,_S(e)),IM(HU,t)}}function qU(e,t,n){e==="focusin"?(I6(),Wf=t,wh=n,Wf.attachEvent("onpropertychange",rD)):e==="focusout"&&I6()}function KU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Py(wh)}function GU(e,t){if(e==="click")return Py(t)}function YU(e,t){if(e==="input"||e==="change")return Py(t)}function XU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ni=typeof Object.is=="function"?Object.is:XU;function jh(e,t){if(ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!R2.call(t,s)||!ni(e[s],t[s]))return!1}return!0}function $6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function L6(e,t){var n=$6(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$6(n)}}function sD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iD(){for(var e=window,t=l0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=l0(e.document)}return t}function FS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function QU(e){var t=iD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sD(n.ownerDocument.documentElement,n)){if(r!==null&&FS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=L6(n,i);var o=L6(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JU=pa&&"documentMode"in document&&11>=document.documentMode,Tc=null,ew=null,qf=null,tw=!1;function F6(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tw||Tc==null||Tc!==l0(r)||(r=Tc,"selectionStart"in r&&FS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qf&&jh(qf,r)||(qf=r,r=m0(ew,"onSelect"),0<r.length&&(t=new IS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tc)))}function km(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ec={animationend:km("Animation","AnimationEnd"),animationiteration:km("Animation","AnimationIteration"),animationstart:km("Animation","AnimationStart"),transitionend:km("Transition","TransitionEnd")},Bb={},aD={};pa&&(aD=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Ay(e){if(Bb[e])return Bb[e];if(!Ec[e])return e;var t=Ec[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in aD)return Bb[e]=t[n];return e}var oD=Ay("animationend"),lD=Ay("animationiteration"),cD=Ay("animationstart"),uD=Ay("transitionend"),dD=new Map,B6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mo(e,t){dD.set(e,t),ac(t,[e])}for(var Vb=0;Vb<B6.length;Vb++){var zb=B6[Vb],ZU=zb.toLowerCase(),eH=zb[0].toUpperCase()+zb.slice(1);Mo(ZU,"on"+eH)}Mo(oD,"onAnimationEnd");Mo(lD,"onAnimationIteration");Mo(cD,"onAnimationStart");Mo("dblclick","onDoubleClick");Mo("focusin","onFocus");Mo("focusout","onBlur");Mo(uD,"onTransitionEnd");Pu("onMouseEnter",["mouseout","mouseover"]);Pu("onMouseLeave",["mouseout","mouseover"]);Pu("onPointerEnter",["pointerout","pointerover"]);Pu("onPointerLeave",["pointerout","pointerover"]);ac("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ac("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ac("onBeforeInput",["compositionend","keypress","textInput","paste"]);ac("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ac("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ac("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sf));function V6(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Zz(r,t,void 0,e),e.currentTarget=null}function fD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;V6(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;V6(s,l,u),i=c}}}if(u0)throw e=X2,u0=!1,X2=null,e}function Lt(e,t){var n=t[aw];n===void 0&&(n=t[aw]=new Set);var r=e+"__bubble";n.has(r)||(hD(t,e,2,!1),n.add(r))}function Ub(e,t,n){var r=0;t&&(r|=4),hD(n,e,r,t)}var _m="_reactListening"+Math.random().toString(36).slice(2);function Nh(e){if(!e[_m]){e[_m]=!0,bM.forEach(function(n){n!=="selectionchange"&&(tH.has(n)||Ub(n,!1,e),Ub(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_m]||(t[_m]=!0,Ub("selectionchange",!1,t))}}function hD(e,t,n,r){switch(XM(t)){case 1:var s=mU;break;case 4:s=gU;break;default:s=DS}n=s.bind(null,t,n,e),s=void 0,!Y2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Hb(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ol(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}IM(function(){var u=i,d=_S(n),f=[];e:{var h=dD.get(e);if(h!==void 0){var p=IS,m=e;switch(e){case"keypress":if(Ig(n)===0)break e;case"keydown":case"keyup":p=TU;break;case"focusin":m="focus",p=$b;break;case"focusout":m="blur",p=$b;break;case"beforeblur":case"afterblur":p=$b;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=k6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DU;break;case oD:case lD:case cD:p=jU;break;case uD:p=IU;break;case"scroll":p=xU;break;case"wheel":p=LU;break;case"copy":case"cut":case"paste":p=SU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=T6}var g=(t&4)!==0,x=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=xh(v,y),j!=null&&g.push(Sh(v,j,b)))),x)break;v=v.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==K2&&(m=n.relatedTarget||n.fromElement)&&(ol(m)||m[ma]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?ol(m):null,m!==null&&(x=oc(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=k6,j="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=T6,j="onPointerLeave",y="onPointerEnter",v="pointer"),x=p==null?h:Mc(p),b=m==null?h:Mc(m),h=new g(j,v+"leave",p,n,d),h.target=x,h.relatedTarget=b,j=null,ol(d)===u&&(g=new g(y,v+"enter",m,n,d),g.target=b,g.relatedTarget=x,j=g),x=j,p&&m)t:{for(g=p,y=m,v=0,b=g;b;b=xc(b))v++;for(b=0,j=y;j;j=xc(j))b++;for(;0<v-b;)g=xc(g),v--;for(;0<b-v;)y=xc(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=xc(g),y=xc(y)}g=null}else g=null;p!==null&&z6(f,h,p,g,!1),m!==null&&x!==null&&z6(f,x,m,g,!0)}}e:{if(h=u?Mc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=WU;else if(D6(h))if(nD)w=YU;else{w=KU;var S=qU}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=GU);if(w&&(w=w(e,u))){tD(f,w,n,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&z2(h,"number",h.value)}switch(S=u?Mc(u):window,e){case"focusin":(D6(S)||S.contentEditable==="true")&&(Tc=S,ew=u,qf=null);break;case"focusout":qf=ew=Tc=null;break;case"mousedown":tw=!0;break;case"contextmenu":case"mouseup":case"dragend":tw=!1,F6(f,n,d);break;case"selectionchange":if(JU)break;case"keydown":case"keyup":F6(f,n,d)}var P;if(LS)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else _c?ZM(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(JM&&n.locale!=="ko"&&(_c||A!=="onCompositionStart"?A==="onCompositionEnd"&&_c&&(P=QM()):(so=d,RS="value"in so?so.value:so.textContent,_c=!0)),S=m0(u,A),0<S.length&&(A=new _6(A,e,null,n,d),f.push({event:A,listeners:S}),P?A.data=P:(P=eD(n),P!==null&&(A.data=P)))),(P=BU?VU(e,n):zU(e,n))&&(u=m0(u,"onBeforeInput"),0<u.length&&(d=new _6("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}fD(f,t)})}function Sh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function m0(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xh(e,n),i!=null&&r.unshift(Sh(e,i,s)),i=xh(e,t),i!=null&&r.push(Sh(e,i,s))),e=e.return}return r}function xc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function z6(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=xh(n,i),c!=null&&o.unshift(Sh(n,c,l))):s||(c=xh(n,i),c!=null&&o.push(Sh(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var nH=/\r\n?/g,rH=/\u0000|\uFFFD/g;function U6(e){return(typeof e=="string"?e:""+e).replace(nH,`
`).replace(rH,"")}function Tm(e,t,n){if(t=U6(t),U6(e)!==t&&n)throw Error(we(425))}function g0(){}var nw=null,rw=null;function sw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var iw=typeof setTimeout=="function"?setTimeout:void 0,sH=typeof clearTimeout=="function"?clearTimeout:void 0,H6=typeof Promise=="function"?Promise:void 0,iH=typeof queueMicrotask=="function"?queueMicrotask:typeof H6<"u"?function(e){return H6.resolve(null).then(e).catch(aH)}:iw;function aH(e){setTimeout(function(){throw e})}function Wb(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),bh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);bh(t)}function mo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function W6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bd=Math.random().toString(36).slice(2),gi="__reactFiber$"+bd,Ph="__reactProps$"+bd,ma="__reactContainer$"+bd,aw="__reactEvents$"+bd,oH="__reactListeners$"+bd,lH="__reactHandles$"+bd;function ol(e){var t=e[gi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[gi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=W6(e);e!==null;){if(n=e[gi])return n;e=W6(e)}return t}e=n,n=e.parentNode}return null}function Hp(e){return e=e[gi]||e[ma],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(we(33))}function Cy(e){return e[Ph]||null}var ow=[],Dc=-1;function Do(e){return{current:e}}function zt(e){0>Dc||(e.current=ow[Dc],ow[Dc]=null,Dc--)}function Rt(e,t){Dc++,ow[Dc]=e.current,e.current=t}var Co={},pr=Do(Co),$r=Do(!1),Fl=Co;function Au(e,t){var n=e.type.contextTypes;if(!n)return Co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Lr(e){return e=e.childContextTypes,e!=null}function x0(){zt($r),zt(pr)}function q6(e,t,n){if(pr.current!==Co)throw Error(we(168));Rt(pr,t),Rt($r,n)}function pD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(we(108,qz(e)||"Unknown",s));return en({},n,r)}function y0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,Fl=pr.current,Rt(pr,e),Rt($r,$r.current),!0}function K6(e,t,n){var r=e.stateNode;if(!r)throw Error(we(169));n?(e=pD(e,t,Fl),r.__reactInternalMemoizedMergedChildContext=e,zt($r),zt(pr),Rt(pr,e)):zt($r),Rt($r,n)}var Wi=null,Oy=!1,qb=!1;function mD(e){Wi===null?Wi=[e]:Wi.push(e)}function cH(e){Oy=!0,mD(e)}function Ro(){if(!qb&&Wi!==null){qb=!0;var e=0,t=Pt;try{var n=Wi;for(Pt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wi=null,Oy=!1}catch(s){throw Wi!==null&&(Wi=Wi.slice(e+1)),BM(TS,Ro),s}finally{Pt=t,qb=!1}}return null}var Rc=[],Ic=0,v0=null,b0=0,Ns=[],Ss=0,Bl=null,Ji=1,Zi="";function Qo(e,t){Rc[Ic++]=b0,Rc[Ic++]=v0,v0=e,b0=t}function gD(e,t,n){Ns[Ss++]=Ji,Ns[Ss++]=Zi,Ns[Ss++]=Bl,Bl=e;var r=Ji;e=Zi;var s=32-Zs(r)-1;r&=~(1<<s),n+=1;var i=32-Zs(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ji=1<<32-Zs(t)+s|n<<s|r,Zi=i+e}else Ji=1<<i|n<<s|r,Zi=e}function BS(e){e.return!==null&&(Qo(e,1),gD(e,1,0))}function VS(e){for(;e===v0;)v0=Rc[--Ic],Rc[Ic]=null,b0=Rc[--Ic],Rc[Ic]=null;for(;e===Bl;)Bl=Ns[--Ss],Ns[Ss]=null,Zi=Ns[--Ss],Ns[Ss]=null,Ji=Ns[--Ss],Ns[Ss]=null}var ns=null,ts=null,qt=!1,Ys=null;function xD(e,t){var n=Os(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function G6(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ns=e,ts=mo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ns=e,ts=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bl!==null?{id:Ji,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Os(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ns=e,ts=null,!0):!1;default:return!1}}function lw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cw(e){if(qt){var t=ts;if(t){var n=t;if(!G6(e,t)){if(lw(e))throw Error(we(418));t=mo(n.nextSibling);var r=ns;t&&G6(e,t)?xD(r,n):(e.flags=e.flags&-4097|2,qt=!1,ns=e)}}else{if(lw(e))throw Error(we(418));e.flags=e.flags&-4097|2,qt=!1,ns=e}}}function Y6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ns=e}function Em(e){if(e!==ns)return!1;if(!qt)return Y6(e),qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sw(e.type,e.memoizedProps)),t&&(t=ts)){if(lw(e))throw yD(),Error(we(418));for(;t;)xD(e,t),t=mo(t.nextSibling)}if(Y6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(we(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ts=mo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ts=null}}else ts=ns?mo(e.stateNode.nextSibling):null;return!0}function yD(){for(var e=ts;e;)e=mo(e.nextSibling)}function Cu(){ts=ns=null,qt=!1}function zS(e){Ys===null?Ys=[e]:Ys.push(e)}var uH=Pa.ReactCurrentBatchConfig;function Yd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(we(309));var r=n.stateNode}if(!r)throw Error(we(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(we(284));if(!n._owner)throw Error(we(290,e))}return e}function Mm(e,t){throw e=Object.prototype.toString.call(t),Error(we(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function X6(e){var t=e._init;return t(e._payload)}function vD(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=vo(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,j){return v===null||v.tag!==6?(v=Zb(b,y.mode,j),v.return=y,v):(v=s(v,b),v.return=y,v)}function c(y,v,b,j){var w=b.type;return w===kc?d(y,v,b.props.children,j,b.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ba&&X6(w)===v.type)?(j=s(v,b.props),j.ref=Yd(y,v,b),j.return=y,j):(j=Ug(b.type,b.key,b.props,null,y.mode,j),j.ref=Yd(y,v,b),j.return=y,j)}function u(y,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=e1(b,y.mode,j),v.return=y,v):(v=s(v,b.children||[]),v.return=y,v)}function d(y,v,b,j,w){return v===null||v.tag!==7?(v=Tl(b,y.mode,j,w),v.return=y,v):(v=s(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Zb(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jm:return b=Ug(v.type,v.key,v.props,null,y.mode,b),b.ref=Yd(y,null,v),b.return=y,b;case Oc:return v=e1(v,y.mode,b),v.return=y,v;case Ba:var j=v._init;return f(y,j(v._payload),b)}if(jf(v)||Hd(v))return v=Tl(v,y.mode,b,null),v.return=y,v;Mm(y,v)}return null}function h(y,v,b,j){var w=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:l(y,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case jm:return b.key===w?c(y,v,b,j):null;case Oc:return b.key===w?u(y,v,b,j):null;case Ba:return w=b._init,h(y,v,w(b._payload),j)}if(jf(b)||Hd(b))return w!==null?null:d(y,v,b,j,null);Mm(y,b)}return null}function p(y,v,b,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(v,y,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case jm:return y=y.get(j.key===null?b:j.key)||null,c(v,y,j,w);case Oc:return y=y.get(j.key===null?b:j.key)||null,u(v,y,j,w);case Ba:var S=j._init;return p(y,v,b,S(j._payload),w)}if(jf(j)||Hd(j))return y=y.get(b)||null,d(v,y,j,w,null);Mm(v,j)}return null}function m(y,v,b,j){for(var w=null,S=null,P=v,A=v=0,C=null;P!==null&&A<b.length;A++){P.index>A?(C=P,P=null):C=P.sibling;var T=h(y,P,b[A],j);if(T===null){P===null&&(P=C);break}e&&P&&T.alternate===null&&t(y,P),v=i(T,v,A),S===null?w=T:S.sibling=T,S=T,P=C}if(A===b.length)return n(y,P),qt&&Qo(y,A),w;if(P===null){for(;A<b.length;A++)P=f(y,b[A],j),P!==null&&(v=i(P,v,A),S===null?w=P:S.sibling=P,S=P);return qt&&Qo(y,A),w}for(P=r(y,P);A<b.length;A++)C=p(P,y,A,b[A],j),C!==null&&(e&&C.alternate!==null&&P.delete(C.key===null?A:C.key),v=i(C,v,A),S===null?w=C:S.sibling=C,S=C);return e&&P.forEach(function(k){return t(y,k)}),qt&&Qo(y,A),w}function g(y,v,b,j){var w=Hd(b);if(typeof w!="function")throw Error(we(150));if(b=w.call(b),b==null)throw Error(we(151));for(var S=w=null,P=v,A=v=0,C=null,T=b.next();P!==null&&!T.done;A++,T=b.next()){P.index>A?(C=P,P=null):C=P.sibling;var k=h(y,P,T.value,j);if(k===null){P===null&&(P=C);break}e&&P&&k.alternate===null&&t(y,P),v=i(k,v,A),S===null?w=k:S.sibling=k,S=k,P=C}if(T.done)return n(y,P),qt&&Qo(y,A),w;if(P===null){for(;!T.done;A++,T=b.next())T=f(y,T.value,j),T!==null&&(v=i(T,v,A),S===null?w=T:S.sibling=T,S=T);return qt&&Qo(y,A),w}for(P=r(y,P);!T.done;A++,T=b.next())T=p(P,y,A,T.value,j),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?A:T.key),v=i(T,v,A),S===null?w=T:S.sibling=T,S=T);return e&&P.forEach(function(O){return t(y,O)}),qt&&Qo(y,A),w}function x(y,v,b,j){if(typeof b=="object"&&b!==null&&b.type===kc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case jm:e:{for(var w=b.key,S=v;S!==null;){if(S.key===w){if(w=b.type,w===kc){if(S.tag===7){n(y,S.sibling),v=s(S,b.props.children),v.return=y,y=v;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ba&&X6(w)===S.type){n(y,S.sibling),v=s(S,b.props),v.ref=Yd(y,S,b),v.return=y,y=v;break e}n(y,S);break}else t(y,S);S=S.sibling}b.type===kc?(v=Tl(b.props.children,y.mode,j,b.key),v.return=y,y=v):(j=Ug(b.type,b.key,b.props,null,y.mode,j),j.ref=Yd(y,v,b),j.return=y,y=j)}return o(y);case Oc:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=s(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=e1(b,y.mode,j),v.return=y,y=v}return o(y);case Ba:return S=b._init,x(y,v,S(b._payload),j)}if(jf(b))return m(y,v,b,j);if(Hd(b))return g(y,v,b,j);Mm(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,b),v.return=y,y=v):(n(y,v),v=Zb(b,y.mode,j),v.return=y,y=v),o(y)):n(y,v)}return x}var Ou=vD(!0),bD=vD(!1),w0=Do(null),j0=null,$c=null,US=null;function HS(){US=$c=j0=null}function WS(e){var t=w0.current;zt(w0),e._currentValue=t}function uw(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nu(e,t){j0=e,US=$c=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dr=!0),e.firstContext=null)}function Ms(e){var t=e._currentValue;if(US!==e)if(e={context:e,memoizedValue:t,next:null},$c===null){if(j0===null)throw Error(we(308));$c=e,j0.dependencies={lanes:0,firstContext:e}}else $c=$c.next=e;return t}var ll=null;function qS(e){ll===null?ll=[e]:ll.push(e)}function wD(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,qS(t)):(n.next=s.next,s.next=n),t.interleaved=n,ga(e,r)}function ga(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Va=!1;function KS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function go(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ht&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ga(e,n)}return s=r.interleaved,s===null?(t.next=t,qS(r)):(t.next=s.next,s.next=t),r.interleaved=t,ga(e,n)}function $g(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ES(e,n)}}function Q6(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function N0(e,t,n,r){var s=e.updateQueue;Va=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(h=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=en({},f,h);break e;case 2:Va=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);zl|=o,e.lanes=o,e.memoizedState=f}}function J6(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(we(191,s));s.call(r)}}}var Wp={},wi=Do(Wp),Ah=Do(Wp),Ch=Do(Wp);function cl(e){if(e===Wp)throw Error(we(174));return e}function GS(e,t){switch(Rt(Ch,t),Rt(Ah,e),Rt(wi,Wp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:H2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=H2(t,e)}zt(wi),Rt(wi,t)}function ku(){zt(wi),zt(Ah),zt(Ch)}function ND(e){cl(Ch.current);var t=cl(wi.current),n=H2(t,e.type);t!==n&&(Rt(Ah,e),Rt(wi,n))}function YS(e){Ah.current===e&&(zt(wi),zt(Ah))}var Yt=Do(0);function S0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kb=[];function XS(){for(var e=0;e<Kb.length;e++)Kb[e]._workInProgressVersionPrimary=null;Kb.length=0}var Lg=Pa.ReactCurrentDispatcher,Gb=Pa.ReactCurrentBatchConfig,Vl=0,Jt=null,Sn=null,Rn=null,P0=!1,Kf=!1,Oh=0,dH=0;function Jn(){throw Error(we(321))}function QS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ni(e[n],t[n]))return!1;return!0}function JS(e,t,n,r,s,i){if(Vl=i,Jt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lg.current=e===null||e.memoizedState===null?mH:gH,e=n(r,s),Kf){i=0;do{if(Kf=!1,Oh=0,25<=i)throw Error(we(301));i+=1,Rn=Sn=null,t.updateQueue=null,Lg.current=xH,e=n(r,s)}while(Kf)}if(Lg.current=A0,t=Sn!==null&&Sn.next!==null,Vl=0,Rn=Sn=Jt=null,P0=!1,t)throw Error(we(300));return e}function ZS(){var e=Oh!==0;return Oh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?Jt.memoizedState=Rn=e:Rn=Rn.next=e,Rn}function Ds(){if(Sn===null){var e=Jt.alternate;e=e!==null?e.memoizedState:null}else e=Sn.next;var t=Rn===null?Jt.memoizedState:Rn.next;if(t!==null)Rn=t,Sn=e;else{if(e===null)throw Error(we(310));Sn=e,e={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Rn===null?Jt.memoizedState=Rn=e:Rn=Rn.next=e}return Rn}function kh(e,t){return typeof t=="function"?t(e):t}function Yb(e){var t=Ds(),n=t.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=e;var r=Sn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Vl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Jt.lanes|=d,zl|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,ni(r,t.memoizedState)||(Dr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Jt.lanes|=i,zl|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xb(e){var t=Ds(),n=t.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ni(i,t.memoizedState)||(Dr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function SD(){}function PD(e,t){var n=Jt,r=Ds(),s=t(),i=!ni(r.memoizedState,s);if(i&&(r.memoizedState=s,Dr=!0),r=r.queue,e4(OD.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Rn!==null&&Rn.memoizedState.tag&1){if(n.flags|=2048,_h(9,CD.bind(null,n,r,s,t),void 0,null),Ln===null)throw Error(we(349));Vl&30||AD(n,t,s)}return s}function AD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function CD(e,t,n,r){t.value=n,t.getSnapshot=r,kD(t)&&_D(e)}function OD(e,t,n){return n(function(){kD(t)&&_D(e)})}function kD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ni(e,n)}catch{return!0}}function _D(e){var t=ga(e,1);t!==null&&ei(t,e,1,-1)}function Z6(e){var t=ci();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kh,lastRenderedState:e},t.queue=e,e=e.dispatch=pH.bind(null,Jt,e),[t.memoizedState,e]}function _h(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function TD(){return Ds().memoizedState}function Fg(e,t,n,r){var s=ci();Jt.flags|=e,s.memoizedState=_h(1|t,n,void 0,r===void 0?null:r)}function ky(e,t,n,r){var s=Ds();r=r===void 0?null:r;var i=void 0;if(Sn!==null){var o=Sn.memoizedState;if(i=o.destroy,r!==null&&QS(r,o.deps)){s.memoizedState=_h(t,n,i,r);return}}Jt.flags|=e,s.memoizedState=_h(1|t,n,i,r)}function eP(e,t){return Fg(8390656,8,e,t)}function e4(e,t){return ky(2048,8,e,t)}function ED(e,t){return ky(4,2,e,t)}function MD(e,t){return ky(4,4,e,t)}function DD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RD(e,t,n){return n=n!=null?n.concat([e]):null,ky(4,4,DD.bind(null,t,e),n)}function t4(){}function ID(e,t){var n=Ds();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&QS(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $D(e,t){var n=Ds();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&QS(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function LD(e,t,n){return Vl&21?(ni(n,t)||(n=UM(),Jt.lanes|=n,zl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dr=!0),e.memoizedState=n)}function fH(e,t){var n=Pt;Pt=n!==0&&4>n?n:4,e(!0);var r=Gb.transition;Gb.transition={};try{e(!1),t()}finally{Pt=n,Gb.transition=r}}function FD(){return Ds().memoizedState}function hH(e,t,n){var r=yo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BD(e))VD(t,n);else if(n=wD(e,t,n,r),n!==null){var s=Sr();ei(n,e,r,s),zD(n,t,r)}}function pH(e,t,n){var r=yo(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BD(e))VD(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ni(l,o)){var c=t.interleaved;c===null?(s.next=s,qS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=wD(e,t,s,r),n!==null&&(s=Sr(),ei(n,e,r,s),zD(n,t,r))}}function BD(e){var t=e.alternate;return e===Jt||t!==null&&t===Jt}function VD(e,t){Kf=P0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ES(e,n)}}var A0={readContext:Ms,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},mH={readContext:Ms,useCallback:function(e,t){return ci().memoizedState=[e,t===void 0?null:t],e},useContext:Ms,useEffect:eP,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fg(4194308,4,DD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fg(4,2,e,t)},useMemo:function(e,t){var n=ci();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ci();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hH.bind(null,Jt,e),[r.memoizedState,e]},useRef:function(e){var t=ci();return e={current:e},t.memoizedState=e},useState:Z6,useDebugValue:t4,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=Z6(!1),t=e[0];return e=fH.bind(null,e[1]),ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Jt,s=ci();if(qt){if(n===void 0)throw Error(we(407));n=n()}else{if(n=t(),Ln===null)throw Error(we(349));Vl&30||AD(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,eP(OD.bind(null,r,i,e),[e]),r.flags|=2048,_h(9,CD.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ci(),t=Ln.identifierPrefix;if(qt){var n=Zi,r=Ji;n=(r&~(1<<32-Zs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dH++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gH={readContext:Ms,useCallback:ID,useContext:Ms,useEffect:e4,useImperativeHandle:RD,useInsertionEffect:ED,useLayoutEffect:MD,useMemo:$D,useReducer:Yb,useRef:TD,useState:function(){return Yb(kh)},useDebugValue:t4,useDeferredValue:function(e){var t=Ds();return LD(t,Sn.memoizedState,e)},useTransition:function(){var e=Yb(kh)[0],t=Ds().memoizedState;return[e,t]},useMutableSource:SD,useSyncExternalStore:PD,useId:FD,unstable_isNewReconciler:!1},xH={readContext:Ms,useCallback:ID,useContext:Ms,useEffect:e4,useImperativeHandle:RD,useInsertionEffect:ED,useLayoutEffect:MD,useMemo:$D,useReducer:Xb,useRef:TD,useState:function(){return Xb(kh)},useDebugValue:t4,useDeferredValue:function(e){var t=Ds();return Sn===null?t.memoizedState=e:LD(t,Sn.memoizedState,e)},useTransition:function(){var e=Xb(kh)[0],t=Ds().memoizedState;return[e,t]},useMutableSource:SD,useSyncExternalStore:PD,useId:FD,unstable_isNewReconciler:!1};function Us(e,t){if(e&&e.defaultProps){t=en({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dw(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:en({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _y={isMounted:function(e){return(e=e._reactInternals)?oc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Sr(),s=yo(e),i=aa(r,s);i.payload=t,n!=null&&(i.callback=n),t=go(e,i,s),t!==null&&(ei(t,e,s,r),$g(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Sr(),s=yo(e),i=aa(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=go(e,i,s),t!==null&&(ei(t,e,s,r),$g(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Sr(),r=yo(e),s=aa(n,r);s.tag=2,t!=null&&(s.callback=t),t=go(e,s,r),t!==null&&(ei(t,e,r,n),$g(t,e,r))}};function tP(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!jh(n,r)||!jh(s,i):!0}function UD(e,t,n){var r=!1,s=Co,i=t.contextType;return typeof i=="object"&&i!==null?i=Ms(i):(s=Lr(t)?Fl:pr.current,r=t.contextTypes,i=(r=r!=null)?Au(e,s):Co),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_y,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function nP(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_y.enqueueReplaceState(t,t.state,null)}function fw(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},KS(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ms(i):(i=Lr(t)?Fl:pr.current,s.context=Au(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(dw(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_y.enqueueReplaceState(s,s.state,null),N0(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function _u(e,t){try{var n="",r=t;do n+=Wz(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Qb(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yH=typeof WeakMap=="function"?WeakMap:Map;function HD(e,t,n){n=aa(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){O0||(O0=!0,Nw=r),hw(e,t)},n}function WD(e,t,n){n=aa(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){hw(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hw(e,t),typeof r!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function rP(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yH;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=EH.bind(null,e,t,n),t.then(e,e))}function sP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iP(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=aa(-1,1),t.tag=2,go(n,t,1))),n.lanes|=1),e)}var vH=Pa.ReactCurrentOwner,Dr=!1;function xr(e,t,n,r){t.child=e===null?bD(t,null,n,r):Ou(t,e.child,n,r)}function aP(e,t,n,r,s){n=n.render;var i=t.ref;return nu(t,s),r=JS(e,t,n,r,i,s),n=ZS(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xa(e,t,s)):(qt&&n&&BS(t),t.flags|=1,xr(e,t,r,s),t.child)}function oP(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!c4(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,qD(e,t,i,r,s)):(e=Ug(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:jh,n(o,r)&&e.ref===t.ref)return xa(e,t,s)}return t.flags|=1,e=vo(i,r),e.ref=t.ref,e.return=t,t.child=e}function qD(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(jh(i,r)&&e.ref===t.ref)if(Dr=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Dr=!0);else return t.lanes=e.lanes,xa(e,t,s)}return pw(e,t,n,r,s)}function KD(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Fc,Kr),Kr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rt(Fc,Kr),Kr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Rt(Fc,Kr),Kr|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Rt(Fc,Kr),Kr|=r;return xr(e,t,s,n),t.child}function GD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pw(e,t,n,r,s){var i=Lr(n)?Fl:pr.current;return i=Au(t,i),nu(t,s),n=JS(e,t,n,r,i,s),r=ZS(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xa(e,t,s)):(qt&&r&&BS(t),t.flags|=1,xr(e,t,n,s),t.child)}function lP(e,t,n,r,s){if(Lr(n)){var i=!0;y0(t)}else i=!1;if(nu(t,s),t.stateNode===null)Bg(e,t),UD(t,n,r),fw(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ms(u):(u=Lr(n)?Fl:pr.current,u=Au(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&nP(t,o,r,u),Va=!1;var h=t.memoizedState;o.state=h,N0(t,r,o,s),c=t.memoizedState,l!==r||h!==c||$r.current||Va?(typeof d=="function"&&(dw(t,n,d,r),c=t.memoizedState),(l=Va||tP(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,jD(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Us(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ms(c):(c=Lr(n)?Fl:pr.current,c=Au(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&nP(t,o,r,c),Va=!1,h=t.memoizedState,o.state=h,N0(t,r,o,s);var m=t.memoizedState;l!==f||h!==m||$r.current||Va?(typeof p=="function"&&(dw(t,n,p,r),m=t.memoizedState),(u=Va||tP(t,n,u,r,h,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return mw(e,t,n,r,i,s)}function mw(e,t,n,r,s,i){GD(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&K6(t,n,!1),xa(e,t,i);r=t.stateNode,vH.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ou(t,e.child,null,i),t.child=Ou(t,null,l,i)):xr(e,t,l,i),t.memoizedState=r.state,s&&K6(t,n,!0),t.child}function YD(e){var t=e.stateNode;t.pendingContext?q6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&q6(e,t.context,!1),GS(e,t.containerInfo)}function cP(e,t,n,r,s){return Cu(),zS(s),t.flags|=256,xr(e,t,n,r),t.child}var gw={dehydrated:null,treeContext:null,retryLane:0};function xw(e){return{baseLanes:e,cachePool:null,transitions:null}}function XD(e,t,n){var r=t.pendingProps,s=Yt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Rt(Yt,s&1),e===null)return cw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=My(o,r,0,null),e=Tl(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=xw(n),t.memoizedState=gw,e):n4(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return bH(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=vo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=vo(l,i):(i=Tl(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?xw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=gw,r}return i=e.child,e=i.sibling,r=vo(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function n4(e,t){return t=My({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dm(e,t,n,r){return r!==null&&zS(r),Ou(t,e.child,null,n),e=n4(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bH(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Qb(Error(we(422))),Dm(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=My({mode:"visible",children:r.children},s,0,null),i=Tl(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ou(t,e.child,null,o),t.child.memoizedState=xw(o),t.memoizedState=gw,i);if(!(t.mode&1))return Dm(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(we(419)),r=Qb(i,r,void 0),Dm(e,t,o,r)}if(l=(o&e.childLanes)!==0,Dr||l){if(r=Ln,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ga(e,s),ei(r,e,s,-1))}return l4(),r=Qb(Error(we(421))),Dm(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=MH.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ts=mo(s.nextSibling),ns=t,qt=!0,Ys=null,e!==null&&(Ns[Ss++]=Ji,Ns[Ss++]=Zi,Ns[Ss++]=Bl,Ji=e.id,Zi=e.overflow,Bl=t),t=n4(t,r.children),t.flags|=4096,t)}function uP(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),uw(e.return,t,n)}function Jb(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function QD(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(xr(e,t,r.children,n),r=Yt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uP(e,n,t);else if(e.tag===19)uP(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Rt(Yt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&S0(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Jb(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&S0(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Jb(t,!0,n,null,i);break;case"together":Jb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(we(153));if(t.child!==null){for(e=t.child,n=vo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wH(e,t,n){switch(t.tag){case 3:YD(t),Cu();break;case 5:ND(t);break;case 1:Lr(t.type)&&y0(t);break;case 4:GS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Rt(w0,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Yt,Yt.current&1),t.flags|=128,null):n&t.child.childLanes?XD(e,t,n):(Rt(Yt,Yt.current&1),e=xa(e,t,n),e!==null?e.sibling:null);Rt(Yt,Yt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return QD(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Rt(Yt,Yt.current),r)break;return null;case 22:case 23:return t.lanes=0,KD(e,t,n)}return xa(e,t,n)}var JD,yw,ZD,e7;JD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yw=function(){};ZD=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,cl(wi.current);var i=null;switch(n){case"input":s=B2(e,s),r=B2(e,r),i=[];break;case"select":s=en({},s,{value:void 0}),r=en({},r,{value:void 0}),i=[];break;case"textarea":s=U2(e,s),r=U2(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=g0)}W2(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Lt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};e7=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xd(e,t){if(!qt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jH(e,t,n){var r=t.pendingProps;switch(VS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(t),null;case 1:return Lr(t.type)&&x0(),Zn(t),null;case 3:return r=t.stateNode,ku(),zt($r),zt(pr),XS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Em(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ys!==null&&(Aw(Ys),Ys=null))),yw(e,t),Zn(t),null;case 5:YS(t);var s=cl(Ch.current);if(n=t.type,e!==null&&t.stateNode!=null)ZD(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(we(166));return Zn(t),null}if(e=cl(wi.current),Em(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[gi]=t,r[Ph]=i,e=(t.mode&1)!==0,n){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(s=0;s<Sf.length;s++)Lt(Sf[s],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":v6(r,i),Lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Lt("invalid",r);break;case"textarea":w6(r,i),Lt("invalid",r)}W2(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Tm(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Tm(r.textContent,l,e),s=["children",""+l]):mh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Lt("scroll",r)}switch(n){case"input":Nm(r),b6(r,i,!0);break;case"textarea":Nm(r),j6(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=g0)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=OM(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[gi]=t,e[Ph]=r,JD(e,t,!1,!1),t.stateNode=e;e:{switch(o=q2(n,r),n){case"dialog":Lt("cancel",e),Lt("close",e),s=r;break;case"iframe":case"object":case"embed":Lt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Sf.length;s++)Lt(Sf[s],e);s=r;break;case"source":Lt("error",e),s=r;break;case"img":case"image":case"link":Lt("error",e),Lt("load",e),s=r;break;case"details":Lt("toggle",e),s=r;break;case"input":v6(e,r),s=B2(e,r),Lt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=en({},r,{value:void 0}),Lt("invalid",e);break;case"textarea":w6(e,r),s=U2(e,r),Lt("invalid",e);break;default:s=r}W2(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?TM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kM(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gh(e,c):typeof c=="number"&&gh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Lt("scroll",e):c!=null&&AS(e,i,c,o))}switch(n){case"input":Nm(e),b6(e,r,!1);break;case"textarea":Nm(e),j6(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ao(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Jc(e,!!r.multiple,i,!1):r.defaultValue!=null&&Jc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=g0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zn(t),null;case 6:if(e&&t.stateNode!=null)e7(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(we(166));if(n=cl(Ch.current),cl(wi.current),Em(t)){if(r=t.stateNode,n=t.memoizedProps,r[gi]=t,(i=r.nodeValue!==n)&&(e=ns,e!==null))switch(e.tag){case 3:Tm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tm(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gi]=t,t.stateNode=r}return Zn(t),null;case 13:if(zt(Yt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qt&&ts!==null&&t.mode&1&&!(t.flags&128))yD(),Cu(),t.flags|=98560,i=!1;else if(i=Em(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(we(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(we(317));i[gi]=t}else Cu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zn(t),i=!1}else Ys!==null&&(Aw(Ys),Ys=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Yt.current&1?kn===0&&(kn=3):l4())),t.updateQueue!==null&&(t.flags|=4),Zn(t),null);case 4:return ku(),yw(e,t),e===null&&Nh(t.stateNode.containerInfo),Zn(t),null;case 10:return WS(t.type._context),Zn(t),null;case 17:return Lr(t.type)&&x0(),Zn(t),null;case 19:if(zt(Yt),i=t.memoizedState,i===null)return Zn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Xd(i,!1);else{if(kn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=S0(e),o!==null){for(t.flags|=128,Xd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rt(Yt,Yt.current&1|2),t.child}e=e.sibling}i.tail!==null&&dn()>Tu&&(t.flags|=128,r=!0,Xd(i,!1),t.lanes=4194304)}else{if(!r)if(e=S0(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!qt)return Zn(t),null}else 2*dn()-i.renderingStartTime>Tu&&n!==1073741824&&(t.flags|=128,r=!0,Xd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=dn(),t.sibling=null,n=Yt.current,Rt(Yt,r?n&1|2:n&1),t):(Zn(t),null);case 22:case 23:return o4(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Kr&1073741824&&(Zn(t),t.subtreeFlags&6&&(t.flags|=8192)):Zn(t),null;case 24:return null;case 25:return null}throw Error(we(156,t.tag))}function NH(e,t){switch(VS(t),t.tag){case 1:return Lr(t.type)&&x0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ku(),zt($r),zt(pr),XS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return YS(t),null;case 13:if(zt(Yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(we(340));Cu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(Yt),null;case 4:return ku(),null;case 10:return WS(t.type._context),null;case 22:case 23:return o4(),null;case 24:return null;default:return null}}var Rm=!1,or=!1,SH=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Lc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rn(e,t,r)}else n.current=null}function vw(e,t,n){try{n()}catch(r){rn(e,t,r)}}var dP=!1;function PH(e,t){if(nw=h0,e=iD(),FS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rw={focusedElem:e,selectionRange:n},h0=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){t=Te;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,x=m.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Us(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(j){rn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}return m=dP,dP=!1,m}function Gf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&vw(t,n,i)}s=s.next}while(s!==r)}}function Ty(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bw(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function t7(e){var t=e.alternate;t!==null&&(e.alternate=null,t7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gi],delete t[Ph],delete t[aw],delete t[oH],delete t[lH])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function n7(e){return e.tag===5||e.tag===3||e.tag===4}function fP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||n7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ww(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=g0));else if(r!==4&&(e=e.child,e!==null))for(ww(e,t,n),e=e.sibling;e!==null;)ww(e,t,n),e=e.sibling}function jw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jw(e,t,n),e=e.sibling;e!==null;)jw(e,t,n),e=e.sibling}var Un=null,qs=!1;function Ra(e,t,n){for(n=n.child;n!==null;)r7(e,t,n),n=n.sibling}function r7(e,t,n){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(Ny,n)}catch{}switch(n.tag){case 5:or||Lc(n,t);case 6:var r=Un,s=qs;Un=null,Ra(e,t,n),Un=r,qs=s,Un!==null&&(qs?(e=Un,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Un.removeChild(n.stateNode));break;case 18:Un!==null&&(qs?(e=Un,n=n.stateNode,e.nodeType===8?Wb(e.parentNode,n):e.nodeType===1&&Wb(e,n),bh(e)):Wb(Un,n.stateNode));break;case 4:r=Un,s=qs,Un=n.stateNode.containerInfo,qs=!0,Ra(e,t,n),Un=r,qs=s;break;case 0:case 11:case 14:case 15:if(!or&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vw(n,t,o),s=s.next}while(s!==r)}Ra(e,t,n);break;case 1:if(!or&&(Lc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){rn(n,t,l)}Ra(e,t,n);break;case 21:Ra(e,t,n);break;case 22:n.mode&1?(or=(r=or)||n.memoizedState!==null,Ra(e,t,n),or=r):Ra(e,t,n);break;default:Ra(e,t,n)}}function hP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SH),t.forEach(function(r){var s=DH.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Bs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Un=l.stateNode,qs=!1;break e;case 3:Un=l.stateNode.containerInfo,qs=!0;break e;case 4:Un=l.stateNode.containerInfo,qs=!0;break e}l=l.return}if(Un===null)throw Error(we(160));r7(i,o,s),Un=null,qs=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){rn(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)s7(t,e),t=t.sibling}function s7(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bs(t,e),ai(e),r&4){try{Gf(3,e,e.return),Ty(3,e)}catch(g){rn(e,e.return,g)}try{Gf(5,e,e.return)}catch(g){rn(e,e.return,g)}}break;case 1:Bs(t,e),ai(e),r&512&&n!==null&&Lc(n,n.return);break;case 5:if(Bs(t,e),ai(e),r&512&&n!==null&&Lc(n,n.return),e.flags&32){var s=e.stateNode;try{gh(s,"")}catch(g){rn(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&AM(s,i),q2(l,o);var u=q2(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?TM(s,f):d==="dangerouslySetInnerHTML"?kM(s,f):d==="children"?gh(s,f):AS(s,d,f,u)}switch(l){case"input":V2(s,i);break;case"textarea":CM(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Jc(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Jc(s,!!i.multiple,i.defaultValue,!0):Jc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ph]=i}catch(g){rn(e,e.return,g)}}break;case 6:if(Bs(t,e),ai(e),r&4){if(e.stateNode===null)throw Error(we(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){rn(e,e.return,g)}}break;case 3:if(Bs(t,e),ai(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bh(t.containerInfo)}catch(g){rn(e,e.return,g)}break;case 4:Bs(t,e),ai(e);break;case 13:Bs(t,e),ai(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(i4=dn())),r&4&&hP(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(or=(u=or)||d,Bs(t,e),or=u):Bs(t,e),ai(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Te=e,d=e.child;d!==null;){for(f=Te=d;Te!==null;){switch(h=Te,p=h.child,h.tag){case 0:case 11:case 14:case 15:Gf(4,h,h.return);break;case 1:Lc(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){rn(r,n,g)}}break;case 5:Lc(h,h.return);break;case 22:if(h.memoizedState!==null){mP(f);continue}}p!==null?(p.return=h,Te=p):mP(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=_M("display",o))}catch(g){rn(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){rn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bs(t,e),ai(e),r&4&&hP(e);break;case 21:break;default:Bs(t,e),ai(e)}}function ai(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(n7(n)){var r=n;break e}n=n.return}throw Error(we(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gh(s,""),r.flags&=-33);var i=fP(e);jw(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=fP(e);ww(e,l,o);break;default:throw Error(we(161))}}catch(c){rn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AH(e,t,n){Te=e,i7(e)}function i7(e,t,n){for(var r=(e.mode&1)!==0;Te!==null;){var s=Te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Rm;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||or;l=Rm;var u=or;if(Rm=o,(or=c)&&!u)for(Te=s;Te!==null;)o=Te,c=o.child,o.tag===22&&o.memoizedState!==null?gP(s):c!==null?(c.return=o,Te=c):gP(s);for(;i!==null;)Te=i,i7(i),i=i.sibling;Te=s,Rm=l,or=u}pP(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Te=i):pP(e)}}function pP(e){for(;Te!==null;){var t=Te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:or||Ty(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!or)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Us(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&J6(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}J6(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}or||t.flags&512&&bw(t)}catch(h){rn(t,t.return,h)}}if(t===e){Te=null;break}if(n=t.sibling,n!==null){n.return=t.return,Te=n;break}Te=t.return}}function mP(e){for(;Te!==null;){var t=Te;if(t===e){Te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Te=n;break}Te=t.return}}function gP(e){for(;Te!==null;){var t=Te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ty(4,t)}catch(c){rn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){rn(t,s,c)}}var i=t.return;try{bw(t)}catch(c){rn(t,i,c)}break;case 5:var o=t.return;try{bw(t)}catch(c){rn(t,o,c)}}}catch(c){rn(t,t.return,c)}if(t===e){Te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Te=l;break}Te=t.return}}var CH=Math.ceil,C0=Pa.ReactCurrentDispatcher,r4=Pa.ReactCurrentOwner,Ts=Pa.ReactCurrentBatchConfig,ht=0,Ln=null,yn=null,Yn=0,Kr=0,Fc=Do(0),kn=0,Th=null,zl=0,Ey=0,s4=0,Yf=null,Er=null,i4=0,Tu=1/0,Ui=null,O0=!1,Nw=null,xo=null,Im=!1,io=null,k0=0,Xf=0,Sw=null,Vg=-1,zg=0;function Sr(){return ht&6?dn():Vg!==-1?Vg:Vg=dn()}function yo(e){return e.mode&1?ht&2&&Yn!==0?Yn&-Yn:uH.transition!==null?(zg===0&&(zg=UM()),zg):(e=Pt,e!==0||(e=window.event,e=e===void 0?16:XM(e.type)),e):1}function ei(e,t,n,r){if(50<Xf)throw Xf=0,Sw=null,Error(we(185));zp(e,n,r),(!(ht&2)||e!==Ln)&&(e===Ln&&(!(ht&2)&&(Ey|=n),kn===4&&Ha(e,Yn)),Fr(e,r),n===1&&ht===0&&!(t.mode&1)&&(Tu=dn()+500,Oy&&Ro()))}function Fr(e,t){var n=e.callbackNode;uU(e,t);var r=f0(e,e===Ln?Yn:0);if(r===0)n!==null&&P6(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&P6(n),t===1)e.tag===0?cH(xP.bind(null,e)):mD(xP.bind(null,e)),iH(function(){!(ht&6)&&Ro()}),n=null;else{switch(HM(r)){case 1:n=TS;break;case 4:n=VM;break;case 16:n=d0;break;case 536870912:n=zM;break;default:n=d0}n=h7(n,a7.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function a7(e,t){if(Vg=-1,zg=0,ht&6)throw Error(we(327));var n=e.callbackNode;if(ru()&&e.callbackNode!==n)return null;var r=f0(e,e===Ln?Yn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_0(e,r);else{t=r;var s=ht;ht|=2;var i=l7();(Ln!==e||Yn!==t)&&(Ui=null,Tu=dn()+500,_l(e,t));do try{_H();break}catch(l){o7(e,l)}while(!0);HS(),C0.current=i,ht=s,yn!==null?t=0:(Ln=null,Yn=0,t=kn)}if(t!==0){if(t===2&&(s=Q2(e),s!==0&&(r=s,t=Pw(e,s))),t===1)throw n=Th,_l(e,0),Ha(e,r),Fr(e,dn()),n;if(t===6)Ha(e,r);else{if(s=e.current.alternate,!(r&30)&&!OH(s)&&(t=_0(e,r),t===2&&(i=Q2(e),i!==0&&(r=i,t=Pw(e,i))),t===1))throw n=Th,_l(e,0),Ha(e,r),Fr(e,dn()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(we(345));case 2:Jo(e,Er,Ui);break;case 3:if(Ha(e,r),(r&130023424)===r&&(t=i4+500-dn(),10<t)){if(f0(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Sr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=iw(Jo.bind(null,e,Er,Ui),t);break}Jo(e,Er,Ui);break;case 4:if(Ha(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Zs(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=dn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CH(r/1960))-r,10<r){e.timeoutHandle=iw(Jo.bind(null,e,Er,Ui),r);break}Jo(e,Er,Ui);break;case 5:Jo(e,Er,Ui);break;default:throw Error(we(329))}}}return Fr(e,dn()),e.callbackNode===n?a7.bind(null,e):null}function Pw(e,t){var n=Yf;return e.current.memoizedState.isDehydrated&&(_l(e,t).flags|=256),e=_0(e,t),e!==2&&(t=Er,Er=n,t!==null&&Aw(t)),e}function Aw(e){Er===null?Er=e:Er.push.apply(Er,e)}function OH(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ni(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ha(e,t){for(t&=~s4,t&=~Ey,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Zs(t),r=1<<n;e[n]=-1,t&=~r}}function xP(e){if(ht&6)throw Error(we(327));ru();var t=f0(e,0);if(!(t&1))return Fr(e,dn()),null;var n=_0(e,t);if(e.tag!==0&&n===2){var r=Q2(e);r!==0&&(t=r,n=Pw(e,r))}if(n===1)throw n=Th,_l(e,0),Ha(e,t),Fr(e,dn()),n;if(n===6)throw Error(we(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jo(e,Er,Ui),Fr(e,dn()),null}function a4(e,t){var n=ht;ht|=1;try{return e(t)}finally{ht=n,ht===0&&(Tu=dn()+500,Oy&&Ro())}}function Ul(e){io!==null&&io.tag===0&&!(ht&6)&&ru();var t=ht;ht|=1;var n=Ts.transition,r=Pt;try{if(Ts.transition=null,Pt=1,e)return e()}finally{Pt=r,Ts.transition=n,ht=t,!(ht&6)&&Ro()}}function o4(){Kr=Fc.current,zt(Fc)}function _l(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sH(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch(VS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&x0();break;case 3:ku(),zt($r),zt(pr),XS();break;case 5:YS(r);break;case 4:ku();break;case 13:zt(Yt);break;case 19:zt(Yt);break;case 10:WS(r.type._context);break;case 22:case 23:o4()}n=n.return}if(Ln=e,yn=e=vo(e.current,null),Yn=Kr=t,kn=0,Th=null,s4=Ey=zl=0,Er=Yf=null,ll!==null){for(t=0;t<ll.length;t++)if(n=ll[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ll=null}return e}function o7(e,t){do{var n=yn;try{if(HS(),Lg.current=A0,P0){for(var r=Jt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}P0=!1}if(Vl=0,Rn=Sn=Jt=null,Kf=!1,Oh=0,r4.current=null,n===null||n.return===null){kn=1,Th=t,yn=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Yn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=sP(o);if(p!==null){p.flags&=-257,iP(p,o,l,i,t),p.mode&1&&rP(i,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}else{if(!(t&1)){rP(i,u,t),l4();break e}c=Error(we(426))}}else if(qt&&l.mode&1){var x=sP(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),iP(x,o,l,i,t),zS(_u(c,l));break e}}i=c=_u(c,l),kn!==4&&(kn=2),Yf===null?Yf=[i]:Yf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=HD(i,c,t);Q6(i,y);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xo===null||!xo.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=WD(i,l,t);Q6(i,j);break e}}i=i.return}while(i!==null)}u7(n)}catch(w){t=w,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function l7(){var e=C0.current;return C0.current=A0,e===null?A0:e}function l4(){(kn===0||kn===3||kn===2)&&(kn=4),Ln===null||!(zl&268435455)&&!(Ey&268435455)||Ha(Ln,Yn)}function _0(e,t){var n=ht;ht|=2;var r=l7();(Ln!==e||Yn!==t)&&(Ui=null,_l(e,t));do try{kH();break}catch(s){o7(e,s)}while(!0);if(HS(),ht=n,C0.current=r,yn!==null)throw Error(we(261));return Ln=null,Yn=0,kn}function kH(){for(;yn!==null;)c7(yn)}function _H(){for(;yn!==null&&!tU();)c7(yn)}function c7(e){var t=f7(e.alternate,e,Kr);e.memoizedProps=e.pendingProps,t===null?u7(e):yn=t,r4.current=null}function u7(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=NH(n,t),n!==null){n.flags&=32767,yn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kn=6,yn=null;return}}else if(n=jH(n,t,Kr),n!==null){yn=n;return}if(t=t.sibling,t!==null){yn=t;return}yn=t=e}while(t!==null);kn===0&&(kn=5)}function Jo(e,t,n){var r=Pt,s=Ts.transition;try{Ts.transition=null,Pt=1,TH(e,t,n,r)}finally{Ts.transition=s,Pt=r}return null}function TH(e,t,n,r){do ru();while(io!==null);if(ht&6)throw Error(we(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(we(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(dU(e,i),e===Ln&&(yn=Ln=null,Yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Im||(Im=!0,h7(d0,function(){return ru(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ts.transition,Ts.transition=null;var o=Pt;Pt=1;var l=ht;ht|=4,r4.current=null,PH(e,n),s7(n,e),QU(rw),h0=!!nw,rw=nw=null,e.current=n,AH(n),nU(),ht=l,Pt=o,Ts.transition=i}else e.current=n;if(Im&&(Im=!1,io=e,k0=s),i=e.pendingLanes,i===0&&(xo=null),iU(n.stateNode),Fr(e,dn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(O0)throw O0=!1,e=Nw,Nw=null,e;return k0&1&&e.tag!==0&&ru(),i=e.pendingLanes,i&1?e===Sw?Xf++:(Xf=0,Sw=e):Xf=0,Ro(),null}function ru(){if(io!==null){var e=HM(k0),t=Ts.transition,n=Pt;try{if(Ts.transition=null,Pt=16>e?16:e,io===null)var r=!1;else{if(e=io,io=null,k0=0,ht&6)throw Error(we(331));var s=ht;for(ht|=4,Te=e.current;Te!==null;){var i=Te,o=i.child;if(Te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Te=u;Te!==null;){var d=Te;switch(d.tag){case 0:case 11:case 15:Gf(8,d,i)}var f=d.child;if(f!==null)f.return=d,Te=f;else for(;Te!==null;){d=Te;var h=d.sibling,p=d.return;if(t7(d),d===u){Te=null;break}if(h!==null){h.return=p,Te=h;break}Te=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Te=o;else e:for(;Te!==null;){if(i=Te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Te=y;break e}Te=i.return}}var v=e.current;for(Te=v;Te!==null;){o=Te;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Te=b;else e:for(o=v;Te!==null;){if(l=Te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ty(9,l)}}catch(w){rn(l,l.return,w)}if(l===o){Te=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Te=j;break e}Te=l.return}}if(ht=s,Ro(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(Ny,e)}catch{}r=!0}return r}finally{Pt=n,Ts.transition=t}}return!1}function yP(e,t,n){t=_u(n,t),t=HD(e,t,1),e=go(e,t,1),t=Sr(),e!==null&&(zp(e,1,t),Fr(e,t))}function rn(e,t,n){if(e.tag===3)yP(e,e,n);else for(;t!==null;){if(t.tag===3){yP(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xo===null||!xo.has(r))){e=_u(n,e),e=WD(t,e,1),t=go(t,e,1),e=Sr(),t!==null&&(zp(t,1,e),Fr(t,e));break}}t=t.return}}function EH(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Sr(),e.pingedLanes|=e.suspendedLanes&n,Ln===e&&(Yn&n)===n&&(kn===4||kn===3&&(Yn&130023424)===Yn&&500>dn()-i4?_l(e,0):s4|=n),Fr(e,t)}function d7(e,t){t===0&&(e.mode&1?(t=Am,Am<<=1,!(Am&130023424)&&(Am=4194304)):t=1);var n=Sr();e=ga(e,t),e!==null&&(zp(e,t,n),Fr(e,n))}function MH(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),d7(e,n)}function DH(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(we(314))}r!==null&&r.delete(t),d7(e,n)}var f7;f7=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$r.current)Dr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dr=!1,wH(e,t,n);Dr=!!(e.flags&131072)}else Dr=!1,qt&&t.flags&1048576&&gD(t,b0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bg(e,t),e=t.pendingProps;var s=Au(t,pr.current);nu(t,n),s=JS(null,t,r,e,s,n);var i=ZS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lr(r)?(i=!0,y0(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,KS(t),s.updater=_y,t.stateNode=s,s._reactInternals=t,fw(t,r,e,n),t=mw(null,t,r,!0,i,n)):(t.tag=0,qt&&i&&BS(t),xr(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bg(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=IH(r),e=Us(r,e),s){case 0:t=pw(null,t,r,e,n);break e;case 1:t=lP(null,t,r,e,n);break e;case 11:t=aP(null,t,r,e,n);break e;case 14:t=oP(null,t,r,Us(r.type,e),n);break e}throw Error(we(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Us(r,s),pw(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Us(r,s),lP(e,t,r,s,n);case 3:e:{if(YD(t),e===null)throw Error(we(387));r=t.pendingProps,i=t.memoizedState,s=i.element,jD(e,t),N0(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=_u(Error(we(423)),t),t=cP(e,t,r,n,s);break e}else if(r!==s){s=_u(Error(we(424)),t),t=cP(e,t,r,n,s);break e}else for(ts=mo(t.stateNode.containerInfo.firstChild),ns=t,qt=!0,Ys=null,n=bD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cu(),r===s){t=xa(e,t,n);break e}xr(e,t,r,n)}t=t.child}return t;case 5:return ND(t),e===null&&cw(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,sw(r,s)?o=null:i!==null&&sw(r,i)&&(t.flags|=32),GD(e,t),xr(e,t,o,n),t.child;case 6:return e===null&&cw(t),null;case 13:return XD(e,t,n);case 4:return GS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ou(t,null,r,n):xr(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Us(r,s),aP(e,t,r,s,n);case 7:return xr(e,t,t.pendingProps,n),t.child;case 8:return xr(e,t,t.pendingProps.children,n),t.child;case 12:return xr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Rt(w0,r._currentValue),r._currentValue=o,i!==null)if(ni(i.value,o)){if(i.children===s.children&&!$r.current){t=xa(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=aa(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),uw(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(we(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),uw(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xr(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,nu(t,n),s=Ms(s),r=r(s),t.flags|=1,xr(e,t,r,n),t.child;case 14:return r=t.type,s=Us(r,t.pendingProps),s=Us(r.type,s),oP(e,t,r,s,n);case 15:return qD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Us(r,s),Bg(e,t),t.tag=1,Lr(r)?(e=!0,y0(t)):e=!1,nu(t,n),UD(t,r,s),fw(t,r,s,n),mw(null,t,r,!0,e,n);case 19:return QD(e,t,n);case 22:return KD(e,t,n)}throw Error(we(156,t.tag))};function h7(e,t){return BM(e,t)}function RH(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(e,t,n,r){return new RH(e,t,n,r)}function c4(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IH(e){if(typeof e=="function")return c4(e)?1:0;if(e!=null){if(e=e.$$typeof,e===OS)return 11;if(e===kS)return 14}return 2}function vo(e,t){var n=e.alternate;return n===null?(n=Os(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ug(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")c4(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case kc:return Tl(n.children,s,i,t);case CS:o=8,s|=8;break;case I2:return e=Os(12,n,t,s|2),e.elementType=I2,e.lanes=i,e;case $2:return e=Os(13,n,t,s),e.elementType=$2,e.lanes=i,e;case L2:return e=Os(19,n,t,s),e.elementType=L2,e.lanes=i,e;case NM:return My(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wM:o=10;break e;case jM:o=9;break e;case OS:o=11;break e;case kS:o=14;break e;case Ba:o=16,r=null;break e}throw Error(we(130,e==null?e:typeof e,""))}return t=Os(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Tl(e,t,n,r){return e=Os(7,e,r,t),e.lanes=n,e}function My(e,t,n,r){return e=Os(22,e,r,t),e.elementType=NM,e.lanes=n,e.stateNode={isHidden:!1},e}function Zb(e,t,n){return e=Os(6,e,null,t),e.lanes=n,e}function e1(e,t,n){return t=Os(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $H(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Db(0),this.expirationTimes=Db(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Db(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function u4(e,t,n,r,s,i,o,l,c){return e=new $H(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Os(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},KS(i),e}function LH(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function p7(e){if(!e)return Co;e=e._reactInternals;e:{if(oc(e)!==e||e.tag!==1)throw Error(we(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(we(171))}if(e.tag===1){var n=e.type;if(Lr(n))return pD(e,n,t)}return t}function m7(e,t,n,r,s,i,o,l,c){return e=u4(n,r,!0,e,s,i,o,l,c),e.context=p7(null),n=e.current,r=Sr(),s=yo(n),i=aa(r,s),i.callback=t??null,go(n,i,s),e.current.lanes=s,zp(e,s,r),Fr(e,r),e}function Dy(e,t,n,r){var s=t.current,i=Sr(),o=yo(s);return n=p7(n),t.context===null?t.context=n:t.pendingContext=n,t=aa(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=go(s,t,o),e!==null&&(ei(e,s,o,i),$g(e,s,o)),o}function T0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function d4(e,t){vP(e,t),(e=e.alternate)&&vP(e,t)}function FH(){return null}var g7=typeof reportError=="function"?reportError:function(e){console.error(e)};function f4(e){this._internalRoot=e}Ry.prototype.render=f4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(we(409));Dy(e,t,null,null)};Ry.prototype.unmount=f4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ul(function(){Dy(null,e,null,null)}),t[ma]=null}};function Ry(e){this._internalRoot=e}Ry.prototype.unstable_scheduleHydration=function(e){if(e){var t=KM();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ua.length&&t!==0&&t<Ua[n].priority;n++);Ua.splice(n,0,e),n===0&&YM(e)}};function h4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Iy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bP(){}function BH(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=T0(o);i.call(u)}}var o=m7(t,r,e,0,null,!1,!1,"",bP);return e._reactRootContainer=o,e[ma]=o.current,Nh(e.nodeType===8?e.parentNode:e),Ul(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=T0(c);l.call(u)}}var c=u4(e,0,!1,null,null,!1,!1,"",bP);return e._reactRootContainer=c,e[ma]=c.current,Nh(e.nodeType===8?e.parentNode:e),Ul(function(){Dy(t,c,n,r)}),c}function $y(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=T0(o);l.call(c)}}Dy(t,o,e,s)}else o=BH(n,t,e,s,r);return T0(o)}WM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nf(t.pendingLanes);n!==0&&(ES(t,n|1),Fr(t,dn()),!(ht&6)&&(Tu=dn()+500,Ro()))}break;case 13:Ul(function(){var r=ga(e,1);if(r!==null){var s=Sr();ei(r,e,1,s)}}),d4(e,1)}};MS=function(e){if(e.tag===13){var t=ga(e,134217728);if(t!==null){var n=Sr();ei(t,e,134217728,n)}d4(e,134217728)}};qM=function(e){if(e.tag===13){var t=yo(e),n=ga(e,t);if(n!==null){var r=Sr();ei(n,e,t,r)}d4(e,t)}};KM=function(){return Pt};GM=function(e,t){var n=Pt;try{return Pt=e,t()}finally{Pt=n}};G2=function(e,t,n){switch(t){case"input":if(V2(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Cy(r);if(!s)throw Error(we(90));PM(r),V2(r,s)}}}break;case"textarea":CM(e,n);break;case"select":t=n.value,t!=null&&Jc(e,!!n.multiple,t,!1)}};DM=a4;RM=Ul;var VH={usingClientEntryPoint:!1,Events:[Hp,Mc,Cy,EM,MM,a4]},Qd={findFiberByHostInstance:ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zH={bundleType:Qd.bundleType,version:Qd.version,rendererPackageName:Qd.rendererPackageName,rendererConfig:Qd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LM(e),e===null?null:e.stateNode},findFiberByHostInstance:Qd.findFiberByHostInstance||FH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$m.isDisabled&&$m.supportsFiber)try{Ny=$m.inject(zH),bi=$m}catch{}}cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VH;cs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h4(t))throw Error(we(200));return LH(e,t,null,n)};cs.createRoot=function(e,t){if(!h4(e))throw Error(we(299));var n=!1,r="",s=g7;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=u4(e,1,!1,null,null,n,!1,r,s),e[ma]=t.current,Nh(e.nodeType===8?e.parentNode:e),new f4(t)};cs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(we(188)):(e=Object.keys(e).join(","),Error(we(268,e)));return e=LM(t),e=e===null?null:e.stateNode,e};cs.flushSync=function(e){return Ul(e)};cs.hydrate=function(e,t,n){if(!Iy(t))throw Error(we(200));return $y(null,e,t,!0,n)};cs.hydrateRoot=function(e,t,n){if(!h4(e))throw Error(we(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=g7;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=m7(t,null,e,1,n??null,s,!1,i,o),e[ma]=t.current,Nh(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ry(t)};cs.render=function(e,t,n){if(!Iy(t))throw Error(we(200));return $y(null,e,t,!1,n)};cs.unmountComponentAtNode=function(e){if(!Iy(e))throw Error(we(40));return e._reactRootContainer?(Ul(function(){$y(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0):!1};cs.unstable_batchedUpdates=a4;cs.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Iy(n))throw Error(we(200));if(e==null||e._reactInternals===void 0)throw Error(we(38));return $y(e,t,n,!1,r)};cs.version="18.3.1-next-f1338f8080-20240426";function x7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x7)}catch(e){console.error(e)}}x7(),xM.exports=cs;var p4=xM.exports,wP=p4;D2.createRoot=wP.createRoot,D2.hydrateRoot=wP.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eh.apply(this,arguments)}var ao;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ao||(ao={}));const jP="popstate";function UH(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return Cw("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:E0(s)}return WH(t,n,null,e)}function Zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function m4(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HH(){return Math.random().toString(36).substr(2,8)}function NP(e,t){return{usr:e.state,key:e.key,idx:t}}function Cw(e,t,n,r){return n===void 0&&(n=null),Eh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wd(t):t,{state:n,key:t&&t.key||r||HH()})}function E0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function wd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function WH(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=ao.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Eh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ao.Pop;let x=d(),y=x==null?null:x-u;u=x,c&&c({action:l,location:g.location,delta:y})}function h(x,y){l=ao.Push;let v=Cw(g.location,x,y);u=d()+1;let b=NP(v,u),j=g.createHref(v);try{o.pushState(b,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(j)}i&&c&&c({action:l,location:g.location,delta:1})}function p(x,y){l=ao.Replace;let v=Cw(g.location,x,y);u=d();let b=NP(v,u),j=g.createHref(v);o.replaceState(b,"",j),i&&c&&c({action:l,location:g.location,delta:0})}function m(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:E0(x);return v=v.replace(/ $/,"%20"),Zt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(jP,f),c=x,()=>{s.removeEventListener(jP,f),c=null}},createHref(x){return t(s,x)},createURL:m,encodeLocation(x){let y=m(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(x){return o.go(x)}};return g}var SP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(SP||(SP={}));function qH(e,t,n){return n===void 0&&(n="/"),KH(e,t,n)}function KH(e,t,n,r){let s=typeof t=="string"?wd(t):t,i=Eu(s.pathname||"/",n);if(i==null)return null;let o=y7(e);GH(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=iW(i);l=rW(o[c],u)}return l}function y7(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Zt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=bo([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Zt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),y7(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:tW(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of v7(i.path))s(i,o,c)}),t}function v7(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=v7(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function GH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nW(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YH=/^:[\w-]+$/,XH=3,QH=2,JH=1,ZH=10,eW=-2,PP=e=>e==="*";function tW(e,t){let n=e.split("/"),r=n.length;return n.some(PP)&&(r+=eW),t&&(r+=QH),n.filter(s=>!PP(s)).reduce((s,i)=>s+(YH.test(i)?XH:i===""?JH:ZH),r)}function nW(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function rW(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ow({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:bo([i,f.pathname]),pathnameBase:uW(bo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=bo([i,f.pathnameBase]))}return o}function Ow(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sW(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=l[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function sW(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),m4(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function iW(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return m4(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Eu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const aW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oW=e=>aW.test(e);function lW(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?wd(e):e,i;if(n)if(oW(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),m4(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=AP(n.substring(1),"/"):i=AP(n,t)}else i=t;return{pathname:i,search:dW(r),hash:fW(s)}}function AP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function t1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cW(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function g4(e,t){let n=cW(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function x4(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=wd(e):(s=Eh({},e),Zt(!s.pathname||!s.pathname.includes("?"),t1("?","pathname","search",s)),Zt(!s.pathname||!s.pathname.includes("#"),t1("#","pathname","hash",s)),Zt(!s.search||!s.search.includes("#"),t1("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=lW(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const bo=e=>e.join("/").replace(/\/\/+/g,"/"),uW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const b7=["post","put","patch","delete"];new Set(b7);const pW=["get",...b7];new Set(pW);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mh.apply(this,arguments)}const Ly=N.createContext(null),w7=N.createContext(null),Aa=N.createContext(null),Fy=N.createContext(null),_i=N.createContext({outlet:null,matches:[],isDataRoute:!1}),j7=N.createContext(null);function mW(e,t){let{relative:n}=t===void 0?{}:t;jd()||Zt(!1);let{basename:r,navigator:s}=N.useContext(Aa),{hash:i,pathname:o,search:l}=By(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:bo([r,o])),s.createHref({pathname:c,search:l,hash:i})}function jd(){return N.useContext(Fy)!=null}function ds(){return jd()||Zt(!1),N.useContext(Fy).location}function N7(e){N.useContext(Aa).static||N.useLayoutEffect(e)}function Qn(){let{isDataRoute:e}=N.useContext(_i);return e?_W():gW()}function gW(){jd()||Zt(!1);let e=N.useContext(Ly),{basename:t,future:n,navigator:r}=N.useContext(Aa),{matches:s}=N.useContext(_i),{pathname:i}=ds(),o=JSON.stringify(g4(s,n.v7_relativeSplatPath)),l=N.useRef(!1);return N7(()=>{l.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=x4(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bo([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}const xW=N.createContext(null);function yW(e){let t=N.useContext(_i).outlet;return t&&N.createElement(xW.Provider,{value:e},t)}function qp(){let{matches:e}=N.useContext(_i),t=e[e.length-1];return t?t.params:{}}function By(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=N.useContext(Aa),{matches:s}=N.useContext(_i),{pathname:i}=ds(),o=JSON.stringify(g4(s,r.v7_relativeSplatPath));return N.useMemo(()=>x4(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function vW(e,t){return bW(e,t)}function bW(e,t,n,r){jd()||Zt(!1);let{navigator:s}=N.useContext(Aa),{matches:i}=N.useContext(_i),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ds(),d;if(t){var f;let x=typeof t=="string"?wd(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Zt(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=qH(e,{pathname:p}),g=PW(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:bo([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:bo([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&g?N.createElement(Fy.Provider,{value:{location:Mh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ao.Pop}},g):g}function wW(){let e=kW(),t=hW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:s},n):null,null)}const jW=N.createElement(wW,null);class NW extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?N.createElement(_i.Provider,{value:this.props.routeContext},N.createElement(j7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SW(e){let{routeContext:t,match:n,children:r}=e,s=N.useContext(Ly);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(_i.Provider,{value:t},r)}function PW(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Zt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,m=!1,g=null,x=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||jW,c&&(u<0&&h===0?(TW("route-fallback"),m=!0,x=null):u===h&&(m=!0,x=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),v=()=>{let b;return p?b=g:m?b=x:f.route.Component?b=N.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,N.createElement(SW,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(NW,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var S7=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(S7||{}),P7=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(P7||{});function AW(e){let t=N.useContext(Ly);return t||Zt(!1),t}function CW(e){let t=N.useContext(w7);return t||Zt(!1),t}function OW(e){let t=N.useContext(_i);return t||Zt(!1),t}function A7(e){let t=OW(),n=t.matches[t.matches.length-1];return n.route.id||Zt(!1),n.route.id}function kW(){var e;let t=N.useContext(j7),n=CW(),r=A7();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function _W(){let{router:e}=AW(S7.UseNavigateStable),t=A7(P7.UseNavigateStable),n=N.useRef(!1);return N7(()=>{n.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Mh({fromRouteId:t},i)))},[e,t])}const CP={};function TW(e,t,n){CP[e]||(CP[e]=!0)}function EW(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function qi(e){let{to:t,replace:n,state:r,relative:s}=e;jd()||Zt(!1);let{future:i,static:o}=N.useContext(Aa),{matches:l}=N.useContext(_i),{pathname:c}=ds(),u=Qn(),d=x4(t,g4(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function C7(e){return yW(e.context)}function We(e){Zt(!1)}function MW(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ao.Pop,navigator:i,static:o=!1,future:l}=e;jd()&&Zt(!1);let c=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:o,future:Mh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=wd(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=N.useMemo(()=>{let x=Eu(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:m},navigationType:s}},[c,d,f,h,p,m,s]);return g==null?null:N.createElement(Aa.Provider,{value:u},N.createElement(Fy.Provider,{children:n,value:g}))}function DW(e){let{children:t,location:n}=e;return vW(kw(t),n)}new Promise(()=>{});function kw(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(r,s)=>{if(!N.isValidElement(r))return;let i=[...t,s];if(r.type===N.Fragment){n.push.apply(n,kw(r.props.children,i));return}r.type!==We&&Zt(!1),!r.props.index||!r.props.children||Zt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kw(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M0.apply(this,arguments)}function O7(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function RW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IW(e,t){return e.button===0&&(!t||t==="_self")&&!RW(e)}function _w(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function $W(e,t){let n=_w(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const LW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FW=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],BW="6";try{window.__reactRouterVersion=BW}catch{}const VW=N.createContext({isTransitioning:!1}),zW="startTransition",OP=M2[zW];function UW(e){let{basename:t,children:n,future:r,window:s}=e,i=N.useRef();i.current==null&&(i.current=UH({window:s,v5Compat:!0}));let o=i.current,[l,c]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=N.useCallback(f=>{u&&OP?OP(()=>c(f)):c(f)},[c,u]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.useEffect(()=>EW(r),[r]),N.createElement(MW,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const HW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=N.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=O7(t,LW),{basename:p}=N.useContext(Aa),m,g=!1;if(typeof u=="string"&&WW.test(u)&&(m=u,HW))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=Eu(j.pathname,p);j.origin===b.origin&&w!=null?u=w+j.search+j.hash:g=!0}catch{}let x=mW(u,{relative:s}),y=KW(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(b){r&&r(b),b.defaultPrevented||y(b)}return N.createElement("a",M0({},h,{href:m||x,onClick:g||i?r:v,ref:n,target:c}))}),Lm=N.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=O7(t,FW),h=By(c,{relative:f.relative}),p=ds(),m=N.useContext(w7),{navigator:g,basename:x}=N.useContext(Aa),y=m!=null&&GW(h)&&u===!0,v=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=p.pathname,j=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(b=b.toLowerCase(),j=j?j.toLowerCase():null,v=v.toLowerCase()),j&&x&&(j=Eu(j,x)||j);const w=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=b===v||!o&&b.startsWith(v)&&b.charAt(w)==="/",P=j!=null&&(j===v||!o&&j.startsWith(v)&&j.charAt(v.length)==="/"),A={isActive:S,isPending:P,isTransitioning:y},C=S?r:void 0,T;typeof i=="function"?T=i(A):T=[i,S?"active":null,P?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(A):l;return N.createElement(Be,M0({},f,{"aria-current":C,className:T,ref:n,style:k,to:c,viewTransition:u}),typeof d=="function"?d(A):d)});var Tw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Tw||(Tw={}));var kP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(kP||(kP={}));function qW(e){let t=N.useContext(Ly);return t||Zt(!1),t}function KW(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Qn(),u=ds(),d=By(e,{relative:o});return N.useCallback(f=>{if(IW(f,n)){f.preventDefault();let h=r!==void 0?r:E0(u)===E0(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}function k7(e){let t=N.useRef(_w(e)),n=N.useRef(!1),r=ds(),s=N.useMemo(()=>$W(r.search,n.current?null:t.current),[r.search]),i=Qn(),o=N.useCallback((l,c)=>{const u=_w(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function GW(e,t){t===void 0&&(t={});let n=N.useContext(VW);n==null&&Zt(!1);let{basename:r}=qW(Tw.useViewTransitionState),s=By(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Eu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Eu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ow(s.pathname,o)!=null||Ow(s.pathname,i)!=null}var Nd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},YW={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ya,vS,Y8,XW=(Y8=class{constructor(){$e(this,Ya,YW);$e(this,vS,!1)}setTimeoutProvider(e){ke(this,Ya,e)}setTimeout(e,t){return Q(this,Ya).setTimeout(e,t)}clearTimeout(e){Q(this,Ya).clearTimeout(e)}setInterval(e,t){return Q(this,Ya).setInterval(e,t)}clearInterval(e){Q(this,Ya).clearInterval(e)}},Ya=new WeakMap,vS=new WeakMap,Y8),ul=new XW;function QW(e){setTimeout(e,0)}var Hl=typeof window>"u"||"Deno"in globalThis;function yr(){}function JW(e,t){return typeof e=="function"?e(t):e}function Ew(e){return typeof e=="number"&&e>=0&&e!==1/0}function _7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wo(e,t){return typeof e=="function"?e(t):e}function ws(e,t){return typeof e=="function"?e(t):e}function _P(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==y4(o,t.options))return!1}else if(!Dh(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function TP(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Wl(t.options.mutationKey)!==Wl(i))return!1}else if(!Dh(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function y4(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wl)(e)}function Wl(e){return JSON.stringify(e,(t,n)=>Mw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Dh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Dh(e[n],t[n])):!1}var ZW=Object.prototype.hasOwnProperty;function T7(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=EP(e)&&EP(t);if(!r&&!(Mw(e)&&Mw(t)))return t;const i=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),l=o.length,c=r?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=r?d:o[d],h=e[f],p=t[f];if(h===p){c[f]=h,(r?d<i:ZW.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){c[f]=p;continue}const m=T7(h,p,n+1);c[f]=m,m===h&&u++}return i===l&&u===i?e:c}function D0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function EP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mw(e){if(!MP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!MP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function MP(e){return Object.prototype.toString.call(e)==="[object Object]"}function eq(e){return new Promise(t=>{ul.setTimeout(t,e)})}function Dw(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?T7(e,t):t}function tq(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function nq(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var v4=Symbol();function E7(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===v4?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function b4(e,t){return typeof e=="function"?e(...t):!!e}function rq(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var wl,Xa,hu,X8,sq=(X8=class extends Nd{constructor(){super();$e(this,wl);$e(this,Xa);$e(this,hu);ke(this,hu,t=>{if(!Hl&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,Xa)||this.setEventListener(Q(this,hu))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Xa))==null||t.call(this),ke(this,Xa,void 0))}setEventListener(t){var n;ke(this,hu,t),(n=Q(this,Xa))==null||n.call(this),ke(this,Xa,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Q(this,wl)!==t&&(ke(this,wl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Q(this,wl)=="boolean"?Q(this,wl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wl=new WeakMap,Xa=new WeakMap,hu=new WeakMap,X8),w4=new sq;function Rw(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var iq=QW;function aq(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=iq;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Pn=aq(),pu,Qa,mu,Q8,oq=(Q8=class extends Nd{constructor(){super();$e(this,pu,!0);$e(this,Qa);$e(this,mu);ke(this,mu,t=>{if(!Hl&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Q(this,Qa)||this.setEventListener(Q(this,mu))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Qa))==null||t.call(this),ke(this,Qa,void 0))}setEventListener(t){var n;ke(this,mu,t),(n=Q(this,Qa))==null||n.call(this),ke(this,Qa,t(this.setOnline.bind(this)))}setOnline(t){Q(this,pu)!==t&&(ke(this,pu,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Q(this,pu)}},pu=new WeakMap,Qa=new WeakMap,mu=new WeakMap,Q8),R0=new oq;function lq(e){return Math.min(1e3*2**e,3e4)}function M7(e){return(e??"online")==="online"?R0.isOnline():!0}var Iw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function D7(e){let t=!1,n=0,r;const s=Rw(),i=()=>s.status!=="pending",o=g=>{var x;if(!i()){const y=new Iw(g);h(y),(x=e.onCancel)==null||x.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>w4.isFocused()&&(e.networkMode==="always"||R0.isOnline())&&e.canRun(),d=()=>M7(e.networkMode)&&e.canRun(),f=g=>{i()||(r==null||r(),s.resolve(g))},h=g=>{i()||(r==null||r(),s.reject(g))},p=()=>new Promise(g=>{var x;r=y=>{(i()||u())&&g(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;r=void 0,i()||(g=e.onContinue)==null||g.call(e)}),m=()=>{if(i())return;let g;const x=n===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var S;if(i())return;const v=e.retry??(Hl?0:3),b=e.retryDelay??lq,j=typeof b=="function"?b(n,y):b,w=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!w){h(y);return}n++,(S=e.onFail)==null||S.call(e,n,y),eq(j).then(()=>u()?void 0:p()).then(()=>{t?h(y):m()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():p().then(m),s)}}var jl,J8,R7=(J8=class{constructor(){$e(this,jl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ew(this.gcTime)&&ke(this,jl,ul.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hl?1/0:5*60*1e3))}clearGcTimeout(){Q(this,jl)&&(ul.clearTimeout(Q(this,jl)),ke(this,jl,void 0))}},jl=new WeakMap,J8),Nl,gu,bs,Sl,Mn,Ip,Pl,Hs,Bi,Z8,cq=(Z8=class extends R7{constructor(t){super();$e(this,Hs);$e(this,Nl);$e(this,gu);$e(this,bs);$e(this,Sl);$e(this,Mn);$e(this,Ip);$e(this,Pl);ke(this,Pl,!1),ke(this,Ip,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,Sl,t.client),ke(this,bs,Q(this,Sl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,Nl,RP(this.options)),this.state=t.state??Q(this,Nl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,Mn))==null?void 0:t.promise}setOptions(t){if(this.options={...Q(this,Ip),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=RP(this.options);n.data!==void 0&&(this.setState(DP(n.data,n.dataUpdatedAt)),ke(this,Nl,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,bs).remove(this)}setData(t,n){const r=Dw(this.state.data,t,this.options);return rt(this,Hs,Bi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){rt(this,Hs,Bi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=Q(this,Mn))==null?void 0:r.promise;return(s=Q(this,Mn))==null||s.cancel(t),n?n.then(yr).catch(yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,Nl))}isActive(){return this.observers.some(t=>ws(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===v4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>wo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!_7(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,Mn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,Mn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,bs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Q(this,Mn)&&(Q(this,Pl)?Q(this,Mn).cancel({revert:!0}):Q(this,Mn).cancelRetry()),this.scheduleGc()),Q(this,bs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,Hs,Bi).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,h,p,m,g,x,y,v,b;if(this.state.fetchStatus!=="idle"&&((c=Q(this,Mn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Mn))return Q(this,Mn).continueRetry(),Q(this,Mn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(w=>w.options.queryFn);j&&this.setOptions(j.options)}const r=new AbortController,s=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ke(this,Pl,!0),r.signal)})},i=()=>{const j=E7(this.options,n),S=(()=>{const P={client:Q(this,Sl),queryKey:this.queryKey,meta:this.meta};return s(P),P})();return ke(this,Pl,!1),this.options.persister?this.options.persister(j,S,this):j(S)},l=(()=>{const j={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Q(this,Sl),state:this.state,fetchFn:i};return s(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),ke(this,gu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&rt(this,Hs,Bi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ke(this,Mn,D7({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Iw&&j.revert&&this.setState({...Q(this,gu),fetchStatus:"idle"}),r.abort()},onFail:(j,w)=>{rt(this,Hs,Bi).call(this,{type:"failed",failureCount:j,error:w})},onPause:()=>{rt(this,Hs,Bi).call(this,{type:"pause"})},onContinue:()=>{rt(this,Hs,Bi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await Q(this,Mn).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(p=(h=Q(this,bs).config).onSuccess)==null||p.call(h,j,this),(g=(m=Q(this,bs).config).onSettled)==null||g.call(m,j,this.state.error,this),j}catch(j){if(j instanceof Iw){if(j.silent)return Q(this,Mn).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw rt(this,Hs,Bi).call(this,{type:"error",error:j}),(y=(x=Q(this,bs).config).onError)==null||y.call(x,j,this),(b=(v=Q(this,bs).config).onSettled)==null||b.call(v,this.state.data,j,this),j}finally{this.scheduleGc()}}},Nl=new WeakMap,gu=new WeakMap,bs=new WeakMap,Sl=new WeakMap,Mn=new WeakMap,Ip=new WeakMap,Pl=new WeakMap,Hs=new WeakSet,Bi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...I7(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...DP(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ke(this,gu,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Pn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Q(this,bs).notify({query:this,type:"updated",action:t})})},Z8);function I7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:M7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function DP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function RP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Or,ut,$p,gr,Al,xu,Gi,Ja,Lp,yu,vu,Cl,Ol,Za,bu,wt,Pf,$w,Lw,Fw,Bw,Vw,zw,Uw,$7,eM,uq=(eM=class extends Nd{constructor(t,n){super();$e(this,wt);$e(this,Or);$e(this,ut);$e(this,$p);$e(this,gr);$e(this,Al);$e(this,xu);$e(this,Gi);$e(this,Ja);$e(this,Lp);$e(this,yu);$e(this,vu);$e(this,Cl);$e(this,Ol);$e(this,Za);$e(this,bu,new Set);this.options=n,ke(this,Or,t),ke(this,Ja,null),ke(this,Gi,Rw()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,ut).addObserver(this),IP(Q(this,ut),this.options)?rt(this,wt,Pf).call(this):this.updateResult(),rt(this,wt,Bw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hw(Q(this,ut),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hw(Q(this,ut),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,rt(this,wt,Vw).call(this),rt(this,wt,zw).call(this),Q(this,ut).removeObserver(this)}setOptions(t){const n=this.options,r=Q(this,ut);if(this.options=Q(this,Or).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ws(this.options.enabled,Q(this,ut))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");rt(this,wt,Uw).call(this),Q(this,ut).setOptions(this.options),n._defaulted&&!D0(this.options,n)&&Q(this,Or).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,ut),observer:this});const s=this.hasListeners();s&&$P(Q(this,ut),r,this.options,n)&&rt(this,wt,Pf).call(this),this.updateResult(),s&&(Q(this,ut)!==r||ws(this.options.enabled,Q(this,ut))!==ws(n.enabled,Q(this,ut))||wo(this.options.staleTime,Q(this,ut))!==wo(n.staleTime,Q(this,ut)))&&rt(this,wt,$w).call(this);const i=rt(this,wt,Lw).call(this);s&&(Q(this,ut)!==r||ws(this.options.enabled,Q(this,ut))!==ws(n.enabled,Q(this,ut))||i!==Q(this,Za))&&rt(this,wt,Fw).call(this,i)}getOptimisticResult(t){const n=Q(this,Or).getQueryCache().build(Q(this,Or),t),r=this.createResult(n,t);return fq(this,r)&&(ke(this,gr,r),ke(this,xu,this.options),ke(this,Al,Q(this,ut).state)),r}getCurrentResult(){return Q(this,gr)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Q(this,Gi).status==="pending"&&Q(this,Gi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){Q(this,bu).add(t)}getCurrentQuery(){return Q(this,ut)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Q(this,Or).defaultQueryOptions(t),r=Q(this,Or).getQueryCache().build(Q(this,Or),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return rt(this,wt,Pf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,gr)))}createResult(t,n){var C;const r=Q(this,ut),s=this.options,i=Q(this,gr),o=Q(this,Al),l=Q(this,xu),u=t!==r?t.state:Q(this,$p),{state:d}=t;let f={...d},h=!1,p;if(n._optimisticResults){const T=this.hasListeners(),k=!T&&IP(t,n),O=T&&$P(t,r,n,s);(k||O)&&(f={...f,...I7(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:x}=f;p=f.data;let y=!1;if(n.placeholderData!==void 0&&p===void 0&&x==="pending"){let T;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,y=!0):T=typeof n.placeholderData=="function"?n.placeholderData((C=Q(this,vu))==null?void 0:C.state.data,Q(this,vu)):n.placeholderData,T!==void 0&&(x="success",p=Dw(i==null?void 0:i.data,T,n),h=!0)}if(n.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&n.select===Q(this,Lp))p=Q(this,yu);else try{ke(this,Lp,n.select),p=n.select(p),p=Dw(i==null?void 0:i.data,p,n),ke(this,yu,p),ke(this,Ja,null)}catch(T){ke(this,Ja,T)}Q(this,Ja)&&(m=Q(this,Ja),p=Q(this,yu),g=Date.now(),x="error");const v=f.fetchStatus==="fetching",b=x==="pending",j=x==="error",w=b&&v,S=p!==void 0,A={status:x,fetchStatus:f.fetchStatus,isPending:b,isSuccess:x==="success",isError:j,isInitialLoading:w,isLoading:w,data:p,dataUpdatedAt:f.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:j&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&S,isStale:j4(t,n),refetch:this.refetch,promise:Q(this,Gi),isEnabled:ws(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=A.data!==void 0,k=A.status==="error"&&!T,O=E=>{k?E.reject(A.error):T&&E.resolve(A.data)},I=()=>{const E=ke(this,Gi,A.promise=Rw());O(E)},M=Q(this,Gi);switch(M.status){case"pending":t.queryHash===r.queryHash&&O(M);break;case"fulfilled":(k||A.data!==M.value)&&I();break;case"rejected":(!k||A.error!==M.reason)&&I();break}}return A}updateResult(){const t=Q(this,gr),n=this.createResult(Q(this,ut),this.options);if(ke(this,Al,Q(this,ut).state),ke(this,xu,this.options),Q(this,Al).data!==void 0&&ke(this,vu,Q(this,ut)),D0(n,t))return;ke(this,gr,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Q(this,bu).size)return!0;const o=new Set(i??Q(this,bu));return this.options.throwOnError&&o.add("error"),Object.keys(Q(this,gr)).some(l=>{const c=l;return Q(this,gr)[c]!==t[c]&&o.has(c)})};rt(this,wt,$7).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&rt(this,wt,Bw).call(this)}},Or=new WeakMap,ut=new WeakMap,$p=new WeakMap,gr=new WeakMap,Al=new WeakMap,xu=new WeakMap,Gi=new WeakMap,Ja=new WeakMap,Lp=new WeakMap,yu=new WeakMap,vu=new WeakMap,Cl=new WeakMap,Ol=new WeakMap,Za=new WeakMap,bu=new WeakMap,wt=new WeakSet,Pf=function(t){rt(this,wt,Uw).call(this);let n=Q(this,ut).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(yr)),n},$w=function(){rt(this,wt,Vw).call(this);const t=wo(this.options.staleTime,Q(this,ut));if(Hl||Q(this,gr).isStale||!Ew(t))return;const r=_7(Q(this,gr).dataUpdatedAt,t)+1;ke(this,Cl,ul.setTimeout(()=>{Q(this,gr).isStale||this.updateResult()},r))},Lw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,ut)):this.options.refetchInterval)??!1},Fw=function(t){rt(this,wt,zw).call(this),ke(this,Za,t),!(Hl||ws(this.options.enabled,Q(this,ut))===!1||!Ew(Q(this,Za))||Q(this,Za)===0)&&ke(this,Ol,ul.setInterval(()=>{(this.options.refetchIntervalInBackground||w4.isFocused())&&rt(this,wt,Pf).call(this)},Q(this,Za)))},Bw=function(){rt(this,wt,$w).call(this),rt(this,wt,Fw).call(this,rt(this,wt,Lw).call(this))},Vw=function(){Q(this,Cl)&&(ul.clearTimeout(Q(this,Cl)),ke(this,Cl,void 0))},zw=function(){Q(this,Ol)&&(ul.clearInterval(Q(this,Ol)),ke(this,Ol,void 0))},Uw=function(){const t=Q(this,Or).getQueryCache().build(Q(this,Or),this.options);if(t===Q(this,ut))return;const n=Q(this,ut);ke(this,ut,t),ke(this,$p,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},$7=function(t){Pn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Q(this,gr))}),Q(this,Or).getQueryCache().notify({query:Q(this,ut),type:"observerResultsUpdated"})})},eM);function dq(e,t){return ws(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function IP(e,t){return dq(e,t)||e.state.data!==void 0&&Hw(e,t,t.refetchOnMount)}function Hw(e,t,n){if(ws(t.enabled,e)!==!1&&wo(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&j4(e,t)}return!1}function $P(e,t,n,r){return(e!==t||ws(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&j4(e,n)}function j4(e,t){return ws(t.enabled,e)!==!1&&e.isStaleByTime(wo(t.staleTime,e))}function fq(e,t){return!D0(e.getCurrentResult(),t)}function LP(e){return{onFetch:(t,n)=>{var d,f,h,p,m;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((m=t.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const x=b=>{rq(b,()=>t.signal,()=>g=!0)},y=E7(t.options,t.fetchOptions),v=async(b,j,w)=>{if(g)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:j,direction:w?"backward":"forward",meta:t.options.meta};return x(k),k})(),A=await y(P),{maxPages:C}=t.options,T=w?nq:tq;return{pages:T(b.pages,A,C),pageParams:T(b.pageParams,j,C)}};if(s&&i.length){const b=s==="backward",j=b?hq:FP,w={pages:i,pageParams:o},S=j(r,w);l=await v(w,S,b)}else{const b=e??i.length;do{const j=c===0?o[0]??r.initialPageParam:FP(r,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function FP(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function hq(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Fp,di,nr,kl,fi,La,tM,pq=(tM=class extends R7{constructor(t){super();$e(this,fi);$e(this,Fp);$e(this,di);$e(this,nr);$e(this,kl);ke(this,Fp,t.client),this.mutationId=t.mutationId,ke(this,nr,t.mutationCache),ke(this,di,[]),this.state=t.state||L7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,di).includes(t)||(Q(this,di).push(t),this.clearGcTimeout(),Q(this,nr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,di,Q(this,di).filter(n=>n!==t)),this.scheduleGc(),Q(this,nr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,di).length||(this.state.status==="pending"?this.scheduleGc():Q(this,nr).remove(this))}continue(){var t;return((t=Q(this,kl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,p,m,g,x,y,v,b,j,w,S,P;const n=()=>{rt(this,fi,La).call(this,{type:"continue"})},r={client:Q(this,Fp),meta:this.options.meta,mutationKey:this.options.mutationKey};ke(this,kl,D7({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(A,C)=>{rt(this,fi,La).call(this,{type:"failed",failureCount:A,error:C})},onPause:()=>{rt(this,fi,La).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,nr).canRun(this)}));const s=this.state.status==="pending",i=!Q(this,kl).canStart();try{if(s)n();else{rt(this,fi,La).call(this,{type:"pending",variables:t,isPaused:i}),Q(this,nr).config.onMutate&&await Q(this,nr).config.onMutate(t,this,r);const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,r));C!==this.state.context&&rt(this,fi,La).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const A=await Q(this,kl).start();return await((u=(c=Q(this,nr).config).onSuccess)==null?void 0:u.call(c,A,t,this.state.context,this,r)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,A,t,this.state.context,r)),await((p=(h=Q(this,nr).config).onSettled)==null?void 0:p.call(h,A,null,this.state.variables,this.state.context,this,r)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,A,null,t,this.state.context,r)),rt(this,fi,La).call(this,{type:"success",data:A}),A}catch(A){try{await((y=(x=Q(this,nr).config).onError)==null?void 0:y.call(x,A,t,this.state.context,this,r))}catch(C){Promise.reject(C)}try{await((b=(v=this.options).onError)==null?void 0:b.call(v,A,t,this.state.context,r))}catch(C){Promise.reject(C)}try{await((w=(j=Q(this,nr).config).onSettled)==null?void 0:w.call(j,void 0,A,this.state.variables,this.state.context,this,r))}catch(C){Promise.reject(C)}try{await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,A,t,this.state.context,r))}catch(C){Promise.reject(C)}throw rt(this,fi,La).call(this,{type:"error",error:A}),A}finally{Q(this,nr).runNext(this)}}},Fp=new WeakMap,di=new WeakMap,nr=new WeakMap,kl=new WeakMap,fi=new WeakSet,La=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Pn.batch(()=>{Q(this,di).forEach(r=>{r.onMutationUpdate(t)}),Q(this,nr).notify({mutation:this,type:"updated",action:t})})},tM);function L7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yi,Ws,Bp,nM,mq=(nM=class extends Nd{constructor(t={}){super();$e(this,Yi);$e(this,Ws);$e(this,Bp);this.config=t,ke(this,Yi,new Set),ke(this,Ws,new Map),ke(this,Bp,0)}build(t,n,r){const s=new pq({client:t,mutationCache:this,mutationId:++vm(this,Bp)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){Q(this,Yi).add(t);const n=Fm(t);if(typeof n=="string"){const r=Q(this,Ws).get(n);r?r.push(t):Q(this,Ws).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Q(this,Yi).delete(t)){const n=Fm(t);if(typeof n=="string"){const r=Q(this,Ws).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&Q(this,Ws).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Fm(t);if(typeof n=="string"){const r=Q(this,Ws).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Fm(t);if(typeof n=="string"){const s=(r=Q(this,Ws).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pn.batch(()=>{Q(this,Yi).forEach(t=>{this.notify({type:"removed",mutation:t})}),Q(this,Yi).clear(),Q(this,Ws).clear()})}getAll(){return Array.from(Q(this,Yi))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>TP(n,r))}findAll(t={}){return this.getAll().filter(n=>TP(t,n))}notify(t){Pn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Pn.batch(()=>Promise.all(t.map(n=>n.continue().catch(yr))))}},Yi=new WeakMap,Ws=new WeakMap,Bp=new WeakMap,nM);function Fm(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Xi,eo,kr,Qi,ha,Hg,Ww,rM,gq=(rM=class extends Nd{constructor(n,r){super();$e(this,ha);$e(this,Xi);$e(this,eo);$e(this,kr);$e(this,Qi);ke(this,Xi,n),this.setOptions(r),this.bindMethods(),rt(this,ha,Hg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=Q(this,Xi).defaultMutationOptions(n),D0(this.options,r)||Q(this,Xi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,kr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Wl(r.mutationKey)!==Wl(this.options.mutationKey)?this.reset():((s=Q(this,kr))==null?void 0:s.state.status)==="pending"&&Q(this,kr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Q(this,kr))==null||n.removeObserver(this)}onMutationUpdate(n){rt(this,ha,Hg).call(this),rt(this,ha,Ww).call(this,n)}getCurrentResult(){return Q(this,eo)}reset(){var n;(n=Q(this,kr))==null||n.removeObserver(this),ke(this,kr,void 0),rt(this,ha,Hg).call(this),rt(this,ha,Ww).call(this)}mutate(n,r){var s;return ke(this,Qi,r),(s=Q(this,kr))==null||s.removeObserver(this),ke(this,kr,Q(this,Xi).getMutationCache().build(Q(this,Xi),this.options)),Q(this,kr).addObserver(this),Q(this,kr).execute(n)}},Xi=new WeakMap,eo=new WeakMap,kr=new WeakMap,Qi=new WeakMap,ha=new WeakSet,Hg=function(){var r;const n=((r=Q(this,kr))==null?void 0:r.state)??L7();ke(this,eo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ww=function(n){Pn.batch(()=>{var r,s,i,o,l,c,u,d;if(Q(this,Qi)&&this.hasListeners()){const f=Q(this,eo).variables,h=Q(this,eo).context,p={client:Q(this,Xi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=Q(this,Qi)).onSuccess)==null||s.call(r,n.data,f,h,p)}catch(m){Promise.reject(m)}try{(o=(i=Q(this,Qi)).onSettled)==null||o.call(i,n.data,null,f,h,p)}catch(m){Promise.reject(m)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=Q(this,Qi)).onError)==null||c.call(l,n.error,f,h,p)}catch(m){Promise.reject(m)}try{(d=(u=Q(this,Qi)).onSettled)==null||d.call(u,void 0,n.error,f,h,p)}catch(m){Promise.reject(m)}}}this.listeners.forEach(f=>{f(Q(this,eo))})})},rM),hi,sM,xq=(sM=class extends Nd{constructor(t={}){super();$e(this,hi);this.config=t,ke(this,hi,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??y4(s,n);let o=this.get(i);return o||(o=new cq({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Q(this,hi).has(t.queryHash)||(Q(this,hi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Q(this,hi).get(t.queryHash);n&&(t.destroy(),n===t&&Q(this,hi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Pn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,hi).get(t)}getAll(){return[...Q(this,hi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>_P(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>_P(t,r)):n}notify(t){Pn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Pn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Pn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},hi=new WeakMap,sM),tn,to,no,wu,ju,ro,Nu,Su,iM,yq=(iM=class{constructor(e={}){$e(this,tn);$e(this,to);$e(this,no);$e(this,wu);$e(this,ju);$e(this,ro);$e(this,Nu);$e(this,Su);ke(this,tn,e.queryCache||new xq),ke(this,to,e.mutationCache||new mq),ke(this,no,e.defaultOptions||{}),ke(this,wu,new Map),ke(this,ju,new Map),ke(this,ro,0)}mount(){vm(this,ro)._++,Q(this,ro)===1&&(ke(this,Nu,w4.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,tn).onFocus())})),ke(this,Su,R0.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,tn).onOnline())})))}unmount(){var e,t;vm(this,ro)._--,Q(this,ro)===0&&((e=Q(this,Nu))==null||e.call(this),ke(this,Nu,void 0),(t=Q(this,Su))==null||t.call(this),ke(this,Su,void 0))}isFetching(e){return Q(this,tn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,to).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,tn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Q(this,tn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(wo(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Q(this,tn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Q(this,tn).get(r.queryHash),i=s==null?void 0:s.state.data,o=JW(t,i);if(o!==void 0)return Q(this,tn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Pn.batch(()=>Q(this,tn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,tn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Q(this,tn);Pn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Q(this,tn);return Pn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Pn.batch(()=>Q(this,tn).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(yr).catch(yr)}invalidateQueries(e,t={}){return Pn.batch(()=>(Q(this,tn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Pn.batch(()=>Q(this,tn).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(yr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(yr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Q(this,tn).build(this,t);return n.isStaleByTime(wo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(yr).catch(yr)}fetchInfiniteQuery(e){return e.behavior=LP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(yr).catch(yr)}ensureInfiniteQueryData(e){return e.behavior=LP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return R0.isOnline()?Q(this,to).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,tn)}getMutationCache(){return Q(this,to)}getDefaultOptions(){return Q(this,no)}setDefaultOptions(e){ke(this,no,e)}setQueryDefaults(e,t){Q(this,wu).set(Wl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,wu).values()],n={};return t.forEach(r=>{Dh(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Q(this,ju).set(Wl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,ju).values()],n={};return t.forEach(r=>{Dh(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,no).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=y4(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===v4&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,no).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,tn).clear(),Q(this,to).clear()}},tn=new WeakMap,to=new WeakMap,no=new WeakMap,wu=new WeakMap,ju=new WeakMap,ro=new WeakMap,Nu=new WeakMap,Su=new WeakMap,iM),F7=N.createContext(void 0),ln=e=>{const t=N.useContext(F7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vq=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(F7.Provider,{value:e,children:t})),B7=N.createContext(!1),bq=()=>N.useContext(B7);B7.Provider;function wq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var jq=N.createContext(wq()),Nq=()=>N.useContext(jq),Sq=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?b4(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},Pq=e=>{N.useEffect(()=>{e.clearReset()},[e])},Aq=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||b4(n,[e.error,r])),Cq=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Oq=(e,t)=>e.isLoading&&e.isFetching&&!t,kq=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,BP=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function _q(e,t,n){var h,p,m,g;const r=bq(),s=Nq(),i=ln(),o=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",Cq(o),Sq(o,s,l),Pq(s);const c=!i.getQueryCache().get(o.queryHash),[u]=N.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(x=>{const y=f?u.subscribe(Pn.batchCalls(x)):yr;return u.updateResult(),y},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),N.useEffect(()=>{u.setOptions(o)},[o,u]),kq(o,d))throw BP(o,u,s);if(Aq({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((g=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,d),o.experimental_prefetchInRender&&!Hl&&Oq(d,r)){const x=c?BP(o,u,s):l==null?void 0:l.promise;x==null||x.catch(yr).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function De(e,t){return _q(e,uq)}function Ge(e,t){const n=ln(),[r]=N.useState(()=>new gq(n,e));N.useEffect(()=>{r.setOptions(e)},[r,e]);const s=N.useSyncExternalStore(N.useCallback(o=>r.subscribe(Pn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=N.useCallback((o,l)=>{r.mutate(o,l).catch(yr)},[r]);if(s.error&&b4(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}let Tq={data:""},Eq=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Tq},Mq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Dq=/\/\*[^]*?\*\/|  +/g,VP=/\n+/g,Wa=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Wa(o,i):i+"{"+Wa(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=Wa(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Wa.p?Wa.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Ri={},V7=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+V7(e[n]);return t}return e},Rq=(e,t,n,r,s)=>{let i=V7(e),o=Ri[i]||(Ri[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Ri[o]){let c=i!==e?e:(u=>{let d,f,h=[{}];for(;d=Mq.exec(u.replace(Dq,""));)d[4]?h.shift():d[3]?(f=d[3].replace(VP," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(VP," ").trim();return h[0]})(e);Ri[o]=Wa(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&Ri.g?Ri.g:null;return n&&(Ri.g=Ri[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Ri[o],t,r,l),o},Iq=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Wa(l,""):l===!1?"":l}return r+s+(o??"")},"");function Vy(e){let t=this||{},n=e.call?e(t.p):e;return Rq(n.unshift?n.raw?Iq(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,Eq(t.target),t.g,t.o,t.k)}let z7,qw,Kw;Vy.bind({g:1});let ya=Vy.bind({k:1});function $q(e,t,n,r){Wa.p=t,z7=e,qw=n,Kw=r}function Io(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:qw&&qw()},l),n.o=/ *go\d+/.test(c),l.className=Vy.apply(n,r)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Kw&&u[0]&&Kw(l),z7(u,l)}return s}}var Lq=e=>typeof e=="function",I0=(e,t)=>Lq(e)?e(t):e,Fq=(()=>{let e=0;return()=>(++e).toString()})(),U7=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Bq=20,N4="default",H7=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return H7(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Wg=[],W7={toasts:[],pausedAt:void 0,settings:{toastLimit:Bq}},yi={},q7=(e,t=N4)=>{yi[t]=H7(yi[t]||W7,e),Wg.forEach(([n,r])=>{n===t&&r(yi[t])})},K7=e=>Object.keys(yi).forEach(t=>q7(e,t)),Vq=e=>Object.keys(yi).find(t=>yi[t].toasts.some(n=>n.id===e)),zy=(e=N4)=>t=>{q7(t,e)},zq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Uq=(e={},t=N4)=>{let[n,r]=N.useState(yi[t]||W7),s=N.useRef(yi[t]);N.useEffect(()=>(s.current!==yi[t]&&r(yi[t]),Wg.push([t,r]),()=>{let o=Wg.findIndex(([l])=>l===t);o>-1&&Wg.splice(o,1)}),[t]);let i=n.toasts.map(o=>{var l,c,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||zq[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:i}},Hq=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Fq()}),Kp=e=>(t,n)=>{let r=Hq(t,e,n);return zy(r.toasterId||Vq(r.id))({type:2,toast:r}),r.id},An=(e,t)=>Kp("blank")(e,t);An.error=Kp("error");An.success=Kp("success");An.loading=Kp("loading");An.custom=Kp("custom");An.dismiss=(e,t)=>{let n={type:3,toastId:e};t?zy(t)(n):K7(n)};An.dismissAll=e=>An.dismiss(void 0,e);An.remove=(e,t)=>{let n={type:4,toastId:e};t?zy(t)(n):K7(n)};An.removeAll=e=>An.remove(void 0,e);An.promise=(e,t,n)=>{let r=An.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?I0(t.success,s):void 0;return i?An.success(i,{id:r,...n,...n==null?void 0:n.success}):An.dismiss(r),s}).catch(s=>{let i=t.error?I0(t.error,s):void 0;i?An.error(i,{id:r,...n,...n==null?void 0:n.error}):An.dismiss(r)}),e};var Wq=1e3,qq=(e,t="default")=>{let{toasts:n,pausedAt:r}=Uq(e,t),s=N.useRef(new Map).current,i=N.useCallback((f,h=Wq)=>{if(s.has(f))return;let p=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},h);s.set(f,p)},[]);N.useEffect(()=>{if(r)return;let f=Date.now(),h=n.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(m<0){p.visible&&An.dismiss(p.id);return}return setTimeout(()=>An.dismiss(p.id,t),m)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[n,r,t]);let o=N.useCallback(zy(t),[t]),l=N.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=N.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),u=N.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),d=N.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:g}=h||{},x=n.filter(b=>(b.position||g)===(f.position||g)&&b.height),y=x.findIndex(b=>b.id===f.id),v=x.filter((b,j)=>j<y&&b.visible).length;return x.filter(b=>b.visible).slice(...p?[v+1]:[0,v]).reduce((b,j)=>b+(j.height||0)+m,0)},[n]);return N.useEffect(()=>{n.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=s.get(f.id);h&&(clearTimeout(h),s.delete(f.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},Kq=ya`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Gq=ya`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Yq=ya`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Xq=Io("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Kq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Gq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Yq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Qq=ya`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Jq=Io("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Qq} 1s linear infinite;
`,Zq=ya`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,eK=ya`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tK=Io("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${eK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nK=Io("div")`
  position: absolute;
`,rK=Io("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sK=ya`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iK=Io("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,aK=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?N.createElement(iK,null,t):t:n==="blank"?null:N.createElement(rK,null,N.createElement(Jq,{...r}),n!=="loading"&&N.createElement(nK,null,n==="error"?N.createElement(Xq,{...r}):N.createElement(tK,{...r})))},oK=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,lK=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,cK="0%{opacity:0;} 100%{opacity:1;}",uK="0%{opacity:1;} 100%{opacity:0;}",dK=Io("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,fK=Io("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hK=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=U7()?[cK,uK]:[oK(n),lK(n)];return{animation:t?`${ya(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ya(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},pK=N.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?hK(e.position||t||"top-center",e.visible):{opacity:0},i=N.createElement(aK,{toast:e}),o=N.createElement(fK,{...e.ariaProps},I0(e.message,e));return N.createElement(dK,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):N.createElement(N.Fragment,null,i,o))});$q(N.createElement);var mK=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=N.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return N.createElement("div",{ref:i,className:t,style:n},s)},gK=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:U7()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},xK=Vy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Bm=16,yK=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=qq(n,i);return N.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Bm,left:Bm,right:Bm,bottom:Bm,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:r,defaultPosition:t}),p=gK(f,h);return N.createElement(mK,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?xK:"",style:p},d.type==="custom"?I0(d.message,d):s?s(d):N.createElement(pK,{toast:d,position:f}))}))},ae=An;const vK={},zP=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(m=>m(t,p))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(vK?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},bK=e=>e?zP(e):zP;var G7={exports:{}},Y7={},X7={exports:{}},Q7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=N;function wK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jK=typeof Object.is=="function"?Object.is:wK,NK=Mu.useState,SK=Mu.useEffect,PK=Mu.useLayoutEffect,AK=Mu.useDebugValue;function CK(e,t){var n=t(),r=NK({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return PK(function(){s.value=n,s.getSnapshot=t,n1(s)&&i({inst:s})},[e,n,t]),SK(function(){return n1(s)&&i({inst:s}),e(function(){n1(s)&&i({inst:s})})},[e]),AK(n),n}function n1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jK(e,n)}catch{return!0}}function OK(e,t){return t()}var kK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?OK:CK;Q7.useSyncExternalStore=Mu.useSyncExternalStore!==void 0?Mu.useSyncExternalStore:kK;X7.exports=Q7;var _K=X7.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy=N,TK=_K;function EK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MK=typeof Object.is=="function"?Object.is:EK,DK=TK.useSyncExternalStore,RK=Uy.useRef,IK=Uy.useEffect,$K=Uy.useMemo,LK=Uy.useDebugValue;Y7.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=RK(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=$K(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&o.hasValue){var m=o.value;if(s(m,p))return f=m}return f=p}if(m=f,MK(d,p))return m;var g=r(p);return s!==void 0&&s(m,g)?(d=p,m):(d=p,f=g)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var l=DK(e,i[0],i[1]);return IK(function(){o.hasValue=!0,o.value=l},[l]),LK(l),l};G7.exports=Y7;var FK=G7.exports;const BK=jt(FK),J7={},{useDebugValue:VK}=B,{useSyncExternalStoreWithSelector:zK}=BK;let UP=!1;const UK=e=>e;function HK(e,t=UK,n){(J7?"production":void 0)!=="production"&&n&&!UP&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),UP=!0);const r=zK(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return VK(r),r}const HP=e=>{(J7?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?bK(e):e,n=(r,s)=>HK(t,r,s);return Object.assign(n,t),n},WK=e=>e?HP(e):HP,qK={};function KK(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Rh=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Rh(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Rh(r)(n)}}}},GK=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,y)=>({...y,...x}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},r,s);const d=Rh(i.serialize),f=()=>{const x=i.partialize({...r()});let y;const v=d({state:x,version:i.version}).then(b=>u.setItem(i.name,b)).catch(b=>{y=b});if(y)throw y;return v},h=s.setState;s.setState=(x,y)=>{h(x,y),f()};const p=e((...x)=>{n(...x),f()},r,s);let m;const g=()=>{var x;if(!u)return;o=!1,l.forEach(v=>v(r()));const y=((x=i.onRehydrateStorage)==null?void 0:x.call(i,r()))||void 0;return Rh(u.getItem.bind(u))(i.name).then(v=>{if(v)return i.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return i.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var b;return m=i.merge(v,(b=r())!=null?b:p),n(m,!0),f()}).then(()=>{y==null||y(m,void 0),o=!0,c.forEach(v=>v(m))}).catch(v=>{y==null||y(void 0,v)})};return s.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},g(),m||p},YK=(e,t)=>(n,r,s)=>{let i={storage:KK(()=>localStorage),partialize:g=>g,version:0,merge:(g,x)=>({...x,...g}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},r,s);const d=()=>{const g=i.partialize({...r()});return u.setItem(i.name,{state:g,version:i.version})},f=s.setState;s.setState=(g,x)=>{f(g,x),d()};const h=e((...g)=>{n(...g),d()},r,s);s.getInitialState=()=>h;let p;const m=()=>{var g,x;if(!u)return;o=!1,l.forEach(v=>{var b;return v((b=r())!=null?b:h)});const y=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(g=r())!=null?g:h))||void 0;return Rh(u.getItem.bind(u))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate)return[!0,i.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[j,w]=v;if(p=i.merge(w,(b=r())!=null?b:h),n(p,!0),j)return d()}).then(()=>{y==null||y(p,void 0),p=r(),o=!0,c.forEach(v=>v(p))}).catch(v=>{y==null||y(void 0,v)})};return s.persist={setOptions:g=>{i={...i,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},i.skipHydration||m(),p||h},XK=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((qK?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),GK(e,t)):YK(e,t),QK=XK;function Z7(e,t){return function(){return e.apply(t,arguments)}}const{toString:JK}=Object.prototype,{getPrototypeOf:S4}=Object,{iterator:Hy,toStringTag:eR}=Symbol,Wy=(e=>t=>{const n=JK.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),si=e=>(e=e.toLowerCase(),t=>Wy(t)===e),qy=e=>t=>typeof t===e,{isArray:Sd}=Array,Du=qy("undefined");function Gp(e){return e!==null&&!Du(e)&&e.constructor!==null&&!Du(e.constructor)&&Br(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tR=si("ArrayBuffer");function ZK(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&tR(e.buffer),t}const eG=qy("string"),Br=qy("function"),nR=qy("number"),Yp=e=>e!==null&&typeof e=="object",tG=e=>e===!0||e===!1,qg=e=>{if(Wy(e)!=="object")return!1;const t=S4(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(eR in e)&&!(Hy in e)},nG=e=>{if(!Yp(e)||Gp(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rG=si("Date"),sG=si("File"),iG=si("Blob"),aG=si("FileList"),oG=e=>Yp(e)&&Br(e.pipe),lG=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Br(e.append)&&((t=Wy(e))==="formdata"||t==="object"&&Br(e.toString)&&e.toString()==="[object FormData]"))},cG=si("URLSearchParams"),[uG,dG,fG,hG]=["ReadableStream","Request","Response","Headers"].map(si),pG=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xp(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Sd(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Gp(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function rR(e,t){if(Gp(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sR=e=>!Du(e)&&e!==dl;function Gw(){const{caseless:e,skipUndefined:t}=sR(this)&&this||{},n={},r=(s,i)=>{if(i==="__proto__"||i==="constructor"||i==="prototype")return;const o=e&&rR(n,i)||i;qg(n[o])&&qg(s)?n[o]=Gw(n[o],s):qg(s)?n[o]=Gw({},s):Sd(s)?n[o]=s.slice():(!t||!Du(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Xp(arguments[s],r);return n}const mG=(e,t,n,{allOwnKeys:r}={})=>(Xp(t,(s,i)=>{n&&Br(s)?Object.defineProperty(e,i,{value:Z7(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),gG=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xG=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},yG=(e,t,n,r)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&S4(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},vG=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},bG=e=>{if(!e)return null;if(Sd(e))return e;let t=e.length;if(!nR(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},wG=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&S4(Uint8Array)),jG=(e,t)=>{const r=(e&&e[Hy]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},NG=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},SG=si("HTMLFormElement"),PG=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),WP=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),AG=si("RegExp"),iR=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Xp(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},CG=e=>{iR(e,(t,n)=>{if(Br(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Br(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},OG=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Sd(e)?r(e):r(String(e).split(t)),n},kG=()=>{},_G=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function TG(e){return!!(e&&Br(e.append)&&e[eR]==="FormData"&&e[Hy])}const EG=e=>{const t=new Array(10),n=(r,s)=>{if(Yp(r)){if(t.indexOf(r)>=0)return;if(Gp(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Sd(r)?[]:{};return Xp(r,(o,l)=>{const c=n(o,s+1);!Du(c)&&(i[l]=c)}),t[s]=void 0,i}}return r};return n(e,0)},MG=si("AsyncFunction"),DG=e=>e&&(Yp(e)||Br(e))&&Br(e.then)&&Br(e.catch),aR=((e,t)=>e?setImmediate:t?((n,r)=>(dl.addEventListener("message",({source:s,data:i})=>{s===dl&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),dl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Br(dl.postMessage)),RG=typeof queueMicrotask<"u"?queueMicrotask.bind(dl):typeof process<"u"&&process.nextTick||aR,IG=e=>e!=null&&Br(e[Hy]),ue={isArray:Sd,isArrayBuffer:tR,isBuffer:Gp,isFormData:lG,isArrayBufferView:ZK,isString:eG,isNumber:nR,isBoolean:tG,isObject:Yp,isPlainObject:qg,isEmptyObject:nG,isReadableStream:uG,isRequest:dG,isResponse:fG,isHeaders:hG,isUndefined:Du,isDate:rG,isFile:sG,isBlob:iG,isRegExp:AG,isFunction:Br,isStream:oG,isURLSearchParams:cG,isTypedArray:wG,isFileList:aG,forEach:Xp,merge:Gw,extend:mG,trim:pG,stripBOM:gG,inherits:xG,toFlatObject:yG,kindOf:Wy,kindOfTest:si,endsWith:vG,toArray:bG,forEachEntry:jG,matchAll:NG,isHTMLForm:SG,hasOwnProperty:WP,hasOwnProp:WP,reduceDescriptors:iR,freezeMethods:CG,toObjectSet:OG,toCamelCase:PG,noop:kG,toFiniteNumber:_G,findKey:rR,global:dl,isContextDefined:sR,isSpecCompliantForm:TG,toJSONObject:EG,isAsyncFn:MG,isThenable:DG,setImmediate:aR,asap:RG,isIterable:IG};let Xe=class oR extends Error{static from(t,n,r,s,i,o){const l=new oR(t.message,n||t.code,r,s,i);return l.cause=t,l.name=t.name,o&&Object.assign(l,o),l}constructor(t,n,r,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}};Xe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Xe.ERR_BAD_OPTION="ERR_BAD_OPTION";Xe.ECONNABORTED="ECONNABORTED";Xe.ETIMEDOUT="ETIMEDOUT";Xe.ERR_NETWORK="ERR_NETWORK";Xe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Xe.ERR_DEPRECATED="ERR_DEPRECATED";Xe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Xe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Xe.ERR_CANCELED="ERR_CANCELED";Xe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Xe.ERR_INVALID_URL="ERR_INVALID_URL";const $G=null;function Yw(e){return ue.isPlainObject(e)||ue.isArray(e)}function lR(e){return ue.endsWith(e,"[]")?e.slice(0,-2):e}function qP(e,t,n){return e?e.concat(t).map(function(s,i){return s=lR(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function LG(e){return ue.isArray(e)&&!e.some(Yw)}const FG=ue.toFlatObject(ue,{},null,function(t){return/^is[A-Z]/.test(t)});function Ky(e,t,n){if(!ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!ue.isUndefined(x[g])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(t);if(!ue.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(ue.isDate(m))return m.toISOString();if(ue.isBoolean(m))return m.toString();if(!c&&ue.isBlob(m))throw new Xe("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(m)||ue.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,g,x){let y=m;if(m&&!x&&typeof m=="object"){if(ue.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(ue.isArray(m)&&LG(m)||(ue.isFileList(m)||ue.endsWith(g,"[]"))&&(y=ue.toArray(m)))return g=lR(g),y.forEach(function(b,j){!(ue.isUndefined(b)||b===null)&&t.append(o===!0?qP([g],j,i):o===null?g:g+"[]",u(b))}),!1}return Yw(m)?!0:(t.append(qP(x,g,i),u(m)),!1)}const f=[],h=Object.assign(FG,{defaultVisitor:d,convertValue:u,isVisitable:Yw});function p(m,g){if(!ue.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(m),ue.forEach(m,function(y,v){(!(ue.isUndefined(y)||y===null)&&s.call(t,y,ue.isString(v)?v.trim():v,g,h))===!0&&p(y,g?g.concat(v):[v])}),f.pop()}}if(!ue.isObject(e))throw new TypeError("data must be an object");return p(e),t}function KP(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function P4(e,t){this._pairs=[],e&&Ky(e,this,t)}const cR=P4.prototype;cR.append=function(t,n){this._pairs.push([t,n])};cR.toString=function(t){const n=t?function(r){return t.call(this,r,KP)}:KP;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function BG(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uR(e,t,n){if(!t)return e;const r=n&&n.encode||BG,s=ue.isFunction(n)?{serialize:n}:n,i=s&&s.serialize;let o;if(i?o=i(t,s):o=ue.isURLSearchParams(t)?t.toString():new P4(t,s).toString(r),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class GP{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ue.forEach(this.handlers,function(r){r!==null&&t(r)})}}const A4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},VG=typeof URLSearchParams<"u"?URLSearchParams:P4,zG=typeof FormData<"u"?FormData:null,UG=typeof Blob<"u"?Blob:null,HG={isBrowser:!0,classes:{URLSearchParams:VG,FormData:zG,Blob:UG},protocols:["http","https","file","blob","url","data"]},C4=typeof window<"u"&&typeof document<"u",Xw=typeof navigator=="object"&&navigator||void 0,WG=C4&&(!Xw||["ReactNative","NativeScript","NS"].indexOf(Xw.product)<0),qG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KG=C4&&window.location.href||"http://localhost",GG=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:C4,hasStandardBrowserEnv:WG,hasStandardBrowserWebWorkerEnv:qG,navigator:Xw,origin:KG},Symbol.toStringTag,{value:"Module"})),ur={...GG,...HG};function YG(e,t){return Ky(e,new ur.classes.URLSearchParams,{visitor:function(n,r,s,i){return ur.isNode&&ue.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function XG(e){return ue.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function QG(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function dR(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&ue.isArray(s)?s.length:o,c?(ue.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!ue.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&ue.isArray(s[o])&&(s[o]=QG(s[o])),!l)}if(ue.isFormData(e)&&ue.isFunction(e.entries)){const n={};return ue.forEachEntry(e,(r,s)=>{t(XG(r),s,n,0)}),n}return null}function JG(e,t,n){if(ue.isString(e))try{return(t||JSON.parse)(e),ue.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Qp={transitional:A4,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=ue.isObject(t);if(i&&ue.isHTMLForm(t)&&(t=new FormData(t)),ue.isFormData(t))return s?JSON.stringify(dR(t)):t;if(ue.isArrayBuffer(t)||ue.isBuffer(t)||ue.isStream(t)||ue.isFile(t)||ue.isBlob(t)||ue.isReadableStream(t))return t;if(ue.isArrayBufferView(t))return t.buffer;if(ue.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return YG(t,this.formSerializer).toString();if((l=ue.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ky(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),JG(t)):t}],transformResponse:[function(t){const n=this.transitional||Qp.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ue.isResponse(t)||ue.isReadableStream(t))return t;if(t&&ue.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Xe.from(l,Xe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],e=>{Qp.headers[e]={}});const ZG=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eY=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&ZG[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},YP=Symbol("internals");function Jd(e){return e&&String(e).trim().toLowerCase()}function Kg(e){return e===!1||e==null?e:ue.isArray(e)?e.map(Kg):String(e)}function tY(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const nY=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function r1(e,t,n,r,s){if(ue.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!ue.isString(t)){if(ue.isString(r))return t.indexOf(r)!==-1;if(ue.isRegExp(r))return r.test(t)}}function rY(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function sY(e,t){const n=ue.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let Vr=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,c,u){const d=Jd(c);if(!d)throw new Error("header name must be a non-empty string");const f=ue.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Kg(l))}const o=(l,c)=>ue.forEach(l,(u,d)=>i(u,d,c));if(ue.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(ue.isString(t)&&(t=t.trim())&&!nY(t))o(eY(t),n);else if(ue.isObject(t)&&ue.isIterable(t)){let l={},c,u;for(const d of t){if(!ue.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ue.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Jd(t),t){const r=ue.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return tY(s);if(ue.isFunction(n))return n.call(this,s,r);if(ue.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Jd(t),t){const r=ue.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||r1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Jd(o),o){const l=ue.findKey(r,o);l&&(!n||r1(r,r[l],l,n))&&(delete r[l],s=!0)}}return ue.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||r1(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return ue.forEach(this,(s,i)=>{const o=ue.findKey(r,i);if(o){n[o]=Kg(s),delete n[i];return}const l=t?rY(i):String(i).trim();l!==i&&delete n[i],n[l]=Kg(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ue.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&ue.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[YP]=this[YP]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Jd(o);r[l]||(sY(s,o),r[l]=!0)}return ue.isArray(t)?t.forEach(i):i(t),this}};Vr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(Vr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ue.freezeMethods(Vr);function s1(e,t){const n=this||Qp,r=t||n,s=Vr.from(r.headers);let i=r.data;return ue.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function fR(e){return!!(e&&e.__CANCEL__)}let Jp=class extends Xe{constructor(t,n,r){super(t??"canceled",Xe.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function hR(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Xe("Request failed with status code "+n.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iY(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function aY(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),n[s]=c,r[s]=u;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function oY(e,t){let n=0,r=1e3/t,s,i;const o=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const $0=(e,t,n=3)=>{let r=0;const s=aY(50,250);return oY(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=s(c),d=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},XP=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},QP=e=>(...t)=>ue.asap(()=>e(...t)),lY=ur.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ur.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ur.origin),ur.navigator&&/(msie|trident)/i.test(ur.navigator.userAgent)):()=>!0,cY=ur.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];ue.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),ue.isString(r)&&l.push(`path=${r}`),ue.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),ue.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function uY(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function dY(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pR(e,t,n){let r=!uY(t);return e&&(r||n==!1)?dY(e,t):t}const JP=e=>e instanceof Vr?{...e}:e;function ql(e,t){t=t||{};const n={};function r(u,d,f,h){return ue.isPlainObject(u)&&ue.isPlainObject(d)?ue.merge.call({caseless:h},u,d):ue.isPlainObject(d)?ue.merge({},d):ue.isArray(d)?d.slice():d}function s(u,d,f,h){if(ue.isUndefined(d)){if(!ue.isUndefined(u))return r(void 0,u,f,h)}else return r(u,d,f,h)}function i(u,d){if(!ue.isUndefined(d))return r(void 0,d)}function o(u,d){if(ue.isUndefined(d)){if(!ue.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>s(JP(u),JP(d),f,!0)};return ue.forEach(Object.keys({...e,...t}),function(d){if(d==="__proto__"||d==="constructor"||d==="prototype")return;const f=ue.hasOwnProp(c,d)?c[d]:s,h=f(e[d],t[d],d);ue.isUndefined(h)&&f!==l||(n[d]=h)}),n}const mR=e=>{const t=ql({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Vr.from(o),t.url=uR(pR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ue.isFormData(n)){if(ur.hasStandardBrowserEnv||ur.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ue.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(ur.hasStandardBrowserEnv&&(r&&ue.isFunction(r)&&(r=r(t)),r||r!==!1&&lY(t.url))){const c=s&&i&&cY.read(i);c&&o.set(s,c)}return t},fY=typeof XMLHttpRequest<"u",hY=fY&&function(e){return new Promise(function(n,r){const s=mR(e);let i=s.data;const o=Vr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,p,m;function g(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function y(){if(!x)return;const b=Vr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),w={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};hR(function(P){n(P),g()},function(P){r(P),g()},w),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(r(new Xe("Request aborted",Xe.ECONNABORTED,e,x)),x=null)},x.onerror=function(j){const w=j&&j.message?j.message:"Network Error",S=new Xe(w,Xe.ERR_NETWORK,e,x);S.event=j||null,r(S),x=null},x.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const w=s.transitional||A4;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),r(new Xe(j,w.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&ue.forEach(o.toJSON(),function(j,w){x.setRequestHeader(w,j)}),ue.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),l&&l!=="json"&&(x.responseType=s.responseType),u&&([h,m]=$0(u,!0),x.addEventListener("progress",h)),c&&x.upload&&([f,p]=$0(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=b=>{x&&(r(!b||b.type?new Jp(null,e,x):b),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const v=iY(s.url);if(v&&ur.protocols.indexOf(v)===-1){r(new Xe("Unsupported protocol "+v+":",Xe.ERR_BAD_REQUEST,e));return}x.send(i||null)})},pY=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Xe?d:new Jp(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new Xe(`timeout of ${t}ms exceeded`,Xe.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>ue.asap(l),c}},mY=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},gY=async function*(e,t){for await(const n of xY(e))yield*mY(n,t)},xY=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},ZP=(e,t,n,r)=>{const s=gY(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},eA=64*1024,{isFunction:Vm}=ue,yY=(({Request:e,Response:t})=>({Request:e,Response:t}))(ue.global),{ReadableStream:tA,TextEncoder:nA}=ue.global,rA=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vY=e=>{e=ue.merge.call({skipUndefined:!0},yY,e);const{fetch:t,Request:n,Response:r}=e,s=t?Vm(t):typeof fetch=="function",i=Vm(n),o=Vm(r);if(!s)return!1;const l=s&&Vm(tA),c=s&&(typeof nA=="function"?(m=>g=>m.encode(g))(new nA):async m=>new Uint8Array(await new n(m).arrayBuffer())),u=i&&l&&rA(()=>{let m=!1;const g=new n(ur.origin,{body:new tA,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),d=o&&l&&rA(()=>ue.isReadableStream(new r("").body)),f={stream:d&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(g,x)=>{let y=g&&g[m];if(y)return y.call(g);throw new Xe(`Response type '${m}' is not supported`,Xe.ERR_NOT_SUPPORT,x)})});const h=async m=>{if(m==null)return 0;if(ue.isBlob(m))return m.size;if(ue.isSpecCompliantForm(m))return(await new n(ur.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(m)||ue.isArrayBuffer(m))return m.byteLength;if(ue.isURLSearchParams(m)&&(m=m+""),ue.isString(m))return(await c(m)).byteLength},p=async(m,g)=>{const x=ue.toFiniteNumber(m.getContentLength());return x??h(g)};return async m=>{let{url:g,method:x,data:y,signal:v,cancelToken:b,timeout:j,onDownloadProgress:w,onUploadProgress:S,responseType:P,headers:A,withCredentials:C="same-origin",fetchOptions:T}=mR(m),k=t||fetch;P=P?(P+"").toLowerCase():"text";let O=pY([v,b&&b.toAbortSignal()],j),I=null;const M=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let E;try{if(S&&u&&x!=="get"&&x!=="head"&&(E=await p(A,y))!==0){let q=new n(g,{method:"POST",body:y,duplex:"half"}),G;if(ue.isFormData(y)&&(G=q.headers.get("content-type"))&&A.setContentType(G),q.body){const[H,J]=XP(E,$0(QP(S)));y=ZP(q.body,eA,H,J)}}ue.isString(C)||(C=C?"include":"omit");const _=i&&"credentials"in n.prototype,L={...T,signal:O,method:x.toUpperCase(),headers:A.normalize().toJSON(),body:y,duplex:"half",credentials:_?C:void 0};I=i&&new n(g,L);let R=await(i?k(I,T):k(g,L));const F=d&&(P==="stream"||P==="response");if(d&&(w||F&&M)){const q={};["status","statusText","headers"].forEach(ce=>{q[ce]=R[ce]});const G=ue.toFiniteNumber(R.headers.get("content-length")),[H,J]=w&&XP(G,$0(QP(w),!0))||[];R=new r(ZP(R.body,eA,H,()=>{J&&J(),M&&M()}),q)}P=P||"text";let W=await f[ue.findKey(f,P)||"text"](R,m);return!F&&M&&M(),await new Promise((q,G)=>{hR(q,G,{data:W,headers:Vr.from(R.headers),status:R.status,statusText:R.statusText,config:m,request:I})})}catch(_){throw M&&M(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,m,I,_&&_.response),{cause:_.cause||_}):Xe.from(_,_&&_.code,m,I,_&&_.response)}}},bY=new Map,gR=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,l=o,c,u,d=bY;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:vY(t)),d=u;return u};gR();const O4={http:$G,xhr:hY,fetch:{get:gR}};ue.forEach(O4,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const sA=e=>`- ${e}`,wY=e=>ue.isFunction(e)||e===null||e===!1;function jY(e,t){e=ue.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let l;if(s=r,!wY(r)&&(s=O4[(l=String(r)).toLowerCase()],s===void 0))throw new Xe(`Unknown adapter '${l}'`);if(s&&(ue.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(sA).join(`
`):" "+sA(o[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const xR={getAdapter:jY,adapters:O4};function i1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Jp(null,e)}function iA(e){return i1(e),e.headers=Vr.from(e.headers),e.data=s1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xR.getAdapter(e.adapter||Qp.adapter,e)(e).then(function(r){return i1(e),r.data=s1.call(e,e.transformResponse,r),r.headers=Vr.from(r.headers),r},function(r){return fR(r)||(i1(e),r&&r.response&&(r.response.data=s1.call(e,e.transformResponse,r.response),r.response.headers=Vr.from(r.response.headers))),Promise.reject(r)})}const yR="1.13.5",Gy={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gy[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const aA={};Gy.transitional=function(t,n,r){function s(i,o){return"[Axios v"+yR+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new Xe(s(o," has been removed"+(n?" in "+n:"")),Xe.ERR_DEPRECATED);return n&&!aA[o]&&(aA[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};Gy.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function NY(e,t,n){if(typeof e!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Xe("option "+i+" must be "+c,Xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Xe("Unknown option "+i,Xe.ERR_BAD_OPTION)}}const Gg={assertOptions:NY,validators:Gy},hs=Gg.validators;let El=class{constructor(t){this.defaults=t||{},this.interceptors={request:new GP,response:new GP}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ql(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Gg.assertOptions(r,{silentJSONParsing:hs.transitional(hs.boolean),forcedJSONParsing:hs.transitional(hs.boolean),clarifyTimeoutError:hs.transitional(hs.boolean),legacyInterceptorReqResOrdering:hs.transitional(hs.boolean)},!1),s!=null&&(ue.isFunction(s)?n.paramsSerializer={serialize:s}:Gg.assertOptions(s,{encode:hs.function,serialize:hs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Gg.assertOptions(n,{baseUrl:hs.spelling("baseURL"),withXsrfToken:hs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&ue.merge(i.common,i[n.method]);i&&ue.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Vr.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(g){if(typeof g.runWhen=="function"&&g.runWhen(n)===!1)return;c=c&&g.synchronous;const x=n.transitional||A4;x&&x.legacyInterceptorReqResOrdering?l.unshift(g.fulfilled,g.rejected):l.push(g.fulfilled,g.rejected)});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!c){const m=[iA.bind(this),void 0];for(m.unshift(...l),m.push(...u),h=m.length,d=Promise.resolve(n);f<h;)d=d.then(m[f++],m[f++]);return d}h=l.length;let p=n;for(;f<h;){const m=l[f++],g=l[f++];try{p=m(p)}catch(x){g.call(this,x);break}}try{d=iA.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=ql(this.defaults,t);const n=pR(t.baseURL,t.url,t.allowAbsoluteUrls);return uR(n,t.params,t.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(t){El.prototype[t]=function(n,r){return this.request(ql(r||{},{method:t,url:n,data:(r||{}).data}))}});ue.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(ql(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}El.prototype[t]=n(),El.prototype[t+"Form"]=n(!0)});let SY=class vR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Jp(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new vR(function(s){t=s}),cancel:t}}};function PY(e){return function(n){return e.apply(null,n)}}function AY(e){return ue.isObject(e)&&e.isAxiosError===!0}const Qw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Qw).forEach(([e,t])=>{Qw[t]=e});function bR(e){const t=new El(e),n=Z7(El.prototype.request,t);return ue.extend(n,El.prototype,t,{allOwnKeys:!0}),ue.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return bR(ql(e,s))},n}const hn=bR(Qp);hn.Axios=El;hn.CanceledError=Jp;hn.CancelToken=SY;hn.isCancel=fR;hn.VERSION=yR;hn.toFormData=Ky;hn.AxiosError=Xe;hn.Cancel=hn.CanceledError;hn.all=function(t){return Promise.all(t)};hn.spread=PY;hn.isAxiosError=AY;hn.mergeConfig=ql;hn.AxiosHeaders=Vr;hn.formToJSON=e=>dR(ue.isHTMLForm(e)?new FormData(e):e);hn.getAdapter=xR.getAdapter;hn.HttpStatusCode=Qw;hn.default=hn;const{Axios:xMe,AxiosError:yMe,CanceledError:vMe,isCancel:bMe,CancelToken:wMe,VERSION:jMe,all:NMe,Cancel:SMe,isAxiosError:PMe,spread:AMe,toFormData:CMe,AxiosHeaders:OMe,HttpStatusCode:kMe,formToJSON:_Me,getAdapter:TMe,mergeConfig:EMe}=hn,ee=hn.create({baseURL:"/api",headers:{"Content-Type":"application/json"},timeout:3e4});ee.interceptors.request.use(e=>{const t=localStorage.getItem("impersonationActive")==="true",n=localStorage.getItem("impersonationToken");if(t&&n)return e.headers.Authorization=`Bearer ${n}`,e;const r=localStorage.getItem("token");r&&(e.headers.Authorization=`Bearer ${r}`);try{if(!t){const s=localStorage.getItem("activeViewUserId");s&&(e.params=e.params||{},(e.method||"get").toString().toLowerCase()==="get"&&!e.params.viewUserId&&(e.params.viewUserId=s))}}catch{}return e},e=>Promise.reject(e));ee.interceptors.response.use(e=>e,e=>{var n,r,s,i,o,l;const{response:t}=e;if(t)switch(t.status){case 401:{const u=((n=(e.config||{}).headers)==null?void 0:n.Authorization)||"",d=localStorage.getItem("impersonationActive")==="true",f=localStorage.getItem("impersonationToken");if(d&&f&&u===`Bearer ${f}`){localStorage.removeItem("impersonationToken"),localStorage.setItem("impersonationActive","false"),console.warn("Impersonation token expired; exited view-as mode.");break}localStorage.removeItem("token"),window.location.pathname!=="/login"&&(window.location.href="/login");break}case 403:console.error("Access forbidden:",(r=t.data)==null?void 0:r.message);break;case 404:console.error("Resource not found:",(s=t.data)==null?void 0:s.message);break;case 422:console.error("Validation error:",(i=t.data)==null?void 0:i.errors);break;case 500:console.error("Server error:",(o=t.data)==null?void 0:o.message);break;default:console.error("API error:",(l=t.data)==null?void 0:l.message)}else e.request?console.error("Network error: No response received"):console.error("Request error:",e.message);return Promise.reject(e)});const Xs={login:async({email:e,password:t})=>(await ee.post("/auth/login",{email:e,password:t})).data,register:async e=>(await ee.post("/auth/register",e)).data,logout:async()=>(await ee.post("/auth/logout")).data,getProfile:async()=>({data:(await ee.get("/auth/me")).data.user}),updateProfile:async e=>({data:(await ee.patch("/auth/profile",e)).data.user}),changePassword:async(e,t)=>(await ee.put("/auth/change-password",{currentPassword:e,newPassword:t})).data,impersonate:async e=>(await ee.post("/auth/impersonate",{targetUserId:e})).data,stopImpersonation:async()=>({success:!0})},In={getProfile:async()=>{var t;const e=await ee.get("/auth/me");return((t=e.data)==null?void 0:t.user)||e.data},updateProfile:async e=>(await ee.patch("/auth/profile",e)).data,changePassword:async e=>(await ee.post("/auth/change-password",e)).data,getClinicSettings:async()=>{var n;const e=await ee.get("/clinic"),t=((n=e.data)==null?void 0:n.data)||e.data;return{clinicName:(t==null?void 0:t.name)||"",address:(t==null?void 0:t.address)||"",city:(t==null?void 0:t.city)||"",state:(t==null?void 0:t.state)||"",pincode:(t==null?void 0:t.pincode)||"",phone:(t==null?void 0:t.phone)||"",email:(t==null?void 0:t.email)||"",website:(t==null?void 0:t.website)||"",registrationNo:(t==null?void 0:t.licenseNumber)||"",gstNo:(t==null?void 0:t.gstNumber)||"",logo:(t==null?void 0:t.logo)||"",slotDuration:(t==null?void 0:t.slotDuration)||15}},updateClinicSettings:async e=>{const t={name:e.clinicName,address:e.address,city:e.city,state:e.state,pincode:e.pincode,phone:e.phone,email:e.email,website:e.website,licenseNumber:e.registrationNo,gstNumber:e.gstNo,logo:e.logo,slotDuration:e.slotDuration};return(await ee.put("/clinic",t)).data},getTaxSettings:async()=>{var r;const e=await ee.get("/clinic/tax-config"),t=((r=e.data)==null?void 0:r.data)||e.data,n=(t==null?void 0:t.taxConfig)||{};return{consultationGST:n.consultationGST||0,pharmacyGST:n.pharmacyGST||0,labGST:n.labGST||0,otherGST:n.otherGST||0,inclusiveTax:n.inclusiveTax||!1,gstNumber:(t==null?void 0:t.gstNumber)||""}},updateTaxSettings:async e=>{const t={consultationGST:e.consultationGST,pharmacyGST:e.pharmacyGST,labGST:e.labGST,otherGST:e.otherGST,inclusiveTax:e.inclusiveTax};return(await ee.put("/clinic/tax-config",{taxConfig:t,gstNumber:e.gstNumber})).data},getWorkingHours:async()=>{var i;const e=await ee.get("/clinic/working-hours"),t=((i=e.data)==null?void 0:i.data)||e.data,n=(t==null?void 0:t.workingHours)||null,r=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];let s=null;return Array.isArray(n)?s=n:n&&typeof n=="object"&&(s=r.map(o=>{const l=o.toLowerCase(),c=n[l]||{};return c.closed?{day:o,isOpen:!1,openTime:"09:00",closeTime:"18:00",breakStart:"13:00",breakEnd:"14:00"}:{day:o,isOpen:!0,openTime:c.start||"09:00",closeTime:c.end||"18:00",breakStart:c.breakStart||"13:00",breakEnd:c.breakEnd||"14:00"}})),{hours:s,slotDuration:(t==null?void 0:t.slotDuration)||15}},updateWorkingHours:async e=>{const t={};return Array.isArray(e.hours)&&e.hours.forEach(r=>{const s=(r.day||"").toLowerCase();s&&(r.isOpen?t[s]={start:r.openTime,end:r.closeTime,breakStart:r.breakStart,breakEnd:r.breakEnd}:t[s]={closed:!0})}),(await ee.put("/clinic/working-hours",{workingHours:t,slotDuration:e.slotDuration})).data},getPreferences:async()=>({dashboardWidgets:null}),updatePreferences:async e=>({success:!0,message:"Preferences saved"}),getDashboardWidgets:async()=>(await ee.get("/settings/dashboard-widgets")).data,updateDashboardWidgets:async e=>(await ee.put("/settings/dashboard-widgets",e)).data,getRolePermissions:async()=>(await ee.get("/clinic/role-permissions")).data,updateRolePermissions:async e=>(await ee.put("/clinic/role-permissions",{rolePermissions:e})).data,getAccessControls:async()=>(await ee.get("/clinic/access-controls")).data},k4=WK(QK((e,t)=>({user:null,token:null,activeViewUser:null,isLoading:!1,error:null,setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),clearError:()=>e({error:null}),setAuth:(n,r)=>{try{localStorage.setItem("token",r)}catch{}const s=["doctor@demo.com","admin@docclinic.com"],i=!!(n!=null&&n.isClinicAdmin||(n==null?void 0:n.clinicRole)==="ADMIN"||n!=null&&n.isOwner||s.includes(n==null?void 0:n.email));e({user:{...n,isClinicAdmin:i},token:r,isLoading:!1,error:null})},login:async(n,r)=>{var s,i;e({isLoading:!0,error:null});try{const o=await Xs.login(n,r),{user:l,token:c}=o.data;return localStorage.setItem("token",c),e({user:l,token:c,isLoading:!1}),o}catch(o){const l=((i=(s=o.response)==null?void 0:s.data)==null?void 0:i.message)||"Login failed";throw e({error:l,isLoading:!1}),o}},register:async n=>{var r,s;e({isLoading:!0,error:null});try{const i=await Xs.register(n),{user:o,token:l}=i.data;return localStorage.setItem("token",l),e({user:o,token:l,isLoading:!1}),i}catch(i){const o=((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.message)||"Registration failed";throw e({error:o,isLoading:!1}),i}},logout:async()=>{e({isLoading:!0});try{await Xs.logout()}catch(n){console.error("Logout error:",n)}finally{localStorage.removeItem("token"),e({user:null,token:null,isLoading:!1,error:null})}},loadUser:async()=>{const n=localStorage.getItem("token");if(!n){e({isLoading:!1});return}const r=localStorage.getItem("impersonationActive")==="true",s=localStorage.getItem("impersonationToken");e({isLoading:!0,token:n});try{if(!r)try{localStorage.removeItem("activeViewUserId")}catch{}const o=(await Xs.getProfile()).data||{},l=["doctor@demo.com","admin@docclinic.com"],c=!!(o.isClinicAdmin||o.clinicRole==="ADMIN"||o.isOwner||l.includes(o.email));if(e({user:{...o,isClinicAdmin:c},isLoading:!1}),r&&s){const u={...o},d=!!(u.isClinicAdmin||u.clinicRole==="ADMIN"||u.isOwner||l.includes(u.email));t().setActiveViewUser({...u,isClinicAdmin:d})}}catch{localStorage.removeItem("token"),e({user:null,token:null,isLoading:!1})}},updateProfile:async n=>{var r,s;e({isLoading:!0,error:null});try{const i=await Xs.updateProfile(n);return e({user:i.data,isLoading:!1}),i}catch(i){const o=((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.message)||"Profile update failed";throw e({error:o,isLoading:!1}),i}},updatePreferences:async n=>{var r,s;e({isLoading:!0,error:null});try{const i=await Xs.updateProfile({preferences:n});return e(o=>({user:{...o.user,preferences:i.data.preferences},isLoading:!1})),i}catch(i){const o=((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.message)||"Preferences update failed";throw e({error:o,isLoading:!1}),i}},normalizeRole:n=>{if(!n)return"STAFF";const r=n.toString().toLowerCase();return r.includes("super")?"SUPER_ADMIN":r.includes("doctor")?"DOCTOR":r.includes("pharm")?"PHARMACIST":r.includes("recept")||r.includes("reception")?"RECEPTIONIST":r.includes("account")?"ACCOUNTANT":r.includes("nurse")?"NURSE":r.includes("lab")?"LAB_TECHNICIAN":r.toUpperCase()},setActiveViewUser:n=>{if(!n)return localStorage.removeItem("activeViewUserId"),e({activeViewUser:null});const r=t().normalizeRole(n.role);try{localStorage.setItem("activeViewUserId",n.id)}catch{}e({activeViewUser:{...n,role:r}})},clearActiveViewUser:()=>{try{localStorage.removeItem("activeViewUserId")}catch{}return e({activeViewUser:null})}}),{name:"auth-storage",partialize:e=>({token:e.token})})),ri=()=>{const e=k4();return{user:e.user,token:e.token,activeViewUser:e.activeViewUser,isLoading:e.isLoading,error:e.error,isAuthenticated:!!e.user,login:e.setAuth,setAuth:e.setAuth,loginWithCredentials:e.login,logout:e.logout,register:e.register,loadUser:e.loadUser,updateProfile:e.updateProfile,updatePreferences:e.updatePreferences,clearError:e.clearError,setActiveViewUser:e.setActiveViewUser,clearActiveViewUser:e.clearActiveViewUser,normalizeRole:e.normalizeRole}},tt=(e,t=[])=>{const n=k4(),r=n.user,s=n.activeViewUser,i=n.normalizeRole,{data:o}=De({queryKey:["rolePermissions"],queryFn:()=>In.getRolePermissions(),staleTime:5*60*1e3}),l=(o==null?void 0:o.data)||o||null,{data:c}=De({queryKey:["accessControls"],queryFn:()=>In.getAccessControls(),staleTime:5*60*1e3}),u=(c==null?void 0:c.data)||c||null,d=s&&s.role||r&&i(r.role)||"STAFF",f=x=>{const y=String(x||"").trim().toLowerCase();return y?y.startsWith("leader")?y.replace(/^leader/,"ledger"):y:""};if((()=>{const x=Array.isArray(u==null?void 0:u.disabledPermissions)?u.disabledPermissions:[],y=new Set(x.map(f).filter(Boolean)),v=String(e||"").toLowerCase(),b=v.split(":")[0];return y.has(v)||y.has(b)||y.has(`${b}:*`)||y.has("*")})()&&d.toString().toUpperCase()!=="SUPER_ADMIN")return!1;if(r!=null&&r.isClinicAdmin&&!(s&&s.id&&r&&s.id!==r.id))return!0;if(!l)return t.includes(d.toString().toUpperCase());let m=d.toString().toUpperCase();l&&(l[m]||m==="STAFF"&&l.DOCTOR&&(m="DOCTOR"));const g=l[m];return!Array.isArray(g)||g.length===0?!1:g.includes(e)},CY=({children:e})=>{const t=k4(s=>s.loadUser),[n,r]=N.useState(!1);return N.useEffect(()=>{let s=!0;return(async()=>{try{await t()}finally{s&&r(!0)}})(),()=>{s=!1}},[t]),n?e:a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})};function OY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const kY=N.forwardRef(OY);function _Y({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const TY=N.forwardRef(_Y);function EY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const MY=N.forwardRef(EY);function DY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const RY=N.forwardRef(DY);function IY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const wR=N.forwardRef(IY);function $Y({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const jR=N.forwardRef($Y);function LY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const FY=N.forwardRef(LY);function BY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const VY=N.forwardRef(BY);function zY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const UY=N.forwardRef(zY);function HY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const WY=N.forwardRef(HY);function qY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const KY=N.forwardRef(qY);function GY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const NR=N.forwardRef(GY);function YY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const XY=N.forwardRef(YY);function QY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const SR=N.forwardRef(QY);function JY({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ZY=N.forwardRef(JY);function eX({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const oA=N.forwardRef(eX);function tX({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const nX=N.forwardRef(tX);function rX({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const sX=N.forwardRef(rX);function iX({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const PR=N.forwardRef(iX);function aX({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const oX=N.forwardRef(aX);function lX({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const zm=N.forwardRef(lX);function cX({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const lA=N.forwardRef(cX);function uX({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const dX=N.forwardRef(uX);function fX({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Jw=N.forwardRef(fX);function hX({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const AR=N.forwardRef(hX),Bc={getStats:async(e=null)=>(await ee.get("/dashboard/stats",{params:e?{staffId:e}:{}})).data,getCharts:async(e="month",t=null)=>(await ee.get("/dashboard/charts",{params:Object.assign({period:e},t?{staffId:t}:{})})).data,getAlerts:async(e=null)=>(await ee.get("/dashboard/alerts",{params:e?{staffId:e}:{}})).data,getRecentActivity:async(e=10,t=null)=>(await ee.get("/dashboard/activity",{params:Object.assign({limit:e},t?{staffId:t}:{})})).data,getPatientTrend:async(e="7days",t=null)=>{var s,i,o,l;const n=await ee.get("/dashboard/charts",{params:Object.assign({period:e},t?{staffId:t}:{})});return{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],data:((l=(o=(i=(s=n.data)==null?void 0:s.data)==null?void 0:i.distribution)==null?void 0:o.appointmentsByStatus)==null?void 0:l.map(c=>c._count))||[0,0,0,0,0,0,0]}},getRevenueTrend:async(e="7days",t=null)=>{var i,o,l;const n=await ee.get("/dashboard/charts",{params:Object.assign({period:e},t?{staffId:t}:{})}),r=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s=((l=(o=(i=n.data)==null?void 0:i.data)==null?void 0:o.summary)==null?void 0:l.totalRevenue)||0;return{labels:r,data:r.map(()=>Math.round(s/7+Math.random()*1e3))}}},pX=[{name:"Dashboard",path:"/dashboard",icon:PR,roles:["admin","doctor","nurse","receptionist","DOCTOR","RECEPTIONIST","PHARMACIST","ACCOUNTANT","SUPER_ADMIN"]},{name:"Patients",path:"/patients",icon:dX,roles:["admin","doctor","nurse","receptionist","DOCTOR","RECEPTIONIST","PHARMACIST","ACCOUNTANT","SUPER_ADMIN"]},{name:"Appointments",path:"/appointments",icon:FY,roles:["admin","doctor","nurse","receptionist","DOCTOR","RECEPTIONIST","PHARMACIST","ACCOUNTANT","SUPER_ADMIN"]},{name:"Prescriptions",path:"/prescriptions",icon:oA,roles:["admin","doctor","DOCTOR","SUPER_ADMIN"]},{name:"Pharmacy",path:"/pharmacy",icon:jR,roles:["admin","pharmacist","DOCTOR","PHARMACIST","SUPER_ADMIN"]},{name:"Ledger",path:"/ledger",icon:oA,roles:["admin","doctor","pharmacist","accountant","DOCTOR","PHARMACIST","ACCOUNTANT","SUPER_ADMIN"]},{name:"Billing",path:"/billing",icon:ZY,roles:["admin","receptionist","accountant","DOCTOR","RECEPTIONIST","ACCOUNTANT","SUPER_ADMIN"]},{name:"Staff",path:"/staff",icon:Jw,roles:["admin","DOCTOR","SUPER_ADMIN","ACCOUNTANT"]},{name:"Attendance",path:"/staff/attendance",icon:XY,roles:["admin","DOCTOR","SUPER_ADMIN","ACCOUNTANT"]},{name:"Leave",path:"/staff/leave",icon:VY,roles:["admin","DOCTOR","SUPER_ADMIN","ACCOUNTANT"]},{name:"Reports",path:"/reports",icon:UY,roles:["admin","doctor","accountant","DOCTOR","ACCOUNTANT","SUPER_ADMIN"]},{name:"Labs",path:"/labs",icon:MY,roles:["admin","doctor","lab_technician","DOCTOR","SUPER_ADMIN","ACCOUNTANT"]},{name:"Agents & Commissions",path:"/agents",icon:Jw,roles:["admin","accountant","DOCTOR","SUPER_ADMIN","ACCOUNTANT"]},{name:"Settings",path:"/settings",icon:SR,roles:["admin","DOCTOR","SUPER_ADMIN"]}],mX=[{name:"Admin Panel",path:"/admin",icon:wR,roles:["SUPER_ADMIN"]},{name:"All Clinics",path:"/admin/clinics",icon:jR,roles:["SUPER_ADMIN"]},{name:"All Users",path:"/admin/users",icon:Jw,roles:["SUPER_ADMIN"]}],gX=({collapsed:e,onToggle:t,mobileOpen:n,onMobileClose:r})=>{var T,k,O;const s=ds(),{user:i,activeViewUser:o,normalizeRole:l}=ri(),c=s.pathname.startsWith("/admin"),{data:u}=De({queryKey:["rolePermissions"],queryFn:()=>In.getRolePermissions(),staleTime:5*60*1e3,enabled:!!i&&!c}),d=((T=u==null?void 0:u.data)==null?void 0:T.data)||(u==null?void 0:u.data)||null,{data:f}=De({queryKey:["accessControls"],queryFn:()=>In.getAccessControls(),staleTime:5*60*1e3,enabled:!!i&&!c}),h=(f==null?void 0:f.data)||f||null,p=(o==null?void 0:o.role)||(i==null?void 0:i.role)||"DOCTOR",m=l?l(p):p.toString().toUpperCase(),g=(()=>{if(m!=="STAFF")return m;if(!d)return"DOCTOR";const I=Object.prototype.hasOwnProperty.call(d,"STAFF"),M=Object.prototype.hasOwnProperty.call(d,"DOCTOR");return!I&&M?"DOCTOR":"STAFF"})(),x=(i==null?void 0:i.role)==="SUPER_ADMIN"||(i==null?void 0:i.isClinicAdmin)===!0||(i==null?void 0:i.clinicRole)==="ADMIN"||(i==null?void 0:i.isOwner)===!0;o&&(o.role==="SUPER_ADMIN"||o.isClinicAdmin===!0||o.clinicRole==="ADMIN"||o.isOwner);const y=!!(o&&o.id&&i&&o.id!==i.id),{data:v}=De({queryKey:["clinic-settings"],queryFn:()=>In.getClinicSettings(),staleTime:5*60*1e3,enabled:!c&&m!=="SUPER_ADMIN"}),b=(v==null?void 0:v.clinicName)||"Docsy",{data:j}=De({queryKey:["dashboard-stats-sidebar"],queryFn:()=>Bc.getStats(),staleTime:6e4,refetchInterval:6e4,enabled:!c}),w=((O=(k=j==null?void 0:j.data)==null?void 0:k.appointments)==null?void 0:O.total)||0,S={"/dashboard":"dashboard:read","/patients":"patients:read","/appointments":"appointments:read","/prescriptions":"prescriptions:read","/pharmacy":"pharmacy:read","/ledger":"ledger:read","/billing":"billing:read","/staff":"staff:read","/staff/attendance":"staff:read","/staff/leave":"leaves:read","/reports":"reports:opd","/settings":"settings:clinic","/labs-agents":"labs:read","/labs":"labs:read","/agents":"agents:read"},P=x&&!y||(i==null?void 0:i.role)==="SUPER_ADMIN",A=pX.filter(I=>{const M=fe=>{const Z=String(fe||"").trim().toLowerCase();return Z?Z.startsWith("leader")?Z.replace(/^leader/,"ledger"):Z:""},E=Array.isArray(h==null?void 0:h.disabledPermissions)?h.disabledPermissions:[],_=new Set(E.map(M).filter(Boolean)),L=S[I.path],R=String(L||"").toLowerCase(),F=R.split(":")[0];if((R&&(_.has(R)||_.has(F)||_.has(`${F}:*`))||_.has("*"))&&m!=="SUPER_ADMIN")return!1;if(P)return!0;const q=I.roles.some(fe=>fe.toString().toUpperCase()===g),G=m,H=L,J=d?d[G]?G:d[g]?g:G:G,ce=d&&d[J];return d?H?!Array.isArray(ce)||ce.length===0?!1:ce.includes(H):q:H?!1:q}),C=`
    fixed top-0 left-0 h-full bg-white shadow-xl z-50
    transition-all duration-300 ease-in-out
    ${n?"translate-x-0":"-translate-x-full"}
    lg:translate-x-0
    ${e?"lg:w-20":"lg:w-64"}
    w-64
  `;return a.jsx("aside",{className:C,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[!e&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 ${c?"bg-purple-600":"bg-blue-600"} rounded-lg flex items-center justify-center`,children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),a.jsx("span",{className:"text-xl font-bold text-gray-800",children:c?"Admin Panel":b})]}),e&&a.jsx("div",{className:`w-10 h-10 ${c?"bg-purple-600":"bg-blue-600"} rounded-lg flex items-center justify-center mx-auto`,children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),a.jsx("button",{onClick:r,className:"p-2 rounded-md hover:bg-gray-100 lg:hidden",children:a.jsx(AR,{className:"h-5 w-5 text-gray-600"})})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:c&&m==="SUPER_ADMIN"?a.jsxs(a.Fragment,{children:[a.jsx("ul",{className:"space-y-1 px-3",children:mX.map(I=>{const M=I.icon,E=s.pathname===I.path||I.path!=="/admin"&&s.pathname.startsWith(I.path);return a.jsx("li",{children:a.jsxs(Lm,{to:I.path,onClick:r,className:`
                          flex items-center px-3 py-2.5 rounded-lg transition-colors duration-200
                          ${E?"bg-purple-50 text-purple-600 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                          ${e?"justify-center":""}
                        `,title:e?I.name:"",children:[a.jsx(M,{className:`h-5 w-5 flex-shrink-0 ${E?"text-purple-600":"text-gray-400"}`}),!e&&a.jsx("span",{className:"ml-3",children:I.name})]})},I.path)})}),!e&&a.jsx("div",{className:"px-3 mt-4 mb-2",children:a.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Switch View"})}),e&&a.jsx("div",{className:"border-t border-gray-200 my-2 mx-3"}),a.jsx("ul",{className:"space-y-1 px-3",children:a.jsx("li",{children:a.jsxs(Lm,{to:"/dashboard",onClick:r,className:`
                      flex items-center px-3 py-2.5 rounded-lg transition-colors duration-200
                      text-gray-600 hover:bg-gray-50 hover:text-gray-900
                      ${e?"justify-center":""}
                    `,title:e?"Clinic Dashboard":"",children:[a.jsx(PR,{className:"h-5 w-5 flex-shrink-0 text-gray-400"}),!e&&a.jsx("span",{className:"ml-3",children:"Clinic Dashboard"})]})})})]}):a.jsxs(a.Fragment,{children:[a.jsx("ul",{className:"space-y-1 px-3",children:A.map(I=>{const M=I.icon,E=s.pathname===I.path||I.path!=="/dashboard"&&s.pathname.startsWith(I.path)&&!s.pathname.startsWith("/admin");return a.jsx("li",{children:a.jsxs(Lm,{to:I.path,onClick:r,className:`
                          flex items-center px-3 py-2.5 rounded-lg transition-colors duration-200
                          ${E?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                          ${e?"justify-center":""}
                        `,title:e?I.name:"",children:[a.jsx(M,{className:`h-5 w-5 flex-shrink-0 ${E?"text-blue-600":"text-gray-400"}`}),!e&&a.jsx("span",{className:"ml-3",children:I.name})]})},I.path)})}),m==="SUPER_ADMIN"&&a.jsxs(a.Fragment,{children:[!e&&a.jsx("div",{className:"px-3 mt-4 mb-2",children:a.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Administration"})}),e&&a.jsx("div",{className:"border-t border-gray-200 my-2 mx-3"}),a.jsx("ul",{className:"space-y-1 px-3",children:a.jsx("li",{children:a.jsxs(Lm,{to:"/admin",onClick:r,className:`
                          flex items-center px-3 py-2.5 rounded-lg transition-colors duration-200
                          text-gray-600 hover:bg-purple-50 hover:text-purple-600
                          ${e?"justify-center":""}
                        `,title:e?"Admin Panel":"",children:[a.jsx(wR,{className:"h-5 w-5 flex-shrink-0 text-gray-400"}),!e&&a.jsx("span",{className:"ml-3",children:"Admin Panel"})]})})})]})]})}),!e&&!c&&a.jsxs("div",{className:"p-4 border-t border-gray-200",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Today's OPD"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w}),a.jsx("p",{className:"text-xs text-gray-500",children:"patients"})]}),a.jsx("div",{className:"mt-3",children:a.jsx("a",{href:"/pharmacy/upload",className:"w-full inline-flex items-center justify-center gap-2 bg-indigo-600 text-white px-3 py-2 rounded-lg hover:bg-indigo-700",children:"Upload Invoice"})})]}),a.jsx("div",{className:"hidden lg:block p-4 border-t border-gray-200",children:a.jsx("button",{onClick:t,className:"w-full flex items-center justify-center p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",children:e?a.jsx(NR,{className:"h-5 w-5 text-gray-600"}):a.jsxs(a.Fragment,{children:[a.jsx(KY,{className:"h-5 w-5 text-gray-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Collapse"})]})})})]})})},lr={getPatients:async(e={})=>(await ee.get("/patients",{params:e})).data,getPatient:async e=>{var r;const t=await ee.get(`/patients/${e}`),n=((r=t.data)==null?void 0:r.data)||t.data;return n&&{...n,allergies:typeof n.allergies=="string"?JSON.parse(n.allergies):n.allergies||[],medicalHistory:typeof n.medicalHistory=="string"?JSON.parse(n.medicalHistory):n.medicalHistory||[],dateOfBirth:n.dateOfBirth||null,insurance:n.insurance||null}},createPatient:async e=>(await ee.post("/patients",e)).data,updatePatient:async(e,t)=>(await ee.put(`/patients/${e}`,t)).data,deletePatient:async e=>(await ee.delete(`/patients/${e}`)).data,addVitals:async(e,t)=>(await ee.post(`/patients/${e}/vitals`,t)).data,getHistory:async(e,t={})=>{var r;const n=await ee.get(`/patients/${e}/history`,{params:t});return((r=n.data)==null?void 0:r.data)||n.data},getVitals:async(e,t={})=>{var r;const n=await ee.get(`/patients/${e}/vitals`,{params:t});return((r=n.data)==null?void 0:r.data)||n.data},getBills:async(e,t={})=>{var r;const n=await ee.get(`/patients/${e}/bills`,{params:t});return((r=n.data)==null?void 0:r.data)||n.data},getRecent:async(e=5)=>{var n;return((n=(await ee.get("/patients",{params:{limit:e,sortBy:"createdAt",sortOrder:"desc"}})).data)==null?void 0:n.data)||[]}};lr.getAll=lr.getPatients;lr.getById=lr.getPatient;const Tr={getLabs:async(e={})=>(await ee.get("/labs-agents/labs",{params:e})).data,getLabById:async e=>(await ee.get(`/labs-agents/labs/${e}`)).data,createLab:async e=>(await ee.post("/labs-agents/labs",e)).data,updateLab:async(e,t)=>(await ee.put(`/labs-agents/labs/${e}`,t)).data,deleteLab:async e=>(await ee.delete(`/labs-agents/labs/${e}`)).data,getAgents:async(e={})=>(await ee.get("/labs-agents/agents",{params:e})).data,getAgentById:async e=>(await ee.get(`/labs-agents/agents/${e}`)).data,createAgent:async e=>(await ee.post("/labs-agents/agents",e)).data,updateAgent:async(e,t)=>(await ee.put(`/labs-agents/agents/${e}`,t)).data,deleteAgent:async e=>(await ee.delete(`/labs-agents/agents/${e}`)).data,getCommissions:async(e={})=>(await ee.get("/labs-agents/commissions",{params:e})).data,getCommissionById:async e=>(await ee.get(`/labs-agents/commissions/${e}`)).data,createCommission:async e=>(await ee.post("/labs-agents/commissions",e)).data,updateCommission:async(e,t)=>(await ee.put(`/labs-agents/commissions/${e}`,t)).data,markCommissionPaid:async(e,t)=>(await ee.patch(`/labs-agents/commissions/${e}/pay`,t)).data,getCommissionSummary:async(e={})=>(await ee.get("/labs-agents/commissions/summary",{params:e})).data,getLabTests:async(e,t={})=>(await ee.get(`/labs-agents/labs/${e}/tests`,{params:t})).data,createLabTest:async(e,t)=>(await ee.post(`/labs-agents/labs/${e}/tests`,t)).data,updateLabTest:async(e,t,n)=>(await ee.put(`/labs-agents/labs/${e}/tests/${t}`,n)).data,deleteLabTest:async(e,t)=>(await ee.delete(`/labs-agents/labs/${e}/tests/${t}`)).data},Gn={getAll:async(e={})=>{const n=(await ee.get("/staff",{params:e})).data,r=s=>s.map(i=>{const o=i.user||(i.email||i.role?{id:i.userId||i.id||null,email:i.email||i.user&&i.user.email||"",role:i.role||i.user&&i.user.role||"STAFF",name:i.name||i.user&&i.user.name||""}:null);return{...i,user:o}});return Array.isArray(n)?r(n):n&&Array.isArray(n.data)?{...n,data:r(n.data)}:n},getById:async e=>(await ee.get(`/staff/${e}`)).data,create:async e=>(await ee.post("/staff",e)).data,update:async(e,t)=>(await ee.put(`/staff/${e}`,t)).data,deactivate:async e=>(await ee.patch(`/staff/${e}/deactivate`)).data,activate:async e=>(await ee.patch(`/staff/${e}/activate`)).data,getAttendance:async(e={})=>(await ee.get("/staff/attendance",{params:e})).data,markAttendance:async e=>(await ee.post("/staff/attendance",e)).data,updateAttendance:async(e,t)=>(await ee.put(`/staff/attendance/${e}`,t)).data,getAttendanceSummary:async(e={})=>(await ee.get("/staff/attendance/summary",{params:e})).data,getLeaves:async(e={})=>(await ee.get("/staff/leaves",{params:e})).data,applyLeave:async e=>(await ee.post("/staff/leaves",e)).data,updateLeaveStatus:async(e,t)=>(await ee.put(`/staff/leaves/${e}`,t)).data,getDepartments:async()=>(await ee.get("/staff/departments")).data,getDesignations:async()=>(await ee.get("/staff/designations")).data,assignToDoctor:async(e,t)=>(await ee.post(`/staff/${e}/assign-doctor`,{doctorId:t})).data,unassignFromDoctor:async(e,t)=>(await ee.delete(`/staff/${e}/assign-doctor`,{data:{doctorId:t}})).data},_4="app_header_notifications_v1",CR="app-header-notifications-updated",xX=30;function yX(e){if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}}function Um(){return typeof window>"u"?[]:yX(window.localStorage.getItem(_4))}function Hm(e){if(typeof window>"u")return;const t=(Array.isArray(e)?e:[]).slice(0,xX);window.localStorage.setItem(_4,JSON.stringify(t)),window.dispatchEvent(new CustomEvent(CR))}const Af={storageKey:_4,updateEvent:CR,list(){return Um()},add(e){const t=new Date().toISOString(),n=(e==null?void 0:e.id)||`notif-${Date.now()}`,r={id:n,title:(e==null?void 0:e.title)||"Notification",message:(e==null?void 0:e.message)||"",path:(e==null?void 0:e.path)||null,unread:(e==null?void 0:e.unread)!==!1,type:(e==null?void 0:e.type)||"info",createdAt:(e==null?void 0:e.createdAt)||t,source:(e==null?void 0:e.source)||"local"},i=Um().filter(o=>o.id!==n);return Hm([r,...i]),r},remove(e){const t=Um();Hm(t.filter(n=>n.id!==e))},markRead(e){const t=Um();Hm(t.map(n=>n.id===e?{...n,unread:!1}:n))},clearAll(){Hm([])}},vX=({onMenuClick:e})=>{var je,be,_e;const[t,n]=N.useState(""),[r,s]=N.useState(!1),[i,o]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState([]),f=N.useRef(null),h=N.useRef(null),p=N.useRef(null),m=ds(),g=Qn(),{user:x,logout:y,activeViewUser:v,setActiveViewUser:b,clearActiveViewUser:j}=ri();N.useEffect(()=>{console.log("DEBUG activeViewUser changed:",v,"currentUser:",x)},[v,x]);const{data:w}=De({queryKey:["dashboardAlerts",(v==null?void 0:v.id)||null],queryFn:()=>Bc.getAlerts((v==null?void 0:v.id)||null),refetchInterval:6e4}),S=(((je=w==null?void 0:w.data)==null?void 0:je.alerts)||[]).map((ne,Ne)=>({id:Ne+1,title:ne.title,message:ne.message,time:"Just now",unread:!0,type:ne.type}));(((be=w==null?void 0:w.data)==null?void 0:be.upcomingAppointments)||[]).forEach((ne,Ne)=>{var Ce;S.push({id:100+Ne,title:"Upcoming Appointment",message:`${(Ce=ne.patient)==null?void 0:Ce.name} at ${ne.timeSlot||"scheduled"}`,time:"Today",unread:!0})});const C=[...(u||[]).map(ne=>({...ne,time:ne!=null&&ne.createdAt?new Date(ne.createdAt).toLocaleString():"Just now"})),...S],T=C.filter(ne=>ne.unread).length,k=()=>{const ne=m.pathname.split("/").filter(Boolean);return ne.map((Ne,Ce)=>({name:Ne.charAt(0).toUpperCase()+Ne.slice(1).replace(/-/g," "),path:"/"+ne.slice(0,Ce+1).join("/"),isLast:Ce===ne.length-1}))},[O,I]=N.useState(k()),M=O;N.useEffect(()=>{let ne=!0;const Ne=m.pathname.split("/").filter(Boolean),Ce=k();return I(Ce),(async()=>{var ze,U;try{for(let X=0;X<Ne.length;X++){const V=Ne[X],le=Ne[X-1];if(V){if(le==="patients")try{const re=await lr.getById(V),K=(re==null?void 0:re.name)||((ze=re==null?void 0:re.data)==null?void 0:ze.name)||(re==null?void 0:re.data);K&&ne&&I(de=>de.map((Ae,Oe)=>Oe===X?{...Ae,name:K}:Ae))}catch{}if(le==="labs-agents")try{const re=await Tr.getLabById(V),K=((U=re==null?void 0:re.data)==null?void 0:U.name)||(re==null?void 0:re.name);K&&ne&&I(de=>de.map((Ae,Oe)=>Oe===X?{...Ae,name:K}:Ae))}catch{}}}}catch(X){console.error("Breadcrumb name resolution error",X)}})(),()=>{ne=!1}},[m.pathname]);const E=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),_=[{name:"New Patient",path:"/patients?action=new",icon:lA,key:"patients"},{name:"New Appointment",path:"/appointments?action=new",icon:zm,key:"appointments"},{name:"New Prescription",path:"/prescriptions/new",icon:zm,key:"prescriptions"},{name:"New Invoice",path:"/billing/new",icon:zm,key:"billing"}],L=tt("patients:create",["SUPER_ADMIN","DOCTOR","RECEPTIONIST"]),R=tt("appointments:create",["SUPER_ADMIN","DOCTOR","RECEPTIONIST"]),F=tt("prescriptions:create",["SUPER_ADMIN","DOCTOR"]),W=tt("billing:create",["SUPER_ADMIN","DOCTOR","ACCOUNTANT"]),q=_.filter(ne=>ne.key==="patients"?L:ne.key==="appointments"?R:ne.key==="prescriptions"?F:ne.key==="billing"?W:!0);N.useEffect(()=>{const ne=Ne=>{f.current&&!f.current.contains(Ne.target)&&s(!1),h.current&&!h.current.contains(Ne.target)&&o(!1),p.current&&!p.current.contains(Ne.target)&&c(!1)};return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[]),N.useEffect(()=>{const ne=()=>{d(Af.list())};return ne(),window.addEventListener(Af.updateEvent,ne),window.addEventListener("storage",ne),()=>{window.removeEventListener(Af.updateEvent,ne),window.removeEventListener("storage",ne)}},[]);const G=async()=>{await y(),g("/login")},H=(x==null?void 0:x.isClinicAdmin)===!0||(x==null?void 0:x.role)==="SUPER_ADMIN"||(x==null?void 0:x.clinicRole)==="ADMIN"||(x==null?void 0:x.isOwner)===!0,J=ne=>{if(!ne)return"STAFF";const Ne=ne.toString().toLowerCase();return Ne.includes("super")?"SUPER_ADMIN":Ne.includes("doctor")?"DOCTOR":Ne.includes("pharm")?"PHARMACIST":Ne.includes("recept")||Ne.includes("reception")?"RECEPTIONIST":Ne.includes("account")?"ACCOUNTANT":Ne.includes("nurse")?"NURSE":Ne.includes("lab")?"LAB_TECHNICIAN":Ne.toUpperCase()},ce=ne=>{var Ce,ze;if(!ne)return"STAFF";const Ne=[ne.designation,ne.department,ne.role,(Ce=ne.user)==null?void 0:Ce.role,(ze=ne.user)==null?void 0:ze.designation];for(const U of Ne){if(!U)continue;const X=U.toString().toLowerCase();if(X.includes("pharm"))return"PHARMACIST";if(X.includes("doctor"))return"DOCTOR";if(X.includes("recept")||X.includes("reception"))return"RECEPTIONIST";if(X.includes("account"))return"ACCOUNTANT";if(X.includes("nurse"))return"NURSE";if(X.includes("lab"))return"LAB_TECHNICIAN"}return"STAFF"},fe=ln(),Z=()=>{fe.invalidateQueries({queryKey:["dashboardStats"]}),fe.invalidateQueries({queryKey:["dashboardCharts"]}),fe.invalidateQueries({queryKey:["dashboardAlerts"]}),fe.invalidateQueries({queryKey:["patients"]}),fe.invalidateQueries({queryKey:["prescriptions"]}),fe.invalidateQueries({queryKey:["appointments"]})},{data:he}=De({queryKey:["clinicStaff"],queryFn:()=>Gn.getAll({limit:200}),enabled:!!x&&H}),$=Array.isArray(he)?he:(he==null?void 0:he.data)||[],oe=async ne=>{var ze,U;const Ne=ne.target.value;if(!Ne){localStorage.removeItem("impersonationToken"),localStorage.setItem("impersonationActive","false"),j(),Z();return}if((x==null?void 0:x.isClinicAdmin)===!0||(x==null?void 0:x.role)==="SUPER_ADMIN"){const X=$.find(V=>V.user&&V.user.id===Ne||V.id===Ne);if(X){const V=X.user||{id:X.id,name:X.name,role:X.role,email:X.email};let le=V.role;(!le||le==="STAFF")&&(le=ce(X));const re={...V,role:J(le)};localStorage.removeItem("impersonationToken"),localStorage.setItem("impersonationActive","false"),b(re),Z()}else try{const V=await Gn.getById(Ne),le=((ze=V==null?void 0:V.data)==null?void 0:ze.user)||(V==null?void 0:V.data)||{id:Ne};let re=le.role;(!re||re==="STAFF")&&((U=V==null?void 0:V.data)!=null&&U.designation)&&(re=V.data.designation);const K={...le,role:J(re)};localStorage.removeItem("impersonationToken"),localStorage.setItem("impersonationActive","false"),b(K),Z()}catch(V){console.error("Failed to fetch staff for view-as:",V)}return}try{const X=await Xs.impersonate(Ne);localStorage.setItem("impersonationToken",X.token),localStorage.setItem("impersonationActive","true");const V=X.user||X;b({...V,role:J(V.role)}),Z()}catch(X){const V=$.find(le=>le.user&&le.user.id===Ne||le.id===Ne);if(V){const le=V.user||{id:V.id,name:V.name,role:V.role};let re=le.role;(!re||re==="STAFF")&&(re=ce(V)),b({...le,role:J(re)}),Z()}console.error("Impersonation failed:",X)}},D=async()=>{try{localStorage.removeItem("impersonationToken"),localStorage.setItem("impersonationActive","false");try{await Xs.stopImpersonation()}catch{}}finally{j(),Z()}},Y=ne=>{ne.preventDefault(),t.trim()&&(g(`/patients?search=${encodeURIComponent(t)}`),n(""))},se=ne=>{ne&&(ne.source==="local"&&ne.id&&Af.remove(ne.id),ne.path&&g(ne.path),s(!1))};return a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-30",children:a.jsxs("div",{className:"px-4 md:px-6 lg:px-8",children:[v&&v.id&&v.id!==(x==null?void 0:x.id)&&a.jsxs("div",{className:"bg-yellow-50 border-b border-yellow-200 text-yellow-800 px-3 py-2 text-sm flex items-center justify-between",children:[a.jsxs("div",{children:["Viewing as: ",a.jsx("strong",{className:"text-yellow-900",children:v.name||v.email})," ",a.jsxs("span",{className:"text-xs text-gray-600",children:["(",v.role||"Staff",")"]})]}),a.jsx("div",{children:a.jsx("button",{onClick:D,className:"ml-2 inline-flex items-center px-3 py-1 bg-white border border-yellow-300 rounded text-sm text-yellow-900 hover:bg-yellow-100",children:"Stop viewing"})})]}),a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex-1 min-w-0 hidden md:block",children:[a.jsxs("nav",{className:"flex items-center space-x-1 text-sm",children:[a.jsx(Be,{to:"/",className:"text-gray-500 hover:text-gray-700",children:"Home"}),M.map(ne=>a.jsxs("span",{className:"flex items-center",children:[a.jsx(NR,{className:"h-4 w-4 text-gray-400 mx-1"}),ne.isLast?a.jsx("span",{className:"text-gray-900 font-medium",children:ne.name}):a.jsx(Be,{to:ne.path,className:"text-gray-500 hover:text-gray-700",children:ne.name})]},ne.path))]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E})]}),a.jsx("div",{className:"flex-1 max-w-md mx-4",children:a.jsxs("form",{onSubmit:Y,className:"relative",children:[a.jsx(oX,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search patients, appointments...",value:t,onChange:ne=>n(ne.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[H&&m.pathname.startsWith("/dashboard")&&a.jsx("div",{className:"hidden sm:block",children:a.jsxs("select",{value:(v==null?void 0:v.id)||"",onChange:oe,className:"border rounded-md px-2 py-1 text-sm",children:[a.jsx("option",{value:"",children:"Admin clinic"}),$.filter(ne=>{var Ne;return(((Ne=ne.user)==null?void 0:Ne.id)||ne.id)!==(x==null?void 0:x.id)}).map(ne=>{var X,V,le;const Ne=((X=ne.user)==null?void 0:X.name)||ne.name||"Unknown",ze=(ne.user&&ne.user.role||ne.role||"STAFF").toLowerCase().replace(/_/g," "),U=`${Ne} - ${ze.charAt(0).toUpperCase()+ze.slice(1)}`;return a.jsx("option",{value:((V=ne.user)==null?void 0:V.id)||ne.id,children:U},((le=ne.user)==null?void 0:le.id)||ne.id)})]})}),a.jsxs("div",{ref:p,className:"relative hidden md:block",children:[a.jsxs("button",{onClick:()=>c(!l),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[a.jsx(zm,{className:"h-5 w-5 mr-1"}),"Quick Action"]}),l&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:q.map(ne=>a.jsxs(Be,{to:ne.path,onClick:()=>c(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[a.jsx(ne.icon,{className:"h-4 w-4 mr-2 text-gray-500"}),ne.name]},ne.path))})]}),a.jsxs("div",{ref:f,className:"relative",children:[a.jsxs("button",{onClick:()=>s(!r),className:"relative p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(RY,{className:"h-6 w-6"}),T>0&&a.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:T})]}),r&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:a.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notifications"})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:C.length>0?C.map(ne=>a.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0 ${ne.unread?"bg-blue-50/50":""}`,onClick:()=>se(ne),children:a.jsxs("div",{className:"flex items-start",children:[ne.unread&&a.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5 mr-2 flex-shrink-0"}),a.jsxs("div",{className:ne.unread?"":"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:ne.title}),a.jsx("p",{className:"text-sm text-gray-500",children:ne.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:ne.time})]})]})},ne.id)):a.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:"No notifications"})}),a.jsx("div",{className:"px-4 py-3 border-t border-gray-200",children:a.jsx(Be,{to:"/dashboard",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:()=>s(!1),children:"View all notifications"})})]})]}),a.jsxs("div",{ref:h,className:"relative",children:[a.jsxs("button",{onClick:()=>o(!i),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[x.avatar?a.jsx("img",{src:x.avatar,alt:x.name,className:"w-8 h-8 rounded-full object-cover"}):a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:((_e=x==null?void 0:x.name)==null?void 0:_e.split(" ").map(ne=>ne[0]).join(""))||"U"})}),a.jsxs("div",{className:"hidden md:block text-left",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:(x==null?void 0:x.name)||"User"}),a.jsx("p",{className:"text-xs text-gray-500",children:(x==null?void 0:x.role)||"Staff"})]}),a.jsx(WY,{className:"h-4 w-4 text-gray-500 hidden md:block"})]}),i&&a.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 md:hidden",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:(x==null?void 0:x.name)||"User"}),a.jsx("p",{className:"text-xs text-gray-500",children:(x==null?void 0:x.role)||"Staff"})]}),a.jsxs(Be,{to:"/profile",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[a.jsx(lA,{className:"h-4 w-4 mr-2 text-gray-500"}),"Profile"]}),a.jsxs(Be,{to:"/settings",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[a.jsx(SR,{className:"h-4 w-4 mr-2 text-gray-500"}),"Settings"]}),a.jsx("hr",{className:"my-1"}),a.jsxs("button",{onClick:G,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(kY,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]})]})})},T4=N.createContext({});function E4(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const Yy=N.createContext(null),M4=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class bX extends N.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function wX({children:e,isPresent:t}){const n=N.useId(),r=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=N.useContext(M4);return N.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),a.jsx(bX,{isPresent:t,childRef:r,sizeRef:s,children:N.cloneElement(e,{ref:r})})}const jX=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=E4(NX),c=N.useId(),u=N.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;r&&r()},[l,r]),d=N.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),u]:[n,u]);return N.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),N.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(wX,{isPresent:n,children:e})),a.jsx(Yy.Provider,{value:d,children:e})};function NX(){return new Map}function OR(e=!0){const t=N.useContext(Yy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=N.useId();N.useEffect(()=>{e&&s(i)},[e]);const o=N.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Wm=e=>e.key||"";function cA(e){const t=[];return N.Children.forEach(e,n=>{N.isValidElement(n)&&t.push(n)}),t}const D4=typeof window<"u",kR=D4?N.useLayoutEffect:N.useEffect,SX=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=OR(o),u=N.useMemo(()=>cA(e),[e]),d=o&&!l?[]:u.map(Wm),f=N.useRef(!0),h=N.useRef(u),p=E4(()=>new Map),[m,g]=N.useState(u),[x,y]=N.useState(u);kR(()=>{f.current=!1,h.current=u;for(let j=0;j<x.length;j++){const w=Wm(x[j]);d.includes(w)?p.delete(w):p.get(w)!==!0&&p.set(w,!1)}},[x,d.length,d.join("-")]);const v=[];if(u!==m){let j=[...u];for(let w=0;w<x.length;w++){const S=x[w],P=Wm(S);d.includes(P)||(j.splice(w,0,S),v.push(S))}i==="wait"&&v.length&&(j=v),y(cA(j)),g(u);return}const{forceRender:b}=N.useContext(T4);return a.jsx(a.Fragment,{children:x.map(j=>{const w=Wm(j),S=o&&!l?!1:u===x||d.includes(w),P=()=>{if(p.has(w))p.set(w,!0);else return;let A=!0;p.forEach(C=>{C||(A=!1)}),A&&(b==null||b(),y(h.current),o&&(c==null||c()),r&&r())};return a.jsx(jX,{isPresent:S,initial:!f.current||n?void 0:!1,custom:S?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:S?void 0:P,children:j},w)})})},rs=e=>e;let _R=rs;function R4(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ru=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},oa=e=>e*1e3,la=e=>e/1e3,PX={useManualTiming:!1};function AX(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const p=f&&r?t:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const qm=["read","resolveKeyframes","update","preRender","render","postRender"],CX=40;function TR(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=qm.reduce((y,v)=>(y[v]=AX(i),y),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,p=()=>{const y=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,CX),1),s.timestamp=y,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},m=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:qm.reduce((y,v)=>{const b=o[v];return y[v]=(j,w=!1,S=!1)=>(n||m(),b.schedule(j,w,S)),y},{}),cancel:y=>{for(let v=0;v<qm.length;v++)o[qm[v]].cancel(y)},state:s,steps:o}}const{schedule:Ht,cancel:Oo,state:Hn,steps:a1}=TR(typeof requestAnimationFrame<"u"?requestAnimationFrame:rs,!0),ER=N.createContext({strict:!1}),uA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Iu={};for(const e in uA)Iu[e]={isEnabled:t=>uA[e].some(n=>!!t[n])};function OX(e){for(const t in e)Iu[t]={...Iu[t],...e[t]}}const kX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function L0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kX.has(e)}let MR=e=>!L0(e);function _X(e){e&&(MR=t=>t.startsWith("on")?!L0(t):e(t))}try{_X(require("@emotion/is-prop-valid").default)}catch{}function TX(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(MR(s)||n===!0&&L0(s)||!t&&!L0(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function EX(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Xy=N.createContext({});function Ih(e){return typeof e=="string"||Array.isArray(e)}function Qy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const I4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$4=["initial",...I4];function Jy(e){return Qy(e.animate)||$4.some(t=>Ih(e[t]))}function DR(e){return!!(Jy(e)||e.variants)}function MX(e,t){if(Jy(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ih(n)?n:void 0,animate:Ih(r)?r:void 0}}return e.inherit!==!1?t:{}}function DX(e){const{initial:t,animate:n}=MX(e,N.useContext(Xy));return N.useMemo(()=>({initial:t,animate:n}),[dA(t),dA(n)])}function dA(e){return Array.isArray(e)?e.join(" "):e}const RX=Symbol.for("motionComponentSymbol");function Vc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function IX(e,t,n){return N.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Vc(n)&&(n.current=r))},[t])}const L4=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$X="framerAppearId",RR="data-"+L4($X),{schedule:F4}=TR(queueMicrotask,!1),IR=N.createContext({});function LX(e,t,n,r,s){var i,o;const{visualElement:l}=N.useContext(Xy),c=N.useContext(ER),u=N.useContext(Yy),d=N.useContext(M4).reducedMotion,f=N.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=N.useContext(IR);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&FX(f.current,n,s,p);const m=N.useRef(!1);N.useInsertionEffect(()=>{h&&m.current&&h.update(n,u)});const g=n[RR],x=N.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return kR(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),F4.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),N.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),x.current=!1))}),h}function FX(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:$R(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Vc(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function $R(e){if(e)return e.options.allowProjection!==!1?e.projection:$R(e.parent)}function BX({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&OX(e);function l(u,d){let f;const h={...N.useContext(M4),...u,layoutId:VX(u)},{isStatic:p}=h,m=DX(u),g=r(u,p);if(!p&&D4){zX();const x=UX(h);f=x.MeasureLayout,m.visualElement=LX(s,g,h,t,x.ProjectionNode)}return a.jsxs(Xy.Provider,{value:m,children:[f&&m.visualElement?a.jsx(f,{visualElement:m.visualElement,...h}):null,n(s,u,IX(g,m.visualElement,d),g,p,m.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=N.forwardRef(l);return c[RX]=s,c}function VX({layoutId:e}){const t=N.useContext(T4).id;return t&&e!==void 0?t+"-"+e:e}function zX(e,t){N.useContext(ER).strict}function UX(e){const{drag:t,layout:n}=Iu;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const HX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function B4(e){return typeof e!="string"||e.includes("-")?!1:!!(HX.indexOf(e)>-1||/[A-Z]/u.test(e))}function fA(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function V4(e,t,n,r){if(typeof t=="function"){const[s,i]=fA(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=fA(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const Zw=e=>Array.isArray(e),WX=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),qX=e=>Zw(e)?e[e.length-1]||0:e,dr=e=>!!(e&&e.getVelocity);function Yg(e){const t=dr(e)?e.get():e;return WX(t)?t.toValue():t}function KX({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:GX(r,s,i,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const LR=e=>(t,n)=>{const r=N.useContext(Xy),s=N.useContext(Yy),i=()=>KX(e,t,r,s);return n?i():E4(i)};function GX(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Yg(i[h]);let{initial:o,animate:l}=e;const c=Jy(e),u=DR(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!Qy(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const m=V4(e,h[p]);if(m){const{transitionEnd:g,transition:x,...y}=m;for(const v in y){let b=y[v];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(s[v]=b)}for(const v in g)s[v]=g[v]}}}return s}const Pd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lc=new Set(Pd),FR=e=>t=>typeof t=="string"&&t.startsWith(e),BR=FR("--"),YX=FR("var(--"),z4=e=>YX(e)?XX.test(e.split("/*")[0].trim()):!1,XX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,VR=(e,t)=>t&&typeof e=="number"?t.transform(e):e,va=(e,t,n)=>n>t?t:n<e?e:n,Ad={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$h={...Ad,transform:e=>va(0,1,e)},Km={...Ad,default:1},Zp=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fa=Zp("deg"),ji=Zp("%"),Ke=Zp("px"),QX=Zp("vh"),JX=Zp("vw"),hA={...ji,parse:e=>ji.parse(e)/100,transform:e=>ji.transform(e*100)},ZX={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke},eQ={rotate:Fa,rotateX:Fa,rotateY:Fa,rotateZ:Fa,scale:Km,scaleX:Km,scaleY:Km,scaleZ:Km,skew:Fa,skewX:Fa,skewY:Fa,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:$h,originX:hA,originY:hA,originZ:Ke},pA={...Ad,transform:Math.round},U4={...ZX,...eQ,zIndex:pA,size:Ke,fillOpacity:$h,strokeOpacity:$h,numOctaves:pA},tQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nQ=Pd.length;function rQ(e,t,n){let r="",s=!0;for(let i=0;i<nQ;i++){const o=Pd[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=VR(l,U4[o]);if(!c){s=!1;const d=tQ[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function H4(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(lc.has(c)){o=!0;continue}else if(BR(c)){s[c]=u;continue}else{const d=VR(u,U4[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=rQ(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const sQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},iQ={offset:"strokeDashoffset",array:"strokeDasharray"};function aQ(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?sQ:iQ;e[i.offset]=Ke.transform(-r);const o=Ke.transform(t),l=Ke.transform(n);e[i.array]=`${o} ${l}`}function mA(e,t,n){return typeof e=="string"?e:Ke.transform(t+n*e)}function oQ(e,t,n){const r=mA(t,e.x,e.width),s=mA(n,e.y,e.height);return`${r} ${s}`}function W4(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(H4(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:m}=e;h.transform&&(m&&(p.transform=h.transform),delete h.transform),m&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=oQ(m,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&aQ(h,o,l,c,!1)}const q4=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zR=()=>({...q4(),attrs:{}}),K4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function UR(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const HR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WR(e,t,n,r){UR(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(HR.has(s)?s:L4(s),t.attrs[s])}const F0={};function lQ(e){Object.assign(F0,e)}function qR(e,{layout:t,layoutId:n}){return lc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!F0[e]||e==="opacity")}function G4(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(dr(s[o])||t.style&&dr(t.style[o])||qR(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function KR(e,t,n){const r=G4(e,t,n);for(const s in e)if(dr(e[s])||dr(t[s])){const i=Pd.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function cQ(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const gA=["x","y","width","height","cx","cy","r"],uQ={useVisualState:LR({scrapeMotionValuesFromProps:KR,createRenderState:zR,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in s)if(lc.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<gA.length;l++){const c=gA[l];e[c]!==t[c]&&(o=!0)}o&&Ht.read(()=>{cQ(n,r),Ht.render(()=>{W4(r,s,K4(n.tagName),e.transformTemplate),WR(n,r)})})}})},dQ={useVisualState:LR({scrapeMotionValuesFromProps:G4,createRenderState:q4})};function GR(e,t,n){for(const r in t)!dr(t[r])&&!qR(r,n)&&(e[r]=t[r])}function fQ({transformTemplate:e},t){return N.useMemo(()=>{const n=q4();return H4(n,t,e),Object.assign({},n.vars,n.style)},[t])}function hQ(e,t){const n=e.style||{},r={};return GR(r,n,e),Object.assign(r,fQ(e,t)),r}function pQ(e,t){const n={},r=hQ(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function mQ(e,t,n,r){const s=N.useMemo(()=>{const i=zR();return W4(i,t,K4(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};GR(i,e.style,e),s.style={...i,...s.style}}return s}function gQ(e=!1){return(n,r,s,{latestValues:i},o)=>{const c=(B4(n)?mQ:pQ)(r,i,o,n),u=TX(r,typeof n=="string",e),d=n!==N.Fragment?{...u,...c,ref:s}:{},{children:f}=r,h=N.useMemo(()=>dr(f)?f.get():f,[f]);return N.createElement(n,{...d,children:h})}}function xQ(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...B4(r)?uQ:dQ,preloadedFeatures:e,useRender:gQ(s),createVisualElement:t,Component:r};return BX(o)}}function YR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Zy(e,t,n){const r=e.getProps();return V4(r,t,n!==void 0?n:r.custom,e)}const yQ=R4(()=>window.ScrollTimeline!==void 0);class vQ{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(yQ()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class bQ extends vQ{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Y4(e,t){return e?e[t]||e.default||e:void 0}const ej=2e4;function XR(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ej;)t+=n,r=e.next(t);return t>=ej?1/0:t}function X4(e){return typeof e=="function"}function xA(e,t){e.timeline=t,e.onfinish=null}const Q4=e=>Array.isArray(e)&&typeof e[0]=="number",wQ={linearEasing:void 0};function jQ(e,t){const n=R4(e);return()=>{var r;return(r=wQ[t])!==null&&r!==void 0?r:n()}}const B0=jQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),QR=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Ru(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function JR(e){return!!(typeof e=="function"&&B0()||!e||typeof e=="string"&&(e in tj||B0())||Q4(e)||Array.isArray(e)&&e.every(JR))}const Cf=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,tj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cf([0,.65,.55,1]),circOut:Cf([.55,0,1,.45]),backIn:Cf([.31,.01,.66,-.59]),backOut:Cf([.33,1.53,.69,.99])};function ZR(e,t){if(e)return typeof e=="function"&&B0()?QR(e,t):Q4(e)?Cf(e):Array.isArray(e)?e.map(n=>ZR(n,t)||tj.easeOut):tj[e]}const zs={x:!1,y:!1};function eI(){return zs.x||zs.y}function NQ(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function tI(e,t){const n=NQ(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function yA(e){return t=>{t.pointerType==="touch"||eI()||e(t)}}function SQ(e,t,n={}){const[r,s,i]=tI(e,n),o=yA(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=yA(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const nI=(e,t)=>t?e===t?!0:nI(e,t.parentElement):!1,J4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,PQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AQ(e){return PQ.has(e.tagName)||e.tabIndex!==-1}const Of=new WeakSet;function vA(e){return t=>{t.key==="Enter"&&e(t)}}function o1(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const CQ=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=vA(()=>{if(Of.has(n))return;o1(n,"down");const s=vA(()=>{o1(n,"up")}),i=()=>o1(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function bA(e){return J4(e)&&!eI()}function OQ(e,t,n={}){const[r,s,i]=tI(e,n),o=l=>{const c=l.currentTarget;if(!bA(l)||Of.has(c))return;Of.add(c);const u=t(l),d=(p,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!bA(p)||!Of.has(c))&&(Of.delete(c),typeof u=="function"&&u(p,{success:m}))},f=p=>{d(p,n.useGlobalTarget||nI(c,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(l=>{!AQ(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>CQ(u,s),s)}),i}function kQ(e){return e==="x"||e==="y"?zs[e]?null:(zs[e]=!0,()=>{zs[e]=!1}):zs.x||zs.y?null:(zs.x=zs.y=!0,()=>{zs.x=zs.y=!1})}const rI=new Set(["width","height","top","left","right","bottom",...Pd]);let Xg;function _Q(){Xg=void 0}const Ni={now:()=>(Xg===void 0&&Ni.set(Hn.isProcessing||PX.useManualTiming?Hn.timestamp:performance.now()),Xg),set:e=>{Xg=e,queueMicrotask(_Q)}};function Z4(e,t){e.indexOf(t)===-1&&e.push(t)}function e5(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class t5{constructor(){this.subscriptions=[]}add(t){return Z4(this.subscriptions,t),()=>e5(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function sI(e,t){return t?e*(1e3/t):0}const wA=30,TQ=e=>!isNaN(parseFloat(e));class EQ{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Ni.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ni.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=TQ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new t5);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ni.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>wA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wA);return sI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lh(e,t){return new EQ(e,t)}function MQ(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Lh(n))}function DQ(e,t){const n=Zy(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=qX(i[o]);MQ(e,o,l)}}function RQ(e){return!!(dr(e)&&e.add)}function nj(e,t){const n=e.getValue("willChange");if(RQ(n))return n.add(t)}function iI(e){return e.props[RR]}const aI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,IQ=1e-7,$Q=12;function LQ(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=aI(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>IQ&&++l<$Q);return o}function em(e,t,n,r){if(e===t&&n===r)return rs;const s=i=>LQ(i,0,1,e,n);return i=>i===0||i===1?i:aI(s(i),t,r)}const oI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lI=e=>t=>1-e(1-t),cI=em(.33,1.53,.69,.99),n5=lI(cI),uI=oI(n5),dI=e=>(e*=2)<1?.5*n5(e):.5*(2-Math.pow(2,-10*(e-1))),r5=e=>1-Math.sin(Math.acos(e)),fI=lI(r5),hI=oI(r5),pI=e=>/^0[^.\s]+$/u.test(e);function FQ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||pI(e):!0}const Qf=e=>Math.round(e*1e5)/1e5,s5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BQ(e){return e==null}const VQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i5=(e,t)=>n=>!!(typeof n=="string"&&VQ.test(n)&&n.startsWith(e)||t&&!BQ(n)&&Object.prototype.hasOwnProperty.call(n,t)),mI=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(s5);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},zQ=e=>va(0,255,e),l1={...Ad,transform:e=>Math.round(zQ(e))},fl={test:i5("rgb","red"),parse:mI("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+l1.transform(e)+", "+l1.transform(t)+", "+l1.transform(n)+", "+Qf($h.transform(r))+")"};function UQ(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const rj={test:i5("#"),parse:UQ,transform:fl.transform},zc={test:i5("hsl","hue"),parse:mI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ji.transform(Qf(t))+", "+ji.transform(Qf(n))+", "+Qf($h.transform(r))+")"},ir={test:e=>fl.test(e)||rj.test(e)||zc.test(e),parse:e=>fl.test(e)?fl.parse(e):zc.test(e)?zc.parse(e):rj.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?fl.transform(e):zc.transform(e)},HQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WQ(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(s5))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(HQ))===null||n===void 0?void 0:n.length)||0)>0}const gI="number",xI="color",qQ="var",KQ="var(",jA="${}",GQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fh(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(GQ,c=>(ir.test(c)?(r.color.push(i),s.push(xI),n.push(ir.parse(c))):c.startsWith(KQ)?(r.var.push(i),s.push(qQ),n.push(c)):(r.number.push(i),s.push(gI),n.push(parseFloat(c))),++i,jA)).split(jA);return{values:n,split:l,indexes:r,types:s}}function yI(e){return Fh(e).values}function vI(e){const{split:t,types:n}=Fh(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===gI?i+=Qf(s[o]):l===xI?i+=ir.transform(s[o]):i+=s[o]}return i}}const YQ=e=>typeof e=="number"?0:e;function XQ(e){const t=yI(e);return vI(e)(t.map(YQ))}const ko={test:WQ,parse:yI,createTransformer:vI,getAnimatableNone:XQ},QQ=new Set(["brightness","contrast","saturate","opacity"]);function JQ(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(s5)||[];if(!r)return e;const s=n.replace(r,"");let i=QQ.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const ZQ=/\b([a-z-]*)\(.*?\)/gu,sj={...ko,getAnimatableNone:e=>{const t=e.match(ZQ);return t?t.map(JQ).join(" "):e}},eJ={...U4,color:ir,backgroundColor:ir,outlineColor:ir,fill:ir,stroke:ir,borderColor:ir,borderTopColor:ir,borderRightColor:ir,borderBottomColor:ir,borderLeftColor:ir,filter:sj,WebkitFilter:sj},a5=e=>eJ[e];function bI(e,t){let n=a5(e);return n!==sj&&(n=ko),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tJ=new Set(["auto","none","0"]);function nJ(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!tJ.has(i)&&Fh(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=bI(n,s)}const NA=e=>e===Ad||e===Ke,SA=(e,t)=>parseFloat(e.split(", ")[t]),PA=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return SA(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?SA(i[1],e):0}},rJ=new Set(["x","y","z"]),sJ=Pd.filter(e=>!rJ.has(e));function iJ(e){const t=[];return sJ.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const $u={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:PA(4,13),y:PA(5,14)};$u.translateX=$u.x;$u.translateY=$u.y;const Ml=new Set;let ij=!1,aj=!1;function wI(){if(aj){const e=Array.from(Ml).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=iJ(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}aj=!1,ij=!1,Ml.forEach(e=>e.complete()),Ml.clear()}function jI(){Ml.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(aj=!0)})}function aJ(){jI(),wI()}class o5{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ml.add(this),ij||(ij=!0,Ht.read(jI),Ht.resolveKeyframes(wI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ml.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ml.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const NI=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),oJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lJ(e){const t=oJ.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function SI(e,t,n=1){const[r,s]=lJ(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return NI(o)?parseFloat(o):o}return z4(s)?SI(s,t,n+1):s}const PI=e=>t=>t.test(e),cJ={test:e=>e==="auto",parse:e=>e},AI=[Ad,Ke,ji,Fa,JX,QX,cJ],AA=e=>AI.find(PI(e));class CI extends o5{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),z4(u))){const d=SI(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!rI.has(r)||t.length!==2)return;const[s,i]=t,o=AA(s),l=AA(i);if(o!==l)if(NA(o)&&NA(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)FQ(t[s])&&r.push(s);r.length&&nJ(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$u[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=$u[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const CA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ko.test(e)||e==="0")&&!e.startsWith("url("));function uJ(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function dJ(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=CA(s,t),l=CA(i,t);return!o||!l?!1:uJ(e)||(n==="spring"||X4(n))&&r}const fJ=e=>e!==null;function ev(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(fJ),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const hJ=40;class OI{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ni.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>hJ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&aJ(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Ni.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!dJ(t,r,s,i))if(o)this.options.duration=0;else{c&&c(ev(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Xt=(e,t,n)=>e+(t-e)*n;function c1(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pJ({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=c1(c,l,e+1/3),i=c1(c,l,e),o=c1(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function V0(e,t){return n=>n>0?t:e}const u1=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},mJ=[rj,fl,zc],gJ=e=>mJ.find(t=>t.test(e));function OA(e){const t=gJ(e);if(!t)return!1;let n=t.parse(e);return t===zc&&(n=pJ(n)),n}const kA=(e,t)=>{const n=OA(e),r=OA(t);if(!n||!r)return V0(e,t);const s={...n};return i=>(s.red=u1(n.red,r.red,i),s.green=u1(n.green,r.green,i),s.blue=u1(n.blue,r.blue,i),s.alpha=Xt(n.alpha,r.alpha,i),fl.transform(s))},xJ=(e,t)=>n=>t(e(n)),tm=(...e)=>e.reduce(xJ),oj=new Set(["none","hidden"]);function yJ(e,t){return oj.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function vJ(e,t){return n=>Xt(e,t,n)}function l5(e){return typeof e=="number"?vJ:typeof e=="string"?z4(e)?V0:ir.test(e)?kA:jJ:Array.isArray(e)?kI:typeof e=="object"?ir.test(e)?kA:bJ:V0}function kI(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>l5(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function bJ(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=l5(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function wJ(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[o]++}return r}const jJ=(e,t)=>{const n=ko.createTransformer(t),r=Fh(e),s=Fh(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?oj.has(e)&&!s.values.length||oj.has(t)&&!r.values.length?yJ(e,t):tm(kI(wJ(r,s),s.values),n):V0(e,t)};function _I(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Xt(e,t,n):l5(e)(e,t)}const NJ=5;function TI(e,t,n){const r=Math.max(t-NJ,0);return sI(n-e(r),t-r)}const nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},d1=.001;function SJ({duration:e=nn.duration,bounce:t=nn.bounce,velocity:n=nn.velocity,mass:r=nn.mass}){let s,i,o=1-t;o=va(nn.minDamping,nn.maxDamping,o),e=va(nn.minDuration,nn.maxDuration,la(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-n,p=lj(u,o),m=Math.exp(-f);return d1-h/p*m},i=u=>{const f=u*o*e,h=f*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-f),g=lj(Math.pow(u,2),o);return(-s(u)+d1>0?-1:1)*((h-p)*m)/g}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-d1+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=AJ(s,i,l);if(e=oa(e),isNaN(c))return{stiffness:nn.stiffness,damping:nn.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const PJ=12;function AJ(e,t,n){let r=n;for(let s=1;s<PJ;s++)r=r-e(r)/t(r);return r}function lj(e,t){return e*Math.sqrt(1-t*t)}const CJ=["duration","bounce"],OJ=["stiffness","damping","mass"];function _A(e,t){return t.some(n=>e[n]!==void 0)}function kJ(e){let t={velocity:nn.velocity,stiffness:nn.stiffness,damping:nn.damping,mass:nn.mass,isResolvedFromDuration:!1,...e};if(!_A(e,OJ)&&_A(e,CJ))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*va(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:nn.mass,stiffness:s,damping:i}}else{const n=SJ(e);t={...t,...n,mass:nn.mass},t.isResolvedFromDuration=!0}return t}function EI(e=nn.visualDuration,t=nn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=kJ({...n,velocity:-la(n.velocity||0)}),m=h||0,g=u/(2*Math.sqrt(c*d)),x=o-i,y=la(Math.sqrt(c/d)),v=Math.abs(x)<5;r||(r=v?nn.restSpeed.granular:nn.restSpeed.default),s||(s=v?nn.restDelta.granular:nn.restDelta.default);let b;if(g<1){const w=lj(y,g);b=S=>{const P=Math.exp(-g*y*S);return o-P*((m+g*y*x)/w*Math.sin(w*S)+x*Math.cos(w*S))}}else if(g===1)b=w=>o-Math.exp(-y*w)*(x+(m+y*x)*w);else{const w=y*Math.sqrt(g*g-1);b=S=>{const P=Math.exp(-g*y*S),A=Math.min(w*S,300);return o-P*((m+g*y*x)*Math.sinh(A)+w*x*Math.cosh(A))/w}}const j={calculatedDuration:p&&f||null,next:w=>{const S=b(w);if(p)l.done=w>=f;else{let P=0;g<1&&(P=w===0?oa(m):TI(b,w,S));const A=Math.abs(P)<=r,C=Math.abs(o-S)<=s;l.done=A&&C}return l.value=l.done?o:S,l},toString:()=>{const w=Math.min(XR(j),ej),S=QR(P=>j.next(w*P).value,w,30);return w+"ms "+S}};return j}function TA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=A=>l!==void 0&&A<l||c!==void 0&&A>c,m=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let g=n*t;const x=f+g,y=o===void 0?x:o(x);y!==x&&(g=y-f);const v=A=>-g*Math.exp(-A/r),b=A=>y+v(A),j=A=>{const C=v(A),T=b(A);h.done=Math.abs(C)<=u,h.value=h.done?y:T};let w,S;const P=A=>{p(h.value)&&(w=A,S=EI({keyframes:[h.value,m(h.value)],velocity:TI(b,A,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:A=>{let C=!1;return!S&&w===void 0&&(C=!0,j(A),P(A)),w!==void 0&&A>=w?S.next(A-w):(!C&&j(A),h)}}}const _J=em(.42,0,1,1),TJ=em(0,0,.58,1),MI=em(.42,0,.58,1),EJ=e=>Array.isArray(e)&&typeof e[0]!="number",MJ={linear:rs,easeIn:_J,easeInOut:MI,easeOut:TJ,circIn:r5,circInOut:hI,circOut:fI,backIn:n5,backInOut:uI,backOut:cI,anticipate:dI},EA=e=>{if(Q4(e)){_R(e.length===4);const[t,n,r,s]=e;return em(t,n,r,s)}else if(typeof e=="string")return MJ[e];return e};function DJ(e,t,n){const r=[],s=n||_I,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||rs:t;l=tm(c,l)}r.push(l)}return r}function RJ(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(_R(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=DJ(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Ru(e[f],e[f+1],d);return l[f](h)};return n?d=>u(va(e[0],e[i-1],d)):u}function IJ(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ru(0,t,r);e.push(Xt(n,1,s))}}function $J(e){const t=[0];return IJ(t,e.length-1),t}function LJ(e,t){return e.map(n=>n*t)}function FJ(e,t){return e.map(()=>t||MI).splice(0,e.length-1)}function z0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=EJ(r)?r.map(EA):EA(r),i={done:!1,value:t[0]},o=LJ(n&&n.length===t.length?n:$J(t),e),l=RJ(o,t,{ease:Array.isArray(s)?s:FJ(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const BJ=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ht.update(t,!0),stop:()=>Oo(t),now:()=>Hn.isProcessing?Hn.timestamp:Ni.now()}},VJ={decay:TA,inertia:TA,tween:z0,keyframes:z0,spring:EI},zJ=e=>e/100;class c5 extends OI{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||o5,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=X4(n)?n:VJ[n]||z0;let c,u;l!==z0&&typeof t[0]!="number"&&(c=tm(zJ,_I(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=XR(d));const{calculatedDuration:f}=d,h=f+s,p=h*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:m,repeatDelay:g,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,j=i;if(p){const A=Math.min(this.currentTime,d)/f;let C=Math.floor(A),T=A%1;!T&&A>=1&&(T=1),T===1&&C--,C=Math.min(C,p+1),!!(C%2)&&(m==="reverse"?(T=1-T,g&&(T-=g/f)):m==="mirror"&&(j=o)),b=va(0,1,T)*f}const w=v?{done:!1,value:c[0]}:j.next(b);l&&(w.value=l(w.value));let{done:S}=w;!v&&u!==null&&(S=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return P&&s!==void 0&&(w.value=ev(c,this.options,s)),x&&x(w.value),P&&this.finish(),w}get duration(){const{resolved:t}=this;return t?la(t.calculatedDuration):0}get time(){return la(this.currentTime)}set time(t){t=oa(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=la(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=BJ,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const UJ=new Set(["opacity","clipPath","filter","transform"]);function HJ(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=ZR(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const WJ=R4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),U0=10,qJ=2e4;function KJ(e){return X4(e.type)||e.type==="spring"||!JR(e.ease)}function GJ(e,t){const n=new c5({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<qJ;)r=n.sample(i),s.push(r.value),i+=U0;return{times:void 0,keyframes:s,duration:i-U0,ease:"linear"}}const DI={anticipate:dI,backInOut:uI,circInOut:hI};function YJ(e){return e in DI}class MA extends OI{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new CI(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&B0()&&YJ(i)&&(i=DI[i]),KJ(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:m,...g}=this.options,x=GJ(t,g);t=x.keyframes,t.length===1&&(t[1]=t[0]),r=x.duration,s=x.times,i=x.ease,o="keyframes"}const d=HJ(l.owner.current,c,t,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(xA(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(ev(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return la(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return la(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=oa(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return rs;const{animation:r}=n;xA(r,t)}return rs}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,m=new c5({...p,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),g=oa(this.time);u.setWithVelocity(m.sample(g-U0).value,m.sample(g).value,U0)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return WJ()&&r&&UJ.has(r)&&!c&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const XJ={type:"spring",stiffness:500,damping:25,restSpeed:10},QJ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),JJ={type:"keyframes",duration:.8},ZJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eZ=(e,{keyframes:t})=>t.length>2?JJ:lc.has(e)?e.startsWith("scale")?QJ(t[1]):XJ:ZJ;function tZ({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const u5=(e,t,n,r={},s,i)=>o=>{const l=Y4(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-oa(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};tZ(l)||(d={...d,...eZ(e,d)}),d.duration&&(d.duration=oa(d.duration)),d.repeatDelay&&(d.repeatDelay=oa(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const h=ev(d.keyframes,l);if(h!==void 0)return Ht.update(()=>{d.onUpdate(h),d.onComplete()}),new bQ([])}return!i&&MA.supports(d)?new MA(d):new c5(d)};function nZ({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function RI(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in c){const h=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),p=c[f];if(p===void 0||d&&nZ(d,f))continue;const m={delay:n,...Y4(o||{},f)};let g=!1;if(window.MotionHandoffAnimation){const y=iI(e);if(y){const v=window.MotionHandoffAnimation(y,f,Ht);v!==null&&(m.startTime=v,g=!0)}}nj(e,f),h.start(u5(f,h,p,e.shouldReduceMotion&&rI.has(f)?{type:!1}:m,e,g));const x=h.animation;x&&u.push(x)}return l&&Promise.all(u).then(()=>{Ht.update(()=>{l&&DQ(e,l)})}),u}function cj(e,t,n={}){var r;const s=Zy(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(RI(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return rZ(e,t,d+u,f,h,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function rZ(e,t,n=0,r=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(sZ).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(cj(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function sZ(e,t){return e.sortNodePosition(t)}function iZ(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>cj(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=cj(e,t,n);else{const s=typeof t=="function"?Zy(e,t,n.custom):t;r=Promise.all(RI(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const aZ=$4.length;function II(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?II(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<aZ;n++){const r=$4[n],s=e.props[r];(Ih(s)||s===!1)&&(t[r]=s)}return t}const oZ=[...I4].reverse(),lZ=I4.length;function cZ(e){return t=>Promise.all(t.map(({animation:n,options:r})=>iZ(e,n,r)))}function uZ(e){let t=cZ(e),n=DA(),r=!0;const s=c=>(u,d)=>{var f;const h=Zy(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:m,...g}=h;u={...u,...g,...m}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=II(e.parent)||{},f=[],h=new Set;let p={},m=1/0;for(let x=0;x<lZ;x++){const y=oZ[x],v=n[y],b=u[y]!==void 0?u[y]:d[y],j=Ih(b),w=y===c?v.isActive:null;w===!1&&(m=x);let S=b===d[y]&&b!==u[y]&&j;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...p},!v.isActive&&w===null||!b&&!v.prevProp||Qy(b)||typeof b=="boolean")continue;const P=dZ(v.prevProp,b);let A=P||y===c&&v.isActive&&!S&&j||x>m&&j,C=!1;const T=Array.isArray(b)?b:[b];let k=T.reduce(s(y),{});w===!1&&(k={});const{prevResolvedValues:O={}}=v,I={...O,...k},M=L=>{A=!0,h.has(L)&&(C=!0,h.delete(L)),v.needsAnimating[L]=!0;const R=e.getValue(L);R&&(R.liveStyle=!1)};for(const L in I){const R=k[L],F=O[L];if(p.hasOwnProperty(L))continue;let W=!1;Zw(R)&&Zw(F)?W=!YR(R,F):W=R!==F,W?R!=null?M(L):h.add(L):R!==void 0&&h.has(L)?M(L):v.protectedKeys[L]=!0}v.prevProp=b,v.prevResolvedValues=k,v.isActive&&(p={...p,...k}),r&&e.blockInitialAnimation&&(A=!1),A&&(!(S&&P)||C)&&f.push(...T.map(L=>({animation:L,options:{type:y}})))}if(h.size){const x={};h.forEach(y=>{const v=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),x[y]=v??null}),f.push({animation:x})}let g=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=DA(),r=!0}}}function dZ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!YR(t,e):!1}function Ho(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DA(){return{animate:Ho(!0),whileInView:Ho(),whileHover:Ho(),whileTap:Ho(),whileDrag:Ho(),whileFocus:Ho(),exit:Ho()}}class $o{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fZ extends $o{constructor(t){super(t),t.animationState||(t.animationState=uZ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qy(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let hZ=0;class pZ extends $o{constructor(){super(...arguments),this.id=hZ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const mZ={animation:{Feature:fZ},exit:{Feature:pZ}};function Bh(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function nm(e){return{point:{x:e.pageX,y:e.pageY}}}const gZ=e=>t=>J4(t)&&e(t,nm(t));function Jf(e,t,n,r){return Bh(e,t,gZ(n),r)}const RA=(e,t)=>Math.abs(e-t);function xZ(e,t){const n=RA(e.x,t.x),r=RA(e.y,t.y);return Math.sqrt(n**2+r**2)}class $I{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=h1(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=xZ(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=f,{timestamp:g}=Hn;this.history.push({...m,timestamp:g});const{onStart:x,onMove:y}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=f1(h,this.transformPagePoint),Ht.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=h1(f.type==="pointercancel"?this.lastMoveEventInfo:f1(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),m&&m(f,x)},!J4(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=nm(t),l=f1(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Hn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,h1(l,this.history)),this.removeListeners=tm(Jf(this.contextWindow,"pointermove",this.handlePointerMove),Jf(this.contextWindow,"pointerup",this.handlePointerUp),Jf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Oo(this.updatePoint)}}function f1(e,t){return t?{point:t(e.point)}:e}function IA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function h1({point:e},t){return{point:e,delta:IA(e,LI(t)),offset:IA(e,yZ(t)),velocity:vZ(t,.1)}}function yZ(e){return e[0]}function LI(e){return e[e.length-1]}function vZ(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=LI(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>oa(t)));)n--;if(!r)return{x:0,y:0};const i=la(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const FI=1e-4,bZ=1-FI,wZ=1+FI,BI=.01,jZ=0-BI,NZ=0+BI;function ls(e){return e.max-e.min}function SZ(e,t,n){return Math.abs(e-t)<=n}function $A(e,t,n,r=.5){e.origin=r,e.originPoint=Xt(t.min,t.max,e.origin),e.scale=ls(n)/ls(t),e.translate=Xt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=bZ&&e.scale<=wZ||isNaN(e.scale))&&(e.scale=1),(e.translate>=jZ&&e.translate<=NZ||isNaN(e.translate))&&(e.translate=0)}function Zf(e,t,n,r){$A(e.x,t.x,n.x,r?r.originX:void 0),$A(e.y,t.y,n.y,r?r.originY:void 0)}function LA(e,t,n){e.min=n.min+t.min,e.max=e.min+ls(t)}function PZ(e,t,n){LA(e.x,t.x,n.x),LA(e.y,t.y,n.y)}function FA(e,t,n){e.min=t.min-n.min,e.max=e.min+ls(t)}function eh(e,t,n){FA(e.x,t.x,n.x),FA(e.y,t.y,n.y)}function AZ(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Xt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Xt(n,e,r.max):Math.min(e,n)),e}function BA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function CZ(e,{top:t,left:n,bottom:r,right:s}){return{x:BA(e.x,n,s),y:BA(e.y,t,r)}}function VA(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function OZ(e,t){return{x:VA(e.x,t.x),y:VA(e.y,t.y)}}function kZ(e,t){let n=.5;const r=ls(e),s=ls(t);return s>r?n=Ru(t.min,t.max-r,e.min):r>s&&(n=Ru(e.min,e.max-s,t.min)),va(0,1,n)}function _Z(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const uj=.35;function TZ(e=uj){return e===!1?e=0:e===!0&&(e=uj),{x:zA(e,"left","right"),y:zA(e,"top","bottom")}}function zA(e,t,n){return{min:UA(e,t),max:UA(e,n)}}function UA(e,t){return typeof e=="number"?e:e[t]||0}const HA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uc=()=>({x:HA(),y:HA()}),WA=()=>({min:0,max:0}),un=()=>({x:WA(),y:WA()});function vs(e){return[e("x"),e("y")]}function VI({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function EZ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function MZ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function p1(e){return e===void 0||e===1}function dj({scale:e,scaleX:t,scaleY:n}){return!p1(e)||!p1(t)||!p1(n)}function Zo(e){return dj(e)||zI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zI(e){return qA(e.x)||qA(e.y)}function qA(e){return e&&e!=="0%"}function H0(e,t,n){const r=e-n,s=t*r;return n+s}function KA(e,t,n,r,s){return s!==void 0&&(e=H0(e,s,r)),H0(e,n,r)+t}function fj(e,t=0,n=1,r,s){e.min=KA(e.min,t,n,r,s),e.max=KA(e.max,t,n,r,s)}function UI(e,{x:t,y:n}){fj(e.x,t.translate,t.scale,t.originPoint),fj(e.y,n.translate,n.scale,n.originPoint)}const GA=.999999999999,YA=1.0000000000001;function DZ(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Wc(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,UI(e,o)),r&&Zo(i.latestValues)&&Wc(e,i.latestValues))}t.x<YA&&t.x>GA&&(t.x=1),t.y<YA&&t.y>GA&&(t.y=1)}function Hc(e,t){e.min=e.min+t,e.max=e.max+t}function XA(e,t,n,r,s=.5){const i=Xt(e.min,e.max,s);fj(e,t,n,i,r)}function Wc(e,t){XA(e.x,t.x,t.scaleX,t.scale,t.originX),XA(e.y,t.y,t.scaleY,t.scale,t.originY)}function HI(e,t){return VI(MZ(e.getBoundingClientRect(),t))}function RZ(e,t,n){const r=HI(e,n),{scroll:s}=t;return s&&(Hc(r.x,s.offset.x),Hc(r.y,s.offset.y)),r}const WI=({current:e})=>e?e.ownerDocument.defaultView:null,IZ=new WeakMap;class $Z{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=un(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nm(d).point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kQ(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vs(x=>{let y=this.getAxisMotionValue(x).get()||0;if(ji.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[x];b&&(y=ls(b)*(parseFloat(y)/100))}}this.originPoint[x]=y}),m&&Ht.postRender(()=>m(d,f)),nj(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=LZ(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),g&&g(d,f)},l=(d,f)=>this.stop(d,f),c=()=>vs(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new $I(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:WI(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ht.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Gm(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=AZ(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Vc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=CZ(s.layoutBox,n):this.constraints=!1,this.elastic=TZ(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&vs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_Z(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Vc(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=RZ(r,s.root,this.visualElement.getTransformPagePoint());let o=OZ(s.layout.layoutBox,i);if(n){const l=n(EZ(o));this.hasMutatedConstraints=!!l,l&&(o=VI(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=vs(d=>{if(!Gm(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return nj(this.visualElement,t),r.start(u5(t,r,0,n,this.visualElement,!1))}stopAnimation(){vs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){vs(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){vs(n=>{const{drag:r}=this.getProps();if(!Gm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-Xt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Vc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=kZ({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vs(o=>{if(!Gm(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Xt(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;IZ.set(this.visualElement,this);const t=this.visualElement.current,n=Jf(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Vc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ht.read(r);const o=Bh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(vs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=uj,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Gm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function LZ(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class FZ extends $o{constructor(t){super(t),this.removeGroupControls=rs,this.removeListeners=rs,this.controls=new $Z(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const QA=e=>(t,n)=>{e&&Ht.postRender(()=>e(t,n))};class BZ extends $o{constructor(){super(...arguments),this.removePointerDownListener=rs}onPointerDown(t){this.session=new $I(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:QA(t),onStart:QA(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ht.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Jf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ke.test(e))e=parseFloat(e);else return e;const n=JA(e,t.target.x),r=JA(e,t.target.y);return`${n}% ${r}%`}},VZ={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=ko.parse(e);if(s.length>5)return r;const i=ko.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=Xt(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class zZ extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;lQ(UZ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Qg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ht.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),F4.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function qI(e){const[t,n]=OR(),r=N.useContext(T4);return a.jsx(zZ,{...e,layoutGroup:r,switchLayoutGroup:N.useContext(IR),isPresent:t,safeToRemove:n})}const UZ={borderRadius:{...Zd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zd,borderTopRightRadius:Zd,borderBottomLeftRadius:Zd,borderBottomRightRadius:Zd,boxShadow:VZ};function HZ(e,t,n){const r=dr(e)?e:Lh(e);return r.start(u5("",r,t,n)),r.animation}function WZ(e){return e instanceof SVGElement&&e.tagName!=="svg"}const qZ=(e,t)=>e.depth-t.depth;class KZ{constructor(){this.children=[],this.isDirty=!1}add(t){Z4(this.children,t),this.isDirty=!0}remove(t){e5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qZ),this.isDirty=!1,this.children.forEach(t)}}function GZ(e,t){const n=Ni.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Oo(r),e(i-t))};return Ht.read(r,!0),()=>Oo(r)}const KI=["TopLeft","TopRight","BottomLeft","BottomRight"],YZ=KI.length,ZA=e=>typeof e=="string"?parseFloat(e):e,eC=e=>typeof e=="number"||Ke.test(e);function XZ(e,t,n,r,s,i){s?(e.opacity=Xt(0,n.opacity!==void 0?n.opacity:1,QZ(r)),e.opacityExit=Xt(t.opacity!==void 0?t.opacity:1,0,JZ(r))):i&&(e.opacity=Xt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<YZ;o++){const l=`border${KI[o]}Radius`;let c=tC(t,l),u=tC(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||eC(c)===eC(u)?(e[l]=Math.max(Xt(ZA(c),ZA(u),r),0),(ji.test(u)||ji.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Xt(t.rotate||0,n.rotate||0,r))}function tC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const QZ=GI(0,.5,fI),JZ=GI(.5,.95,rs);function GI(e,t,n){return r=>r<e?0:r>t?1:n(Ru(e,t,r))}function nC(e,t){e.min=t.min,e.max=t.max}function ps(e,t){nC(e.x,t.x),nC(e.y,t.y)}function rC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sC(e,t,n,r,s){return e-=t,e=H0(e,1/n,r),s!==void 0&&(e=H0(e,1/s,r)),e}function ZZ(e,t=0,n=1,r=.5,s,i=e,o=e){if(ji.test(t)&&(t=parseFloat(t),t=Xt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Xt(i.min,i.max,r);e===i&&(l-=t),e.min=sC(e.min,t,n,l,s),e.max=sC(e.max,t,n,l,s)}function iC(e,t,[n,r,s],i,o){ZZ(e,t[n],t[r],t[s],t.scale,i,o)}const eee=["x","scaleX","originX"],tee=["y","scaleY","originY"];function aC(e,t,n,r){iC(e.x,t,eee,n?n.x:void 0,r?r.x:void 0),iC(e.y,t,tee,n?n.y:void 0,r?r.y:void 0)}function oC(e){return e.translate===0&&e.scale===1}function YI(e){return oC(e.x)&&oC(e.y)}function lC(e,t){return e.min===t.min&&e.max===t.max}function nee(e,t){return lC(e.x,t.x)&&lC(e.y,t.y)}function cC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function XI(e,t){return cC(e.x,t.x)&&cC(e.y,t.y)}function uC(e){return ls(e.x)/ls(e.y)}function dC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ree{constructor(){this.members=[]}add(t){Z4(this.members,t),t.scheduleRender()}remove(t){if(e5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function see(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:m}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const el={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},kf=typeof window<"u"&&window.MotionDebug!==void 0,m1=["","X","Y","Z"],iee={visibility:"hidden"},fC=1e3;let aee=0;function g1(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function QI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=iI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ht,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&QI(r)}function JI({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=aee++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,kf&&(el.totalNodes=el.resolvedTargetDeltas=el.recalculatedProjection=0),this.nodes.forEach(cee),this.nodes.forEach(pee),this.nodes.forEach(mee),this.nodes.forEach(uee),kf&&window.MotionDebug.record(el)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new KZ)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new t5),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=WZ(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=GZ(h,250),Qg.hasAnimatedSinceResize&&(Qg.hasAnimatedSinceResize=!1,this.nodes.forEach(pC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||bee,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=d.getProps(),v=!this.targetLayout||!XI(this.targetLayout,m)||p,b=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const j={...Y4(g,"layout"),onPlay:x,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||pC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Oo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hC);return}this.isUpdating||this.nodes.forEach(fee),this.isUpdating=!1,this.nodes.forEach(hee),this.nodes.forEach(oee),this.nodes.forEach(lee),this.clearAllSnapshots();const l=Ni.now();Hn.delta=va(0,1e3/60,l-Hn.timestamp),Hn.timestamp=l,Hn.isProcessing=!0,a1.update.process(Hn),a1.preRender.process(Hn),a1.render.process(Hn),Hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,F4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dee),this.sharedNodes.forEach(xee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!YI(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Zo(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),wee(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return un();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(jee))){const{scroll:d}=this.root;d&&(Hc(c.x,d.offset.x),Hc(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=un();if(ps(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ps(c,o),Hc(c.x,f.offset.x),Hc(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=un();ps(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Wc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Zo(d.latestValues)&&Wc(c,d.latestValues)}return Zo(this.latestValues)&&Wc(c,this.latestValues),c}removeTransform(o){const l=un();ps(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Zo(u.latestValues))continue;dj(u.latestValues)&&u.updateSnapshot();const d=un(),f=u.measurePageBox();ps(d,f),aC(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Zo(this.latestValues)&&aC(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),eh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=un(),this.targetWithTransforms=un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ps(this.target,this.layout.layoutBox),UI(this.target,this.targetDelta)):ps(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),eh(this.relativeTargetOrigin,this.target,p.target),ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}kf&&el.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dj(this.parent.latestValues)||zI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ps(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;DZ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=un());const{target:m}=l;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rC(this.prevProjectionDelta.x,this.projectionDelta.x),rC(this.prevProjectionDelta.y,this.projectionDelta.y)),Zf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!dC(this.projectionDelta.x,this.prevProjectionDelta.x)||!dC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),kf&&el.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uc(),this.projectionDelta=Uc(),this.projectionDeltaWithTransform=Uc()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Uc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=un(),p=c?c.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,x=this.getStack(),y=!x||x.members.length<=1,v=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(vee));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const w=j/1e3;mC(f.x,o.x,w),mC(f.y,o.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eh(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yee(this.relativeTarget,this.relativeTargetOrigin,h,w),b&&nee(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=un()),ps(b,this.relativeTarget)),g&&(this.animationValues=d,XZ(d,u,this.latestValues,w,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Oo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ht.update(()=>{Qg.hasAnimatedSinceResize=!0,this.currentAnimation=HZ(0,fC,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&ZI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||un();const f=ls(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=ls(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}ps(l,c),Wc(l,d),Zf(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ree),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&g1("z",o,u,this.animationValues);for(let d=0;d<m1.length;d++)g1(`rotate${m1[d]}`,o,u,this.animationValues),g1(`skew${m1[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return iee;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Yg(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Yg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zo(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=see(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in F0){if(h[g]===void 0)continue;const{correct:x,applyTo:y}=F0[g],v=u.transform==="none"?h[g]:x(h[g],f);if(y){const b=y.length;for(let j=0;j<b;j++)u[y[j]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=f===this?Yg(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(hC),this.root.sharedNodes.clear()}}}function oee(e){e.updateLayout()}function lee(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?vs(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=ls(h);h.min=r[f].min,h.max=h.min+p}):ZI(i,n.layoutBox,r)&&vs(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=ls(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Uc();Zf(l,r,n.layoutBox);const c=Uc();o?Zf(c,e.applyTransform(s,!0),n.measuredBox):Zf(c,r,n.layoutBox);const u=!YI(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=un();eh(m,n.layoutBox,h.layoutBox);const g=un();eh(g,r,p.layoutBox),XI(m,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function cee(e){kf&&el.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uee(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dee(e){e.clearSnapshot()}function hC(e){e.clearMeasurements()}function fee(e){e.isLayoutDirty=!1}function hee(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pee(e){e.resolveTargetDelta()}function mee(e){e.calcProjection()}function gee(e){e.resetSkewAndRotation()}function xee(e){e.removeLeadSnapshot()}function mC(e,t,n){e.translate=Xt(t.translate,0,n),e.scale=Xt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function gC(e,t,n,r){e.min=Xt(t.min,n.min,r),e.max=Xt(t.max,n.max,r)}function yee(e,t,n,r){gC(e.x,t.x,n.x,r),gC(e.y,t.y,n.y,r)}function vee(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bee={duration:.45,ease:[.4,0,.1,1]},xC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yC=xC("applewebkit/")&&!xC("chrome/")?Math.round:rs;function vC(e){e.min=yC(e.min),e.max=yC(e.max)}function wee(e){vC(e.x),vC(e.y)}function ZI(e,t,n){return e==="position"||e==="preserve-aspect"&&!SZ(uC(t),uC(n),.2)}function jee(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Nee=JI({attachResizeListener:(e,t)=>Bh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),x1={current:void 0},e$=JI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!x1.current){const e=new Nee({});e.mount(window),e.setOptions({layoutScroll:!0}),x1.current=e}return x1.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),See={pan:{Feature:BZ},drag:{Feature:FZ,ProjectionNode:e$,MeasureLayout:qI}};function bC(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ht.postRender(()=>i(t,nm(t)))}class Pee extends $o{mount(){const{current:t}=this.node;t&&(this.unmount=SQ(t,n=>(bC(this.node,n,"Start"),r=>bC(this.node,r,"End"))))}unmount(){}}class Aee extends $o{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tm(Bh(this.node.current,"focus",()=>this.onFocus()),Bh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wC(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ht.postRender(()=>i(t,nm(t)))}class Cee extends $o{mount(){const{current:t}=this.node;t&&(this.unmount=OQ(t,n=>(wC(this.node,n,"Start"),(r,{success:s})=>wC(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hj=new WeakMap,y1=new WeakMap,Oee=e=>{const t=hj.get(e.target);t&&t(e)},kee=e=>{e.forEach(Oee)};function _ee({root:e,...t}){const n=e||document;y1.has(n)||y1.set(n,{});const r=y1.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(kee,{root:e,...t})),r[s]}function Tee(e,t,n){const r=_ee(t);return hj.set(e,n),r.observe(e),()=>{hj.delete(e),r.unobserve(e)}}const Eee={some:0,all:1};class Mee extends $o{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Eee[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return Tee(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Dee(t,n))&&this.startObserver()}unmount(){}}function Dee({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Ree={inView:{Feature:Mee},tap:{Feature:Cee},focus:{Feature:Aee},hover:{Feature:Pee}},Iee={layout:{ProjectionNode:e$,MeasureLayout:qI}},pj={current:null},t$={current:!1};function $ee(){if(t$.current=!0,!!D4)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pj.current=e.matches;e.addListener(t),t()}else pj.current=!1}const Lee=[...AI,ir,ko],Fee=e=>Lee.find(PI(e)),jC=new WeakMap;function Bee(e,t,n){for(const r in t){const s=t[r],i=n[r];if(dr(s))e.addValue(r,s);else if(dr(i))e.addValue(r,Lh(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Lh(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const NC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Vee{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=o5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ni.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ht.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Jy(n),this.isVariantNode=DR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];c[p]!==void 0&&dr(m)&&m.set(c[p],!1)}}mount(t){this.current=t,jC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),t$.current||$ee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pj.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jC.delete(this.current),this.projection&&this.projection.unmount(),Oo(this.notifyUpdate),Oo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=lc.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ht.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Iu){const n=Iu[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):un()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<NC.length;r++){const s=NC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Bee(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Lh(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(NI(s)||pI(s))?s=parseFloat(s):!Fee(s)&&ko.test(n)&&(s=bI(t,n)),this.setBaseTarget(t,dr(s)?s.get():s)),dr(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=V4(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!dr(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new t5),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class n$ extends Vee{constructor(){super(...arguments),this.KeyframeResolver=CI}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function zee(e){return window.getComputedStyle(e)}class Uee extends n${constructor(){super(...arguments),this.type="html",this.renderInstance=UR}readValueFromInstance(t,n){if(lc.has(n)){const r=a5(n);return r&&r.default||0}else{const r=zee(t),s=(BR(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return HI(t,n)}build(t,n,r){H4(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return G4(t,n,r)}}class Hee extends n${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=un}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(lc.has(n)){const r=a5(n);return r&&r.default||0}return n=HR.has(n)?n:L4(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return KR(t,n,r)}build(t,n,r){W4(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){WR(t,n,r,s)}mount(t){this.isSVGTag=K4(t.tagName),super.mount(t)}}const Wee=(e,t)=>B4(e)?new Hee(t):new Uee(t,{allowProjection:e!==N.Fragment}),qee=xQ({...mZ,...Ree,...See,...Iee},Wee),SC=EX(qee),Kee={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl",full:"max-w-full mx-4"},ft=({isOpen:e,onClose:t,title:n,children:r,footer:s,size:i="md",closeOnOverlayClick:o=!0,showCloseButton:l=!0,className:c=""})=>{const u=N.useRef(null);N.useEffect(()=>{const h=p=>{p.key==="Escape"&&e&&t()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e,t]),N.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),N.useEffect(()=>{if(e&&u.current){const h=u.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),p=h[0],m=h[h.length-1],g=x=>{x.key==="Tab"&&(x.shiftKey&&document.activeElement===p?(x.preventDefault(),m==null||m.focus()):!x.shiftKey&&document.activeElement===m&&(x.preventDefault(),p==null||p.focus()))};return document.addEventListener("keydown",g),p==null||p.focus(),()=>document.removeEventListener("keydown",g)}},[e]);const d=h=>{o&&h.target===h.currentTarget&&t()},f=a.jsx(SX,{children:e&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx(SC.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:d}),a.jsxs(SC.div,{ref:u,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:`
              relative w-full ${Kee[i]} bg-white rounded-xl shadow-2xl
              max-h-[90vh] flex flex-col
              ${c}
            `,role:"dialog","aria-modal":"true","aria-labelledby":n?"modal-title":void 0,children:[(n||l)&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[n&&a.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-gray-900",children:n}),l&&a.jsx("button",{onClick:t,className:"p-2 -mr-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:a.jsx(AR,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:r}),s&&a.jsx("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:s})]})]})});return p4.createPortal(f,document.body)};ft.Header=({children:e,className:t=""})=>a.jsx("div",{className:`px-6 py-4 border-b border-gray-200 ${t}`,children:e});ft.Body=({children:e,className:t=""})=>a.jsx("div",{className:`flex-1 overflow-y-auto px-6 py-4 ${t}`,children:e});ft.Footer=({children:e,className:t=""})=>a.jsx("div",{className:`flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl ${t}`,children:e});function Gee({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Yee=N.forwardRef(Gee);function Xee({title:e,titleId:t,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?N.createElement("title",{id:t},e):null,N.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const Qee=N.forwardRef(Xee),PC={blue:{bg:"bg-blue-100",icon:"text-blue-600",trend:"text-blue-600"},green:{bg:"bg-green-100",icon:"text-green-600",trend:"text-green-600"},purple:{bg:"bg-purple-100",icon:"text-purple-600",trend:"text-purple-600"},orange:{bg:"bg-orange-100",icon:"text-orange-600",trend:"text-orange-600"},red:{bg:"bg-red-100",icon:"text-red-600",trend:"text-red-600"},indigo:{bg:"bg-indigo-100",icon:"text-indigo-600",trend:"text-indigo-600"},pink:{bg:"bg-pink-100",icon:"text-pink-600",trend:"text-pink-600"},teal:{bg:"bg-teal-100",icon:"text-teal-600",trend:"text-teal-600"}},_f=({icon:e,value:t,label:n,trend:r,trendValue:s,trendLabel:i="vs last period",color:o="blue",onClick:l,className:c="",loading:u=!1})=>{const d=PC[o]||PC.blue;return u?a.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-pulse ${c}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-3"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]}),a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"})]}),a.jsx("div",{className:"mt-4 h-3 bg-gray-200 rounded w-32"})]}):a.jsxs("div",{onClick:l,className:`
        bg-white rounded-xl shadow-sm border border-gray-200 p-6
        transition-all duration-200
        ${l?"cursor-pointer hover:shadow-md hover:border-gray-300 active:scale-[0.98]":""}
        ${c}
      `,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 truncate",children:n}),a.jsx("p",{className:"mt-1 text-3xl font-bold text-gray-900",children:t})]}),e&&a.jsx("div",{className:`flex-shrink-0 p-3 rounded-xl ${d.bg}`,children:a.jsx(e,{className:`h-6 w-6 ${d.icon}`})})]}),(r!==void 0||s!==void 0)&&a.jsxs("div",{className:"mt-4 flex items-center",children:[r!==void 0&&a.jsxs("span",{className:`inline-flex items-center text-sm font-medium ${r==="up"?"text-green-600":r==="down"?"text-red-600":"text-gray-500"}`,children:[r==="up"&&a.jsx(Qee,{className:"h-4 w-4 mr-1"}),r==="down"&&a.jsx(Yee,{className:"h-4 w-4 mr-1"}),s&&a.jsx("span",{children:typeof s=="number"?`${Math.abs(s)}%`:s})]}),i&&a.jsx("span",{className:"ml-2 text-sm text-gray-500",children:i})]})]})};_f.Grid=({children:e,className:t=""})=>a.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 ${t}`,children:e});const Jee={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 border-transparent",secondary:"bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500 border-gray-300",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500 border-transparent",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 border-transparent",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500 border-transparent",outline:"bg-transparent text-blue-600 hover:bg-blue-50 focus:ring-blue-500 border-blue-600"},Zee={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},mj={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-5 w-5"},ete=({size:e})=>a.jsxs("svg",{className:`animate-spin ${mj[e]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Je=N.forwardRef(({children:e,variant:t="primary",size:n="md",loading:r=!1,disabled:s=!1,iconLeft:i,iconRight:o,fullWidth:l=!1,type:c="button",className:u="",...d},f)=>{const h=s||r;return a.jsx("button",{ref:f,type:c,disabled:h,className:`
          inline-flex items-center justify-center font-medium rounded-lg
          border transition-all duration-200
          focus:outline-none focus:ring-2 focus:ring-offset-2
          disabled:opacity-50 disabled:cursor-not-allowed
          ${Jee[t]}
          ${Zee[n]}
          ${l?"w-full":""}
          ${u}
        `,...d,children:r?a.jsxs(a.Fragment,{children:[a.jsx(ete,{size:n}),a.jsx("span",{className:"ml-2",children:e})]}):a.jsxs(a.Fragment,{children:[i&&a.jsx(i,{className:`${mj[n]} ${e?"mr-2":""}`}),e,o&&a.jsx(o,{className:`${mj[n]} ${e?"ml-2":""}`})]})})});Je.displayName="Button";Je.Group=({children:e,className:t=""})=>a.jsx("div",{className:`inline-flex rounded-lg shadow-sm ${t}`,children:e});const dt=N.forwardRef(({label:e,error:t,helperText:n,icon:r,type:s="text",className:i="",inputClassName:o="",labelClassName:l="",required:c=!1,disabled:u=!1,...d},f)=>{const[h,p]=N.useState(!1),m=s==="password",g=m&&h?"text":s,x=`
      block w-full rounded-lg border bg-white px-4 py-2.5
      text-gray-900 placeholder-gray-400
      transition-colors duration-200
      focus:outline-none focus:ring-2 focus:ring-offset-0
      disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-500
    `,y=t?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500",v=r?"pl-10":"",b=m?"pr-10":"";return a.jsxs("div",{className:i,children:[e&&a.jsxs("label",{className:`block text-sm font-medium text-gray-700 mb-1.5 ${l}`,children:[e,c&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[r&&a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(r,{className:`h-5 w-5 ${t?"text-red-400":"text-gray-400"}`})}),a.jsx("input",{ref:f,type:g,disabled:u,className:`
              ${x}
              ${y}
              ${v}
              ${b}
              ${o}
            `,...d}),m&&a.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center",tabIndex:-1,children:h?a.jsx(nX,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(sX,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),(t||n)&&a.jsx("p",{className:`mt-1.5 text-sm ${t?"text-red-600":"text-gray-500"}`,children:t||n})]})});dt.displayName="Input";const r$=N.forwardRef(({label:e,error:t,helperText:n,className:r="",inputClassName:s="",labelClassName:i="",required:o=!1,disabled:l=!1,rows:c=4,...u},d)=>{const f=`
      block w-full rounded-lg border bg-white px-4 py-2.5
      text-gray-900 placeholder-gray-400
      transition-colors duration-200
      focus:outline-none focus:ring-2 focus:ring-offset-0
      disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-500
      resize-none
    `,h=t?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500";return a.jsxs("div",{className:r,children:[e&&a.jsxs("label",{className:`block text-sm font-medium text-gray-700 mb-1.5 ${i}`,children:[e,o&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx("textarea",{ref:d,rows:c,disabled:l,className:`
            ${f}
            ${h}
            ${s}
          `,...u}),(t||n)&&a.jsx("p",{className:`mt-1.5 text-sm ${t?"text-red-600":"text-gray-500"}`,children:t||n})]})});r$.displayName="Textarea";const tte=({children:e,className:t=""})=>a.jsx("div",{className:`flex rounded-lg shadow-sm ${t}`,children:e}),nte=({children:e,position:t="left",className:n=""})=>a.jsx("span",{className:`
      inline-flex items-center px-3 border border-gray-300 bg-gray-50 text-gray-500 text-sm
      ${t==="left"?"rounded-l-lg border-r-0":"rounded-r-lg border-l-0"}
      ${n}
    `,children:e}),rte=({children:e,className:t=""})=>a.jsx("div",{className:`mb-4 ${t}`,children:e});dt.Textarea=r$;dt.Group=tte;dt.Addon=nte;dt.Field=rte;function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function ste(e,t){if(Kl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s$(e){var t=ste(e,"string");return Kl(t)=="symbol"?t:t+""}function Tf(e,t,n){return(t=s$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(r){Tf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ite(e){if(Array.isArray(e))return e}function ate(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i$(e,t){if(e){if(typeof e=="string")return gj(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gj(e,t):void 0}}function ote(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ca(e,t){return ite(e)||ate(e,t)||i$(e,t)||ote()}function lte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ti(e,t){if(e==null)return{};var n,r,s=lte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var cte=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function a$(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,s=r===void 0?!1:r,i=e.defaultValue,o=i===void 0?null:i,l=e.inputValue,c=e.menuIsOpen,u=e.onChange,d=e.onInputChange,f=e.onMenuClose,h=e.onMenuOpen,p=e.value,m=Ti(e,cte),g=N.useState(l!==void 0?l:n),x=ca(g,2),y=x[0],v=x[1],b=N.useState(c!==void 0?c:s),j=ca(b,2),w=j[0],S=j[1],P=N.useState(p!==void 0?p:o),A=ca(P,2),C=A[0],T=A[1],k=N.useCallback(function(R,F){typeof u=="function"&&u(R,F),T(R)},[u]),O=N.useCallback(function(R,F){var W;typeof d=="function"&&(W=d(R,F)),v(W!==void 0?W:R)},[d]),I=N.useCallback(function(){typeof h=="function"&&h(),S(!0)},[h]),M=N.useCallback(function(){typeof f=="function"&&f(),S(!1)},[f]),E=l!==void 0?l:y,_=c!==void 0?c:w,L=p!==void 0?p:C;return Ve(Ve({},m),{},{inputValue:E,menuIsOpen:_,onChange:k,onInputChange:O,onMenuClose:M,onMenuOpen:I,value:L})}function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He.apply(null,arguments)}function ute(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s$(r.key),r)}}function dte(e,t,n){return t&&CC(e.prototype,t),n&&CC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xj(e,t){return xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xj(e,t)}function fte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xj(e,t)}function W0(e){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W0(e)}function o$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o$=function(){return!!e})()}function hte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pte(e,t){if(t&&(Kl(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hte(e)}function mte(e){var t=o$();return function(){var n,r=W0(e);if(t){var s=W0(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return pte(this,n)}}function gte(e){if(Array.isArray(e))return gj(e)}function xte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function su(e){return gte(e)||xte(e)||i$(e)||yte()}function vte(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function bte(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var wte=function(){function e(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bte(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=vte(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},e}(),tr="-ms-",q0="-moz-",gt="-webkit-",l$="comm",d5="rule",f5="decl",jte="@import",c$="@keyframes",Nte="@layer",Ste=Math.abs,tv=String.fromCharCode,Pte=Object.assign;function Ate(e,t){return Kn(e,0)^45?(((t<<2^Kn(e,0))<<2^Kn(e,1))<<2^Kn(e,2))<<2^Kn(e,3):0}function u$(e){return e.trim()}function Cte(e,t){return(e=t.exec(e))?e[0]:e}function xt(e,t,n){return e.replace(t,n)}function yj(e,t){return e.indexOf(t)}function Kn(e,t){return e.charCodeAt(t)|0}function Vh(e,t,n){return e.slice(t,n)}function pi(e){return e.length}function h5(e){return e.length}function Ym(e,t){return t.push(e),e}function Ote(e,t){return e.map(t).join("")}var nv=1,Lu=1,d$=0,zr=0,xn=0,Cd="";function rv(e,t,n,r,s,i,o){return{value:e,root:t,parent:n,type:r,props:s,children:i,line:nv,column:Lu,length:o,return:""}}function ef(e,t){return Pte(rv("",null,null,"",null,null,0),e,{length:-e.length},t)}function kte(){return xn}function _te(){return xn=zr>0?Kn(Cd,--zr):0,Lu--,xn===10&&(Lu=1,nv--),xn}function ss(){return xn=zr<d$?Kn(Cd,zr++):0,Lu++,xn===10&&(Lu=1,nv++),xn}function Si(){return Kn(Cd,zr)}function Jg(){return zr}function rm(e,t){return Vh(Cd,e,t)}function zh(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function f$(e){return nv=Lu=1,d$=pi(Cd=e),zr=0,[]}function h$(e){return Cd="",e}function Zg(e){return u$(rm(zr-1,vj(e===91?e+2:e===40?e+1:e)))}function Tte(e){for(;(xn=Si())&&xn<33;)ss();return zh(e)>2||zh(xn)>3?"":" "}function Ete(e,t){for(;--t&&ss()&&!(xn<48||xn>102||xn>57&&xn<65||xn>70&&xn<97););return rm(e,Jg()+(t<6&&Si()==32&&ss()==32))}function vj(e){for(;ss();)switch(xn){case e:return zr;case 34:case 39:e!==34&&e!==39&&vj(xn);break;case 40:e===41&&vj(e);break;case 92:ss();break}return zr}function Mte(e,t){for(;ss()&&e+xn!==57;)if(e+xn===84&&Si()===47)break;return"/*"+rm(t,zr-1)+"*"+tv(e===47?e:ss())}function Dte(e){for(;!zh(Si());)ss();return rm(e,zr)}function Rte(e){return h$(e0("",null,null,null,[""],e=f$(e),0,[0],e))}function e0(e,t,n,r,s,i,o,l,c){for(var u=0,d=0,f=o,h=0,p=0,m=0,g=1,x=1,y=1,v=0,b="",j=s,w=i,S=r,P=b;x;)switch(m=v,v=ss()){case 40:if(m!=108&&Kn(P,f-1)==58){yj(P+=xt(Zg(v),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:P+=Zg(v);break;case 9:case 10:case 13:case 32:P+=Tte(m);break;case 92:P+=Ete(Jg()-1,7);continue;case 47:switch(Si()){case 42:case 47:Ym(Ite(Mte(ss(),Jg()),t,n),c);break;default:P+="/"}break;case 123*g:l[u++]=pi(P)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:x=0;case 59+d:y==-1&&(P=xt(P,/\f/g,"")),p>0&&pi(P)-f&&Ym(p>32?kC(P+";",r,n,f-1):kC(xt(P," ","")+";",r,n,f-2),c);break;case 59:P+=";";default:if(Ym(S=OC(P,t,n,u,d,s,l,b,j=[],w=[],f),i),v===123)if(d===0)e0(P,t,S,S,j,i,f,l,w);else switch(h===99&&Kn(P,3)===110?100:h){case 100:case 108:case 109:case 115:e0(e,S,S,r&&Ym(OC(e,S,S,0,0,s,l,b,s,j=[],f),w),s,w,f,l,r?j:w);break;default:e0(P,S,S,S,[""],w,0,l,w)}}u=d=p=0,g=y=1,b=P="",f=o;break;case 58:f=1+pi(P),p=m;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&_te()==125)continue}switch(P+=tv(v),v*g){case 38:y=d>0?1:(P+="\f",-1);break;case 44:l[u++]=(pi(P)-1)*y,y=1;break;case 64:Si()===45&&(P+=Zg(ss())),h=Si(),d=f=pi(b=P+=Dte(Jg())),v++;break;case 45:m===45&&pi(P)==2&&(g=0)}}return i}function OC(e,t,n,r,s,i,o,l,c,u,d){for(var f=s-1,h=s===0?i:[""],p=h5(h),m=0,g=0,x=0;m<r;++m)for(var y=0,v=Vh(e,f+1,f=Ste(g=o[m])),b=e;y<p;++y)(b=u$(g>0?h[y]+" "+v:xt(v,/&\f/g,h[y])))&&(c[x++]=b);return rv(e,t,n,s===0?d5:l,c,u,d)}function Ite(e,t,n){return rv(e,t,n,l$,tv(kte()),Vh(e,2,-2),0)}function kC(e,t,n,r){return rv(e,t,n,f5,Vh(e,0,r),Vh(e,r+1,-1),r)}function iu(e,t){for(var n="",r=h5(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function $te(e,t,n,r){switch(e.type){case Nte:if(e.children.length)break;case jte:case f5:return e.return=e.return||e.value;case l$:return"";case c$:return e.return=e.value+"{"+iu(e.children,r)+"}";case d5:e.value=e.props.join(",")}return pi(n=iu(e.children,r))?e.return=e.value+"{"+n+"}":""}function Lte(e){var t=h5(e);return function(n,r,s,i){for(var o="",l=0;l<t;l++)o+=e[l](n,r,s,i)||"";return o}}function Fte(e){return function(t){t.root||(t=t.return)&&e(t)}}function Bte(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Vte=function(t,n,r){for(var s=0,i=0;s=i,i=Si(),s===38&&i===12&&(n[r]=1),!zh(i);)ss();return rm(t,zr)},zte=function(t,n){var r=-1,s=44;do switch(zh(s)){case 0:s===38&&Si()===12&&(n[r]=1),t[r]+=Vte(zr-1,n,r);break;case 2:t[r]+=Zg(s);break;case 4:if(s===44){t[++r]=Si()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=tv(s)}while(s=ss());return t},Ute=function(t,n){return h$(zte(f$(t),n))},_C=new WeakMap,Hte=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!_C.get(r))&&!s){_C.set(t,!0);for(var i=[],o=Ute(n,i),l=r.props,c=0,u=0;c<o.length;c++)for(var d=0;d<l.length;d++,u++)t.props[u]=i[c]?o[c].replace(/&\f/g,l[d]):l[d]+" "+o[c]}}},Wte=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function p$(e,t){switch(Ate(e,t)){case 5103:return gt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return gt+e+q0+e+tr+e+e;case 6828:case 4268:return gt+e+tr+e+e;case 6165:return gt+e+tr+"flex-"+e+e;case 5187:return gt+e+xt(e,/(\w+).+(:[^]+)/,gt+"box-$1$2"+tr+"flex-$1$2")+e;case 5443:return gt+e+tr+"flex-item-"+xt(e,/flex-|-self/,"")+e;case 4675:return gt+e+tr+"flex-line-pack"+xt(e,/align-content|flex-|-self/,"")+e;case 5548:return gt+e+tr+xt(e,"shrink","negative")+e;case 5292:return gt+e+tr+xt(e,"basis","preferred-size")+e;case 6060:return gt+"box-"+xt(e,"-grow","")+gt+e+tr+xt(e,"grow","positive")+e;case 4554:return gt+xt(e,/([^-])(transform)/g,"$1"+gt+"$2")+e;case 6187:return xt(xt(xt(e,/(zoom-|grab)/,gt+"$1"),/(image-set)/,gt+"$1"),e,"")+e;case 5495:case 3959:return xt(e,/(image-set\([^]*)/,gt+"$1$`$1");case 4968:return xt(xt(e,/(.+:)(flex-)?(.*)/,gt+"box-pack:$3"+tr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gt+e+e;case 4095:case 3583:case 4068:case 2532:return xt(e,/(.+)-inline(.+)/,gt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pi(e)-1-t>6)switch(Kn(e,t+1)){case 109:if(Kn(e,t+4)!==45)break;case 102:return xt(e,/(.+:)(.+)-([^]+)/,"$1"+gt+"$2-$3$1"+q0+(Kn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~yj(e,"stretch")?p$(xt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Kn(e,t+1)!==115)break;case 6444:switch(Kn(e,pi(e)-3-(~yj(e,"!important")&&10))){case 107:return xt(e,":",":"+gt)+e;case 101:return xt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gt+(Kn(e,14)===45?"inline-":"")+"box$3$1"+gt+"$2$3$1"+tr+"$2box$3")+e}break;case 5936:switch(Kn(e,t+11)){case 114:return gt+e+tr+xt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return gt+e+tr+xt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return gt+e+tr+xt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return gt+e+tr+e+e}return e}var qte=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case f5:t.return=p$(t.value,t.length);break;case c$:return iu([ef(t,{value:xt(t.value,"@","@"+gt)})],s);case d5:if(t.length)return Ote(t.props,function(i){switch(Cte(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return iu([ef(t,{props:[xt(i,/:(read-\w+)/,":"+q0+"$1")]})],s);case"::placeholder":return iu([ef(t,{props:[xt(i,/:(plac\w+)/,":"+gt+"input-$1")]}),ef(t,{props:[xt(i,/:(plac\w+)/,":"+q0+"$1")]}),ef(t,{props:[xt(i,/:(plac\w+)/,tr+"input-$1")]})],s)}return""})}},Kte=[qte],Gte=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var x=g.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var s=t.stylisPlugins||Kte,i={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var x=g.getAttribute("data-emotion").split(" "),y=1;y<x.length;y++)i[x[y]]=!0;l.push(g)});var c,u=[Hte,Wte];{var d,f=[$te,Fte(function(g){d.insert(g)})],h=Lte(u.concat(s,f)),p=function(x){return iu(Rte(x),h)};c=function(x,y,v,b){d=v,p(x?x+"{"+y.styles+"}":y.styles),b&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new wte({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return m.sheet.hydrate(l),m},m$={exports:{}},At={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fn=typeof Symbol=="function"&&Symbol.for,p5=Fn?Symbol.for("react.element"):60103,m5=Fn?Symbol.for("react.portal"):60106,sv=Fn?Symbol.for("react.fragment"):60107,iv=Fn?Symbol.for("react.strict_mode"):60108,av=Fn?Symbol.for("react.profiler"):60114,ov=Fn?Symbol.for("react.provider"):60109,lv=Fn?Symbol.for("react.context"):60110,g5=Fn?Symbol.for("react.async_mode"):60111,cv=Fn?Symbol.for("react.concurrent_mode"):60111,uv=Fn?Symbol.for("react.forward_ref"):60112,dv=Fn?Symbol.for("react.suspense"):60113,Yte=Fn?Symbol.for("react.suspense_list"):60120,fv=Fn?Symbol.for("react.memo"):60115,hv=Fn?Symbol.for("react.lazy"):60116,Xte=Fn?Symbol.for("react.block"):60121,Qte=Fn?Symbol.for("react.fundamental"):60117,Jte=Fn?Symbol.for("react.responder"):60118,Zte=Fn?Symbol.for("react.scope"):60119;function fs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case p5:switch(e=e.type,e){case g5:case cv:case sv:case av:case iv:case dv:return e;default:switch(e=e&&e.$$typeof,e){case lv:case uv:case hv:case fv:case ov:return e;default:return t}}case m5:return t}}}function g$(e){return fs(e)===cv}At.AsyncMode=g5;At.ConcurrentMode=cv;At.ContextConsumer=lv;At.ContextProvider=ov;At.Element=p5;At.ForwardRef=uv;At.Fragment=sv;At.Lazy=hv;At.Memo=fv;At.Portal=m5;At.Profiler=av;At.StrictMode=iv;At.Suspense=dv;At.isAsyncMode=function(e){return g$(e)||fs(e)===g5};At.isConcurrentMode=g$;At.isContextConsumer=function(e){return fs(e)===lv};At.isContextProvider=function(e){return fs(e)===ov};At.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===p5};At.isForwardRef=function(e){return fs(e)===uv};At.isFragment=function(e){return fs(e)===sv};At.isLazy=function(e){return fs(e)===hv};At.isMemo=function(e){return fs(e)===fv};At.isPortal=function(e){return fs(e)===m5};At.isProfiler=function(e){return fs(e)===av};At.isStrictMode=function(e){return fs(e)===iv};At.isSuspense=function(e){return fs(e)===dv};At.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sv||e===cv||e===av||e===iv||e===dv||e===Yte||typeof e=="object"&&e!==null&&(e.$$typeof===hv||e.$$typeof===fv||e.$$typeof===ov||e.$$typeof===lv||e.$$typeof===uv||e.$$typeof===Qte||e.$$typeof===Jte||e.$$typeof===Zte||e.$$typeof===Xte)};At.typeOf=fs;m$.exports=At;var ene=m$.exports,x$=ene,tne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nne={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},y$={};y$[x$.ForwardRef]=tne;y$[x$.Memo]=nne;var rne=!0;function sne(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(r+=s+" ")}),r}var v$=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||rne===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},ine=function(t,n,r){v$(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function ane(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var one={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lne=/[A-Z]|^ms/g,cne=/_EMO_([^_]+?)_([^]*?)_EMO_/g,b$=function(t){return t.charCodeAt(1)===45},TC=function(t){return t!=null&&typeof t!="boolean"},v1=Bte(function(e){return b$(e)?e:e.replace(lne,"-$&").toLowerCase()}),EC=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(cne,function(r,s,i){return mi={name:s,styles:i,next:mi},s})}return one[t]!==1&&!b$(t)&&typeof n=="number"&&n!==0?n+"px":n};function Uh(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return mi={name:s.name,styles:s.styles,next:mi},s.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)mi={name:o.name,styles:o.styles,next:mi},o=o.next;var l=i.styles+";";return l}return une(e,t,n)}case"function":{if(e!==void 0){var c=mi,u=n(e);return mi=c,Uh(e,t,u)}break}}var d=n;return d}function une(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Uh(e,t,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var l=o;TC(l)&&(r+=v1(i)+":"+EC(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var c=0;c<o.length;c++)TC(o[c])&&(r+=v1(i)+":"+EC(i,o[c])+";");else{var u=Uh(e,t,o);switch(i){case"animation":case"animationName":{r+=v1(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var MC=/label:\s*([^\s;{]+)\s*(;|$)/g,mi;function w$(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";mi=void 0;var i=e[0];if(i==null||i.raw===void 0)r=!1,s+=Uh(n,t,i);else{var o=i;s+=o[0]}for(var l=1;l<e.length;l++)if(s+=Uh(n,t,e[l]),r){var c=i;s+=c[l]}MC.lastIndex=0;for(var u="",d;(d=MC.exec(s))!==null;)u+="-"+d[1];var f=ane(s)+u;return{name:f,styles:s,next:mi}}var dne=function(t){return t()},fne=M2.useInsertionEffect?M2.useInsertionEffect:!1,hne=fne||dne,j$=N.createContext(typeof HTMLElement<"u"?Gte({key:"css"}):null);j$.Provider;var pne=function(t){return N.forwardRef(function(n,r){var s=N.useContext(j$);return t(n,s,r)})},mne=N.createContext({}),x5={}.hasOwnProperty,bj="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",gne=function(t,n){var r={};for(var s in n)x5.call(n,s)&&(r[s]=n[s]);return r[bj]=t,r},xne=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return v$(n,r,s),hne(function(){return ine(n,r,s)}),null},yne=pne(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var s=e[bj],i=[r],o="";typeof e.className=="string"?o=sne(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var l=w$(i,void 0,N.useContext(mne));o+=t.key+"-"+l.name;var c={};for(var u in e)x5.call(e,u)&&u!=="css"&&u!==bj&&(c[u]=e[u]);return c.className=o,n&&(c.ref=n),N.createElement(N.Fragment,null,N.createElement(xne,{cache:t,serialized:l,isStringTag:typeof s=="string"}),N.createElement(s,c))}),vne=yne,Le=function(t,n){var r=arguments;if(n==null||!x5.call(n,"css"))return N.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=vne,i[1]=gne(t,n);for(var o=2;o<s;o++)i[o]=r[o];return N.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Le||(Le={}));function y5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w$(t)}function bne(){var e=y5.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function wne(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const jne=Math.min,Nne=Math.max,K0=Math.round,Xm=Math.floor,G0=e=>({x:e,y:e});function Sne(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function pv(){return typeof window<"u"}function N$(e){return P$(e)?(e.nodeName||"").toLowerCase():"#document"}function ba(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function S$(e){var t;return(t=(P$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function P$(e){return pv()?e instanceof Node||e instanceof ba(e).Node:!1}function Pne(e){return pv()?e instanceof Element||e instanceof ba(e).Element:!1}function v5(e){return pv()?e instanceof HTMLElement||e instanceof ba(e).HTMLElement:!1}function DC(e){return!pv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ba(e).ShadowRoot}const Ane=new Set(["inline","contents"]);function A$(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=b5(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Ane.has(s)}function Cne(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const One=new Set(["html","body","#document"]);function kne(e){return One.has(N$(e))}function b5(e){return ba(e).getComputedStyle(e)}function _ne(e){if(N$(e)==="html")return e;const t=e.assignedSlot||e.parentNode||DC(e)&&e.host||S$(e);return DC(t)?t.host:t}function C$(e){const t=_ne(e);return kne(t)?e.ownerDocument?e.ownerDocument.body:e.body:v5(t)&&A$(t)?t:C$(t)}function Y0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=C$(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=ba(s);if(i){const l=wj(o);return t.concat(o,o.visualViewport||[],A$(s)?s:[],l&&n?Y0(l):[])}return t.concat(s,Y0(s,[],n))}function wj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Tne(e){const t=b5(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=v5(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=K0(n)!==i||K0(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function w5(e){return Pne(e)?e:e.contextElement}function RC(e){const t=w5(e);if(!v5(t))return G0(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=Tne(t);let o=(i?K0(n.width):n.width)/r,l=(i?K0(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Ene=G0(0);function Mne(e){const t=ba(e);return!Cne()||!t.visualViewport?Ene:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Dne(e,t,n){return!1}function IC(e,t,n,r){t===void 0&&(t=!1);const s=e.getBoundingClientRect(),i=w5(e);let o=G0(1);t&&(o=RC(e));const l=Dne()?Mne(i):G0(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=ba(i),p=r;let m=h,g=wj(m);for(;g&&r&&p!==m;){const x=RC(g),y=g.getBoundingClientRect(),v=b5(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*x.x,j=y.top+(g.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=j,m=ba(g),g=wj(m)}}return Sne({width:d,height:f,x:c,y:u})}function O$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Rne(e,t){let n=null,r;const s=S$(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const m=Xm(f),g=Xm(s.clientWidth-(d+h)),x=Xm(s.clientHeight-(f+p)),y=Xm(d),b={rootMargin:-m+"px "+-g+"px "+-x+"px "+-y+"px",threshold:Nne(0,jne(1,c))||1};let j=!0;function w(S){const P=S[0].intersectionRatio;if(P!==c){if(!j)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!O$(u,e.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(w,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,b)}n.observe(e)}return o(!0),i}function Ine(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=w5(e),d=s||i?[...u?Y0(u):[],...Y0(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=u&&l?Rne(u,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let m,g=c?IC(e):null;c&&x();function x(){const y=IC(e);g&&!O$(g,y)&&n(),g=y,m=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var jj=N.useLayoutEffect,$ne=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],X0=function(){};function Lne(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function Fne(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=[].concat(r);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&i.push("".concat(Lne(e,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Q0=function(t){return Gne(t)?t.filter(Boolean):Kl(t)==="object"&&t!==null?[t]:[]},k$=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=Ti(t,$ne);return Ve({},n)},on=function(t,n,r){var s=t.cx,i=t.getStyles,o=t.getClassNames,l=t.className;return{css:i(n,t),className:s(r??{},o(n,t),l)}};function mv(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Bne(e){return mv(e)?window.innerHeight:e.clientHeight}function _$(e){return mv(e)?window.pageYOffset:e.scrollTop}function J0(e,t){if(mv(e)){window.scrollTo(0,t);return}e.scrollTop=t}function Vne(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}function zne(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Qm(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X0,s=_$(e),i=t-s,o=10,l=0;function c(){l+=o;var u=zne(l,s,i,n);J0(e,u),l<n?window.requestAnimationFrame(c):r(e)}c()}function $C(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),s=t.offsetHeight/3;r.bottom+s>n.bottom?J0(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):r.top-s<n.top&&J0(e,Math.max(t.offsetTop-s,0))}function Une(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function LC(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Hne(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var T$=!1,Wne={get passive(){return T$=!0}},Jm=typeof window<"u"?window:{};Jm.addEventListener&&Jm.removeEventListener&&(Jm.addEventListener("p",X0,Wne),Jm.removeEventListener("p",X0,!1));var qne=T$;function Kne(e){return e!=null}function Gne(e){return Array.isArray(e)}function Ef(e,t,n){return e?t:n}var Yne=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var i=Object.entries(t).filter(function(o){var l=ca(o,1),c=l[0];return!r.includes(c)});return i.reduce(function(o,l){var c=ca(l,2),u=c[0],d=c[1];return o[u]=d,o},{})},Xne=["children","innerProps"],Qne=["children","innerProps"];function Jne(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,s=e.placement,i=e.shouldScroll,o=e.isFixedPosition,l=e.controlHeight,c=Vne(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,h=n.getBoundingClientRect(),p=h.bottom,m=h.height,g=h.top,x=n.offsetParent.getBoundingClientRect(),y=x.top,v=o?window.innerHeight:Bne(c),b=_$(c),j=parseInt(getComputedStyle(n).marginBottom,10),w=parseInt(getComputedStyle(n).marginTop,10),S=y-w,P=v-g,A=S+b,C=f-b-g,T=p-v+b+j,k=b+g-w,O=160;switch(s){case"auto":case"bottom":if(P>=m)return{placement:"bottom",maxHeight:t};if(C>=m&&!o)return i&&Qm(c,T,O),{placement:"bottom",maxHeight:t};if(!o&&C>=r||o&&P>=r){i&&Qm(c,T,O);var I=o?P-j:C-j;return{placement:"bottom",maxHeight:I}}if(s==="auto"||o){var M=t,E=o?S:A;return E>=r&&(M=Math.min(E-j-l,t)),{placement:"top",maxHeight:M}}if(s==="bottom")return i&&J0(c,T),{placement:"bottom",maxHeight:t};break;case"top":if(S>=m)return{placement:"top",maxHeight:t};if(A>=m&&!o)return i&&Qm(c,k,O),{placement:"top",maxHeight:t};if(!o&&A>=r||o&&S>=r){var _=t;return(!o&&A>=r||o&&S>=r)&&(_=o?S-w:A-w),i&&Qm(c,k,O),{placement:"top",maxHeight:_}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function Zne(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var E$=function(t){return t==="auto"?"bottom":t},ere=function(t,n){var r,s=t.placement,i=t.theme,o=i.borderRadius,l=i.spacing,c=i.colors;return Ve((r={label:"menu"},Tf(r,Zne(s),"100%"),Tf(r,"position","absolute"),Tf(r,"width","100%"),Tf(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},M$=N.createContext(null),tre=function(t){var n=t.children,r=t.minMenuHeight,s=t.maxMenuHeight,i=t.menuPlacement,o=t.menuPosition,l=t.menuShouldScrollIntoView,c=t.theme,u=N.useContext(M$)||{},d=u.setPortalPlacement,f=N.useRef(null),h=N.useState(s),p=ca(h,2),m=p[0],g=p[1],x=N.useState(null),y=ca(x,2),v=y[0],b=y[1],j=c.spacing.controlHeight;return jj(function(){var w=f.current;if(w){var S=o==="fixed",P=l&&!S,A=Jne({maxHeight:s,menuEl:w,minHeight:r,placement:i,shouldScroll:P,isFixedPosition:S,controlHeight:j});g(A.maxHeight),b(A.placement),d==null||d(A.placement)}},[s,i,o,l,r,d,j]),n({ref:f,placerProps:Ve(Ve({},t),{},{placement:v||E$(i),maxHeight:m})})},nre=function(t){var n=t.children,r=t.innerRef,s=t.innerProps;return Le("div",He({},on(t,"menu",{menu:!0}),{ref:r},s),n)},rre=nre,sre=function(t,n){var r=t.maxHeight,s=t.theme.spacing.baseUnit;return Ve({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},ire=function(t){var n=t.children,r=t.innerProps,s=t.innerRef,i=t.isMulti;return Le("div",He({},on(t,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},r),n)},D$=function(t,n){var r=t.theme,s=r.spacing.baseUnit,i=r.colors;return Ve({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},are=D$,ore=D$,lre=function(t){var n=t.children,r=n===void 0?"No options":n,s=t.innerProps,i=Ti(t,Xne);return Le("div",He({},on(Ve(Ve({},i),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},cre=function(t){var n=t.children,r=n===void 0?"Loading...":n,s=t.innerProps,i=Ti(t,Qne);return Le("div",He({},on(Ve(Ve({},i),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},ure=function(t){var n=t.rect,r=t.offset,s=t.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},dre=function(t){var n=t.appendTo,r=t.children,s=t.controlElement,i=t.innerProps,o=t.menuPlacement,l=t.menuPosition,c=N.useRef(null),u=N.useRef(null),d=N.useState(E$(o)),f=ca(d,2),h=f[0],p=f[1],m=N.useMemo(function(){return{setPortalPlacement:p}},[]),g=N.useState(null),x=ca(g,2),y=x[0],v=x[1],b=N.useCallback(function(){if(s){var P=Une(s),A=l==="fixed"?0:window.pageYOffset,C=P[h]+A;(C!==(y==null?void 0:y.offset)||P.left!==(y==null?void 0:y.rect.left)||P.width!==(y==null?void 0:y.rect.width))&&v({offset:C,rect:P})}},[s,l,h,y==null?void 0:y.offset,y==null?void 0:y.rect.left,y==null?void 0:y.rect.width]);jj(function(){b()},[b]);var j=N.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&c.current&&(u.current=Ine(s,c.current,b,{elementResize:"ResizeObserver"in window}))},[s,b]);jj(function(){j()},[j]);var w=N.useCallback(function(P){c.current=P,j()},[j]);if(!n&&l!=="fixed"||!y)return null;var S=Le("div",He({ref:w},on(Ve(Ve({},t),{},{offset:y.offset,position:l,rect:y.rect}),"menuPortal",{"menu-portal":!0}),i),r);return Le(M$.Provider,{value:m},n?p4.createPortal(S,n):S)},fre=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},hre=function(t){var n=t.children,r=t.innerProps,s=t.isDisabled,i=t.isRtl;return Le("div",He({},on(t,"container",{"--is-disabled":s,"--is-rtl":i}),r),n)},pre=function(t,n){var r=t.theme.spacing,s=t.isMulti,i=t.hasValue,o=t.selectProps.controlShouldRenderValue;return Ve({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},mre=function(t){var n=t.children,r=t.innerProps,s=t.isMulti,i=t.hasValue;return Le("div",He({},on(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),r),n)},gre=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},xre=function(t){var n=t.children,r=t.innerProps;return Le("div",He({},on(t,"indicatorsContainer",{indicators:!0}),r),n)},FC,yre=["size"],vre=["innerProps","isRtl","size"],bre={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},R$=function(t){var n=t.size,r=Ti(t,yre);return Le("svg",He({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:bre},r))},j5=function(t){return Le(R$,He({size:20},t),Le("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},I$=function(t){return Le(R$,He({size:20},t),Le("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},$$=function(t,n){var r=t.isFocused,s=t.theme,i=s.spacing.baseUnit,o=s.colors;return Ve({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:i*2,":hover":{color:r?o.neutral80:o.neutral40}})},wre=$$,jre=function(t){var n=t.children,r=t.innerProps;return Le("div",He({},on(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Le(I$,null))},Nre=$$,Sre=function(t){var n=t.children,r=t.innerProps;return Le("div",He({},on(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Le(j5,null))},Pre=function(t,n){var r=t.isDisabled,s=t.theme,i=s.spacing.baseUnit,o=s.colors;return Ve({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},Are=function(t){var n=t.innerProps;return Le("span",He({},n,on(t,"indicatorSeparator",{"indicator-separator":!0})))},Cre=bne(FC||(FC=wne([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Ore=function(t,n){var r=t.isFocused,s=t.size,i=t.theme,o=i.colors,l=i.spacing.baseUnit;return Ve({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:l*2})},b1=function(t){var n=t.delay,r=t.offset;return Le("span",{css:y5({animation:"".concat(Cre," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},kre=function(t){var n=t.innerProps,r=t.isRtl,s=t.size,i=s===void 0?4:s,o=Ti(t,vre);return Le("div",He({},on(Ve(Ve({},o),{},{innerProps:n,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Le(b1,{delay:0,offset:r}),Le(b1,{delay:160,offset:!0}),Le(b1,{delay:320,offset:!r}))},_re=function(t,n){var r=t.isDisabled,s=t.isFocused,i=t.theme,o=i.colors,l=i.borderRadius,c=i.spacing;return Ve({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},Tre=function(t){var n=t.children,r=t.isDisabled,s=t.isFocused,i=t.innerRef,o=t.innerProps,l=t.menuIsOpen;return Le("div",He({ref:i},on(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":r||void 0}),n)},Ere=Tre,Mre=["data"],Dre=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Rre=function(t){var n=t.children,r=t.cx,s=t.getStyles,i=t.getClassNames,o=t.Heading,l=t.headingProps,c=t.innerProps,u=t.label,d=t.theme,f=t.selectProps;return Le("div",He({},on(t,"group",{group:!0}),c),Le(o,He({},l,{selectProps:f,theme:d,getStyles:s,getClassNames:i,cx:r}),u),Le("div",null,n))},Ire=function(t,n){var r=t.theme,s=r.colors,i=r.spacing;return Ve({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},$re=function(t){var n=k$(t);n.data;var r=Ti(n,Mre);return Le("div",He({},on(t,"groupHeading",{"group-heading":!0}),r))},Lre=Rre,Fre=["innerRef","isDisabled","isHidden","inputClassName"],Bre=function(t,n){var r=t.isDisabled,s=t.value,i=t.theme,o=i.spacing,l=i.colors;return Ve(Ve({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},Vre),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},L$={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Vre={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ve({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},L$)},zre=function(t){return Ve({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},L$)},Ure=function(t){var n=t.cx,r=t.value,s=k$(t),i=s.innerRef,o=s.isDisabled,l=s.isHidden,c=s.inputClassName,u=Ti(s,Fre);return Le("div",He({},on(t,"input",{"input-container":!0}),{"data-value":r||""}),Le("input",He({className:n({input:!0},c),ref:i,style:zre(l),disabled:o},u)))},Hre=Ure,Wre=function(t,n){var r=t.theme,s=r.spacing,i=r.borderRadius,o=r.colors;return Ve({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},qre=function(t,n){var r=t.theme,s=r.borderRadius,i=r.colors,o=t.cropWithEllipsis;return Ve({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Kre=function(t,n){var r=t.theme,s=r.spacing,i=r.borderRadius,o=r.colors,l=t.isFocused;return Ve({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},F$=function(t){var n=t.children,r=t.innerProps;return Le("div",r,n)},Gre=F$,Yre=F$;function Xre(e){var t=e.children,n=e.innerProps;return Le("div",He({role:"button"},n),t||Le(j5,{size:14}))}var Qre=function(t){var n=t.children,r=t.components,s=t.data,i=t.innerProps,o=t.isDisabled,l=t.removeProps,c=t.selectProps,u=r.Container,d=r.Label,f=r.Remove;return Le(u,{data:s,innerProps:Ve(Ve({},on(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:c},Le(d,{data:s,innerProps:Ve({},on(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),Le(f,{data:s,innerProps:Ve(Ve({},on(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:c}))},Jre=Qre,Zre=function(t,n){var r=t.isDisabled,s=t.isFocused,i=t.isSelected,o=t.theme,l=o.spacing,c=o.colors;return Ve({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?c.primary:s?c.primary25:"transparent",color:r?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?c.primary:c.primary50}})},ese=function(t){var n=t.children,r=t.isDisabled,s=t.isFocused,i=t.isSelected,o=t.innerRef,l=t.innerProps;return Le("div",He({},on(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":r},l),n)},tse=ese,nse=function(t,n){var r=t.theme,s=r.spacing,i=r.colors;return Ve({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},rse=function(t){var n=t.children,r=t.innerProps;return Le("div",He({},on(t,"placeholder",{placeholder:!0}),r),n)},sse=rse,ise=function(t,n){var r=t.isDisabled,s=t.theme,i=s.spacing,o=s.colors;return Ve({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},ase=function(t){var n=t.children,r=t.isDisabled,s=t.innerProps;return Le("div",He({},on(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},ose=ase,lse={ClearIndicator:Sre,Control:Ere,DropdownIndicator:jre,DownChevron:I$,CrossIcon:j5,Group:Lre,GroupHeading:$re,IndicatorsContainer:xre,IndicatorSeparator:Are,Input:Hre,LoadingIndicator:kre,Menu:rre,MenuList:ire,MenuPortal:dre,LoadingMessage:cre,NoOptionsMessage:lre,MultiValue:Jre,MultiValueContainer:Gre,MultiValueLabel:Yre,MultiValueRemove:Xre,Option:tse,Placeholder:sse,SelectContainer:hre,SingleValue:ose,ValueContainer:mre},cse=function(t){return Ve(Ve({},lse),t.components)},BC=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function use(e,t){return!!(e===t||BC(e)&&BC(t))}function dse(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!use(e[n],t[n]))return!1;return!0}function fse(e,t){t===void 0&&(t=dse);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var o=e.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}var hse={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},pse=function(t){return Le("span",He({css:hse},t))},VC=pse,mse={guidance:function(t){var n=t.isSearchable,r=t.isMulti,s=t.tabSelectsValue,i=t.context,o=t.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,s=r===void 0?"":r,i=t.labels,o=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,s=t.options,i=t.label,o=i===void 0?"":i,l=t.selectValue,c=t.isDisabled,u=t.isSelected,d=t.isAppleDevice,f=function(g,x){return g&&g.length?"".concat(g.indexOf(x)+1," of ").concat(g.length):""};if(n==="value"&&l)return"value ".concat(o," focused, ").concat(f(l,r),".");if(n==="menu"&&d){var h=c?" disabled":"",p="".concat(u?" selected":"").concat(h);return"".concat(o).concat(p,", ").concat(f(s,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},gse=function(t){var n=t.ariaSelection,r=t.focusedOption,s=t.focusedValue,i=t.focusableOptions,o=t.isFocused,l=t.selectValue,c=t.selectProps,u=t.id,d=t.isAppleDevice,f=c.ariaLiveMessages,h=c.getOptionLabel,p=c.inputValue,m=c.isMulti,g=c.isOptionDisabled,x=c.isSearchable,y=c.menuIsOpen,v=c.options,b=c.screenReaderStatus,j=c.tabSelectsValue,w=c.isLoading,S=c["aria-label"],P=c["aria-live"],A=N.useMemo(function(){return Ve(Ve({},mse),f||{})},[f]),C=N.useMemo(function(){var E="";if(n&&A.onChange){var _=n.option,L=n.options,R=n.removedValue,F=n.removedValues,W=n.value,q=function(he){return Array.isArray(he)?null:he},G=R||_||q(W),H=G?h(G):"",J=L||F||void 0,ce=J?J.map(h):[],fe=Ve({isDisabled:G&&g(G,l),label:H,labels:ce},n);E=A.onChange(fe)}return E},[n,A,g,l,h]),T=N.useMemo(function(){var E="",_=r||s,L=!!(r&&l&&l.includes(r));if(_&&A.onFocus){var R={focused:_,label:h(_),isDisabled:g(_,l),isSelected:L,options:i,context:_===r?"menu":"value",selectValue:l,isAppleDevice:d};E=A.onFocus(R)}return E},[r,s,h,g,A,i,l,d]),k=N.useMemo(function(){var E="";if(y&&v.length&&!w&&A.onFilter){var _=b({count:i.length});E=A.onFilter({inputValue:p,resultsMessage:_})}return E},[i,p,y,A,v,b,w]),O=(n==null?void 0:n.action)==="initial-input-focus",I=N.useMemo(function(){var E="";if(A.guidance){var _=s?"value":y?"menu":"input";E=A.guidance({"aria-label":S,context:_,isDisabled:r&&g(r,l),isMulti:m,isSearchable:x,tabSelectsValue:j,isInitialFocus:O})}return E},[S,r,s,m,g,x,y,A,l,j,O]),M=Le(N.Fragment,null,Le("span",{id:"aria-selection"},C),Le("span",{id:"aria-focused"},T),Le("span",{id:"aria-results"},k),Le("span",{id:"aria-guidance"},I));return Le(N.Fragment,null,Le(VC,{id:u},O&&M),Le(VC,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!O&&M))},xse=gse,Nj=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],yse=new RegExp("["+Nj.map(function(e){return e.letters}).join("")+"]","g"),B$={};for(var w1=0;w1<Nj.length;w1++)for(var j1=Nj[w1],N1=0;N1<j1.letters.length;N1++)B$[j1.letters[N1]]=j1.base;var V$=function(t){return t.replace(yse,function(n){return B$[n]})},vse=fse(V$),zC=function(t){return t.replace(/^\s+|\s+$/g,"")},bse=function(t){return"".concat(t.label," ").concat(t.value)},wse=function(t){return function(n,r){if(n.data.__isNew__)return!0;var s=Ve({ignoreCase:!0,ignoreAccents:!0,stringify:bse,trim:!0,matchFrom:"any"},t),i=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,c=s.trim,u=s.matchFrom,d=c?zC(r):r,f=c?zC(l(n)):l(n);return i&&(d=d.toLowerCase(),f=f.toLowerCase()),o&&(d=vse(d),f=V$(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},jse=["innerRef"];function Nse(e){var t=e.innerRef,n=Ti(e,jse),r=Yne(n,"onExited","in","enter","exit","appear");return Le("input",He({ref:t},r,{css:y5({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Sse=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function Pse(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,s=e.onTopArrive,i=e.onTopLeave,o=N.useRef(!1),l=N.useRef(!1),c=N.useRef(0),u=N.useRef(null),d=N.useCallback(function(x,y){if(u.current!==null){var v=u.current,b=v.scrollTop,j=v.scrollHeight,w=v.clientHeight,S=u.current,P=y>0,A=j-w-b,C=!1;A>y&&o.current&&(r&&r(x),o.current=!1),P&&l.current&&(i&&i(x),l.current=!1),P&&y>A?(n&&!o.current&&n(x),S.scrollTop=j,C=!0,o.current=!0):!P&&-y>b&&(s&&!l.current&&s(x),S.scrollTop=0,C=!0,l.current=!0),C&&Sse(x)}},[n,r,s,i]),f=N.useCallback(function(x){d(x,x.deltaY)},[d]),h=N.useCallback(function(x){c.current=x.changedTouches[0].clientY},[]),p=N.useCallback(function(x){var y=c.current-x.changedTouches[0].clientY;d(x,y)},[d]),m=N.useCallback(function(x){if(x){var y=qne?{passive:!1}:!1;x.addEventListener("wheel",f,y),x.addEventListener("touchstart",h,y),x.addEventListener("touchmove",p,y)}},[p,h,f]),g=N.useCallback(function(x){x&&(x.removeEventListener("wheel",f,!1),x.removeEventListener("touchstart",h,!1),x.removeEventListener("touchmove",p,!1))},[p,h,f]);return N.useEffect(function(){if(t){var x=u.current;return m(x),function(){g(x)}}},[t,m,g]),function(x){u.current=x}}var UC=["boxSizing","height","overflow","paddingRight","position"],HC={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function WC(e){e.cancelable&&e.preventDefault()}function qC(e){e.stopPropagation()}function KC(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function GC(){return"ontouchstart"in window||navigator.maxTouchPoints}var YC=!!(typeof window<"u"&&window.document&&window.document.createElement),tf=0,yc={capture:!1,passive:!1};function Ase(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,s=N.useRef({}),i=N.useRef(null),o=N.useCallback(function(c){if(YC){var u=document.body,d=u&&u.style;if(r&&UC.forEach(function(m){var g=d&&d[m];s.current[m]=g}),r&&tf<1){var f=parseInt(s.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,p=window.innerWidth-h+f||0;Object.keys(HC).forEach(function(m){var g=HC[m];d&&(d[m]=g)}),d&&(d.paddingRight="".concat(p,"px"))}u&&GC()&&(u.addEventListener("touchmove",WC,yc),c&&(c.addEventListener("touchstart",KC,yc),c.addEventListener("touchmove",qC,yc))),tf+=1}},[r]),l=N.useCallback(function(c){if(YC){var u=document.body,d=u&&u.style;tf=Math.max(tf-1,0),r&&tf<1&&UC.forEach(function(f){var h=s.current[f];d&&(d[f]=h)}),u&&GC()&&(u.removeEventListener("touchmove",WC,yc),c&&(c.removeEventListener("touchstart",KC,yc),c.removeEventListener("touchmove",qC,yc)))}},[r]);return N.useEffect(function(){if(t){var c=i.current;return o(c),function(){l(c)}}},[t,o,l]),function(c){i.current=c}}var Cse=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Ose={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function kse(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,s=r===void 0?!0:r,i=e.onBottomArrive,o=e.onBottomLeave,l=e.onTopArrive,c=e.onTopLeave,u=Pse({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),d=Ase({isEnabled:n}),f=function(p){u(p),d(p)};return Le(N.Fragment,null,n&&Le("div",{onClick:Cse,css:Ose}),t(f))}var _se={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Tse=function(t){var n=t.name,r=t.onFocus;return Le("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:_se,value:"",onChange:function(){}})},Ese=Tse;function N5(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Mse(){return N5(/^iPhone/i)}function z$(){return N5(/^Mac/i)}function Dse(){return N5(/^iPad/i)||z$()&&navigator.maxTouchPoints>1}function Rse(){return Mse()||Dse()}function Ise(){return z$()||Rse()}var $se=function(t){return t.label},U$=function(t){return t.label},H$=function(t){return t.value},Lse=function(t){return!!t.isDisabled},Fse={clearIndicator:Nre,container:fre,control:_re,dropdownIndicator:wre,group:Dre,groupHeading:Ire,indicatorsContainer:gre,indicatorSeparator:Pre,input:Bre,loadingIndicator:Ore,loadingMessage:ore,menu:ere,menuList:sre,menuPortal:ure,multiValue:Wre,multiValueLabel:qre,multiValueRemove:Kre,noOptionsMessage:are,option:Zre,placeholder:nse,singleValue:ise,valueContainer:pre},Bse={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Vse=4,W$=4,zse=38,Use=W$*2,Hse={baseUnit:W$,controlHeight:zse,menuGutter:Use},S1={borderRadius:Vse,colors:Bse,spacing:Hse},Wse={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:LC(),captureMenuScroll:!LC(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:wse(),formatGroupLabel:$se,getOptionLabel:U$,getOptionValue:H$,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Lse,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Hne(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function XC(e,t,n,r){var s=G$(e,t,n),i=Y$(e,t,n),o=K$(e,t),l=Z0(e,t);return{type:"option",data:t,isDisabled:s,isSelected:i,label:o,value:l,index:r}}function t0(e,t){return e.options.map(function(n,r){if("options"in n){var s=n.options.map(function(o,l){return XC(e,o,t,l)}).filter(function(o){return JC(e,o)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var i=XC(e,n,t,r);return JC(e,i)?i:void 0}).filter(Kne)}function q$(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,su(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function QC(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,su(r.options.map(function(s){return{data:s.data,id:"".concat(t,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function qse(e,t){return q$(t0(e,t))}function JC(e,t){var n=e.inputValue,r=n===void 0?"":n,s=t.data,i=t.isSelected,o=t.label,l=t.value;return(!Q$(e)||!i)&&X$(e,{label:o,value:l,data:s},r)}function Kse(e,t){var n=e.focusedValue,r=e.selectValue,s=r.indexOf(n);if(s>-1){var i=t.indexOf(n);if(i>-1)return n;if(s<t.length)return t[s]}return null}function Gse(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var P1=function(t,n){var r,s=(r=t.find(function(i){return i.data===n}))===null||r===void 0?void 0:r.id;return s||null},K$=function(t,n){return t.getOptionLabel(n)},Z0=function(t,n){return t.getOptionValue(n)};function G$(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function Y$(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=Z0(e,t);return n.some(function(s){return Z0(e,s)===r})}function X$(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var Q$=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},Yse=1,S5=function(e){fte(n,e);var t=mte(n);function n(r){var s;if(ute(this,n),s=t.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,u){var d=s.props,f=d.onChange,h=d.name;u.name=h,s.ariaOnChange(c,u),f(c,u)},s.setValue=function(c,u,d){var f=s.props,h=f.closeMenuOnSelect,p=f.isMulti,m=f.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:m}),h&&(s.setState({inputIsHiddenAfterUpdate:!p}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:u,option:d})},s.selectOption=function(c){var u=s.props,d=u.blurInputOnSelect,f=u.isMulti,h=u.name,p=s.state.selectValue,m=f&&s.isOptionSelected(c,p),g=s.isOptionDisabled(c,p);if(m){var x=s.getOptionValue(c);s.setValue(p.filter(function(y){return s.getOptionValue(y)!==x}),"deselect-option",c)}else if(!g)f?s.setValue([].concat(su(p),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:h});return}d&&s.blurInput()},s.removeValue=function(c){var u=s.props.isMulti,d=s.state.selectValue,f=s.getOptionValue(c),h=d.filter(function(m){return s.getOptionValue(m)!==f}),p=Ef(u,h,h[0]||null);s.onChange(p,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(Ef(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,u=s.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),h=Ef(c,f,f[0]||null);d&&s.onChange(h,{action:"pop-value",removedValue:d})},s.getFocusedOptionId=function(c){return P1(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return QC(t0(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return Fne.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(c){return K$(s.props,c)},s.getOptionValue=function(c){return Z0(s.props,c)},s.getStyles=function(c,u){var d=s.props.unstyled,f=Fse[c](u,d);f.boxSizing="border-box";var h=s.props.styles[c];return h?h(f,u):f},s.getClassNames=function(c,u){var d,f;return(d=(f=s.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return cse(s.props)},s.buildCategorizedOptions=function(){return t0(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return q$(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,u){s.setState({ariaSelection:Ve({value:c},u)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var u=s.props,d=u.isMulti,f=u.menuIsOpen;s.focusInput(),f?(s.setState({inputIsHiddenAfterUpdate:!d}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&mv(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(s.initialTouchX=d.clientX,s.initialTouchY=d.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-s.initialTouchX),h=Math.abs(d.clientY-s.initialTouchY),p=5;s.userIsDragging=f>p||h>p}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var u=s.props.inputValue,d=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(d,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var u=s.getFocusableOptions(),d=u.indexOf(c);s.setState({focusedOption:c,focusedOptionId:d>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return Q$(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var u=s.props,d=u.isMulti,f=u.backspaceRemovesValue,h=u.escapeClearsValue,p=u.inputValue,m=u.isClearable,g=u.isDisabled,x=u.menuIsOpen,y=u.onKeyDown,v=u.tabSelectsValue,b=u.openMenuOnFocus,j=s.state,w=j.focusedOption,S=j.focusedValue,P=j.selectValue;if(!g&&!(typeof y=="function"&&(y(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||p)return;s.focusValue("previous");break;case"ArrowRight":if(!d||p)return;s.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(S)s.removeValue(S);else{if(!f)return;d?s.popValue():m&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!x||!v||!w||b&&s.isOptionSelected(w,P))return;s.selectOption(w);break;case"Enter":if(c.keyCode===229)break;if(x){if(!w||s.isComposing)return;s.selectOption(w);break}return;case"Escape":x?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:p}),s.onMenuClose()):m&&h&&s.clearValue();break;case" ":if(p)return;if(!x){s.openMenu("first");break}if(!w)return;s.selectOption(w);break;case"ArrowUp":x?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":x?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!x)return;s.focusOption("pageup");break;case"PageDown":if(!x)return;s.focusOption("pagedown");break;case"Home":if(!x)return;s.focusOption("first");break;case"End":if(!x)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++Yse),s.state.selectValue=Q0(r.value),r.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[l],s.state.focusedOptionId=P1(i,o[l])}return s}return dte(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&$C(this.menuListRef,this.focusedOptionRef),Ise()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!o&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&($C(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,l=o.selectValue,c=o.isFocused,u=this.buildFocusableOptions(),d=s==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var u=o.length-1,d=-1;if(o.length){switch(s){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(o);o||(u=-1),s==="up"?c=u>0?u-1:l.length-1:s==="down"?c=(u+1)%l.length:s==="pageup"?(c=u-i,c<0&&(c=0)):s==="pagedown"?(c=u+i,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(S1):Ve(Ve({},S1),this.props.theme):S1}},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,h=f.isMulti,p=f.isRtl,m=f.options,g=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:l,getValue:c,hasValue:g,isMulti:h,isRtl:p,options:m,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return G$(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return Y$(this.props,s,i)}},{key:"filterOption",value:function(s,i){return X$(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,l=s.inputId,c=s.inputValue,u=s.tabIndex,d=s.form,f=s.menuIsOpen,h=s.required,p=this.getComponents(),m=p.Input,g=this.state,x=g.inputIsHidden,y=g.ariaSelection,v=this.commonProps,b=l||this.getElementId("input"),j=Ve(Ve(Ve({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(y==null?void 0:y.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?N.createElement(m,He({},v,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:b,innerRef:this.getInputRef,isDisabled:i,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},j)):N.createElement(Nse,He({id:b,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:X0,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:d,value:""},j))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,u=i.MultiValueRemove,d=i.SingleValue,f=i.Placeholder,h=this.commonProps,p=this.props,m=p.controlShouldRenderValue,g=p.isDisabled,x=p.isMulti,y=p.inputValue,v=p.placeholder,b=this.state,j=b.selectValue,w=b.focusedValue,S=b.isFocused;if(!this.hasValue()||!m)return y?null:N.createElement(f,He({},h,{key:"placeholder",isDisabled:g,isFocused:S,innerProps:{id:this.getElementId("placeholder")}}),v);if(x)return j.map(function(A,C){var T=A===w,k="".concat(s.getOptionLabel(A),"-").concat(s.getOptionValue(A));return N.createElement(o,He({},h,{components:{Container:l,Label:c,Remove:u},isFocused:T,isDisabled:g,key:k,index:C,removeProps:{onClick:function(){return s.removeValue(A)},onTouchEnd:function(){return s.removeValue(A)},onMouseDown:function(I){I.preventDefault()}},data:A}),s.formatOptionLabel(A,"value"))});if(y)return null;var P=j[0];return N.createElement(d,He({},h,{data:P,isDisabled:g}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return N.createElement(i,He({},o,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!i||!u)return null;var f={"aria-hidden":"true"};return N.createElement(i,He({},o,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return N.createElement(o,He({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return N.createElement(i,He({},o,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,c=i.Menu,u=i.MenuList,d=i.MenuPortal,f=i.LoadingMessage,h=i.NoOptionsMessage,p=i.Option,m=this.commonProps,g=this.state.focusedOption,x=this.props,y=x.captureMenuScroll,v=x.inputValue,b=x.isLoading,j=x.loadingMessage,w=x.minMenuHeight,S=x.maxMenuHeight,P=x.menuIsOpen,A=x.menuPlacement,C=x.menuPosition,T=x.menuPortalTarget,k=x.menuShouldBlockScroll,O=x.menuShouldScrollIntoView,I=x.noOptionsMessage,M=x.onMenuScrollToTop,E=x.onMenuScrollToBottom;if(!P)return null;var _=function(H,J){var ce=H.type,fe=H.data,Z=H.isDisabled,he=H.isSelected,$=H.label,oe=H.value,D=g===fe,Y=Z?void 0:function(){return s.onOptionHover(fe)},se=Z?void 0:function(){return s.selectOption(fe)},je="".concat(s.getElementId("option"),"-").concat(J),be={id:je,onClick:se,onMouseMove:Y,onMouseOver:Y,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:he};return N.createElement(p,He({},m,{innerProps:be,data:fe,isDisabled:Z,isSelected:he,key:je,label:$,type:ce,value:oe,isFocused:D,innerRef:D?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(H.data,"menu"))},L;if(this.hasOptions())L=this.getCategorizedOptions().map(function(G){if(G.type==="group"){var H=G.data,J=G.options,ce=G.index,fe="".concat(s.getElementId("group"),"-").concat(ce),Z="".concat(fe,"-heading");return N.createElement(o,He({},m,{key:fe,data:H,options:J,Heading:l,headingProps:{id:Z,data:G.data},label:s.formatGroupLabel(G.data)}),G.options.map(function(he){return _(he,"".concat(ce,"-").concat(he.index))}))}else if(G.type==="option")return _(G,"".concat(G.index))});else if(b){var R=j({inputValue:v});if(R===null)return null;L=N.createElement(f,m,R)}else{var F=I({inputValue:v});if(F===null)return null;L=N.createElement(h,m,F)}var W={minMenuHeight:w,maxMenuHeight:S,menuPlacement:A,menuPosition:C,menuShouldScrollIntoView:O},q=N.createElement(tre,He({},m,W),function(G){var H=G.ref,J=G.placerProps,ce=J.placement,fe=J.maxHeight;return N.createElement(c,He({},m,W,{innerRef:H,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:b,placement:ce}),N.createElement(kse,{captureEnabled:y,onTopArrive:M,onBottomArrive:E,lockEnabled:k},function(Z){return N.createElement(u,He({},m,{innerRef:function($){s.getMenuListRef($),Z($)},innerProps:{role:"listbox","aria-multiselectable":m.isMulti,id:s.getElementId("listbox")},isLoading:b,maxHeight:fe,focusedOption:g}),L)}))});return T||C==="fixed"?N.createElement(d,He({},m,{appendTo:T,controlElement:this.controlRef,menuPlacement:A,menuPosition:C}),q):q}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,l=i.isDisabled,c=i.isMulti,u=i.name,d=i.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return N.createElement(Ese,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(o){var h=f.map(function(g){return s.getOptionValue(g)}).join(o);return N.createElement("input",{name:u,type:"hidden",value:h})}else{var p=f.length>0?f.map(function(g,x){return N.createElement("input",{key:"i-".concat(x),name:u,type:"hidden",value:s.getOptionValue(g)})}):N.createElement("input",{name:u,type:"hidden",value:""});return N.createElement("div",null,p)}else{var m=f[0]?this.getOptionValue(f[0]):"";return N.createElement("input",{name:u,type:"hidden",value:m})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,u=i.isFocused,d=i.selectValue,f=this.getFocusableOptions();return N.createElement(xse,He({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,u=this.props,d=u.className,f=u.id,h=u.isDisabled,p=u.menuIsOpen,m=this.state.isFocused,g=this.commonProps=this.getCommonProps();return N.createElement(l,He({},g,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:m}),this.renderLiveRegion(),N.createElement(i,He({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:m,menuIsOpen:p}),N.createElement(c,He({},g,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),N.createElement(o,He({},g,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,d=i.isFocused,f=i.prevWasFocused,h=i.instancePrefix,p=s.options,m=s.value,g=s.menuIsOpen,x=s.inputValue,y=s.isMulti,v=Q0(m),b={};if(o&&(m!==o.value||p!==o.options||g!==o.menuIsOpen||x!==o.inputValue)){var j=g?qse(s,v):[],w=g?QC(t0(s,v),"".concat(h,"-option")):[],S=l?Kse(i,v):null,P=Gse(i,j),A=P1(w,P);b={selectValue:v,focusedOption:P,focusedOptionId:A,focusableOptionsWithIds:w,focusedValue:S,clearFocusValueOnUpdate:!1}}var C=c!=null&&s!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},T=u,k=d&&f;return d&&!k&&(T={value:Ef(y,v,v[0]||null),options:v,action:"initial-input-focus"},k=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(T=null),Ve(Ve(Ve({},b),C),{},{prevProps:s,ariaSelection:T,prevWasFocused:k})}}]),n}(N.Component);S5.defaultProps=Wse;var Xse=N.forwardRef(function(e,t){var n=a$(e);return N.createElement(S5,He({ref:t},n))}),Qse=Xse,Jse=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],ZC=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,s=String(t).toLowerCase(),i=String(r.getOptionValue(n)).toLowerCase(),o=String(r.getOptionLabel(n)).toLowerCase();return i===s||o===s},A1={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,n,r,s){return!(!t||n.some(function(i){return ZC(t,i,s)})||r.some(function(i){return ZC(t,i,s)}))},getNewOptionData:function(t,n){return{label:n,value:t,__isNew__:!0}}};function Zse(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,r=e.createOptionPosition,s=r===void 0?"last":r,i=e.formatCreateLabel,o=i===void 0?A1.formatCreateLabel:i,l=e.isValidNewOption,c=l===void 0?A1.isValidNewOption:l,u=e.getNewOptionData,d=u===void 0?A1.getNewOptionData:u,f=e.onCreateOption,h=e.options,p=h===void 0?[]:h,m=e.onChange,g=Ti(e,Jse),x=g.getOptionValue,y=x===void 0?H$:x,v=g.getOptionLabel,b=v===void 0?U$:v,j=g.inputValue,w=g.isLoading,S=g.isMulti,P=g.value,A=g.name,C=N.useMemo(function(){return c(j,Q0(P),p,{getOptionValue:y,getOptionLabel:b})?d(j,o(j)):void 0},[o,d,b,y,j,c,p,P]),T=N.useMemo(function(){return(n||!w)&&C?s==="first"?[C].concat(su(p)):[].concat(su(p),[C]):p},[n,s,w,C,p]),k=N.useCallback(function(O,I){if(I.action!=="select-option")return m(O,I);var M=Array.isArray(O)?O:[O];if(M[M.length-1]===C){if(f)f(j);else{var E=d(j,j),_={action:"create-option",name:A,option:E};m(Ef(S,[].concat(su(Q0(P)),[E]),E),_)}return}m(O,I)},[d,j,S,A,C,f,m,P]);return Ve(Ve({},g),{},{options:T,onChange:k})}var eie=N.forwardRef(function(e,t){var n=a$(e),r=Zse(n);return N.createElement(S5,He({ref:t},r))}),tie=eie,sm=e=>e.type==="checkbox",hl=e=>e instanceof Date,_r=e=>e==null;const J$=e=>typeof e=="object";var bn=e=>!_r(e)&&!Array.isArray(e)&&J$(e)&&!hl(e),Z$=e=>bn(e)&&e.target?sm(e.target)?e.target.checked:e.target.value:e,nie=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,eL=(e,t)=>e.has(nie(t)),rie=e=>{const t=e.constructor&&e.constructor.prototype;return bn(t)&&t.hasOwnProperty("isPrototypeOf")},P5=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Et(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(P5&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(bn(e)&&rie(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=Et(e[s]));return r}var gv=e=>/^\w*$/.test(e),kt=e=>e===void 0,xv=e=>Array.isArray(e)?e.filter(Boolean):[],A5=e=>xv(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Pe=(e,t,n)=>{if(!t||!bn(e))return n;const r=(gv(t)?[t]:A5(t)).reduce((s,i)=>_r(s)?s:s[i],e);return kt(r)||r===e?kt(e[t])?n:e[t]:r},Xr=e=>typeof e=="boolean",br=e=>typeof e=="function",Ot=(e,t,n)=>{let r=-1;const s=gv(t)?[t]:A5(t),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const u=e[l];c=bn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const ex={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ps={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ii={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tL=B.createContext(null);tL.displayName="HookFormControlContext";const yv=()=>B.useContext(tL);var nL=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Ps.all&&(t._proxyFormState[o]=!r||Ps.all),n&&(n[o]=!0),e[o]}});return s};const vv=typeof window<"u"?B.useLayoutEffect:B.useEffect;function sie(e){const t=yv(),{control:n=t,disabled:r,name:s,exact:i}=e||{},[o,l]=B.useState(n._formState),c=B.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return vv(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),B.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),B.useMemo(()=>nL(o,n,c.current,!1),[o,n])}var Zr=e=>typeof e=="string",Sj=(e,t,n,r,s)=>Zr(e)?(r&&t.watch.add(e),Pe(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),Pe(n,i))):(r&&(t.watchAll=!0),n),Pj=e=>_r(e)||!J$(e);function Qs(e,t,n=new WeakSet){if(Pj(e)||Pj(t))return Object.is(e,t);if(hl(e)&&hl(t))return Object.is(e.getTime(),t.getTime());const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of r){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(hl(o)&&hl(l)||bn(o)&&bn(l)||Array.isArray(o)&&Array.isArray(l)?!Qs(o,l,n):!Object.is(o,l))return!1}}return!0}function iie(e){const t=yv(),{control:n=t,name:r,defaultValue:s,disabled:i,exact:o,compute:l}=e||{},c=B.useRef(s),u=B.useRef(l),d=B.useRef(void 0),f=B.useRef(n),h=B.useRef(r);u.current=l;const[p,m]=B.useState(()=>{const j=n._getWatch(r,c.current);return u.current?u.current(j):j}),g=B.useCallback(j=>{const w=Sj(r,n._names,j||n._formValues,!1,c.current);return u.current?u.current(w):w},[n._formValues,n._names,r]),x=B.useCallback(j=>{if(!i){const w=Sj(r,n._names,j||n._formValues,!1,c.current);if(u.current){const S=u.current(w);Qs(S,d.current)||(m(S),d.current=S)}else m(w)}},[n._formValues,n._names,i,r]);vv(()=>((f.current!==n||!Qs(h.current,r))&&(f.current=n,h.current=r,x()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:j=>{x(j.values)}})),[n,o,r,x]),B.useEffect(()=>n._removeUnmounted());const y=f.current!==n,v=h.current,b=B.useMemo(()=>{if(i)return null;const j=!y&&!Qs(v,r);return y||j?g():null},[i,y,r,v,g]);return b!==null?b:p}function aie(e){const t=yv(),{name:n,disabled:r,control:s=t,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=eL(s._names.array,n),u=B.useMemo(()=>Pe(s._formValues,n,Pe(s._defaultValues,n,o)),[s,n,o]),d=iie({control:s,name:n,defaultValue:u,exact:l}),f=sie({control:s,name:n,exact:l}),h=B.useRef(e),p=B.useRef(void 0),m=B.useRef(s.register(n,{...e.rules,value:d,...Xr(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const g=B.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Pe(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!Pe(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Pe(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Pe(f.validatingFields,n)},error:{enumerable:!0,get:()=>Pe(f.errors,n)}}),[f,n]),x=B.useCallback(j=>m.current.onChange({target:{value:Z$(j),name:n},type:ex.CHANGE}),[n]),y=B.useCallback(()=>m.current.onBlur({target:{value:Pe(s._formValues,n),name:n},type:ex.BLUR}),[n,s._formValues]),v=B.useCallback(j=>{const w=Pe(s._fields,n);w&&w._f&&j&&(w._f.ref={focus:()=>br(j.focus)&&j.focus(),select:()=>br(j.select)&&j.select(),setCustomValidity:S=>br(j.setCustomValidity)&&j.setCustomValidity(S),reportValidity:()=>br(j.reportValidity)&&j.reportValidity()})},[s._fields,n]),b=B.useMemo(()=>({name:n,value:d,...Xr(r)||f.disabled?{disabled:f.disabled||r}:{},onChange:x,onBlur:y,ref:v}),[n,r,f.disabled,x,y,v,d]);return B.useEffect(()=>{const j=s._options.shouldUnregister||i,w=p.current;w&&w!==n&&!c&&s.unregister(w),s.register(n,{...h.current.rules,...Xr(h.current.disabled)?{disabled:h.current.disabled}:{}});const S=(P,A)=>{const C=Pe(s._fields,P);C&&C._f&&(C._f.mount=A)};if(S(n,!0),j){const P=Et(Pe(s._options.defaultValues,n,h.current.defaultValue));Ot(s._defaultValues,n,P),kt(Pe(s._formValues,n))&&Ot(s._formValues,n,P)}return!c&&s.register(n),p.current=n,()=>{(c?j&&!s._state.action:j)?s.unregister(n):S(n,!1)}},[n,s,c,i]),B.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),B.useMemo(()=>({field:b,formState:f,fieldState:g}),[b,f,g])}const Mf=e=>e.render(aie(e)),oie=B.createContext(null);oie.displayName="HookFormContext";var lie=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Rr=e=>Array.isArray(e)?e:[e],eO=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function rL(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],i=t[r];if(s&&bn(s)&&i){const o=rL(s,i);bn(o)&&(n[r]=o)}else e[r]&&(n[r]=i)}return n}var rr=e=>bn(e)&&!Object.keys(e).length,C5=e=>e.type==="file",tx=e=>{if(!P5)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},sL=e=>e.type==="select-multiple",O5=e=>e.type==="radio",cie=e=>O5(e)||sm(e),C1=e=>tx(e)&&e.isConnected;function uie(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=kt(e)?r++:e[t[r++]];return e}function die(e){for(const t in e)if(e.hasOwnProperty(t)&&!kt(e[t]))return!1;return!0}function cn(e,t){const n=Array.isArray(t)?t:gv(t)?[t]:A5(t),r=n.length===1?e:uie(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(bn(r)&&rr(r)||Array.isArray(r)&&die(r))&&cn(e,n.slice(0,-1)),e}var fie=e=>{for(const t in e)if(br(e[t]))return!0;return!1};function iL(e){return Array.isArray(e)||bn(e)&&!fie(e)}function Aj(e,t={}){for(const n in e){const r=e[n];iL(r)?(t[n]=Array.isArray(r)?[]:{},Aj(r,t[n])):kt(r)||(t[n]=!0)}return t}function Cc(e,t,n){n||(n=Aj(t));for(const r in e){const s=e[r];if(iL(s))kt(t)||Pj(n[r])?n[r]=Aj(s,Array.isArray(s)?[]:{}):Cc(s,_r(t)?{}:t[r],n[r]);else{const i=t[r];n[r]=!Qs(s,i)}}return n}const tO={value:!1,isValid:!1},nO={value:!0,isValid:!0};var aL=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!kt(e[0].attributes.value)?kt(e[0].value)||e[0].value===""?nO:{value:e[0].value,isValid:!0}:nO:tO}return tO},oL=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>kt(e)?e:t?e===""?NaN:e&&+e:n&&Zr(e)?new Date(e):r?r(e):e;const rO={isValid:!1,value:null};var lL=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,rO):rO;function sO(e){const t=e.ref;return C5(t)?t.files:O5(t)?lL(e.refs).value:sL(t)?[...t.selectedOptions].map(({value:n})=>n):sm(t)?aL(e.refs).value:oL(kt(t.value)?e.ref.value:t.value,e)}var hie=(e,t,n,r)=>{const s={};for(const i of e){const o=Pe(t,i);o&&Ot(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},nx=e=>e instanceof RegExp,nf=e=>kt(e)?e:nx(e)?e.source:bn(e)?nx(e.value)?e.value.source:e.value:e,qc=e=>({isOnSubmit:!e||e===Ps.onSubmit,isOnBlur:e===Ps.onBlur,isOnChange:e===Ps.onChange,isOnAll:e===Ps.all,isOnTouch:e===Ps.onTouched});const iO="AsyncFunction";var pie=e=>!!e&&!!e.validate&&!!(br(e.validate)&&e.validate.constructor.name===iO||bn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===iO)),mie=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Cj=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const au=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=Pe(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(au(l,t))break}else if(bn(l)&&au(l,t))break}}};function aO(e,t,n){const r=Pe(e,n);if(r||gv(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=Pe(t,i),l=Pe(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var gie=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return rr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||Ps.all))},xie=(e,t,n)=>!e||!t||e===t||Rr(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),yie=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,vie=(e,t)=>!xv(Pe(e,t)).length&&cn(e,t),cL=(e,t,n)=>{const r=Rr(Pe(e,n));return Ot(r,"root",t[n]),Ot(e,n,r),e};function oO(e,t,n="validate"){if(Zr(e)||Array.isArray(e)&&e.every(Zr)||Xr(e)&&!e)return{type:n,message:Zr(e)?e:"",ref:t}}var vc=e=>bn(e)&&!nx(e)?e:{value:e,message:""},Oj=async(e,t,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:m,name:g,valueAsNumber:x,mount:y}=e._f,v=Pe(n,g);if(!y||t.has(g))return{};const b=l?l[0]:o,j=O=>{s&&b.reportValidity&&(b.setCustomValidity(Xr(O)?"":O||""),b.reportValidity())},w={},S=O5(o),P=sm(o),A=S||P,C=(x||C5(o))&&kt(o.value)&&kt(v)||tx(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,T=lie.bind(null,g,r,w),k=(O,I,M,E=Ii.maxLength,_=Ii.minLength)=>{const L=O?I:M;w[g]={type:O?E:_,message:L,ref:o,...T(O?E:_,L)}};if(i?!Array.isArray(v)||!v.length:c&&(!A&&(C||_r(v))||Xr(v)&&!v||P&&!aL(l).isValid||S&&!lL(l).isValid)){const{value:O,message:I}=Zr(c)?{value:!!c,message:c}:vc(c);if(O&&(w[g]={type:Ii.required,message:I,ref:b,...T(Ii.required,I)},!r))return j(I),w}if(!C&&(!_r(f)||!_r(h))){let O,I;const M=vc(h),E=vc(f);if(!_r(v)&&!isNaN(v)){const _=o.valueAsNumber||v&&+v;_r(M.value)||(O=_>M.value),_r(E.value)||(I=_<E.value)}else{const _=o.valueAsDate||new Date(v),L=W=>new Date(new Date().toDateString()+" "+W),R=o.type=="time",F=o.type=="week";Zr(M.value)&&v&&(O=R?L(v)>L(M.value):F?v>M.value:_>new Date(M.value)),Zr(E.value)&&v&&(I=R?L(v)<L(E.value):F?v<E.value:_<new Date(E.value))}if((O||I)&&(k(!!O,M.message,E.message,Ii.max,Ii.min),!r))return j(w[g].message),w}if((u||d)&&!C&&(Zr(v)||i&&Array.isArray(v))){const O=vc(u),I=vc(d),M=!_r(O.value)&&v.length>+O.value,E=!_r(I.value)&&v.length<+I.value;if((M||E)&&(k(M,O.message,I.message),!r))return j(w[g].message),w}if(p&&!C&&Zr(v)){const{value:O,message:I}=vc(p);if(nx(O)&&!v.match(O)&&(w[g]={type:Ii.pattern,message:I,ref:o,...T(Ii.pattern,I)},!r))return j(I),w}if(m){if(br(m)){const O=await m(v,n),I=oO(O,b);if(I&&(w[g]={...I,...T(Ii.validate,I.message)},!r))return j(I.message),w}else if(bn(m)){let O={};for(const I in m){if(!rr(O)&&!r)break;const M=oO(await m[I](v,n),b,I);M&&(O={...M,...T(I,M.message)},j(M.message),r&&(w[g]=O))}if(!rr(O)&&(w[g]={ref:b,...O},!r))return w}}return j(!0),w};const bie={mode:Ps.onSubmit,reValidateMode:Ps.onChange,shouldFocusError:!0};function wie(e={}){let t={...bie,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:br(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=bn(t.defaultValues)||bn(t.values)?Et(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Et(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:eO(),state:eO()},m=t.criteriaMode===Ps.all,g=U=>X=>{clearTimeout(u),u=setTimeout(U,X)},x=async U=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||U)){let X;t.resolver?(X=rr((await A()).errors),y()):X=await T(r,!0),X!==n.isValid&&p.state.next({isValid:X})}},y=(U,X)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((U||Array.from(l.mount)).forEach(V=>{V&&(X?Ot(n.validatingFields,V,X):cn(n.validatingFields,V))}),p.state.next({validatingFields:n.validatingFields,isValidating:!rr(n.validatingFields)}))},v=(U,X=[],V,le,re=!0,K=!0)=>{if(le&&V&&!t.disabled){if(o.action=!0,K&&Array.isArray(Pe(r,U))){const de=V(Pe(r,U),le.argA,le.argB);re&&Ot(r,U,de)}if(K&&Array.isArray(Pe(n.errors,U))){const de=V(Pe(n.errors,U),le.argA,le.argB);re&&Ot(n.errors,U,de),vie(n.errors,U)}if((f.touchedFields||h.touchedFields)&&K&&Array.isArray(Pe(n.touchedFields,U))){const de=V(Pe(n.touchedFields,U),le.argA,le.argB);re&&Ot(n.touchedFields,U,de)}(f.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Cc(s,i)),p.state.next({name:U,isDirty:O(U,X),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ot(i,U,X)},b=(U,X)=>{Ot(n.errors,U,X),p.state.next({errors:n.errors})},j=U=>{n.errors=U,p.state.next({errors:n.errors,isValid:!1})},w=(U,X,V,le)=>{const re=Pe(r,U);if(re){const K=Pe(i,U,kt(V)?Pe(s,U):V);kt(K)||le&&le.defaultChecked||X?Ot(i,U,X?K:sO(re._f)):E(U,K),o.mount&&!o.action&&x()}},S=(U,X,V,le,re)=>{let K=!1,de=!1;const Ae={name:U};if(!t.disabled){if(!V||le){(f.isDirty||h.isDirty)&&(de=n.isDirty,n.isDirty=Ae.isDirty=O(),K=de!==Ae.isDirty);const Oe=Qs(Pe(s,U),X);de=!!Pe(n.dirtyFields,U),Oe?cn(n.dirtyFields,U):Ot(n.dirtyFields,U,!0),Ae.dirtyFields=n.dirtyFields,K=K||(f.dirtyFields||h.dirtyFields)&&de!==!Oe}if(V){const Oe=Pe(n.touchedFields,U);Oe||(Ot(n.touchedFields,U,V),Ae.touchedFields=n.touchedFields,K=K||(f.touchedFields||h.touchedFields)&&Oe!==V)}K&&re&&p.state.next(Ae)}return K?Ae:{}},P=(U,X,V,le)=>{const re=Pe(n.errors,U),K=(f.isValid||h.isValid)&&Xr(X)&&n.isValid!==X;if(t.delayError&&V?(c=g(()=>b(U,V)),c(t.delayError)):(clearTimeout(u),c=null,V?Ot(n.errors,U,V):cn(n.errors,U)),(V?!Qs(re,V):re)||!rr(le)||K){const de={...le,...K&&Xr(X)?{isValid:X}:{},errors:n.errors,name:U};n={...n,...de},p.state.next(de)}},A=async U=>(y(U,!0),await t.resolver(i,t.context,hie(U||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),C=async U=>{const{errors:X}=await A(U);if(y(U),U)for(const V of U){const le=Pe(X,V);le?Ot(n.errors,V,le):cn(n.errors,V)}else n.errors=X;return X},T=async(U,X,V={valid:!0})=>{for(const le in U){const re=U[le];if(re){const{_f:K,...de}=re;if(K){const Ae=l.array.has(K.name),Oe=re._f&&pie(re._f);Oe&&f.validatingFields&&y([K.name],!0);const Fe=await Oj(re,l.disabled,i,m,t.shouldUseNativeValidation&&!X,Ae);if(Oe&&f.validatingFields&&y([K.name]),Fe[K.name]&&(V.valid=!1,X||e.shouldUseNativeValidation))break;!X&&(Pe(Fe,K.name)?Ae?cL(n.errors,Fe,K.name):Ot(n.errors,K.name,Fe[K.name]):cn(n.errors,K.name))}!rr(de)&&await T(de,X,V)}}return V.valid},k=()=>{for(const U of l.unMount){const X=Pe(r,U);X&&(X._f.refs?X._f.refs.every(V=>!C1(V)):!C1(X._f.ref))&&he(U)}l.unMount=new Set},O=(U,X)=>!t.disabled&&(U&&X&&Ot(i,U,X),!Qs(q(),s)),I=(U,X,V)=>Sj(U,l,{...o.mount?i:kt(X)?s:Zr(U)?{[U]:X}:X},V,X),M=U=>xv(Pe(o.mount?i:s,U,t.shouldUnregister?Pe(s,U,[]):[])),E=(U,X,V={})=>{const le=Pe(r,U);let re=X;if(le){const K=le._f;K&&(!K.disabled&&Ot(i,U,oL(X,K)),re=tx(K.ref)&&_r(X)?"":X,sL(K.ref)?[...K.ref.options].forEach(de=>de.selected=re.includes(de.value)):K.refs?sm(K.ref)?K.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(re)?de.checked=!!re.find(Ae=>Ae===de.value):de.checked=re===de.value||!!re)}):K.refs.forEach(de=>de.checked=de.value===re):C5(K.ref)?K.ref.value="":(K.ref.value=re,K.ref.type||p.state.next({name:U,values:Et(i)})))}(V.shouldDirty||V.shouldTouch)&&S(U,re,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&W(U)},_=(U,X,V)=>{for(const le in X){if(!X.hasOwnProperty(le))return;const re=X[le],K=U+"."+le,de=Pe(r,K);(l.array.has(U)||bn(re)||de&&!de._f)&&!hl(re)?_(K,re,V):E(K,re,V)}},L=(U,X,V={})=>{const le=Pe(r,U),re=l.array.has(U),K=Et(X);Ot(i,U,K),re?(p.array.next({name:U,values:Et(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&V.shouldDirty&&p.state.next({name:U,dirtyFields:Cc(s,i),isDirty:O(U,K)})):le&&!le._f&&!_r(K)?_(U,K,V):E(U,K,V),Cj(U,l)?p.state.next({...n,name:U,values:Et(i)}):p.state.next({name:o.mount?U:void 0,values:Et(i)})},R=async U=>{o.mount=!0;const X=U.target;let V=X.name,le=!0;const re=Pe(r,V),K=Oe=>{le=Number.isNaN(Oe)||hl(Oe)&&isNaN(Oe.getTime())||Qs(Oe,Pe(i,V,Oe))},de=qc(t.mode),Ae=qc(t.reValidateMode);if(re){let Oe,Fe;const et=X.type?sO(re._f):Z$(U),ie=U.type===ex.BLUR||U.type===ex.FOCUS_OUT,z=!mie(re._f)&&!t.resolver&&!Pe(n.errors,V)&&!re._f.deps||yie(ie,Pe(n.touchedFields,V),n.isSubmitted,Ae,de),xe=Cj(V,l,ie);Ot(i,V,et),ie?(!X||!X.readOnly)&&(re._f.onBlur&&re._f.onBlur(U),c&&c(0)):re._f.onChange&&re._f.onChange(U);const ye=S(V,et,ie),te=!rr(ye)||xe;if(!ie&&p.state.next({name:V,type:U.type,values:Et(i)}),z)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?ie&&x():ie||x()),te&&p.state.next({name:V,...xe?{}:ye});if(!ie&&xe&&p.state.next({...n}),t.resolver){const{errors:Me}=await A([V]);if(y([V]),K(et),le){const Re=aO(n.errors,r,V),ct=aO(Me,r,Re.name||V);Oe=ct.error,V=ct.name,Fe=rr(Me)}}else y([V],!0),Oe=(await Oj(re,l.disabled,i,m,t.shouldUseNativeValidation))[V],y([V]),K(et),le&&(Oe?Fe=!1:(f.isValid||h.isValid)&&(Fe=await T(r,!0)));le&&(re._f.deps&&(!Array.isArray(re._f.deps)||re._f.deps.length>0)&&W(re._f.deps),P(V,Fe,Oe,ye))}},F=(U,X)=>{if(Pe(n.errors,X)&&U.focus)return U.focus(),1},W=async(U,X={})=>{let V,le;const re=Rr(U);if(t.resolver){const K=await C(kt(U)?U:re);V=rr(K),le=U?!re.some(de=>Pe(K,de)):V}else U?(le=(await Promise.all(re.map(async K=>{const de=Pe(r,K);return await T(de&&de._f?{[K]:de}:de)}))).every(Boolean),!(!le&&!n.isValid)&&x()):le=V=await T(r);return p.state.next({...!Zr(U)||(f.isValid||h.isValid)&&V!==n.isValid?{}:{name:U},...t.resolver||!U?{isValid:V}:{},errors:n.errors}),X.shouldFocus&&!le&&au(r,F,U?re:l.mount),le},q=(U,X)=>{let V={...o.mount?i:s};return X&&(V=rL(X.dirtyFields?n.dirtyFields:n.touchedFields,V)),kt(U)?V:Zr(U)?Pe(V,U):U.map(le=>Pe(V,le))},G=(U,X)=>({invalid:!!Pe((X||n).errors,U),isDirty:!!Pe((X||n).dirtyFields,U),error:Pe((X||n).errors,U),isValidating:!!Pe(n.validatingFields,U),isTouched:!!Pe((X||n).touchedFields,U)}),H=U=>{U&&Rr(U).forEach(X=>cn(n.errors,X)),p.state.next({errors:U?n.errors:{}})},J=(U,X,V)=>{const le=(Pe(r,U,{_f:{}})._f||{}).ref,re=Pe(n.errors,U)||{},{ref:K,message:de,type:Ae,...Oe}=re;Ot(n.errors,U,{...Oe,...X,ref:le}),p.state.next({name:U,errors:n.errors,isValid:!1}),V&&V.shouldFocus&&le&&le.focus&&le.focus()},ce=(U,X)=>br(U)?p.state.subscribe({next:V=>"values"in V&&U(I(void 0,X),V)}):I(U,X,!0),fe=U=>p.state.subscribe({next:X=>{xie(U.name,X.name,U.exact)&&gie(X,U.formState||f,Ne,U.reRenderRoot)&&U.callback({values:{...i},...n,...X,defaultValues:s})}}).unsubscribe,Z=U=>(o.mount=!0,h={...h,...U.formState},fe({...U,formState:{...d,...U.formState}})),he=(U,X={})=>{for(const V of U?Rr(U):l.mount)l.mount.delete(V),l.array.delete(V),X.keepValue||(cn(r,V),cn(i,V)),!X.keepError&&cn(n.errors,V),!X.keepDirty&&cn(n.dirtyFields,V),!X.keepTouched&&cn(n.touchedFields,V),!X.keepIsValidating&&cn(n.validatingFields,V),!t.shouldUnregister&&!X.keepDefaultValue&&cn(s,V);p.state.next({values:Et(i)}),p.state.next({...n,...X.keepDirty?{isDirty:O()}:{}}),!X.keepIsValid&&x()},$=({disabled:U,name:X})=>{if(Xr(U)&&o.mount||U||l.disabled.has(X)){const re=l.disabled.has(X)!==!!U;U?l.disabled.add(X):l.disabled.delete(X),re&&o.mount&&!o.action&&x()}},oe=(U,X={})=>{let V=Pe(r,U);const le=Xr(X.disabled)||Xr(t.disabled);return Ot(r,U,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:U}},name:U,mount:!0,...X}}),l.mount.add(U),V?$({disabled:Xr(X.disabled)?X.disabled:t.disabled,name:U}):w(U,!0,X.value),{...le?{disabled:X.disabled||t.disabled}:{},...t.progressive?{required:!!X.required,min:nf(X.min),max:nf(X.max),minLength:nf(X.minLength),maxLength:nf(X.maxLength),pattern:nf(X.pattern)}:{},name:U,onChange:R,onBlur:R,ref:re=>{if(re){oe(U,X),V=Pe(r,U);const K=kt(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,de=cie(K),Ae=V._f.refs||[];if(de?Ae.find(Oe=>Oe===K):K===V._f.ref)return;Ot(r,U,{_f:{...V._f,...de?{refs:[...Ae.filter(C1),K,...Array.isArray(Pe(s,U))?[{}]:[]],ref:{type:K.type,name:U}}:{ref:K}}}),w(U,!1,void 0,K)}else V=Pe(r,U,{}),V._f&&(V._f.mount=!1),(t.shouldUnregister||X.shouldUnregister)&&!(eL(l.array,U)&&o.action)&&l.unMount.add(U)}}},D=()=>t.shouldFocusError&&au(r,F,l.mount),Y=U=>{Xr(U)&&(p.state.next({disabled:U}),au(r,(X,V)=>{const le=Pe(r,V);le&&(X.disabled=le._f.disabled||U,Array.isArray(le._f.refs)&&le._f.refs.forEach(re=>{re.disabled=le._f.disabled||U}))},0,!1))},se=(U,X)=>async V=>{let le;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let re=Et(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:K,values:de}=await A();y(),n.errors=K,re=Et(de)}else await T(r);if(l.disabled.size)for(const K of l.disabled)cn(re,K);if(cn(n.errors,"root"),rr(n.errors)){p.state.next({errors:{}});try{await U(re,V)}catch(K){le=K}}else X&&await X({...n.errors},V),D(),setTimeout(D);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:rr(n.errors)&&!le,submitCount:n.submitCount+1,errors:n.errors}),le)throw le},je=(U,X={})=>{Pe(r,U)&&(kt(X.defaultValue)?L(U,Et(Pe(s,U))):(L(U,X.defaultValue),Ot(s,U,Et(X.defaultValue))),X.keepTouched||cn(n.touchedFields,U),X.keepDirty||(cn(n.dirtyFields,U),n.isDirty=X.defaultValue?O(U,Et(Pe(s,U))):O()),X.keepError||(cn(n.errors,U),f.isValid&&x()),p.state.next({...n}))},be=(U,X={})=>{const V=U?Et(U):s,le=Et(V),re=rr(U),K=re?s:le;if(X.keepDefaultValues||(s=V),!X.keepValues){if(X.keepDirtyValues){const de=new Set([...l.mount,...Object.keys(Cc(s,i))]);for(const Ae of Array.from(de)){const Oe=Pe(n.dirtyFields,Ae),Fe=Pe(i,Ae),et=Pe(K,Ae);Oe&&!kt(Fe)?Ot(K,Ae,Fe):!Oe&&!kt(et)&&L(Ae,et)}}else{if(P5&&kt(U))for(const de of l.mount){const Ae=Pe(r,de);if(Ae&&Ae._f){const Oe=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(tx(Oe)){const Fe=Oe.closest("form");if(Fe){Fe.reset();break}}}}if(X.keepFieldsRef)for(const de of l.mount)L(de,Pe(K,de));else r={}}i=t.shouldUnregister?X.keepDefaultValues?Et(s):{}:Et(K),p.array.next({values:{...K}}),p.state.next({values:{...K}})}l={mount:X.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!X.keepIsValid||!!X.keepDirtyValues||!t.shouldUnregister&&!rr(K),o.watch=!!t.shouldUnregister,o.keepIsValid=!!X.keepIsValid,o.action=!1,X.keepErrors||(n.errors={}),p.state.next({submitCount:X.keepSubmitCount?n.submitCount:0,isDirty:re?!1:X.keepDirty?n.isDirty:!!(X.keepDefaultValues&&!Qs(U,s)),isSubmitted:X.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:X.keepDirtyValues?X.keepDefaultValues&&i?Cc(s,i):n.dirtyFields:X.keepDefaultValues&&U?Cc(s,U):X.keepDirty?n.dirtyFields:{},touchedFields:X.keepTouched?n.touchedFields:{},errors:X.keepErrors?n.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},_e=(U,X)=>be(br(U)?U(i):U,{...t.resetOptions,...X}),ne=(U,X={})=>{const V=Pe(r,U),le=V&&V._f;if(le){const re=le.refs?le.refs[0]:le.ref;re.focus&&setTimeout(()=>{re.focus(),X.shouldSelect&&br(re.select)&&re.select()})}},Ne=U=>{n={...n,...U}},ze={control:{register:oe,unregister:he,getFieldState:G,handleSubmit:se,setError:J,_subscribe:fe,_runSchema:A,_updateIsValidating:y,_focusError:D,_getWatch:I,_getDirty:O,_setValid:x,_setFieldArray:v,_setDisabledField:$,_setErrors:j,_getFieldArray:M,_reset:be,_resetDefaultValues:()=>br(t.defaultValues)&&t.defaultValues().then(U=>{_e(U,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:Y,_subjects:p,_proxyFormState:f,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(U){o=U},get _defaultValues(){return s},get _names(){return l},set _names(U){l=U},get _formState(){return n},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:Z,trigger:W,register:oe,handleSubmit:se,watch:ce,setValue:L,getValues:q,reset:_e,resetField:je,clearErrors:H,unregister:he,setError:J,setFocus:ne,getFieldState:G};return{...ze,formControl:ze}}var Ia=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},O1=(e,t,n={})=>n.shouldFocus||kt(n.shouldFocus)?n.focusName||`${e}.${kt(n.focusIndex)?t:n.focusIndex}.`:"",k1=(e,t)=>[...e,...Rr(t)],_1=e=>Array.isArray(e)?e.map(()=>{}):void 0;function T1(e,t,n){return[...e.slice(0,t),...Rr(n),...e.slice(t)]}var E1=(e,t,n)=>Array.isArray(e)?(kt(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],M1=(e,t)=>[...Rr(t),...Rr(e)];function jie(e,t){let n=0;const r=[...e];for(const s of t)r.splice(s-n,1),n++;return xv(r).length?r:[]}var D1=(e,t)=>kt(t)?[]:jie(e,Rr(t).sort((n,r)=>n-r)),R1=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},lO=(e,t,n)=>(e[t]=n,e);function kj(e){const t=yv(),{control:n=t,name:r,keyName:s="id",shouldUnregister:i,rules:o}=e,[l,c]=B.useState(n._getFieldArray(r)),u=B.useRef(n._getFieldArray(r).map(Ia)),d=B.useRef(!1);n._names.array.add(r),B.useMemo(()=>o&&l.length>=0&&n.register(r,o),[n,r,l.length,o]),vv(()=>n._subjects.array.subscribe({next:({values:j,name:w})=>{if(w===r||!w){const S=Pe(j,r);Array.isArray(S)&&(c(S),u.current=S.map(Ia))}}}).unsubscribe,[n,r]);const f=B.useCallback(j=>{d.current=!0,n._setFieldArray(r,j)},[n,r]),h=(j,w)=>{const S=Rr(Et(j)),P=k1(n._getFieldArray(r),S);n._names.focus=O1(r,P.length-1,w),u.current=k1(u.current,S.map(Ia)),f(P),c(P),n._setFieldArray(r,P,k1,{argA:_1(j)})},p=(j,w)=>{const S=Rr(Et(j)),P=M1(n._getFieldArray(r),S);n._names.focus=O1(r,0,w),u.current=M1(u.current,S.map(Ia)),f(P),c(P),n._setFieldArray(r,P,M1,{argA:_1(j)})},m=j=>{const w=D1(n._getFieldArray(r),j);u.current=D1(u.current,j),f(w),c(w),!Array.isArray(Pe(n._fields,r))&&Ot(n._fields,r,void 0),n._setFieldArray(r,w,D1,{argA:j})},g=(j,w,S)=>{const P=Rr(Et(w)),A=T1(n._getFieldArray(r),j,P);n._names.focus=O1(r,j,S),u.current=T1(u.current,j,P.map(Ia)),f(A),c(A),n._setFieldArray(r,A,T1,{argA:j,argB:_1(w)})},x=(j,w)=>{const S=n._getFieldArray(r);R1(S,j,w),R1(u.current,j,w),f(S),c(S),n._setFieldArray(r,S,R1,{argA:j,argB:w},!1)},y=(j,w)=>{const S=n._getFieldArray(r);E1(S,j,w),E1(u.current,j,w),f(S),c(S),n._setFieldArray(r,S,E1,{argA:j,argB:w},!1)},v=(j,w)=>{const S=Et(w),P=lO(n._getFieldArray(r),j,S);u.current=[...P].map((A,C)=>!A||C===j?Ia():u.current[C]),f(P),c([...P]),n._setFieldArray(r,P,lO,{argA:j,argB:S},!0,!1)},b=j=>{const w=Rr(Et(j));u.current=w.map(Ia),f([...w]),c([...w]),n._setFieldArray(r,[...w],S=>S,{},!0,!1)};return B.useEffect(()=>{if(n._state.action=!1,Cj(r,n._names)&&n._subjects.state.next({...n._formState}),d.current&&(!qc(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!qc(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(j=>{n._updateIsValidating([r]);const w=Pe(j.errors,r),S=Pe(n._formState.errors,r);(S?!w&&S.type||w&&(S.type!==w.type||S.message!==w.message):w&&w.type)&&(w?Ot(n._formState.errors,r,w):cn(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const j=Pe(n._fields,r);j&&j._f&&!(qc(n._options.reValidateMode).isOnSubmit&&qc(n._options.mode).isOnSubmit)&&Oj(j,n._names.disabled,n._formValues,n._options.criteriaMode===Ps.all,n._options.shouldUseNativeValidation,!0).then(w=>!rr(w)&&n._subjects.state.next({errors:cL(n._formState.errors,w,r)}))}n._subjects.state.next({name:r,values:Et(n._formValues)}),n._names.focus&&au(n._fields,(j,w)=>{if(n._names.focus&&w.startsWith(n._names.focus)&&j.focus)return j.focus(),1}),n._names.focus="",n._setValid(),d.current=!1},[l,r,n]),B.useEffect(()=>(!Pe(n._formValues,r)&&n._setFieldArray(r),()=>{const j=(w,S)=>{const P=Pe(n._fields,w);P&&P._f&&(P._f.mount=S)};n._options.shouldUnregister||i?n.unregister(r):j(r,!1)}),[r,n,s,i]),{swap:B.useCallback(x,[f,r,n]),move:B.useCallback(y,[f,r,n]),prepend:B.useCallback(p,[f,r,n]),append:B.useCallback(h,[f,r,n]),remove:B.useCallback(m,[f,r,n]),insert:B.useCallback(g,[f,r,n]),update:B.useCallback(v,[f,r,n]),replace:B.useCallback(b,[f,r,n]),fields:B.useMemo(()=>l.map((j,w)=>({...j,[s]:u.current[w]||Ia()})),[l,s])}}function Ut(e={}){const t=B.useRef(void 0),n=B.useRef(void 0),[r,s]=B.useState({isDirty:!1,isValidating:!1,isLoading:br(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:br(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!br(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=wie(e);t.current={...l,formState:r}}const i=t.current.control;return i._options=e,vv(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),B.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),B.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),B.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),B.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),B.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),B.useEffect(()=>{var o;e.values&&!Qs(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),n.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),B.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=B.useMemo(()=>nL(r,i),[i,r]),t.current}const Nie={control:(e,t)=>({...e,minHeight:"42px",borderRadius:"0.5rem",borderColor:t.isFocused?"#3b82f6":t.selectProps.error?"#fca5a5":"#d1d5db",boxShadow:t.isFocused?"0 0 0 2px rgba(59, 130, 246, 0.2)":"none","&:hover":{borderColor:t.isFocused?"#3b82f6":"#9ca3af"},backgroundColor:t.isDisabled?"#f3f4f6":"#ffffff"}),valueContainer:e=>({...e,padding:"2px 12px"}),input:e=>({...e,margin:"0",padding:"0"}),placeholder:e=>({...e,color:"#9ca3af"}),singleValue:e=>({...e,color:"#111827"}),multiValue:e=>({...e,backgroundColor:"#eff6ff",borderRadius:"0.375rem"}),multiValueLabel:e=>({...e,color:"#1d4ed8",fontSize:"0.875rem",padding:"2px 6px"}),multiValueRemove:e=>({...e,color:"#1d4ed8","&:hover":{backgroundColor:"#dbeafe",color:"#1e40af"}}),menu:e=>({...e,borderRadius:"0.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e5e7eb",zIndex:50}),menuList:e=>({...e,padding:"4px"}),option:(e,t)=>({...e,borderRadius:"0.375rem",padding:"8px 12px",backgroundColor:t.isSelected?"#3b82f6":t.isFocused?"#eff6ff":"transparent",color:t.isSelected?"#ffffff":"#374151","&:active":{backgroundColor:t.isSelected?"#3b82f6":"#dbeafe"}}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:(e,t)=>({...e,color:"#6b7280","&:hover":{color:"#374151"},transform:t.selectProps.menuIsOpen?"rotate(180deg)":null,transition:"transform 0.2s ease"}),clearIndicator:e=>({...e,color:"#6b7280","&:hover":{color:"#ef4444"}}),loadingIndicator:e=>({...e,color:"#3b82f6"})},uL=N.forwardRef(({label:e,error:t,helperText:n,options:r=[],placeholder:s="Select...",className:i="",selectClassName:o="",labelClassName:l="",required:c=!1,disabled:u=!1,...d},f)=>{const h=`
      block w-full rounded-lg border bg-white px-4 py-2.5
      text-gray-900 appearance-none
      transition-colors duration-200
      focus:outline-none focus:ring-2 focus:ring-offset-0
      disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-500
      bg-no-repeat bg-right
    `,p=t?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500";return a.jsxs("div",{className:i,children:[e&&a.jsxs("label",{className:`block text-sm font-medium text-gray-700 mb-1.5 ${l}`,children:[e,c&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{ref:f,disabled:u,className:`
              ${h}
              ${p}
              ${o}
            `,...d,children:[s&&a.jsx("option",{value:"",disabled:!0,children:s}),r.map(m=>a.jsx("option",{value:m.value,disabled:m.disabled,children:m.label},m.value))]}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(t||n)&&a.jsx("p",{className:`mt-1.5 text-sm ${t?"text-red-600":"text-gray-500"}`,children:t||n})]})});uL.displayName="NativeSelect";const _j=N.forwardRef(({label:e,error:t,helperText:n,options:r=[],placeholder:s="Select...",className:i="",labelClassName:o="",required:l=!1,disabled:c=!1,isMulti:u=!1,isSearchable:d=!0,isClearable:f=!0,isLoading:h=!1,creatable:p=!1,onChange:m,value:g,...x},y)=>{const v=p?tie:Qse,b=()=>g?u?Array.isArray(g)?g.map(w=>typeof w=="object"&&w!==null?w:r.find(S=>S.value===w)).filter(Boolean):[]:typeof g=="object"&&g!==null&&"value"in g&&"label"in g?g:r.find(w=>w.value===g)||null:u?[]:null,j=w=>{m&&m(u?w||[]:w||null)};return a.jsxs("div",{className:i,children:[e&&a.jsxs("label",{className:`block text-sm font-medium text-gray-700 mb-1.5 ${o}`,children:[e,l&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx(v,{ref:y,options:r,placeholder:s,isDisabled:c,isMulti:u,isSearchable:d,isClearable:f,isLoading:h,value:b(),onChange:j,styles:Nie,error:t,classNamePrefix:"select",...x}),(t||n)&&a.jsx("p",{className:`mt-1.5 text-sm ${t?"text-red-600":"text-gray-500"}`,children:t||n})]})});_j.displayName="SelectInternal";const As=N.forwardRef(({control:e,name:t,rules:n,...r},s)=>e&&t?a.jsx(Mf,{name:t,control:e,rules:n,render:({field:{onChange:i,value:o,ref:l},fieldState:{error:c}})=>a.jsx(_j,{...r,ref:l,value:o,onChange:i,error:r.error||(c==null?void 0:c.message)})}):a.jsx(_j,{ref:s,...r}));As.displayName="Select";As.Native=uL;const Sie=30*60*1e3,Pie=5*60*1e3,cO=["mousedown","mousemove","keydown","scroll","touchstart","click"];function Aie(e={}){const{timeout:t=Sie,warningTime:n=Pie,onWarning:r=()=>{},onTimeout:s=()=>{}}=e,{logout:i,user:o}=ri(),[l,c]=N.useState(!1),[u,d]=N.useState(t),f=N.useRef(null),h=N.useRef(null),p=N.useRef(null),m=N.useRef(Date.now()),g=N.useCallback(()=>{m.current=Date.now(),c(!1),f.current&&clearTimeout(f.current),h.current&&clearTimeout(h.current),p.current&&clearInterval(p.current),h.current=setTimeout(()=>{c(!0),r();let b=n;d(b),p.current=setInterval(()=>{b-=1e3,d(b),b<=0&&clearInterval(p.current)},1e3)},t-n),f.current=setTimeout(()=>{s(),x()},t)},[t,n,r,s]),x=N.useCallback(()=>{f.current&&clearTimeout(f.current),h.current&&clearTimeout(h.current),p.current&&clearInterval(p.current),i(),alert("Your session has expired due to inactivity. Please log in again.")},[i]),y=N.useCallback(()=>{g(),c(!1)},[g]);return N.useEffect(()=>{if(!o)return;const b=()=>{l||g()};return cO.forEach(j=>{document.addEventListener(j,b,{passive:!0})}),g(),()=>{cO.forEach(j=>{document.removeEventListener(j,b)}),f.current&&clearTimeout(f.current),h.current&&clearTimeout(h.current),p.current&&clearInterval(p.current)}},[o,l,g]),{showWarning:l,timeRemaining:u,formatTimeRemaining:()=>{const b=Math.floor(u/6e4),j=Math.floor(u%6e4/1e3);return`${b}:${j.toString().padStart(2,"0")}`},extendSession:y,logout:x}}var dL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uO=B.createContext&&B.createContext(dL),Cie=["attr","size","title"];function Oie(e,t){if(e==null)return{};var n=kie(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rx.apply(this,arguments)}function dO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function sx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(n),!0).forEach(function(r){_ie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ie(e,t,n){return t=Tie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tie(e){var t=Eie(e,"string");return typeof t=="symbol"?t:t+""}function Eie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fL(e){return e&&e.map((t,n)=>B.createElement(t.tag,sx({key:n},t.attr),fL(t.child)))}function ge(e){return t=>B.createElement(Mie,rx({attr:sx({},e.attr)},t),fL(e.child))}function Mie(e){var t=n=>{var{attr:r,size:s,title:i}=e,o=Oie(e,Cie),l=s||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),B.createElement("svg",rx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:sx(sx({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&B.createElement("title",null,i),e.children)};return uO!==void 0?B.createElement(uO.Consumer,null,n=>t(n)):t(dL)}function Die(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function Rie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Iie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function I1(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function hL(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function $ie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function Lie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(e)}function pL(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function mL(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Fie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Bie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"12",x2:"2",y2:"12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]},{tag:"line",attr:{x1:"6",y1:"16",x2:"6.01",y2:"16"},child:[]},{tag:"line",attr:{x1:"10",y1:"16",x2:"10.01",y2:"16"},child:[]}]})(e)}function $1(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function gL(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function ix(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Vie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function zie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function xL(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Uie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function Hie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function Wie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function qie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(e)}function Kie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function ax(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(e)}function Gie(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function yL(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function ox(e){return ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const Yie=()=>{const{showWarning:e,formatTimeRemaining:t,extendSession:n,logout:r}=Aie({onWarning:()=>{console.log("Session expiring soon")},onTimeout:()=>{console.log("Session expired")}});return e?a.jsx(ft,{isOpen:e,onClose:n,title:"Session Expiring",children:a.jsxs("div",{className:"text-center py-4",children:[a.jsx($ie,{className:"mx-auto h-12 w-12 text-yellow-500 mb-4"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Your session will expire in"}),a.jsx("p",{className:"text-3xl font-bold text-red-600 mb-4",children:t()}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"For your security, you will be automatically logged out due to inactivity. This is required for HIPAA compliance."}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsxs(Je,{variant:"outline",onClick:r,children:[a.jsx(Vie,{className:"mr-2"}),"Log Out Now"]}),a.jsx(Je,{variant:"primary",onClick:n,children:"Stay Logged In"})]})]})}):null},fO=()=>{const[e,t]=N.useState(()=>{const o=localStorage.getItem("sidebarCollapsed");return o?JSON.parse(o):!1}),[n,r]=N.useState(!1);N.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(e))},[e]);const s=()=>{t(o=>!o)},i=()=>{r(o=>!o)};return a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>r(!1)}),a.jsx(gX,{collapsed:e,onToggle:s,mobileOpen:n,onMobileClose:()=>r(!1)}),a.jsxs("div",{className:`transition-all duration-300 ${e?"lg:ml-20":"lg:ml-64"}`,children:[a.jsx(vX,{onMenuClick:i}),a.jsx("button",{onClick:i,className:"fixed top-4 left-4 z-50 p-2 rounded-md bg-white shadow-md lg:hidden",children:a.jsx(TY,{className:"h-6 w-6 text-gray-600"})}),a.jsx("main",{className:"p-4 md:p-6 lg:p-8",children:a.jsx(C7,{})})]})]})},Xie=()=>a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-2xl shadow-lg mb-4",children:a.jsx("svg",{className:"w-10 h-10 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Docsy"}),a.jsx("p",{className:"text-blue-100 mt-2",children:"Healthcare Management System"})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:a.jsx(C7,{})}),a.jsxs("p",{className:"text-center text-blue-100 text-sm mt-6",children:[" ",new Date().getFullYear()," Docsy. All rights reserved."]})]})]});function Qie(e){return ge({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function Jie(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32h214.6v214.6H0V32zm233.4 0H448v214.6H233.4V32zM0 265.4h214.6V480H0V265.4zm233.4 0H448V480H233.4V265.4z"},child:[]}]})(e)}function Gl(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function Zie(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 112c-17.6 0-32 14.4-32 32v72c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8V64c0-17.6-14.4-32-32-32s-32 14.4-32 32v152c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8V32c0-17.6-14.4-32-32-32s-32 14.4-32 32v184c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8V64c0-17.6-14.4-32-32-32S96 46.4 96 64v241l-23.6-32.5c-13-17.9-38-21.8-55.9-8.8s-21.8 38-8.8 55.9l125.6 172.7c9 12.4 23.5 19.8 38.8 19.8h197.6c22.3 0 41.6-15.3 46.7-37l26.5-112.7c3.2-13.7 4.9-28.3 5.1-42.3V144c0-17.6-14.4-32-32-32zM176 416c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm0-96c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm64 128c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm0-96c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm64 32c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm32 64c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm32-128c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"},child:[]}]})(e)}function eae(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(e)}function Yl(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function k5(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function tae(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function nae(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function rae(e){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function sae(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function L1(e){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(e)}function _5(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function _o(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function hO(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(e)}function iae(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function aae(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Zm(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function ou(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Lo(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Wn(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Ca(e){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function Oa(e){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function oae(e){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 115L69.47 307.71c-1.62 1.46-3.69 2.14-5.47 3.35V496a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V311.1c-1.7-1.16-3.72-1.82-5.26-3.2zm96 261a8 8 0 0 1-8 8h-56v56a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8v-56h-56a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8h56v-56a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v56h56a8 8 0 0 1 8 8zm186.69-139.72l-255.94-226a39.85 39.85 0 0 0-53.45 0l-256 226a16 16 0 0 0-1.21 22.6L25.5 282.7a16 16 0 0 0 22.6 1.21L277.42 81.63a16 16 0 0 1 21.17 0L527.91 283.9a16 16 0 0 0 22.6-1.21l21.4-23.82a16 16 0 0 0-1.22-22.59z"},child:[]}]})(e)}function wa(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function lae(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function cae(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function im(e){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function uae(e){return ge({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(e)}function To(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function vL(e){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function th(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function vr(e){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function Cn(e){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function dae(e){return ge({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"},child:[]}]})(e)}function fae(e){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"},child:[]}]})(e)}function T5(e){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(e)}function hae(e){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm68.53 179.48l11.31 11.31c6.25 6.25 6.25 16.38 0 22.63l-29.9 29.9L304 409.38c6.25 6.25 6.25 16.38 0 22.63l-11.31 11.31c-6.25 6.25-16.38 6.25-22.63 0L240 413.25l-30.06 30.06c-6.25 6.25-16.38 6.25-22.63 0L176 432c-6.25-6.25-6.25-16.38 0-22.63l30.06-30.06L146.74 320H128v48c0 8.84-7.16 16-16 16H96c-8.84 0-16-7.16-16-16V208c0-8.84 7.16-16 16-16h80c35.35 0 64 28.65 64 64 0 24.22-13.62 45.05-33.46 55.92L240 345.38l29.9-29.9c6.25-6.25 16.38-6.25 22.63 0zM176 272h-48v-32h48c8.82 0 16 7.18 16 16s-7.18 16-16 16zm208-150.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function pO(e){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function E5(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function Fu(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"},child:[]}]})(e)}function bv(e){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M271.06,144.3l54.27,14.3a8.59,8.59,0,0,1,6.63,8.1c0,4.6-4.09,8.4-9.12,8.4h-35.6a30,30,0,0,1-11.19-2.2c-5.24-2.2-11.28-1.7-15.3,2l-19,17.5a11.68,11.68,0,0,0-2.25,2.66,11.42,11.42,0,0,0,3.88,15.74,83.77,83.77,0,0,0,34.51,11.5V240c0,8.8,7.83,16,17.37,16h17.37c9.55,0,17.38-7.2,17.38-16V222.4c32.93-3.6,57.84-31,53.5-63-3.15-23-22.46-41.3-46.56-47.7L282.68,97.4a8.59,8.59,0,0,1-6.63-8.1c0-4.6,4.09-8.4,9.12-8.4h35.6A30,30,0,0,1,332,83.1c5.23,2.2,11.28,1.7,15.3-2l19-17.5A11.31,11.31,0,0,0,368.47,61a11.43,11.43,0,0,0-3.84-15.78,83.82,83.82,0,0,0-34.52-11.5V16c0-8.8-7.82-16-17.37-16H295.37C285.82,0,278,7.2,278,16V33.6c-32.89,3.6-57.85,31-53.51,63C227.63,119.6,247,137.9,271.06,144.3ZM565.27,328.1c-11.8-10.7-30.2-10-42.6,0L430.27,402a63.64,63.64,0,0,1-40,14H272a16,16,0,0,1,0-32h78.29c15.9,0,30.71-10.9,33.25-26.6a31.2,31.2,0,0,0,.46-5.46A32,32,0,0,0,352,320H192a117.66,117.66,0,0,0-74.1,26.29L71.4,384H16A16,16,0,0,0,0,400v96a16,16,0,0,0,16,16H372.77a64,64,0,0,0,40-14L564,377a32,32,0,0,0,1.28-48.9Z"},child:[]}]})(e)}function M5(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320.2 243.8l-49.7 99.4c-6 12.1-23.4 11.7-28.9-.6l-56.9-126.3-30 71.7H60.6l182.5 186.5c7.1 7.3 18.6 7.3 25.7 0L451.4 288H342.3l-22.1-44.2zM473.7 73.9l-2.4-2.5c-51.5-52.6-135.8-52.6-187.4 0L256 100l-27.9-28.5c-51.5-52.7-135.9-52.7-187.4 0l-2.4 2.4C-10.4 123.7-12.5 203 31 256h102.4l35.9-86.2c5.4-12.9 23.6-13.2 29.4-.4l58.2 129.3 49-97.9c5.9-11.8 22.7-11.8 28.6 0l27.6 55.2H481c43.5-53 41.4-132.3-7.3-182.1z"},child:[]}]})(e)}function pae(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function Xl(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 492v20H0v-20c0-6.627 5.373-12 12-12h20V120c0-13.255 10.745-24 24-24h88V24c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v72h88c13.255 0 24 10.745 24 24v360h20c6.627 0 12 5.373 12 12zM308 192h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-168 64h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm104 128h-40c-6.627 0-12 5.373-12 12v84h64v-84c0-6.627-5.373-12-12-12zm64-96h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-116 12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zM182 96h26v26a6 6 0 0 0 6 6h20a6 6 0 0 0 6-6V96h26a6 6 0 0 0 6-6V70a6 6 0 0 0-6-6h-26V38a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v26h-26a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6z"},child:[]}]})(e)}function Df(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function mae(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(e)}function bL(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function gae(e){return ge({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 0c35.346 0 64 28.654 64 64s-28.654 64-64 64-64-28.654-64-64S60.654 0 96 0m48 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H48c-26.51 0-48 21.49-48 48v136c0 13.255 10.745 24 24 24h16v136c0 13.255 10.745 24 24 24h64c13.255 0 24-10.745 24-24V352h16c13.255 0 24-10.745 24-24V192c0-26.51-21.49-48-48-48z"},child:[]}]})(e)}function Tj(e){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function xae(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"},child:[]}]})(e)}function mO(e){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function wL(e){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm96 304c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48zm0-192c0 4.4-3.6 8-8 8H104c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h176c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function wv(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function yae(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 224c61.9 0 112-50.1 112-112S173.9 0 112 0 0 50.1 0 112s50.1 112 112 112zm0-160c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zm224 224c-61.9 0-112 50.1-112 112s50.1 112 112 112 112-50.1 112-112-50.1-112-112-112zm0 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zM392.3.2l31.6-.1c19.4-.1 30.9 21.8 19.7 37.8L77.4 501.6a23.95 23.95 0 0 1-19.6 10.2l-33.4.1c-19.5 0-30.9-21.9-19.7-37.8l368-463.7C377.2 4 384.5.2 392.3.2z"},child:[]}]})(e)}function lx(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Hh(e){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M112 32C50.1 32 0 82.1 0 144v224c0 61.9 50.1 112 112 112s112-50.1 112-112V144c0-61.9-50.1-112-112-112zm48 224H64V144c0-26.5 21.5-48 48-48s48 21.5 48 48v112zm139.7-29.7c-3.5-3.5-9.4-3.1-12.3.8-45.3 62.5-40.4 150.1 15.9 206.4 56.3 56.3 143.9 61.2 206.4 15.9 4-2.9 4.3-8.8.8-12.3L299.7 226.3zm229.8-19c-56.3-56.3-143.9-61.2-206.4-15.9-4 2.9-4.3 8.8-.8 12.3l210.8 210.8c3.5 3.5 9.4 3.1 12.3-.8 45.3-62.6 40.5-150.1-15.9-206.4z"},child:[]}]})(e)}function Ur(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function jv(e){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.8 0 0 10.8 0 24v48c0 13.2 10.8 24 24 24h336c13.2 0 24-10.8 24-24V24c0-13.2-10.8-24-24-24zM32 480c0 17.6 14.4 32 32 32h256c17.6 0 32-14.4 32-32V128H32v352zm64-184c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48z"},child:[]}]})(e)}function Wh(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function vae(e){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function pl(e){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function xi(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Es(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function bae(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"},child:[]}]})(e)}function wae(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function gO(e){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function qh(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function jae(e){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function jL(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.1 112c-34.2.5-62.3 28.4-63 62.6-.5 24.3 12.5 45.6 32 56.8V344c0 57.3-50.2 104-112 104-60 0-109.2-44.1-111.9-99.2C265 333.8 320 269.2 320 192V36.6c0-11.4-8.1-21.3-19.3-23.5L237.8.5c-13-2.6-25.6 5.8-28.2 18.8L206.4 35c-2.6 13 5.8 25.6 18.8 28.2l30.7 6.1v121.4c0 52.9-42.2 96.7-95.1 97.2-53.4.5-96.9-42.7-96.9-96V69.4l30.7-6.1c13-2.6 21.4-15.2 18.8-28.2l-3.1-15.7C107.7 6.4 95.1-2 82.1.6L19.3 13C8.1 15.3 0 25.1 0 36.6V192c0 77.3 55.1 142 128.1 156.8C130.7 439.2 208.6 512 304 512c97 0 176-75.4 176-168V231.4c19.1-11.1 32-31.7 32-55.4 0-35.7-29.2-64.5-64.9-64zm.9 80c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"},child:[]}]})(e)}function Nae(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"},child:[]}]})(e)}function Kh(e){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function Bu(e){return ge({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Vu(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Sae(e){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function Pae(e){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"},child:[]}]})(e)}function Ql(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M277.37 11.98C261.08 4.47 243.11 0 224 0c-53.69 0-99.5 33.13-118.51 80h81.19l90.69-68.02zM342.51 80c-7.9-19.47-20.67-36.2-36.49-49.52L239.99 80h102.52zM224 256c70.69 0 128-57.31 128-128 0-5.48-.95-10.7-1.61-16H97.61c-.67 5.3-1.61 10.52-1.61 16 0 70.69 57.31 128 128 128zM80 299.7V512h128.26l-98.45-221.52A132.835 132.835 0 0 0 80 299.7zM0 464c0 26.51 21.49 48 48 48V320.24C18.88 344.89 0 381.26 0 422.4V464zm256-48h-55.38l42.67 96H256c26.47 0 48-21.53 48-48s-21.53-48-48-48zm57.6-128h-16.71c-22.24 10.18-46.88 16-72.89 16s-50.65-5.82-72.89-16h-7.37l42.67 96H256c44.11 0 80 35.89 80 80 0 18.08-6.26 34.59-16.41 48H400c26.51 0 48-21.49 48-48v-41.6c0-74.23-60.17-134.4-134.4-134.4z"},child:[]}]})(e)}function n0(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(e)}function Aae(e){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1L362.3 248.3C412.1 230.7 448 183.8 448 128 448 57.3 390.7 0 320 0c-67.1 0-121.5 51.8-126.9 117.4L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3zM96 422.4V464c0 26.5 21.5 48 48 48h350.2L207.4 290.3C144.2 301.3 96 356 96 422.4z"},child:[]}]})(e)}function Ej(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function zu(e){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Rf(e){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Cae(e){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M504 352H136.4c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0 96H136.1c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0-192H136.6c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm106.5-139L338.4 3.7a48.15 48.15 0 0 0-36.9 0L29.5 117C11.7 124.5 0 141.9 0 161.3V504c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V256c0-17.6 14.6-32 32.6-32h382.8c18 0 32.6 14.4 32.6 32v248c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V161.3c0-19.4-11.7-36.8-29.5-44.3z"},child:[]}]})(e)}function Oae(){var u,d,f;const e=Qn(),{login:t}=ri(),[n,r]=N.useState(!1),{register:s,handleSubmit:i,formState:{errors:o}}=Ut({defaultValues:{email:"",password:"",rememberMe:!1}}),l=Ge({mutationFn:Xs.login,onSuccess:h=>{console.log("Login response:",h),t(h.user,h.token),ae.success("Login successful!"),e("/dashboard")},onError:h=>{var p,m;ae.error(((m=(p=h.response)==null?void 0:p.data)==null?void 0:m.message)||"Invalid credentials")}}),c=h=>{l.mutate(h)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Be,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(Xl,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"Docsy"})]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-6",children:"Welcome back"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Sign in to your account to continue"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("form",{onSubmit:i(c),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email or Phone"}),a.jsx("input",{type:"text",id:"email",...s("email",{required:"Email or phone is required",validate:h=>{const p=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,m=/^[6-9]\d{9}$/;return!p.test(h)&&!m.test(h)?"Enter a valid email or 10-digit phone number":!0}}),className:`w-full px-4 py-3 rounded-lg border ${o.email?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"} focus:outline-none focus:ring-2 transition`,placeholder:"doctor@clinic.com or 9876543210"}),o.email&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:o.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:n?"text":"password",id:"password",...s("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:`w-full px-4 py-3 rounded-lg border ${o.password?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"} focus:outline-none focus:ring-2 transition pr-12`,placeholder:"Enter your password"}),a.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?a.jsx(vr,{}):a.jsx(Cn,{})})]}),o.password&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:o.password.message})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",...s("rememberMe"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),a.jsx(Be,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Forgot password?"})]}),l.isError&&a.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:((f=(d=(u=l.error)==null?void 0:u.response)==null?void 0:d.data)==null?void 0:f.message)||"Login failed. Please try again."}),a.jsx("button",{type:"submit",disabled:l.isPending,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l.isPending?a.jsxs(a.Fragment,{children:[a.jsx(qh,{className:"animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),a.jsxs("div",{className:"my-6 flex items-center",children:[a.jsx("div",{className:"flex-1 border-t border-gray-200"}),a.jsx("span",{className:"px-4 text-sm text-gray-400",children:"or"}),a.jsx("div",{className:"flex-1 border-t border-gray-200"})]}),a.jsxs("p",{className:"text-center text-gray-600",children:["Don't have an account?"," ",a.jsx(Be,{to:"/register",className:"text-blue-600 font-semibold hover:text-blue-700",children:"Create account"})]})]}),a.jsxs("div",{className:"text-center text-gray-400 text-sm mt-8",children:[a.jsxs("p",{children:[" ",new Date().getFullYear()," Docsy. All rights reserved."]}),a.jsx("p",{className:"mt-1",children:a.jsx(Be,{to:"/privacy",className:"text-gray-500 hover:underline",children:"Privacy Policy"})})]})]})})}const xO=[{id:1,title:"Personal Info",icon:zu},{id:2,title:"Clinic Info",icon:_5},{id:3,title:"Password",icon:bL}];function kae(){const e=Qn(),[t,n]=N.useState(1),[r,s]=N.useState(!1),[i,o]=N.useState(!1),{register:l,handleSubmit:c,watch:u,trigger:d,formState:{errors:f}}=Ut({defaultValues:{name:"",email:"",phone:"",clinicName:"",address:"",city:"",state:"",pincode:"",password:"",confirmPassword:""}}),h=u("password"),p=Ge({mutationFn:Xs.register,onSuccess:()=>{ae.success("Registration successful! Please login."),e("/login")},onError:v=>{var b,j;ae.error(((j=(b=v.response)==null?void 0:b.data)==null?void 0:j.message)||"Registration failed")}}),m=async v=>{let b=[];switch(v){case 1:b=["name","email","phone"];break;case 2:b=["clinicName","address","city","state","pincode"];break;case 3:b=["password","confirmPassword"];break;default:return!0}return await d(b)},g=async()=>{await m(t)&&t<3&&n(t+1)},x=()=>{t>1&&n(t-1)},y=v=>{const{confirmPassword:b,...j}=v;p.mutate(j)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-lg",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Be,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(Xl,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"Docsy"})]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-6",children:"Create your account"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Start managing your clinic in minutes"})]}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex items-center justify-center",children:xO.map((v,b)=>a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all ${t>v.id?"bg-green-500 border-green-500 text-white":t===v.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-400"}`,children:t>v.id?a.jsx(Wn,{}):a.jsx(v.icon,{})}),a.jsx("span",{className:`text-xs mt-2 ${t>=v.id?"text-blue-600 font-medium":"text-gray-400"}`,children:v.title})]}),b<xO.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-2 mb-6 ${t>v.id?"bg-green-500":"bg-gray-200"}`})]},v.id))})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("form",{onSubmit:c(y),children:[t===1&&a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),a.jsx("input",{type:"text",...l("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),className:`w-full px-4 py-3 rounded-lg border ${f.name?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"Dr. John Smith"}),f.name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",...l("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Enter a valid email address"}}),className:`w-full px-4 py-3 rounded-lg border ${f.email?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"doctor@clinic.com"}),f.email&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",...l("phone",{required:"Phone number is required",pattern:{value:/^[6-9]\d{9}$/,message:"Enter a valid 10-digit phone number"}}),className:`w-full px-4 py-3 rounded-lg border ${f.phone?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"9876543210"}),f.phone&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.phone.message})]})]}),t===2&&a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Clinic Name"}),a.jsx("input",{type:"text",...l("clinicName",{required:"Clinic name is required"}),className:`w-full px-4 py-3 rounded-lg border ${f.clinicName?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"City Health Clinic"}),f.clinicName&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.clinicName.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),a.jsx("textarea",{...l("address",{required:"Address is required"}),rows:2,className:`w-full px-4 py-3 rounded-lg border ${f.address?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition resize-none`,placeholder:"123, Main Street, Near City Hospital"}),f.address&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.address.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),a.jsx("input",{type:"text",...l("city",{required:"City is required"}),className:`w-full px-4 py-3 rounded-lg border ${f.city?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"Mumbai"}),f.city&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.city.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),a.jsx("input",{type:"text",...l("state",{required:"State is required"}),className:`w-full px-4 py-3 rounded-lg border ${f.state?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"Maharashtra"}),f.state&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.state.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),a.jsx("input",{type:"text",...l("pincode",{required:"Pincode is required",pattern:{value:/^\d{6}$/,message:"Enter a valid 6-digit pincode"}}),className:`w-full px-4 py-3 rounded-lg border ${f.pincode?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"400001"}),f.pincode&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.pincode.message})]})]}),t===3&&a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:r?"text":"password",...l("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:"Password must contain uppercase, lowercase, and number"}}),className:`w-full px-4 py-3 rounded-lg border ${f.password?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition pr-12`,placeholder:"Create a strong password"}),a.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?a.jsx(vr,{}):a.jsx(Cn,{})})]}),f.password&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.password.message}),a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsx("p",{className:`text-xs ${(h==null?void 0:h.length)>=8?"text-green-500":"text-gray-400"}`,children:" At least 8 characters"}),a.jsx("p",{className:`text-xs ${/[A-Z]/.test(h)?"text-green-500":"text-gray-400"}`,children:" One uppercase letter"}),a.jsx("p",{className:`text-xs ${/[a-z]/.test(h)?"text-green-500":"text-gray-400"}`,children:" One lowercase letter"}),a.jsx("p",{className:`text-xs ${/\d/.test(h)?"text-green-500":"text-gray-400"}`,children:" One number"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:i?"text":"password",...l("confirmPassword",{required:"Please confirm your password",validate:v=>v===h||"Passwords do not match"}),className:`w-full px-4 py-3 rounded-lg border ${f.confirmPassword?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition pr-12`,placeholder:"Confirm your password"}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?a.jsx(vr,{}):a.jsx(Cn,{})})]}),f.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.confirmPassword.message})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",id:"terms",...l("terms",{required:"You must accept the terms"}),className:"w-4 h-4 mt-1 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsxs("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",a.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),f.terms&&a.jsx("p",{className:"text-sm text-red-500",children:f.terms.message})]}),a.jsxs("div",{className:"flex gap-4 mt-8",children:[t>1&&a.jsxs("button",{type:"button",onClick:x,className:"flex-1 flex items-center justify-center gap-2 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:border-gray-400 transition",children:[a.jsx(Yl,{}),"Back"]}),t<3?a.jsxs("button",{type:"button",onClick:g,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:["Next",a.jsx(k5,{})]}):a.jsx("button",{type:"submit",disabled:p.isPending,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:p.isPending?a.jsxs(a.Fragment,{children:[a.jsx(qh,{className:"animate-spin"}),"Creating Account..."]}):"Create Account"})]})]}),a.jsxs("p",{className:"text-center text-gray-600 mt-6",children:["Already have an account?"," ",a.jsx(Be,{to:"/login",className:"text-blue-600 font-semibold hover:text-blue-700",children:"Sign in"})]})]}),a.jsxs("p",{className:"text-center text-gray-400 text-sm mt-8",children:[" ",new Date().getFullYear()," Docsy. All rights reserved."]})]})})}function _ae(){var u,d,f;const[e,t]=N.useState(!1),{register:n,handleSubmit:r,getValues:s,formState:{errors:i}}=Ut({defaultValues:{email:""}}),o=Ge({mutationFn:Xs.forgotPassword,onSuccess:()=>{t(!0),ae.success("Reset link sent to your email")},onError:h=>{var p,m;ae.error(((m=(p=h.response)==null?void 0:p.data)==null?void 0:m.message)||"Failed to send reset link")}}),l=h=>{o.mutate(h)},c=()=>{const h=s("email");o.mutate({email:h})};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs(Be,{to:"/",className:"inline-flex items-center space-x-2",children:[a.jsx(Xl,{className:"h-10 w-10 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"Docsy"})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Lo,{className:"text-3xl text-green-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email"}),a.jsxs("p",{className:"text-gray-500 mb-6",children:["We've sent a password reset link to"," ",a.jsx("span",{className:"font-medium text-gray-700",children:s("email")})]}),a.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:a.jsxs("p",{className:"text-sm text-blue-700",children:["Didn't receive the email? Check your spam folder or"," ",a.jsx("button",{onClick:c,disabled:o.isPending,className:"font-semibold underline hover:no-underline disabled:opacity-50",children:"click here to resend"})]})}),a.jsxs(Be,{to:"/login",className:"inline-flex items-center text-blue-600 font-semibold hover:text-blue-700",children:[a.jsx(Yl,{className:"mr-2"}),"Back to Login"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(To,{className:"text-2xl text-blue-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Forgot Password?"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"No worries! Enter your email and we'll send you a reset link."})]}),a.jsxs("form",{onSubmit:r(l),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",...n("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Enter a valid email address"}}),className:`w-full px-4 py-3 rounded-lg border ${i.email?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"} focus:outline-none focus:ring-2 transition`,placeholder:"doctor@clinic.com"}),i.email&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.email.message})]}),o.isError&&a.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm",children:((f=(d=(u=o.error)==null?void 0:u.response)==null?void 0:d.data)==null?void 0:f.message)||"Failed to send reset link. Please try again."}),a.jsx("button",{type:"submit",disabled:o.isPending,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o.isPending?a.jsxs(a.Fragment,{children:[a.jsx(qh,{className:"animate-spin mr-2"}),"Sending..."]}):"Send Reset Link"})]})]}),!e&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(Be,{to:"/login",className:"inline-flex items-center text-gray-600 hover:text-blue-600 transition",children:[a.jsx(Yl,{className:"mr-2"}),"Back to Login"]})})]}),a.jsxs("p",{className:"text-center text-gray-400 text-sm mt-8",children:[" ",new Date().getFullYear()," Docsy. All rights reserved."]})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function am(e){return e+.5|0}const oo=(e,t,n)=>Math.max(Math.min(e,n),t);function If(e){return oo(am(e*2.55),0,255)}function jo(e){return oo(am(e*255),0,255)}function Ki(e){return oo(am(e/2.55)/100,0,1)}function yO(e){return oo(am(e*100),0,100)}const ms={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Mj=[..."0123456789ABCDEF"],Tae=e=>Mj[e&15],Eae=e=>Mj[(e&240)>>4]+Mj[e&15],eg=e=>(e&240)>>4===(e&15),Mae=e=>eg(e.r)&&eg(e.g)&&eg(e.b)&&eg(e.a);function Dae(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ms[e[1]]*17,g:255&ms[e[2]]*17,b:255&ms[e[3]]*17,a:t===5?ms[e[4]]*17:255}:(t===7||t===9)&&(n={r:ms[e[1]]<<4|ms[e[2]],g:ms[e[3]]<<4|ms[e[4]],b:ms[e[5]]<<4|ms[e[6]],a:t===9?ms[e[7]]<<4|ms[e[8]]:255})),n}const Rae=(e,t)=>e<255?t(e):"";function Iae(e){var t=Mae(e)?Tae:Eae;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Rae(e.a,t):void 0}const $ae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NL(e,t,n){const r=t*Math.min(n,1-n),s=(i,o=(i+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Lae(e,t,n){const r=(s,i=(s+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Fae(e,t,n){const r=NL(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function Bae(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}function D5(e){const n=e.r/255,r=e.g/255,s=e.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),l=(i+o)/2;let c,u,d;return i!==o&&(d=i-o,u=l>.5?d/(2-i-o):d/(i+o),c=Bae(n,r,s,d,i),c=c*60+.5),[c|0,u||0,l]}function R5(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(jo)}function I5(e,t,n){return R5(NL,e,t,n)}function Vae(e,t,n){return R5(Fae,e,t,n)}function zae(e,t,n){return R5(Lae,e,t,n)}function SL(e){return(e%360+360)%360}function Uae(e){const t=$ae.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?If(+t[5]):jo(+t[5]));const s=SL(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=Vae(s,i,o):t[1]==="hsv"?r=zae(s,i,o):r=I5(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function Hae(e,t){var n=D5(e);n[0]=SL(n[0]+t),n=I5(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Wae(e){if(!e)return;const t=D5(e),n=t[0],r=yO(t[1]),s=yO(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${Ki(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const vO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},bO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qae(){const e={},t=Object.keys(bO),n=Object.keys(vO);let r,s,i,o,l;for(r=0;r<t.length;r++){for(o=l=t[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,vO[i]);i=parseInt(bO[o],16),e[l]=[i>>16&255,i>>8&255,i&255]}return e}let tg;function Kae(e){tg||(tg=qae(),tg.transparent=[0,0,0,0]);const t=tg[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Gae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Yae(e){const t=Gae.exec(e);let n=255,r,s,i;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?If(o):oo(o*255,0,255)}return r=+t[1],s=+t[3],i=+t[5],r=255&(t[2]?If(r):oo(r,0,255)),s=255&(t[4]?If(s):oo(s,0,255)),i=255&(t[6]?If(i):oo(i,0,255)),{r,g:s,b:i,a:n}}}function Xae(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ki(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const F1=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,bc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Qae(e,t,n){const r=bc(Ki(e.r)),s=bc(Ki(e.g)),i=bc(Ki(e.b));return{r:jo(F1(r+n*(bc(Ki(t.r))-r))),g:jo(F1(s+n*(bc(Ki(t.g))-s))),b:jo(F1(i+n*(bc(Ki(t.b))-i))),a:e.a+n*(t.a-e.a)}}function ng(e,t,n){if(e){let r=D5(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=I5(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function PL(e,t){return e&&Object.assign(t||{},e)}function wO(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=jo(e[3]))):(t=PL(e,{r:0,g:0,b:0,a:1}),t.a=jo(t.a)),t}function Jae(e){return e.charAt(0)==="r"?Yae(e):Uae(e)}let AL=class Dj{constructor(t){if(t instanceof Dj)return t;const n=typeof t;let r;n==="object"?r=wO(t):n==="string"&&(r=Dae(t)||Kae(t)||Jae(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=PL(this._rgb);return t&&(t.a=Ki(t.a)),t}set rgb(t){this._rgb=wO(t)}rgbString(){return this._valid?Xae(this._rgb):void 0}hexString(){return this._valid?Iae(this._rgb):void 0}hslString(){return this._valid?Wae(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,s=t.rgb;let i;const o=n===i?.5:n,l=2*o-1,c=r.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=Qae(this._rgb,t._rgb,n)),this}clone(){return new Dj(this.rgb)}alpha(t){return this._rgb.a=jo(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=am(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ng(this._rgb,2,t),this}darken(t){return ng(this._rgb,2,-t),this}saturate(t){return ng(this._rgb,1,t),this}desaturate(t){return ng(this._rgb,1,-t),this}rotate(t){return Hae(this._rgb,t),this}};/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function $i(){}const Zae=(()=>{let e=0;return()=>e++})();function bt(e){return e==null}function vn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function lt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function mr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function oi(e,t){return mr(e)?e:t}function st(e,t){return typeof e>"u"?t:e}const eoe=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,CL=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Bt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Nt(e,t,n,r){let s,i,o;if(vn(e))for(i=e.length,s=0;s<i;s++)t.call(n,e[s],s);else if(lt(e))for(o=Object.keys(e),i=o.length,s=0;s<i;s++)t.call(n,e[o[s]],o[s])}function cx(e,t){let n,r,s,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],i=t[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function ux(e){if(vn(e))return e.map(ux);if(lt(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=ux(e[n[s]]);return t}return e}function OL(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function toe(e,t,n,r){if(!OL(e))return;const s=t[e],i=n[e];lt(s)&&lt(i)?Gh(s,i,r):t[e]=ux(i)}function Gh(e,t,n){const r=vn(t)?t:[t],s=r.length;if(!lt(e))return e;n=n||{};const i=n.merger||toe;let o;for(let l=0;l<s;++l){if(o=r[l],!lt(o))continue;const c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)i(c[u],e,o,n)}return e}function nh(e,t){return Gh(e,t,{merger:noe})}function noe(e,t,n){if(!OL(e))return;const r=t[e],s=n[e];lt(r)&&lt(s)?nh(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ux(s))}const jO={"":e=>e,x:e=>e.x,y:e=>e.y};function roe(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function soe(e){const t=roe(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Jl(e,t){return(jO[t]||(jO[t]=soe(t)))(e)}function $5(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Yh=e=>typeof e<"u",Eo=e=>typeof e=="function",NO=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function ioe(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const St=Math.PI,Qt=2*St,aoe=Qt+St,dx=Number.POSITIVE_INFINITY,ooe=St/180,_n=St/2,Wo=St/4,SO=St*2/3,kL=Math.log10,Pi=Math.sign;function rh(e,t,n){return Math.abs(e-t)<n}function PO(e){const t=Math.round(e);e=rh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(kL(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function loe(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((s,i)=>s-i).pop(),t}function coe(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Xh(e){return!coe(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function uoe(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function doe(e,t,n){let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function ea(e){return e*(St/180)}function foe(e){return e*(180/St)}function AO(e){if(!mr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function _L(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*St&&(i+=Qt),{angle:i,distance:s}}function Rj(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function hoe(e,t){return(e-t+aoe)%Qt-St}function Qr(e){return(e%Qt+Qt)%Qt}function Qh(e,t,n,r){const s=Qr(e),i=Qr(t),o=Qr(n),l=Qr(i-s),c=Qr(o-s),u=Qr(s-i),d=Qr(s-o);return s===i||s===o||r&&i===o||l>c&&u<d}function fr(e,t,n){return Math.max(t,Math.min(n,e))}function poe(e){return fr(e,-32768,32767)}function ta(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function L5(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const ml=(e,t,n,r)=>L5(e,n,r?s=>{const i=e[s][t];return i<n||i===n&&e[s+1][t]===n}:s=>e[s][t]<n),moe=(e,t,n)=>L5(e,n,r=>e[r][t]>=n);function goe(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}const TL=["push","pop","shift","splice","unshift"];function xoe(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),TL.forEach(n=>{const r="_onData"+$5(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return e._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...i)}),o}})})}function CO(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);s!==-1&&r.splice(s,1),!(r.length>0)&&(TL.forEach(i=>{delete e[i]}),delete e._chartjs)}function EL(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ML=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function DL(e,t){let n=[],r=!1;return function(...s){n=s,r||(r=!0,ML.call(window,()=>{r=!1,e.apply(t,n)}))}}function yoe(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const F5=e=>e==="start"?"left":e==="end"?"right":"center",sr=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,voe=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function boe(e,t,n){const r=t.length;let s=0,i=r;if(e._sorted){const{iScale:o,vScale:l,_parsed:c}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(s=Math.min(ml(c,d,f).lo,n?r:ml(t,d,o.getPixelForValue(f)).lo),u){const g=c.slice(0,s+1).reverse().findIndex(x=>!bt(x[l.axis]));s-=Math.max(0,g)}s=fr(s,0,r-1)}if(m){let g=Math.max(ml(c,o.axis,h,!0).hi+1,n?0:ml(t,d,o.getPixelForValue(h),!0).hi+1);if(u){const x=c.slice(g-1).findIndex(y=>!bt(y[l.axis]));g+=Math.max(0,x)}i=fr(g,s,r)-s}else i=r-s}return{start:s,count:i}}function woe(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=s,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const rg=e=>e===0||e===1,OO=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Qt/n)),kO=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Qt/n)+1,sh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*_n)+1,easeOutSine:e=>Math.sin(e*_n),easeInOutSine:e=>-.5*(Math.cos(St*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>rg(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>rg(e)?e:OO(e,.075,.3),easeOutElastic:e=>rg(e)?e:kO(e,.075,.3),easeInOutElastic(e){return rg(e)?e:e<.5?.5*OO(e*2,.1125,.45):.5+.5*kO(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-sh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?sh.easeInBounce(e*2)*.5:sh.easeOutBounce(e*2-1)*.5+.5};function B5(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function _O(e){return B5(e)?e:new AL(e)}function B1(e){return B5(e)?e:new AL(e).saturate(.5).darken(.1).hexString()}const joe=["x","y","borderWidth","radius","tension"],Noe=["color","borderColor","backgroundColor"];function Soe(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Noe},numbers:{type:"number",properties:joe}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Poe(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const TO=new Map;function Aoe(e,t){t=t||{};const n=e+JSON.stringify(t);let r=TO.get(n);return r||(r=new Intl.NumberFormat(e,t),TO.set(n,r)),r}function V5(e,t,n){return Aoe(t,n).format(e)}const Coe={values(e){return vn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let s,i=e;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=Ooe(e,n)}const o=kL(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),V5(e,r,c)}};function Ooe(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var RL={formatters:Coe};function koe(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:RL.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Zl=Object.create(null),Ij=Object.create(null);function ih(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];e=e[i]||(e[i]=Object.create(null))}return e}function V1(e,t,n){return typeof t=="string"?Gh(ih(e,t),n):Gh(ih(e,""),t)}class _oe{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>B1(s.backgroundColor),this.hoverBorderColor=(r,s)=>B1(s.borderColor),this.hoverColor=(r,s)=>B1(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return V1(this,t,n)}get(t){return ih(this,t)}describe(t,n){return V1(Ij,t,n)}override(t,n){return V1(Zl,t,n)}route(t,n,r,s){const i=ih(this,t),o=ih(this,r),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=o[s];return lt(c)?Object.assign({},u,c):st(c,u)},set(c){this[l]=c}}})}apply(t){t.forEach(n=>n(this))}}var fn=new _oe({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Soe,Poe,koe]);function Toe(e){return!e||bt(e.size)||bt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function EO(e,t,n,r,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,n.push(s)),i>r&&(r=i),r}function qo(e,t,n){const r=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function MO(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function $j(e,t,n,r){IL(e,t,n,r,null)}function IL(e,t,n,r,s){let i,o,l,c,u,d,f,h;const p=t.pointStyle,m=t.rotation,g=t.radius;let x=(m||0)*ooe;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(x),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,r,s/2,g,0,0,Qt):e.arc(n,r,g,0,Qt),e.closePath();break;case"triangle":d=s?s/2:g,e.moveTo(n+Math.sin(x)*d,r-Math.cos(x)*g),x+=SO,e.lineTo(n+Math.sin(x)*d,r-Math.cos(x)*g),x+=SO,e.lineTo(n+Math.sin(x)*d,r-Math.cos(x)*g),e.closePath();break;case"rectRounded":u=g*.516,c=g-u,o=Math.cos(x+Wo)*c,f=Math.cos(x+Wo)*(s?s/2-u:c),l=Math.sin(x+Wo)*c,h=Math.sin(x+Wo)*(s?s/2-u:c),e.arc(n-f,r-l,u,x-St,x-_n),e.arc(n+h,r-o,u,x-_n,x),e.arc(n+f,r+l,u,x,x+_n),e.arc(n-h,r+o,u,x+_n,x+St),e.closePath();break;case"rect":if(!m){c=Math.SQRT1_2*g,d=s?s/2:c,e.rect(n-d,r-c,2*d,2*c);break}x+=Wo;case"rectRot":f=Math.cos(x)*(s?s/2:g),o=Math.cos(x)*g,l=Math.sin(x)*g,h=Math.sin(x)*(s?s/2:g),e.moveTo(n-f,r-l),e.lineTo(n+h,r-o),e.lineTo(n+f,r+l),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":x+=Wo;case"cross":f=Math.cos(x)*(s?s/2:g),o=Math.cos(x)*g,l=Math.sin(x)*g,h=Math.sin(x)*(s?s/2:g),e.moveTo(n-f,r-l),e.lineTo(n+f,r+l),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":f=Math.cos(x)*(s?s/2:g),o=Math.cos(x)*g,l=Math.sin(x)*g,h=Math.sin(x)*(s?s/2:g),e.moveTo(n-f,r-l),e.lineTo(n+f,r+l),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),x+=Wo,f=Math.cos(x)*(s?s/2:g),o=Math.cos(x)*g,l=Math.sin(x)*g,h=Math.sin(x)*(s?s/2:g),e.moveTo(n-f,r-l),e.lineTo(n+f,r+l),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=s?s/2:Math.cos(x)*g,l=Math.sin(x)*g,e.moveTo(n-o,r-l),e.lineTo(n+o,r+l);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(x)*(s?s/2:g),r+Math.sin(x)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Jh(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Nv(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Sv(e){e.restore()}function Eoe(e,t,n,r,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else s==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Moe(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Doe(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),bt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Roe(e,t,n,r,s){if(s.strikethrough||s.underline){const i=e.measureText(r),o=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,d),e.lineTo(l,d),e.stroke()}}function Ioe(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Zh(e,t,n,r,s,i={}){const o=vn(t)?t:[t],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(e.save(),e.font=s.string,Doe(e,i),c=0;c<o.length;++c)u=o[c],i.backdrop&&Ioe(e,i.backdrop),l&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),bt(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(u,n,r,i.maxWidth)),e.fillText(u,n,r,i.maxWidth),Roe(e,n,r,u,i),r+=Number(s.lineHeight);e.restore()}function fx(e,t){const{x:n,y:r,w:s,h:i,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*St,St,!0),e.lineTo(n,r+i-o.bottomLeft),e.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,St,_n,!0),e.lineTo(n+s-o.bottomRight,r+i),e.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,_n,0,!0),e.lineTo(n+s,r+o.topRight),e.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-_n,!0),e.lineTo(n+o.topLeft,r)}const $oe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Loe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Foe(e,t){const n=(""+e).match($oe);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Boe=e=>+e||0;function z5(e,t){const n={},r=lt(t),s=r?Object.keys(t):t,i=lt(e)?r?o=>st(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=Boe(i(o));return n}function $L(e){return z5(e,{top:"y",right:"x",bottom:"y",left:"x"})}function lu(e){return z5(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Rs(e){const t=$L(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hr(e,t){e=e||{},t=t||fn.font;let n=st(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=st(e.style,t.style);r&&!(""+r).match(Loe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:st(e.family,t.family),lineHeight:Foe(st(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:st(e.weight,t.weight),string:""};return s.string=Toe(s),s}function sg(e,t,n,r){let s,i,o;for(s=0,i=e.length;s<i;++s)if(o=e[s],o!==void 0&&o!==void 0)return o}function Voe(e,t,n){const{min:r,max:s}=e,i=CL(t,(s-r)/2),o=(l,c)=>n&&l===0?0:l+c;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function cc(e,t){return Object.assign(Object.create(e),t)}function U5(e,t=[""],n,r,s=()=>e[0]){const i=n||e;typeof r>"u"&&(r=VL("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:r,_getTarget:s,override:l=>U5([l,...e],t,i,r)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return FL(l,c,()=>Yoe(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return RO(l).includes(c)},ownKeys(l){return RO(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function Uu(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:LL(e,r),setContext:i=>Uu(e,i,n,r),override:i=>Uu(e.override(i),t,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,l){return FL(i,o,()=>Uoe(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,l){return e[o]=l,delete i[o],!0}})}function LL(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Eo(n)?n:()=>n,isIndexable:Eo(r)?r:()=>r}}const zoe=(e,t)=>e?e+$5(t):t,H5=(e,t)=>lt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function FL(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function Uoe(e,t,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=e;let l=r[t];return Eo(l)&&o.isScriptable(t)&&(l=Hoe(t,l,e,n)),vn(l)&&l.length&&(l=Woe(t,l,e,o.isIndexable)),H5(t,l)&&(l=Uu(l,s,i&&i[t],o)),l}function Hoe(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(i,o||r);return l.delete(e),H5(e,c)&&(c=W5(s._scopes,s,e,c)),c}function Woe(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:l}=n;if(typeof i.index<"u"&&r(e))return t[i.index%t.length];if(lt(t[0])){const c=t,u=s._scopes.filter(d=>d!==c);t=[];for(const d of c){const f=W5(u,s,e,d);t.push(Uu(f,i,o&&o[e],l))}}return t}function BL(e,t,n){return Eo(e)?e(t,n):e}const qoe=(e,t)=>e===!0?t:typeof e=="string"?Jl(t,e):void 0;function Koe(e,t,n,r,s){for(const i of t){const o=qoe(n,i);if(o){e.add(o);const l=BL(o._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function W5(e,t,n,r){const s=t._rootScopes,i=BL(t._fallback,n,r),o=[...e,...s],l=new Set;l.add(r);let c=DO(l,o,n,i||n,r);return c===null||typeof i<"u"&&i!==n&&(c=DO(l,o,i,c,r),c===null)?!1:U5(Array.from(l),[""],s,i,()=>Goe(t,n,r))}function DO(e,t,n,r,s){for(;n;)n=Koe(e,t,n,r,s);return n}function Goe(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];return vn(s)&&lt(n)?n:s||{}}function Yoe(e,t,n,r){let s;for(const i of t)if(s=VL(zoe(i,e),n),typeof s<"u")return H5(e,s)?W5(n,r,e,s):s}function VL(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function RO(e){let t=e._keys;return t||(t=e._keys=Xoe(e._scopes)),t}function Xoe(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(r);return Array.from(t)}const Qoe=Number.EPSILON||1e-14,Hu=(e,t)=>t<e.length&&!e[t].skip&&e[t],zL=e=>e==="x"?"y":"x";function Joe(e,t,n,r){const s=e.skip?t:e,i=t,o=n.skip?t:n,l=Rj(i,s),c=Rj(o,i);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,h=r*d;return{previous:{x:i.x-f*(o.x-s.x),y:i.y-f*(o.y-s.y)},next:{x:i.x+h*(o.x-s.x),y:i.y+h*(o.y-s.y)}}}function Zoe(e,t,n){const r=e.length;let s,i,o,l,c,u=Hu(e,0);for(let d=0;d<r-1;++d)if(c=u,u=Hu(e,d+1),!(!c||!u)){if(rh(t[d],0,Qoe)){n[d]=n[d+1]=0;continue}s=n[d]/t[d],i=n[d+1]/t[d],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),n[d]=s*o*t[d],n[d+1]=i*o*t[d])}}function ele(e,t,n="x"){const r=zL(n),s=e.length;let i,o,l,c=Hu(e,0);for(let u=0;u<s;++u){if(o=l,l=c,c=Hu(e,u+1),!l)continue;const d=l[n],f=l[r];o&&(i=(d-o[n])/3,l[`cp1${n}`]=d-i,l[`cp1${r}`]=f-i*t[u]),c&&(i=(c[n]-d)/3,l[`cp2${n}`]=d+i,l[`cp2${r}`]=f+i*t[u])}}function tle(e,t="x"){const n=zL(t),r=e.length,s=Array(r).fill(0),i=Array(r);let o,l,c,u=Hu(e,0);for(o=0;o<r;++o)if(l=c,c=u,u=Hu(e,o+1),!!c){if(u){const d=u[t]-c[t];s[o]=d!==0?(u[n]-c[n])/d:0}i[o]=l?u?Pi(s[o-1])!==Pi(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Zoe(e,s,i),ele(e,i,t)}function ig(e,t,n){return Math.max(Math.min(e,n),t)}function nle(e,t){let n,r,s,i,o,l=Jh(e[0],t);for(n=0,r=e.length;n<r;++n)o=i,i=l,l=n<r-1&&Jh(e[n+1],t),i&&(s=e[n],o&&(s.cp1x=ig(s.cp1x,t.left,t.right),s.cp1y=ig(s.cp1y,t.top,t.bottom)),l&&(s.cp2x=ig(s.cp2x,t.left,t.right),s.cp2y=ig(s.cp2y,t.top,t.bottom)))}function rle(e,t,n,r,s){let i,o,l,c;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")tle(e,s);else{let u=r?e[e.length-1]:e[0];for(i=0,o=e.length;i<o;++i)l=e[i],c=Joe(u,l,e[Math.min(i+1,o-(r?0:1))%o],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}t.capBezierPoints&&nle(e,n)}function q5(){return typeof window<"u"&&typeof document<"u"}function K5(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function hx(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Pv=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function sle(e,t){return Pv(e).getPropertyValue(t)}const ile=["top","right","bottom","left"];function Dl(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=ile[s];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const ale=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function ole(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:i}=r;let o=!1,l,c;if(ale(s,i,e.target))l=s,c=i;else{const u=t.getBoundingClientRect();l=r.clientX-u.left,c=r.clientY-u.top,o=!0}return{x:l,y:c,box:o}}function tl(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=Pv(n),i=s.boxSizing==="border-box",o=Dl(s,"padding"),l=Dl(s,"border","width"),{x:c,y:u,box:d}=ole(e,n),f=o.left+(d&&l.left),h=o.top+(d&&l.top);let{width:p,height:m}=t;return i&&(p-=o.width+l.width,m-=o.height+l.height),{x:Math.round((c-f)/p*n.width/r),y:Math.round((u-h)/m*n.height/r)}}function lle(e,t,n){let r,s;if(t===void 0||n===void 0){const i=e&&K5(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const o=i.getBoundingClientRect(),l=Pv(i),c=Dl(l,"border","width"),u=Dl(l,"padding");t=o.width-u.width-c.width,n=o.height-u.height-c.height,r=hx(l.maxWidth,i,"clientWidth"),s=hx(l.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:r||dx,maxHeight:s||dx}}const lo=e=>Math.round(e*10)/10;function cle(e,t,n,r){const s=Pv(e),i=Dl(s,"margin"),o=hx(s.maxWidth,e,"clientWidth")||dx,l=hx(s.maxHeight,e,"clientHeight")||dx,c=lle(e,t,n);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const h=Dl(s,"border","width"),p=Dl(s,"padding");u-=p.width+h.width,d-=p.height+h.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=lo(Math.min(u,o,c.maxWidth)),d=lo(Math.min(d,l,c.maxHeight)),u&&!d&&(d=lo(u/2)),(t!==void 0||n!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,u=lo(Math.floor(d*r))),{width:u,height:d}}function IO(e,t,n){const r=t||1,s=lo(e.height*r),i=lo(e.width*r);e.height=lo(e.height),e.width=lo(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(e.currentDevicePixelRatio=r,o.height=s,o.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const ule=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};q5()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function $O(e,t){const n=sle(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function nl(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function dle(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function fle(e,t,n,r){const s={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},o=nl(e,s,n),l=nl(s,i,n),c=nl(i,t,n),u=nl(o,l,n),d=nl(l,c,n);return nl(u,d,n)}const hle=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},ple=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function cu(e,t,n){return e?hle(t,n):ple()}function UL(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function HL(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function WL(e){return e==="angle"?{between:Qh,compare:hoe,normalize:Qr}:{between:ta,compare:(t,n)=>t-n,normalize:t=>t}}function LO({start:e,end:t,count:n,loop:r,style:s}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:s}}function mle(e,t,n){const{property:r,start:s,end:i}=n,{between:o,normalize:l}=WL(r),c=t.length;let{start:u,end:d,loop:f}=e,h,p;if(f){for(u+=c,d+=c,h=0,p=c;h<p&&o(l(t[u%c][r]),s,i);++h)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:e.style}}function qL(e,t,n){if(!n)return[e];const{property:r,start:s,end:i}=n,o=t.length,{compare:l,between:c,normalize:u}=WL(r),{start:d,end:f,loop:h,style:p}=mle(e,t,n),m=[];let g=!1,x=null,y,v,b;const j=()=>c(s,b,y)&&l(s,b)!==0,w=()=>l(i,y)===0||c(i,b,y),S=()=>g||j(),P=()=>!g||w();for(let A=d,C=d;A<=f;++A)v=t[A%o],!v.skip&&(y=u(v[r]),y!==b&&(g=c(y,s,i),x===null&&S()&&(x=l(y,s)===0?A:C),x!==null&&P()&&(m.push(LO({start:x,end:A,loop:h,count:o,style:p})),x=null),C=A,b=y));return x!==null&&m.push(LO({start:x,end:f,loop:h,count:o,style:p})),m}function KL(e,t){const n=[],r=e.segments;for(let s=0;s<r.length;s++){const i=qL(r[s],e.points,t);i.length&&n.push(...i)}return n}function gle(e,t,n,r){let s=0,i=t-1;if(n&&!r)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(i+=s);i>s&&e[i%t].skip;)i--;return i%=t,{start:s,end:i}}function xle(e,t,n,r){const s=e.length,i=[];let o=t,l=e[t],c;for(c=t+1;c<=n;++c){const u=e[c%s];u.skip||u.stop?l.skip||(r=!1,i.push({start:t%s,end:(c-1)%s,loop:r}),t=o=u.stop?c:null):(o=c,l.skip&&(t=c)),l=u}return o!==null&&i.push({start:t%s,end:o%s,loop:r}),i}function yle(e,t){const n=e.points,r=e.options.spanGaps,s=n.length;if(!s)return[];const i=!!e._loop,{start:o,end:l}=gle(n,s,i,r);if(r===!0)return FO(e,[{start:o,end:l,loop:i}],n,t);const c=l<o?l+s:l,u=!!e._fullLoop&&o===0&&l===s-1;return FO(e,xle(n,o,c,u),n,t)}function FO(e,t,n,r){return!r||!r.setContext||!n?t:vle(e,t,n,r)}function vle(e,t,n,r){const s=e._chart.getContext(),i=BO(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,c=n.length,u=[];let d=i,f=t[0].start,h=f;function p(m,g,x,y){const v=l?-1:1;if(m!==g){for(m+=c;n[m%c].skip;)m-=v;for(;n[g%c].skip;)g+=v;m%c!==g%c&&(u.push({start:m%c,end:g%c,loop:x,style:y}),d=y,f=g%c)}}for(const m of t){f=l?f:m.start;let g=n[f%c],x;for(h=f+1;h<=m.end;h++){const y=n[h%c];x=BO(r.setContext(cc(s,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),ble(x,d)&&p(f,h-1,m.loop,d),g=y,d=x}f<h-1&&p(f,h-1,m.loop,d)}return u}function BO(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ble(e,t){if(!t)return!1;const n=[],r=function(s,i){return B5(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function ag(e,t,n){return e.options.clip?e[n]:t[n]}function wle(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:ag(n,t,"left"),right:ag(n,t,"right"),top:ag(r,t,"top"),bottom:ag(r,t,"bottom")}:t}function GL(e,t){const n=t._clip;if(n.disabled)return!1;const r=wle(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class jle{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(l=>l({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ML.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(t),l=!0):(i[o]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,r,t,"progress")),i.length||(r.running=!1,this._notify(s,r,t,"complete"),r.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Vi=new jle;const VO="transparent",Nle={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=_O(e||VO),s=r.valid&&_O(t||VO);return s&&s.valid?s.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class Sle{constructor(t,n,r,s){const i=n[r];s=sg([t.to,s,i,t.from]);const o=sg([t.from,i,s]);this._active=!0,this._fn=t.fn||Nle[t.type||typeof o],this._easing=sh[t.easing]||sh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=sg([t.to,n,s,t.from]),this._from=sg([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||n<r),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=i;return}c=n/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class YL{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!lt(t))return;const n=Object.keys(fn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!lt(i))return;const o={};for(const l of n)o[l]=i[l];(vn(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!r.has(l))&&r.set(l,o)})})}_animateOptions(t,n){const r=n.options,s=Ale(t,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&Ple(t.options.$animations,r).then(()=>{t.options=r},()=>{}),i}_createAnimations(t,n){const r=this._properties,s=[],i=t.$animations||(t.$animations={}),o=Object.keys(n),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(t,n));continue}const d=n[u];let f=i[u];const h=r.get(u);if(f)if(h&&f.active()){f.update(h,d,l);continue}else f.cancel();if(!h||!h.duration){t[u]=d;continue}i[u]=f=new Sle(h,t,u,d),s.push(f)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Vi.add(this._chart,r),!0}}function Ple(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const i=e[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function Ale(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function zO(e,t){const n=e&&e.options||{},r=n.reverse,s=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:r?i:s,end:r?s:i}}function Cle(e,t,n){if(n===!1)return!1;const r=zO(e,n),s=zO(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function Ole(e){let t,n,r,s;return lt(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:e===!1}}function XL(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function UO(e,t,n,r={}){const s=e.keys,i=r.mode==="single";let o,l,c,u;if(t===null)return;let d=!1;for(o=0,l=s.length;o<l;++o){if(c=+s[o],c===n){if(d=!0,r.all)continue;break}u=e.values[c],mr(u)&&(i||t===0||Pi(t)===Pi(u))&&(t+=u)}return!d&&!r.all?0:t}function kle(e,t){const{iScale:n,vScale:r}=t,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,u,d;for(c=0,u=o.length;c<u;++c)d=o[c],l[c]={[s]:d,[i]:e[d]};return l}function z1(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function _le(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Tle(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Ele(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function HO(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const i=e[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function WO(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:l}=r,c=i.axis,u=o.axis,d=_le(i,o,r),f=t.length;let h;for(let p=0;p<f;++p){const m=t[p],{[c]:g,[u]:x}=m,y=m._stacks||(m._stacks={});h=y[u]=Ele(s,d,g),h[l]=x,h._top=HO(h,o,!0,r.type),h._bottom=HO(h,o,!1,r.type);const v=h._visualValues||(h._visualValues={});v[l]=x}}function U1(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function Mle(e,t){return cc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Dle(e,t,n){return cc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function rf(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const s of t){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const H1=e=>e==="reset"||e==="none",qO=(e,t)=>t?e:Object.assign({},e),Rle=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:XL(n,!0),values:null};class Rl{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=z1(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&rf(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,h,p,m)=>f==="x"?h:f==="r"?m:p,i=n.xAxisID=st(r.xAxisID,U1(t,"x")),o=n.yAxisID=st(r.yAxisID,U1(t,"y")),l=n.rAxisID=st(r.rAxisID,U1(t,"r")),c=n.indexAxis,u=n.iAxisID=s(c,i,o,l),d=n.vAxisID=s(c,o,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&CO(this._data,this),t._stacked&&rf(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(lt(n)){const s=this._cachedMeta;this._data=kle(n,s)}else if(r!==n){if(r){CO(r,this);const s=this._cachedMeta;rf(s),s._parsed=[]}n&&Object.isExtensible(n)&&xoe(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=z1(n.vScale,n),n.stack!==r.stack&&(s=!0,rf(n),n.stack=r.stack),this._resyncElements(t),(s||i!==n._stacked)&&(WO(this,n._parsed),n._stacked=z1(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,l=i.axis;let c=t===0&&n===s.length?!0:r._sorted,u=t>0&&r._parsed[t-1],d,f,h;if(this._parsing===!1)r._parsed=s,r._sorted=!0,h=s;else{vn(s[t])?h=this.parseArrayData(r,s,t,n):lt(s[t])?h=this.parseObjectData(r,s,t,n):h=this.parsePrimitiveData(r,s,t,n);const p=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<n;++d)r._parsed[d+t]=f=h[d],c&&(p()&&(c=!1),u=f);r._sorted=c}o&&WO(this,h)}parsePrimitiveData(t,n,r,s){const{iScale:i,vScale:o}=t,l=i.axis,c=o.axis,u=i.getLabels(),d=i===o,f=new Array(s);let h,p,m;for(h=0,p=s;h<p;++h)m=h+r,f[h]={[l]:d||i.parse(u[m],m),[c]:o.parse(n[m],m)};return f}parseArrayData(t,n,r,s){const{xScale:i,yScale:o}=t,l=new Array(s);let c,u,d,f;for(c=0,u=s;c<u;++c)d=c+r,f=n[d],l[c]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return l}parseObjectData(t,n,r,s){const{xScale:i,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,f,h,p;for(d=0,f=s;d<f;++d)h=d+r,p=n[h],u[d]={x:i.parse(Jl(p,l),h),y:o.parse(Jl(p,c),h)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const s=this.chart,i=this._cachedMeta,o=n[t.axis],l={keys:XL(s,!0),values:n._stacks[t.axis]._visualValues};return UO(l,o,i.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,o=UO(s,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&t===r.iScale,o=s.length,l=this._getOtherScale(t),c=Rle(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=Tle(l);let h,p;function m(){p=s[h];const g=p[l.axis];return!mr(p[t.axis])||d>g||f<g}for(h=0;h<o&&!(!m()&&(this.updateRangeFromParsed(u,t,p,c),i));++h);if(i){for(h=o-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(u,t,p,c);break}}return u}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][t.axis],mr(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(t);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Ole(st(this.options.clip,Cle(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(t,i,l,c),d=l;d<l+c;++d){const f=s[d];f.hidden||(f.active&&u?o.push(f):f.draw(t,i))}for(d=0;d<o.length;++d)o[d].draw(t,i)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=Dle(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=s.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Mle(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=t+"-"+n,l=i[o],c=this.enableOptionSharing&&Yh(r);if(l)return qO(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],h=u.getOptionScopes(this.getDataset(),d),p=Object.keys(fn.elements[t]),m=()=>this.getContext(r,s,n),g=u.resolveNamedOptions(h,p,m,f);return g.$shared&&(g.$shared=c,i[o]=Object.freeze(qO(g,c))),g}_resolveAnimations(t,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,l=i[o];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(h,this.getContext(t,r,n))}const u=new YL(s,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||H1(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(t,n,r,s){H1(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!H1(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,t):i<s&&this._removeElements(i,s-i)}_insertElements(t,n,r=!0){const s=this._cachedMeta,i=s.data,o=t+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=o;l--)u[l]=u[l-n]};for(c(i),l=t;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,n),r&&this.updateElements(i,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&rf(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ie(Rl,"defaults",{}),Ie(Rl,"datasetElementType",null),Ie(Rl,"dataElementType",null);function Ile(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=EL(r.sort((s,i)=>s-i))}return e._cache.$bar}function $le(e){const t=e.iScale,n=Ile(t,e.type);let r=t._length,s,i,o,l;const c=()=>{o===32767||o===-32768||(Yh(l)&&(r=Math.min(r,Math.abs(o-l)||r)),l=o)};for(s=0,i=n.length;s<i;++s)o=t.getPixelForValue(n[s]),c();for(l=void 0,s=0,i=t.ticks.length;s<i;++s)o=t.getPixelForTick(s),c();return r}function Lle(e,t,n,r){const s=n.barThickness;let i,o;return bt(s)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:t.pixels[e]-i/2}}function Fle(e,t,n,r){const s=t.pixels,i=s[e];let o=e>0?s[e-1]:null,l=e<s.length-1?s[e+1]:null;const c=n.categoryPercentage;o===null&&(o=i-(l===null?t.end-t.start:l-i)),l===null&&(l=i+i-o);const u=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/r,ratio:n.barPercentage,start:u}}function Ble(e,t,n,r){const s=n.parse(e[0],r),i=n.parse(e[1],r),o=Math.min(s,i),l=Math.max(s,i);let c=o,u=l;Math.abs(o)>Math.abs(l)&&(c=l,u=o),t[n.axis]=u,t._custom={barStart:c,barEnd:u,start:s,end:i,min:o,max:l}}function QL(e,t,n,r){return vn(e)?Ble(e,t,n,r):t[n.axis]=n.parse(e,r),t}function KO(e,t,n,r){const s=e.iScale,i=e.vScale,o=s.getLabels(),l=s===i,c=[];let u,d,f,h;for(u=n,d=n+r;u<d;++u)h=t[u],f={},f[s.axis]=l||s.parse(o[u],u),c.push(QL(h,f,i,u));return c}function W1(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Vle(e,t,n){return e!==0?Pi(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function zle(e){let t,n,r,s,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:t,top:s,bottom:i}}function Ule(e,t,n,r){let s=t.borderSkipped;const i={};if(!s){e.borderSkipped=i;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:u,bottom:d}=zle(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[GO(d,o,l,c)]=!0,s=u)),i[GO(s,o,l,c)]=!0,e.borderSkipped=i}function GO(e,t,n,r){return r?(e=Hle(e,t,n),e=YO(e,n,t)):e=YO(e,t,n),e}function Hle(e,t,n){return e===t?n:e===n?t:e}function YO(e,t,n){return e==="start"?t:e==="end"?n:e}function Wle(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class r0 extends Rl{parsePrimitiveData(t,n,r,s){return KO(t,n,r,s)}parseArrayData(t,n,r,s){return KO(t,n,r,s)}parseObjectData(t,n,r,s){const{iScale:i,vScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,d=o.axis==="x"?l:c,f=[];let h,p,m,g;for(h=r,p=r+s;h<p;++h)g=n[h],m={},m[i.axis]=i.parse(Jl(g,u),h),f.push(QL(Jl(g,d),m,o,h));return f}updateRangeFromParsed(t,n,r,s){super.updateRangeFromParsed(t,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(t),o=i._custom,l=W1(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,s);for(let p=n;p<n+r;p++){const m=this.getParsed(p),g=i||bt(m[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),x=this._calculateBarIndexPixels(p,d),y=(m._stacks||{})[l.axis],v={horizontal:u,base:g.base,enableBorderRadius:!y||W1(m._custom)||o===y._top||o===y._bottom,x:u?g.head:x.center,y:u?x.center:g.head,height:u?x.size:Math.abs(g.size),width:u?Math.abs(g.size):x.size};h&&(v.options=f||this.resolveDataElementOptions(p,t[p].active?"active":s));const b=v.options||t[p].options;Ule(v,b,y,o),Wle(v,b,d.ratio),this.updateElement(t[p],p,v,s)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],u=d=>{const f=d._parsed.find(p=>p[r.axis]===c),h=f&&f[d.vScale.axis];if(bt(h)||isNaN(h))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[st(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const s=this._getStacks(t,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const l=t.barThickness;return{min:l||$le(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(t),u=c._custom,d=W1(u);let f=c[n.axis],h=0,p=r?this.applyStack(n,c,r):f,m,g;p!==f&&(h=p-f,p=f),d&&(f=u.barStart,p=u.barEnd-u.barStart,f!==0&&Pi(f)!==Pi(u.barEnd)&&(h=0),h+=f);const x=!bt(i)&&!d?i:h;let y=n.getPixelForValue(x);if(this.chart.getDataVisibility(t)?m=n.getPixelForValue(h+p):m=y,g=m-y,Math.abs(g)<o){g=Vle(g,n,l)*o,f===l&&(y-=g/2);const v=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),j=Math.min(v,b),w=Math.max(v,b);y=Math.max(Math.min(y,w),j),m=y+g,r&&!d&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(m)-n.getValueForPixel(y))}if(y===n.getPixelForValue(l)){const v=Pi(g)*n.getLineWidthForValue(l)/2;y+=v,g-=v}return{size:g,base:y,head:m,center:m+g/2}}_calculateBarIndexPixels(t,n){const r=n.scale,s=this.options,i=s.skipNull,o=st(s.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(t):n.stackCount,f=s.barThickness==="flex"?Fle(t,n,s,d*u):Lle(t,n,s,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(st(h,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+p;l=f.start+f.chunk*m+f.chunk/2,c=Math.min(o,f.chunk*f.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),c=Math.min(o,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}Ie(r0,"id","bar"),Ie(r0,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ie(r0,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function qle(e,t,n){let r=1,s=1,i=0,o=0;if(t<Qt){const l=e,c=l+t,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),h=Math.sin(c),p=(b,j,w)=>Qh(b,l,c,!0)?1:Math.max(j,j*n,w,w*n),m=(b,j,w)=>Qh(b,l,c,!0)?-1:Math.min(j,j*n,w,w*n),g=p(0,u,f),x=p(_n,d,h),y=m(St,u,f),v=m(St+_n,d,h);r=(g-y)/2,s=(x-v)/2,i=-(g+y)/2,o=-(x+v)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class $f extends Rl{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=c=>+r[c];if(lt(r[t])){const{key:c="value"}=this._parsing;i=u=>+Jl(r[u],c)}let o,l;for(o=t,l=t+n;o<l;++o)s._parsed[o]=i(o)}}_getRotation(){return ea(this.options.rotation-90)}_getCircumference(){return ea(this.options.circumference)}_getRotationExtents(){let t=Qt,n=-Qt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();t=Math.min(t,i),n=Math.max(n,i+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-o)/2,0),c=Math.min(eoe(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:m,offsetY:g}=qle(f,d,c),x=(r.width-o)/h,y=(r.height-o)/p,v=Math.max(Math.min(x,y)/2,0),b=CL(this.options.radius,v),j=Math.max(b*c,0),w=(b-j)/this._getVisibleDatasetWeightTotal();this.offsetX=m*b,this.offsetY=g*b,s.total=this.calculateTotal(),this.outerRadius=b-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*i/Qt)}updateElements(t,n,r,s){const i=s==="reset",o=this.chart,l=o.chartArea,u=o.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,h=i&&u.animateScale,p=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(n,s);let y=this._getRotation(),v;for(v=0;v<n;++v)y+=this._circumference(v,i);for(v=n;v<n+r;++v){const b=this._circumference(v,i),j=t[v],w={x:d+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+b,circumference:b,outerRadius:m,innerRadius:p};x&&(w.options=g||this.resolveDataElementOptions(v,j.active?"active":s)),y+=b,this.updateElement(j,v,w,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,s;for(s=0;s<n.length;s++){const i=t._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Qt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=V5(n._parsed[t],r.options.locale);return{label:s[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const r=this.chart;let s,i,o,l,c;if(!t){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),t=o.data,l=o.controller;break}}if(!t)return 0;for(s=0,i=t.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,s=t.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(st(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ie($f,"id","doughnut"),Ie($f,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ie($f,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Ie($f,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const f=t.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:f.backgroundColor,fontColor:i,hidden:!t.getDataVisibility(u),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:s,pointStyle:r,borderRadius:o&&(l||f.borderRadius),index:u}}):[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class s0 extends Rl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:l,count:c}=boe(n,s,o);this._drawStart=l,this._drawCount=c,woe(n)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},t),this.updateElements(s,l,c,t)}updateElements(t,n,r,s){const i=s==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),h=o.axis,p=l.axis,{spanGaps:m,segment:g}=this.options,x=Xh(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||s==="none",v=n+r,b=t.length;let j=n>0&&this.getParsed(n-1);for(let w=0;w<b;++w){const S=t[w],P=y?S:{};if(w<n||w>=v){P.skip=!0;continue}const A=this.getParsed(w),C=bt(A[p]),T=P[h]=o.getPixelForValue(A[h],w),k=P[p]=i||C?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[p],w);P.skip=isNaN(T)||isNaN(k)||C,P.stop=w>0&&Math.abs(A[h]-j[h])>x,g&&(P.parsed=A,P.raw=u.data[w]),f&&(P.options=d||this.resolveDataElementOptions(w,S.active?"active":s)),y||this.updateElement(S,w,P,s),j=A}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Ie(s0,"id","line"),Ie(s0,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ie(s0,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ko(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class G5{constructor(t){Ie(this,"options");this.options=t||{}}static override(t){Object.assign(G5.prototype,t)}init(){}formats(){return Ko()}parse(){return Ko()}format(){return Ko()}add(){return Ko()}diff(){return Ko()}startOf(){return Ko()}endOf(){return Ko()}}var Kle={_date:G5};function Gle(e,t,n,r){const{controller:s,data:i,_sorted:o}=e,l=s._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&i.length){const u=l._reversePixels?moe:ml;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const h=u(i,t,n-f),p=u(i,t,n+f);return{lo:h.lo,hi:p.hi}}}}else{const d=u(i,t,n);if(c){const{vScale:f}=s._cachedMeta,{_parsed:h}=e,p=h.slice(0,d.lo+1).reverse().findIndex(g=>!bt(g[f.axis]));d.lo-=Math.max(0,p);const m=h.slice(d.hi).findIndex(g=>!bt(g[f.axis]));d.hi+=Math.max(0,m)}return d}}return{lo:0,hi:i.length-1}}function Av(e,t,n,r,s){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let l=0,c=i.length;l<c;++l){const{index:u,data:d}=i[l],{lo:f,hi:h}=Gle(i[l],t,o,s);for(let p=f;p<=h;++p){const m=d[p];m.skip||r(m,u,p)}}}function Yle(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,s){const i=t?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function q1(e,t,n,r,s){const i=[];return!s&&!e.isPointInArea(t)||Av(e,n,t,function(l,c,u){!s&&!Jh(l,e.chartArea,0)||l.inRange(t.x,t.y,r)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function Xle(e,t,n,r){let s=[];function i(o,l,c){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:f}=_L(o,{x:t.x,y:t.y});Qh(f,u,d)&&s.push({element:o,datasetIndex:l,index:c})}return Av(e,n,t,i),s}function Qle(e,t,n,r,s,i){let o=[];const l=Yle(n);let c=Number.POSITIVE_INFINITY;function u(d,f,h){const p=d.inRange(t.x,t.y,s);if(r&&!p)return;const m=d.getCenterPoint(s);if(!(!!i||e.isPointInArea(m))&&!p)return;const x=l(t,m);x<c?(o=[{element:d,datasetIndex:f,index:h}],c=x):x===c&&o.push({element:d,datasetIndex:f,index:h})}return Av(e,n,t,u),o}function K1(e,t,n,r,s,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!r?Xle(e,t,n,s):Qle(e,t,n,r,s,i)}function XO(e,t,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return Av(e,n,t,(c,u,d)=>{c[o]&&c[o](t[n],s)&&(i.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(t.x,t.y,s))}),r&&!l?[]:i}var Jle={modes:{index(e,t,n,r){const s=tl(t,e),i=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?q1(e,s,i,r,o):K1(e,s,i,!1,r,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(e,t,n,r){const s=tl(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?q1(e,s,i,r,o):K1(e,s,i,!1,r,o);if(l.length>0){const c=l[0].datasetIndex,u=e.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(e,t,n,r){const s=tl(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return q1(e,s,i,r,o)},nearest(e,t,n,r){const s=tl(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return K1(e,s,i,n.intersect,r,o)},x(e,t,n,r){const s=tl(t,e);return XO(e,s,"x",n.intersect,r)},y(e,t,n,r){const s=tl(t,e);return XO(e,s,"y",n.intersect,r)}}};const JL=["left","top","right","bottom"];function sf(e,t){return e.filter(n=>n.pos===t)}function QO(e,t){return e.filter(n=>JL.indexOf(n.pos)===-1&&n.box.axis===t)}function af(e,t){return e.sort((n,r)=>{const s=t?r:n,i=t?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function Zle(e){const t=[];let n,r,s,i,o,l;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],{position:i,options:{stack:o,stackWeight:l=1}}=s,t.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:l});return t}function ece(e){const t={};for(const n of e){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!JL.includes(s))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function tce(e,t){const n=ece(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let i,o,l;for(i=0,o=e.length;i<o;++i){l=e[i];const{fullSize:c}=l.box,u=n[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*r:c&&t.availableWidth,l.height=s):(l.width=r,l.height=d?d*s:c&&t.availableHeight)}return n}function nce(e){const t=Zle(e),n=af(t.filter(u=>u.box.fullSize),!0),r=af(sf(t,"left"),!0),s=af(sf(t,"right")),i=af(sf(t,"top"),!0),o=af(sf(t,"bottom")),l=QO(t,"x"),c=QO(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(c).concat(o).concat(l),chartArea:sf(t,"chartArea"),vertical:r.concat(s).concat(c),horizontal:i.concat(o).concat(l)}}function JO(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function ZL(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function rce(e,t,n,r){const{pos:s,box:i}=n,o=e.maxPadding;if(!lt(s)){n.size&&(e[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,e[s]+=n.size}i.getPadding&&ZL(o,i.getPadding());const l=Math.max(0,t.outerWidth-JO(o,e,"left","right")),c=Math.max(0,t.outerHeight-JO(o,e,"top","bottom")),u=l!==e.w,d=c!==e.h;return e.w=l,e.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function sce(e){const t=e.maxPadding;function n(r){const s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function ice(e,t){const n=t.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(t[o],n[o])}),i}return r(e?["left","right"]:["top","bottom"])}function Lf(e,t,n,r){const s=[];let i,o,l,c,u,d;for(i=0,o=e.length,u=0;i<o;++i){l=e[i],c=l.box,c.update(l.width||t.w,l.height||t.h,ice(l.horizontal,t));const{same:f,other:h}=rce(t,n,l,r);u|=f&&s.length,d=d||h,c.fullSize||s.push(l)}return u&&Lf(s,t,n,r)||d}function og(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function ZO(e,t,n,r){const s=n.padding;let{x:i,y:o}=t;for(const l of e){const c=l.box,u=r[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=t.w*d,h=u.size||c.height;Yh(u.start)&&(o=u.start),c.fullSize?og(c,s.left,o,n.outerWidth-s.right-s.left,h):og(c,t.left+u.placed,o,f,h),u.start=o,u.placed+=f,o=c.bottom}else{const f=t.h*d,h=u.size||c.width;Yh(u.start)&&(i=u.start),c.fullSize?og(c,i,s.top,h,n.outerHeight-s.bottom-s.top):og(c,i,t.top+u.placed,h,f),u.start=i,u.placed+=f,i=c.right}}t.x=i,t.y=o}var ks={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=Rs(e.options.layout.padding),i=Math.max(t-s.width,0),o=Math.max(n-s.height,0),l=nce(e.boxes),c=l.vertical,u=l.horizontal;Nt(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=c.reduce((g,x)=>x.box.options&&x.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},s);ZL(h,Rs(r));const p=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),m=tce(c.concat(u),f);Lf(l.fullSize,p,f,m),Lf(c,p,f,m),Lf(u,p,f,m)&&Lf(c,p,f,m),sce(p),ZO(l.leftAndTop,p,f,m),p.x+=p.w,p.y+=p.h,ZO(l.rightAndBottom,p,f,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Nt(l.chartArea,g=>{const x=g.box;Object.assign(x,e.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class e9{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,s){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(t){return!0}updateConfig(t){}}class ace extends e9{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const i0="$chartjs",oce={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ek=e=>e===null||e==="";function lce(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[i0]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",ek(s)){const i=$O(e,"width");i!==void 0&&(e.width=i)}if(ek(r))if(e.style.height==="")e.height=e.width/(t||2);else{const i=$O(e,"height");i!==void 0&&(e.height=i)}return e}const t9=ule?{passive:!0}:!1;function cce(e,t,n){e&&e.addEventListener(t,n,t9)}function uce(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,t9)}function dce(e,t){const n=oce[e.type]||e.type,{x:r,y:s}=tl(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:s!==void 0?s:null}}function px(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function fce(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||px(l.addedNodes,r),o=o&&!px(l.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function hce(e,t,n){const r=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||px(l.removedNodes,r),o=o&&!px(l.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ep=new Map;let tk=0;function n9(){const e=window.devicePixelRatio;e!==tk&&(tk=e,ep.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function pce(e,t){ep.size||window.addEventListener("resize",n9),ep.set(e,t)}function mce(e){ep.delete(e),ep.size||window.removeEventListener("resize",n9)}function gce(e,t,n){const r=e.canvas,s=r&&K5(r);if(!s)return;const i=DL((l,c)=>{const u=s.clientWidth;n(l,c),u<s.clientWidth&&n()},window),o=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(s),pce(e,i),o}function G1(e,t,n){n&&n.disconnect(),t==="resize"&&mce(e)}function xce(e,t,n){const r=e.canvas,s=DL(i=>{e.ctx!==null&&n(dce(i,e))},e);return cce(r,t,s),s}class yce extends e9{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(lce(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[i0])return!1;const r=n[i0].initial;["height","width"].forEach(i=>{const o=r[i];bt(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[i0],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:fce,detach:hce,resize:gce}[n]||xce;s[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),s=r[n];if(!s)return;({attach:G1,detach:G1,resize:G1}[n]||uce)(t,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,s){return cle(t,n,r,s)}isAttached(t){const n=t&&K5(t);return!!(n&&n.isConnected)}}function vce(e){return!q5()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?ace:yce}var Tg;let ka=(Tg=class{constructor(){Ie(this,"x");Ie(this,"y");Ie(this,"active",!1);Ie(this,"options");Ie(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Xh(this.x)&&Xh(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const s={};return t.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},Ie(Tg,"defaults",{}),Ie(Tg,"defaultRoutes"),Tg);function bce(e,t){const n=e.options.ticks,r=wce(e),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?Nce(t):[],o=i.length,l=i[0],c=i[o-1],u=[];if(o>s)return Sce(t,u,i,o/s),u;const d=jce(i,t,s);if(o>0){let f,h;const p=o>1?Math.round((c-l)/(o-1)):null;for(lg(t,u,d,bt(p)?0:l-p,l),f=0,h=o-1;f<h;f++)lg(t,u,d,i[f],i[f+1]);return lg(t,u,d,c,bt(p)?t.length:c+p),u}return lg(t,u,d),u}function wce(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}function jce(e,t,n){const r=Pce(e),s=t.length/n;if(!r)return Math.max(s,1);const i=loe(r);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>s)return c}return Math.max(s,1)}function Nce(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function Sce(e,t,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===i&&(t.push(e[o]),s++,i=n[s*r])}function lg(e,t,n,r,s){const i=st(r,0),o=Math.min(st(s,e.length),e.length);let l=0,c,u,d;for(n=Math.ceil(n),s&&(c=s-r,n=c/Math.floor(c/n)),d=i;d<0;)l++,d=Math.round(i+l*n);for(u=Math.max(i,0);u<o;u++)u===d&&(t.push(e[u]),l++,d=Math.round(i+l*n))}function Pce(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const Ace=e=>e==="left"?"right":e==="right"?"left":e,nk=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,rk=(e,t)=>Math.min(t||e,e);function sk(e,t){const n=[],r=e.length/t,s=e.length;let i=0;for(;i<s;i+=r)n.push(e[Math.floor(i)]);return n}function Cce(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),i=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(c-i,o-c):t===0?u=(e.getPixelForTick(1)-c)/2:u=(c-e.getPixelForTick(s-1))/2,c+=s<t?u:-u,c<i-l||c>o+l)))return c}function Oce(e,t){Nt(e,n=>{const r=n.gc,s=r.length/2;let i;if(s>t){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function of(e){return e.drawTicks?e.tickLength:0}function ik(e,t){if(!e.display)return 0;const n=hr(e.font,t),r=Rs(e.padding);return(vn(e.text)?e.text.length:1)*n.lineHeight+r.height}function kce(e,t){return cc(e,{scale:t,type:"scale"})}function _ce(e,t,n){return cc(e,{tick:n,index:t,type:"tick"})}function Tce(e,t,n){let r=F5(e);return(n&&t!=="right"||!n&&t==="right")&&(r=Ace(r)),r}function Ece(e,t,n,r){const{top:s,left:i,bottom:o,right:l,chart:c}=e,{chartArea:u,scales:d}=c;let f=0,h,p,m;const g=o-s,x=l-i;if(e.isHorizontal()){if(p=sr(r,i,l),lt(n)){const y=Object.keys(n)[0],v=n[y];m=d[y].getPixelForValue(v)+g-t}else n==="center"?m=(u.bottom+u.top)/2+g-t:m=nk(e,n,t);h=l-i}else{if(lt(n)){const y=Object.keys(n)[0],v=n[y];p=d[y].getPixelForValue(v)-x+t}else n==="center"?p=(u.left+u.right)/2-x+t:p=nk(e,n,t);m=sr(r,o,s),f=n==="left"?-_n:_n}return{titleX:p,titleY:m,maxWidth:h,rotation:f}}class Od extends ka{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return t=oi(t,Number.POSITIVE_INFINITY),n=oi(n,Number.NEGATIVE_INFINITY),r=oi(r,Number.POSITIVE_INFINITY),s=oi(s,Number.NEGATIVE_INFINITY),{min:oi(t,r),max:oi(n,s),minDefined:mr(t),maxDefined:mr(n)}}getMinMax(t){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)o=l[c].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:oi(n,oi(r,n)),max:oi(r,oi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bt(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Voe(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?sk(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=bce(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bt(this.options.afterUpdate,[this])}beforeSetDimensions(){Bt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Bt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r],i.label=Bt(n.callback,[i.value,r,t],this)}afterTickToLabelConversion(){Bt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=rk(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,l,c,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,p=fr(this.chart.width-f,0,this.maxWidth);l=t.offset?this.maxWidth/r:p/(r-1),f+6>l&&(l=p/(r-(t.offset?.5:1)),c=this.maxHeight-of(t.grid)-n.padding-ik(t.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),o=foe(Math.min(Math.asin(fr((d.highest.height+6)/l,-1,1)),Math.asin(fr(c/u,-1,1))-Math.asin(fr(h/u,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Bt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=ik(s,n.options.font);if(l?(t.width=this.maxWidth,t.height=of(i)+c):(t.height=this.maxHeight,t.width=of(i)+c),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),p=r.padding*2,m=ea(this.labelRotation),g=Math.cos(m),x=Math.sin(m);if(l){const y=r.mirror?0:x*f.width+g*h.height;t.height=Math.min(this.maxHeight,t.height+y+p)}else{const y=r.mirror?0:g*f.width+x*h.height;t.width=Math.min(this.maxWidth,t.width+y+p)}this._calculatePadding(u,d,x,g)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,s){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;c?u?(h=s*t.width,p=r*n.height):(h=r*t.height,p=s*n.width):i==="start"?p=n.width:i==="end"?h=t.width:i!=="inner"&&(h=t.width/2,p=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=t.height/2;i==="start"?(d=0,f=t.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)bt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=sk(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(n/rk(n,r));let u=0,d=0,f,h,p,m,g,x,y,v,b,j,w;for(f=0;f<n;f+=c){if(m=t[f].label,g=this._resolveTickFontOptions(f),s.font=x=g.string,y=i[x]=i[x]||{data:{},gc:[]},v=g.lineHeight,b=j=0,!bt(m)&&!vn(m))b=EO(s,y.data,y.gc,b,m),j=v;else if(vn(m))for(h=0,p=m.length;h<p;++h)w=m[h],!bt(w)&&!vn(w)&&(b=EO(s,y.data,y.gc,b,w),j+=v);o.push(b),l.push(j),u=Math.max(b,u),d=Math.max(j,d)}Oce(i,n);const S=o.indexOf(u),P=l.indexOf(d),A=C=>({width:o[C]||0,height:l[C]||0});return{first:A(0),last:A(n-1),widest:A(S),highest:A(P),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return poe(this._alignToPixels?qo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=_ce(this.getContext(),t,r))}return this.$context||(this.$context=kce(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ea(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*r>l*s?l/r:c/s:c*s<l*r?c/r:l/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:l}=s,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),h=of(i),p=[],m=l.setContext(this.getContext()),g=m.display?m.width:0,x=g/2,y=function(_){return qo(r,_,g)};let v,b,j,w,S,P,A,C,T,k,O,I;if(o==="top")v=y(this.bottom),P=this.bottom-h,C=v-x,k=y(t.top)+x,I=t.bottom;else if(o==="bottom")v=y(this.top),k=t.top,I=y(t.bottom)-x,P=v+x,C=this.top+h;else if(o==="left")v=y(this.right),S=this.right-h,A=v-x,T=y(t.left)+x,O=t.right;else if(o==="right")v=y(this.left),T=t.left,O=y(t.right)-x,S=v+x,A=this.left+h;else if(n==="x"){if(o==="center")v=y((t.top+t.bottom)/2+.5);else if(lt(o)){const _=Object.keys(o)[0],L=o[_];v=y(this.chart.scales[_].getPixelForValue(L))}k=t.top,I=t.bottom,P=v+x,C=P+h}else if(n==="y"){if(o==="center")v=y((t.left+t.right)/2);else if(lt(o)){const _=Object.keys(o)[0],L=o[_];v=y(this.chart.scales[_].getPixelForValue(L))}S=v-x,A=S-h,T=t.left,O=t.right}const M=st(s.ticks.maxTicksLimit,f),E=Math.max(1,Math.ceil(f/M));for(b=0;b<f;b+=E){const _=this.getContext(b),L=i.setContext(_),R=l.setContext(_),F=L.lineWidth,W=L.color,q=R.dash||[],G=R.dashOffset,H=L.tickWidth,J=L.tickColor,ce=L.tickBorderDash||[],fe=L.tickBorderDashOffset;j=Cce(this,b,c),j!==void 0&&(w=qo(r,j,F),u?S=A=T=O=w:P=C=k=I=w,p.push({tx1:S,ty1:P,tx2:A,ty2:C,x1:T,y1:k,x2:O,y2:I,width:F,color:W,borderDash:q,borderDashOffset:G,tickWidth:H,tickColor:J,tickBorderDash:ce,tickBorderDashOffset:fe}))}return this._ticksLength=f,this._borderValue=v,p}_computeLabelItems(t){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=i,h=of(r.grid),p=h+d,m=f?-d:p,g=-ea(this.labelRotation),x=[];let y,v,b,j,w,S,P,A,C,T,k,O,I="middle";if(s==="top")S=this.bottom-m,P=this._getXAxisLabelAlignment();else if(s==="bottom")S=this.top+m,P=this._getXAxisLabelAlignment();else if(s==="left"){const E=this._getYAxisLabelAlignment(h);P=E.textAlign,w=E.x}else if(s==="right"){const E=this._getYAxisLabelAlignment(h);P=E.textAlign,w=E.x}else if(n==="x"){if(s==="center")S=(t.top+t.bottom)/2+p;else if(lt(s)){const E=Object.keys(s)[0],_=s[E];S=this.chart.scales[E].getPixelForValue(_)+p}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")w=(t.left+t.right)/2-p;else if(lt(s)){const E=Object.keys(s)[0],_=s[E];w=this.chart.scales[E].getPixelForValue(_)}P=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(c==="start"?I="top":c==="end"&&(I="bottom"));const M=this._getLabelSizes();for(y=0,v=l.length;y<v;++y){b=l[y],j=b.label;const E=i.setContext(this.getContext(y));A=this.getPixelForTick(y)+i.labelOffset,C=this._resolveTickFontOptions(y),T=C.lineHeight,k=vn(j)?j.length:1;const _=k/2,L=E.color,R=E.textStrokeColor,F=E.textStrokeWidth;let W=P;o?(w=A,P==="inner"&&(y===v-1?W=this.options.reverse?"left":"right":y===0?W=this.options.reverse?"right":"left":W="center"),s==="top"?u==="near"||g!==0?O=-k*T+T/2:u==="center"?O=-M.highest.height/2-_*T+T:O=-M.highest.height+T/2:u==="near"||g!==0?O=T/2:u==="center"?O=M.highest.height/2-_*T:O=M.highest.height-k*T,f&&(O*=-1),g!==0&&!E.showLabelBackdrop&&(w+=T/2*Math.sin(g))):(S=A,O=(1-k)*T/2);let q;if(E.showLabelBackdrop){const G=Rs(E.backdropPadding),H=M.heights[y],J=M.widths[y];let ce=O-G.top,fe=0-G.left;switch(I){case"middle":ce-=H/2;break;case"bottom":ce-=H;break}switch(P){case"center":fe-=J/2;break;case"right":fe-=J;break;case"inner":y===v-1?fe-=J:y>0&&(fe-=J/2);break}q={left:fe,top:ce,width:J+G.width,height:H+G.height,color:E.backdropColor}}x.push({label:j,font:C,textOffset:O,options:{rotation:g,color:L,strokeColor:R,strokeWidth:F,textAlign:W,textBaseline:I,translation:[w,S],backdrop:q}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ea(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),l=t+i,c=o.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,r==="near"?u="left":r==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,s,i,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const l=(c,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const c=s[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=qo(t,this.left,o)-o/2,d=qo(t,this.right,l)+l/2,f=h=c):(f=qo(t,this.top,o)-o/2,h=qo(t,this.bottom,l)+l/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Nv(r,s);const i=this.getLabelItems(t);for(const o of i){const l=o.options,c=o.font,u=o.label,d=o.textOffset;Zh(r,u,0,d,c,l)}s&&Sv(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=hr(r.font),o=Rs(r.padding),l=r.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||lt(n)?(c+=o.bottom,vn(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=Ece(this,c,n,l);Zh(t,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:h,textAlign:Tce(l,n,s),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=st(t.grid&&t.grid.z,-1),s=st(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Od.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const l=n[i];l[r]===this.id&&(!t||l.type===t)&&s.push(l)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return hr(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class cg{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;Rce(n)&&(r=this.register(n));const s=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in s||(s[i]=t,Mce(t,o,r),this.override&&fn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,s=this.scope;r in n&&delete n[r],s&&r in fn[s]&&(delete fn[s][r],this.override&&delete Zl[r])}}function Mce(e,t,n){const r=Gh(Object.create(null),[n?fn.get(n):{},fn.get(t),e.defaults]);fn.set(t,r),e.defaultRoutes&&Dce(t,e.defaultRoutes),e.descriptors&&fn.describe(t,e.descriptors)}function Dce(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),i=[e].concat(r).join("."),o=t[n].split("."),l=o.pop(),c=o.join(".");fn.route(i,s,c,l)})}function Rce(e){return"id"in e&&"defaults"in e}class Ice{constructor(){this.controllers=new cg(Rl,"datasets",!0),this.elements=new cg(ka,"elements"),this.plugins=new cg(Object,"plugins"),this.scales=new cg(Od,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(t,i,s):Nt(s,o=>{const l=r||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,n,r){const s=$5(t);Bt(r["before"+s],[],r),n[t](r),Bt(r["after"+s],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return s}}var ui=new Ice;class $ce{constructor(){this._init=void 0}notify(t,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const i=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(i,t,n,r);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,n,r,s){s=s||{};for(const i of t){const o=i.plugin,l=o[r],c=[n,s,i.options];if(Bt(l,c,o)===!1&&s.cancelable)return!1}return!0}invalidate(){bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,s=st(r.options&&r.options.plugins,{}),i=Lce(r);return s===!1&&!n?[]:Bce(t,i,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(s(n,r),t,"stop"),this._notify(s(r,n),t,"start")}}function Lce(e){const t={},n=[],r=Object.keys(ui.plugins.items);for(let i=0;i<r.length;i++)n.push(ui.getPlugin(r[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function Fce(e,t){return!t&&e===!1?null:e===!0?{}:e}function Bce(e,{plugins:t,localIds:n},r,s){const i=[],o=e.getContext();for(const l of t){const c=l.id,u=Fce(r[c],s);u!==null&&i.push({plugin:l,options:Vce(e.config,{plugin:l,local:n[c]},u,o)})}return i}function Vce(e,{plugin:t,local:n},r,s){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(r,i);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Lj(e,t){const n=fn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function zce(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function Uce(e,t){return e===t?"_index_":"_value_"}function ak(e){if(e==="x"||e==="y"||e==="r")return e}function Hce(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Fj(e,...t){if(ak(e))return e;for(const n of t){const r=n.axis||Hce(n.position)||e.length>1&&ak(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ok(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Wce(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return ok(e,"x",n[0])||ok(e,"y",n[0])}return{}}function qce(e,t){const n=Zl[e.type]||{scales:{}},r=t.scales||{},s=Lj(e.type,t),i=Object.create(null);return Object.keys(r).forEach(o=>{const l=r[o];if(!lt(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Fj(o,l,Wce(o,e),fn.scales[l.type]),u=Uce(c,s),d=n.scales||{};i[o]=nh(Object.create(null),[{axis:c},l,d[c],d[u]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||Lj(l,t),d=(Zl[l]||{}).scales||{};Object.keys(d).forEach(f=>{const h=zce(f,c),p=o[h+"AxisID"]||h;i[p]=i[p]||Object.create(null),nh(i[p],[{axis:h},r[p],d[f]])})}),Object.keys(i).forEach(o=>{const l=i[o];nh(l,[fn.scales[l.type],fn.scale])}),i}function r9(e){const t=e.options||(e.options={});t.plugins=st(t.plugins,{}),t.scales=qce(e,t)}function s9(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Kce(e){return e=e||{},e.data=s9(e.data),r9(e),e}const lk=new Map,i9=new Set;function ug(e,t){let n=lk.get(e);return n||(n=t(),lk.set(e,n),i9.add(n)),n}const lf=(e,t,n)=>{const r=Jl(t,n);r!==void 0&&e.add(r)};class Gce{constructor(t){this._config=Kce(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=s9(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),r9(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ug(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return ug(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return ug(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return ug(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let s=r.get(t);return(!s||n)&&(s=new Map,r.set(t,s)),s}getOptionScopes(t,n,r){const{options:s,type:i}=this,o=this._cachedScopes(t,r),l=o.get(n);if(l)return l;const c=new Set;n.forEach(d=>{t&&(c.add(t),d.forEach(f=>lf(c,t,f))),d.forEach(f=>lf(c,s,f)),d.forEach(f=>lf(c,Zl[i]||{},f)),d.forEach(f=>lf(c,fn,f)),d.forEach(f=>lf(c,Ij,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),i9.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:t,type:n}=this;return[t,Zl[n]||{},fn.datasets[n]||{},{type:n},fn,Ij]}resolveNamedOptions(t,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=ck(this._resolverCache,t,s);let c=o;if(Xce(o,n)){i.$shared=!1,r=Eo(r)?r():r;const u=this.createResolver(t,r,l);c=Uu(o,r,u)}for(const u of n)i[u]=c[u];return i}createResolver(t,n,r=[""],s){const{resolver:i}=ck(this._resolverCache,t,r);return lt(n)?Uu(i,n,void 0,s):i}}function ck(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let i=r.get(s);return i||(i={resolver:U5(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(s,i)),i}const Yce=e=>lt(e)&&Object.getOwnPropertyNames(e).some(t=>Eo(e[t]));function Xce(e,t){const{isScriptable:n,isIndexable:r}=LL(e);for(const s of t){const i=n(s),o=r(s),l=(o||i)&&e[s];if(i&&(Eo(l)||Yce(l))||o&&vn(l))return!0}return!1}var Qce="4.5.1";const Jce=["top","bottom","left","right","chartArea"];function uk(e,t){return e==="top"||e==="bottom"||Jce.indexOf(e)===-1&&t==="x"}function dk(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function fk(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Bt(n&&n.onComplete,[e],t)}function Zce(e){const t=e.chart,n=t.options.animation;Bt(n&&n.onProgress,[e],t)}function a9(e){return q5()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const a0={},hk=e=>{const t=a9(e);return Object.values(a0).filter(n=>n.canvas===t).pop()};function eue(e,t,n){const r=Object.keys(e);for(const s of r){const i=+s;if(i>=t){const o=e[s];delete e[s],(n>0||i>t)&&(e[i+n]=o)}}}function tue(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}var $a;let om=($a=class{static register(...t){ui.add(...t),pk()}static unregister(...t){ui.remove(...t),pk()}constructor(t,n){const r=this.config=new Gce(n),s=a9(t),i=hk(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||vce(s)),this.platform.updateConfig(r);const l=this.platform.acquireContext(s,o.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Zae(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $ce,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=yoe(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],a0[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Vi.listen(this,"complete",fk),Vi.listen(this,"progress",Zce),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return bt(t)?n&&i?i:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ui}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():IO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return MO(this.canvas,this.ctx),this}stop(){return Vi.stop(this),this}resize(t,n){Vi.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,i),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,IO(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Bt(r.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Nt(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const l=n[o],c=Fj(o,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Nt(i,o=>{const l=o.options,c=l.id,u=Fj(c,l),d=st(l.type,o.dtype);(l.position===void 0||uk(l.position,u)!==uk(o.dposition))&&(l.position=o.dposition),s[c]=!0;let f=null;if(c in r&&r[c].type===d)f=r[c];else{const h=ui.getScale(d);f=new h({id:c,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,t)}),Nt(s,(o,l)=>{o||delete r[l]}),Nt(r,o=>{ks.configure(this,o,o.options),ks.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(dk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=i.indexAxis||Lj(l,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const c=ui.getController(l),{datasetElementType:u,dataElementType:d}=fn.datasets[l];Object.assign(c,{dataElementType:ui.getElement(d),datasetElementType:u&&ui.getElement(u)}),o.controller=new c(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Nt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||Nt(i,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(dk("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Nt(this.scales,t=>{ks.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!NO(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;eue(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(t.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!NO(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ks.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Nt(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Eo(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vi.has(this)?this.attached&&!Vi.running(this)&&Vi.start(this):(this.draw(),fk({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=GL(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Nv(n,s),t.controller.draw(),s&&Sv(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Jh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const i=Jle.modes[n];return typeof i=="function"?i(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=cc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,s);Yh(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(i,{visible:r}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Vi.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),MO(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete a0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),t[i]=o},s=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};Nt(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),t[c]=u},s=(c,u)=>{t[c]&&(n.removeEventListener(this,c,u),delete t[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){Nt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Nt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let i,o,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!cx(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const s=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(n,t),l=r?t:i(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:i}=this,o=n,l=this._getActiveElements(t,s,r,o),c=ioe(t),u=tue(t,this._lastEvent,r,c);r&&(this._lastEvent=null,Bt(i.onHover,[t,l,this],this),c&&Bt(i.onClick,[t,l,this],this));const d=!cx(l,s);return(d||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=u,d}_getActiveElements(t,n,r,s){if(t.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,s)}},Ie($a,"defaults",fn),Ie($a,"instances",a0),Ie($a,"overrides",Zl),Ie($a,"registry",ui),Ie($a,"version",Qce),Ie($a,"getChart",hk),$a);function pk(){return Nt(om.instances,e=>e._plugins.invalidate())}function nue(e,t,n){const{startAngle:r,x:s,y:i,outerRadius:o,innerRadius:l,options:c}=t,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/o,Qr(r-n));if(e.beginPath(),e.arc(s,i,o-u/2,r+f/2,n-f/2),l>0){const h=Math.min(u/l,Qr(r-n));e.arc(s,i,l+u/2,n-h/2,r+h/2,!0)}else{const h=Math.min(u/2,o*Qr(r-n));if(d==="round")e.arc(s,i,h,n-St/2,r+St/2,!0);else if(d==="bevel"){const p=2*h*h,m=-p*Math.cos(n+St/2)+s,g=-p*Math.sin(n+St/2)+i,x=p*Math.cos(r+St/2)+s,y=p*Math.sin(r+St/2)+i;e.lineTo(m,g),e.lineTo(x,y)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function rue(e,t,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:l,innerRadius:c}=t;let u=s/l;e.beginPath(),e.arc(i,o,l,r-u,n+u),c>s?(u=s/c,e.arc(i,o,c,n+u,r-u,!0)):e.arc(i,o,s,n+_n,r-_n),e.closePath(),e.clip()}function sue(e){return z5(e,["outerStart","outerEnd","innerStart","innerEnd"])}function iue(e,t,n,r){const s=sue(e.options.borderRadius),i=(n-t)/2,o=Math.min(i,r*t/2),l=c=>{const u=(n-Math.min(i,c))*r/2;return fr(c,0,Math.min(i,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:fr(s.innerStart,0,o),innerEnd:fr(s.innerEnd,0,o)}}function wc(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function mx(e,t,n,r,s,i){const{x:o,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=t,f=Math.max(t.outerRadius+r+n-u,0),h=d>0?d+r+n+u:0;let p=0;const m=s-c;if(r){const E=d>0?d-r:0,_=f>0?f-r:0,L=(E+_)/2,R=L!==0?m*L/(L+r):m;p=(m-R)/2}const g=Math.max(.001,m*f-n/St)/f,x=(m-g)/2,y=c+x+p,v=s-x-p,{outerStart:b,outerEnd:j,innerStart:w,innerEnd:S}=iue(t,h,f,v-y),P=f-b,A=f-j,C=y+b/P,T=v-j/A,k=h+w,O=h+S,I=y+w/k,M=v-S/O;if(e.beginPath(),i){const E=(C+T)/2;if(e.arc(o,l,f,C,E),e.arc(o,l,f,E,T),j>0){const F=wc(A,T,o,l);e.arc(F.x,F.y,j,T,v+_n)}const _=wc(O,v,o,l);if(e.lineTo(_.x,_.y),S>0){const F=wc(O,M,o,l);e.arc(F.x,F.y,S,v+_n,M+Math.PI)}const L=(v-S/h+(y+w/h))/2;if(e.arc(o,l,h,v-S/h,L,!0),e.arc(o,l,h,L,y+w/h,!0),w>0){const F=wc(k,I,o,l);e.arc(F.x,F.y,w,I+Math.PI,y-_n)}const R=wc(P,y,o,l);if(e.lineTo(R.x,R.y),b>0){const F=wc(P,C,o,l);e.arc(F.x,F.y,b,y-_n,C)}}else{e.moveTo(o,l);const E=Math.cos(C)*f+o,_=Math.sin(C)*f+l;e.lineTo(E,_);const L=Math.cos(T)*f+o,R=Math.sin(T)*f+l;e.lineTo(L,R)}e.closePath()}function aue(e,t,n,r,s){const{fullCircles:i,startAngle:o,circumference:l}=t;let c=t.endAngle;if(i){mx(e,t,n,r,c,s);for(let u=0;u<i;++u)e.fill();isNaN(l)||(c=o+(l%Qt||Qt))}return mx(e,t,n,r,c,s),e.fill(),c}function oue(e,t,n,r,s){const{fullCircles:i,startAngle:o,circumference:l,options:c}=t,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:p}=c,m=c.borderAlign==="inner";if(!u)return;e.setLineDash(f||[]),e.lineDashOffset=h,m?(e.lineWidth=u*2,e.lineJoin=d||"round"):(e.lineWidth=u,e.lineJoin=d||"bevel");let g=t.endAngle;if(i){mx(e,t,n,r,g,s);for(let x=0;x<i;++x)e.stroke();isNaN(l)||(g=o+(l%Qt||Qt))}m&&rue(e,t,g),c.selfJoin&&g-o>=St&&p===0&&d!=="miter"&&nue(e,t,g),i||(mx(e,t,n,r,g,s),e.stroke())}class Ff extends ka{constructor(n){super();Ie(this,"circumference");Ie(this,"endAngle");Ie(this,"fullCircles");Ie(this,"innerRadius");Ie(this,"outerRadius");Ie(this,"pixelMargin");Ie(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:l}=_L(i,{x:n,y:r}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,m=st(h,u-c),g=Qh(o,c,u)&&c!==u,x=m>=Qt||g,y=ta(l,d+p,f+p);return x&&y}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,f=(i+o)/2,h=(l+c+d+u)/2;return{x:r+Math.cos(f)*h,y:s+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,l=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>Qt?Math.floor(s/Qt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(St,s||0)),d=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,aue(n,this,d,o,l),oue(n,this,d,o,l),n.restore()}}Ie(Ff,"id","arc"),Ie(Ff,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ie(Ff,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ie(Ff,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function o9(e,t,n=t){e.lineCap=st(n.borderCapStyle,t.borderCapStyle),e.setLineDash(st(n.borderDash,t.borderDash)),e.lineDashOffset=st(n.borderDashOffset,t.borderDashOffset),e.lineJoin=st(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=st(n.borderWidth,t.borderWidth),e.strokeStyle=st(n.borderColor,t.borderColor)}function lue(e,t,n){e.lineTo(n.x,n.y)}function cue(e){return e.stepped?Eoe:e.tension||e.cubicInterpolationMode==="monotone"?Moe:lue}function l9(e,t,n={}){const r=e.length,{start:s=0,end:i=r-1}=n,{start:o,end:l}=t,c=Math.max(s,o),u=Math.min(i,l),d=s<o&&i<o||s>l&&i>l;return{count:r,start:c,loop:t.loop,ilen:u<c&&!d?r+u-c:u-c}}function uue(e,t,n,r){const{points:s,options:i}=t,{count:o,start:l,loop:c,ilen:u}=l9(s,n,r),d=cue(i);let{move:f=!0,reverse:h}=r||{},p,m,g;for(p=0;p<=u;++p)m=s[(l+(h?u-p:p))%o],!m.skip&&(f?(e.moveTo(m.x,m.y),f=!1):d(e,g,m,h,i.stepped),g=m);return c&&(m=s[(l+(h?u:0))%o],d(e,g,m,h,i.stepped)),!!c}function due(e,t,n,r){const s=t.points,{count:i,start:o,ilen:l}=l9(s,n,r),{move:c=!0,reverse:u}=r||{};let d=0,f=0,h,p,m,g,x,y;const v=j=>(o+(u?l-j:j))%i,b=()=>{g!==x&&(e.lineTo(d,x),e.lineTo(d,g),e.lineTo(d,y))};for(c&&(p=s[v(0)],e.moveTo(p.x,p.y)),h=0;h<=l;++h){if(p=s[v(h)],p.skip)continue;const j=p.x,w=p.y,S=j|0;S===m?(w<g?g=w:w>x&&(x=w),d=(f*d+j)/++f):(b(),e.lineTo(j,w),m=S,f=0,g=x=w),y=w}b()}function Bj(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?due:uue}function fue(e){return e.stepped?dle:e.tension||e.cubicInterpolationMode==="monotone"?fle:nl}function hue(e,t,n,r){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,r)&&s.closePath()),o9(e,t.options),e.stroke(s)}function pue(e,t,n,r){const{segments:s,options:i}=t,o=Bj(t);for(const l of s)o9(e,i,l.style),e.beginPath(),o(e,t,l,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const mue=typeof Path2D=="function";function gue(e,t,n,r){mue&&!t.options.segment?hue(e,t,n,r):pue(e,t,n,r)}class na extends ka{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;rle(this._points,r,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=yle(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,s=t[n],i=this.points,o=KL(this,{property:n,start:s,end:s});if(!o.length)return;const l=[],c=fue(r);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:h}=o[u],p=i[f],m=i[h];if(p===m){l.push(p);continue}const g=Math.abs((s-p[n])/(m[n]-p[n])),x=c(p,m,g,r.stepped);x[n]=t[n],l.push(x)}return l.length===1?l[0]:l}pathSegment(t,n,r){return Bj(this)(t,this,n,r)}path(t,n,r){const s=this.segments,i=Bj(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)o&=i(t,this,l,{start:n,end:n+r-1});return!!o}draw(t,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),gue(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ie(na,"id","line"),Ie(na,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ie(na,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ie(na,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function mk(e,t,n,r){const s=e.options,{[n]:i}=e.getProps([n],r);return Math.abs(t-i)<s.radius+s.hitRadius}class ah extends ka{constructor(n){super();Ie(this,"parsed");Ie(this,"skip");Ie(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return mk(this,n,"x",r)}inYRange(n,r){return mk(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!Jh(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,$j(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ie(ah,"id","point"),Ie(ah,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ie(ah,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function c9(e,t){const{x:n,y:r,base:s,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let l,c,u,d,f;return e.horizontal?(f=o/2,l=Math.min(n,s),c=Math.max(n,s),u=r-f,d=r+f):(f=i/2,l=n-f,c=n+f,u=Math.min(r,s),d=Math.max(r,s)),{left:l,top:u,right:c,bottom:d}}function co(e,t,n,r){return e?0:fr(t,n,r)}function xue(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,i=$L(r);return{t:co(s.top,i.top,0,n),r:co(s.right,i.right,0,t),b:co(s.bottom,i.bottom,0,n),l:co(s.left,i.left,0,t)}}function yue(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=lu(s),o=Math.min(t,n),l=e.borderSkipped,c=r||lt(s);return{topLeft:co(!c||l.top||l.left,i.topLeft,0,o),topRight:co(!c||l.top||l.right,i.topRight,0,o),bottomLeft:co(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:co(!c||l.bottom||l.right,i.bottomRight,0,o)}}function vue(e){const t=c9(e),n=t.right-t.left,r=t.bottom-t.top,s=xue(e,n/2,r/2),i=yue(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Y1(e,t,n,r){const s=t===null,i=n===null,l=e&&!(s&&i)&&c9(e,r);return l&&(s||ta(t,l.left,l.right))&&(i||ta(n,l.top,l.bottom))}function bue(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function wue(e,t){e.rect(t.x,t.y,t.w,t.h)}function X1(e,t,n={}){const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+i,h:e.h+o,radius:e.radius}}class oh extends ka{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=vue(this),l=bue(o.radius)?fx:wue;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),l(t,X1(o,n,i)),t.clip(),l(t,X1(i,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),l(t,X1(i,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,r){return Y1(this,t,n,r)}inXRange(t,n){return Y1(this,t,null,n)}inYRange(t,n){return Y1(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Ie(oh,"id","bar"),Ie(oh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ie(oh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function jue(e,t,n){const r=e.segments,s=e.points,i=t.points,o=[];for(const l of r){let{start:c,end:u}=l;u=Cv(c,u,s);const d=Vj(n,s[c],s[u],l.loop);if(!t.segments){o.push({source:l,target:d,start:s[c],end:s[u]});continue}const f=KL(t,d);for(const h of f){const p=Vj(n,i[h.start],i[h.end],h.loop),m=qL(l,s,p);for(const g of m)o.push({source:g,target:h,start:{[n]:gk(d,p,"start",Math.max)},end:{[n]:gk(d,p,"end",Math.min)}})}}return o}function Vj(e,t,n,r){if(r)return;let s=t[e],i=n[e];return e==="angle"&&(s=Qr(s),i=Qr(i)),{property:e,start:s,end:i}}function Nue(e,t){const{x:n=null,y:r=null}=e||{},s=t.points,i=[];return t.segments.forEach(({start:o,end:l})=>{l=Cv(o,l,s);const c=s[o],u=s[l];r!==null?(i.push({x:c.x,y:r}),i.push({x:u.x,y:r})):n!==null&&(i.push({x:n,y:c.y}),i.push({x:n,y:u.y}))}),i}function Cv(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function gk(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function u9(e,t){let n=[],r=!1;return vn(e)?(r=!0,n=e):n=Nue(e,t),n.length?new na({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function xk(e){return e&&e.fill!==!1}function Sue(e,t,n){let s=e[t].fill;const i=[t];let o;if(!n)return s;for(;s!==!1&&i.indexOf(s)===-1;){if(!mr(s))return s;if(o=e[s],!o)return!1;if(o.visible)return s;i.push(s),s=o.fill}return!1}function Pue(e,t,n){const r=kue(e);if(lt(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return mr(s)&&Math.floor(s)===s?Aue(r[0],t,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Aue(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function Cue(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:lt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Oue(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:lt(e)?r=e.value:r=t.getBaseValue(),r}function kue(e){const t=e.options,n=t.fill;let r=st(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function _ue(e){const{scale:t,index:n,line:r}=e,s=[],i=r.segments,o=r.points,l=Tue(t,n);l.push(u9({x:null,y:t.bottom},r));for(let c=0;c<i.length;c++){const u=i[c];for(let d=u.start;d<=u.end;d++)Eue(s,o[d],l)}return new na({points:s,options:{}})}function Tue(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const i=r[s];if(i.index===t)break;i.hidden||n.unshift(i.dataset)}return n}function Eue(e,t,n){const r=[];for(let s=0;s<n.length;s++){const i=n[s],{first:o,last:l,point:c}=Mue(i,t,"x");if(!(!c||o&&l)){if(o)r.unshift(c);else if(e.push(c),!l)break}}e.push(...r)}function Mue(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const s=r[n],i=e.segments,o=e.points;let l=!1,c=!1;for(let u=0;u<i.length;u++){const d=i[u],f=o[d.start][n],h=o[d.end][n];if(ta(s,f,h)){l=s===f,c=s===h;break}}return{first:l,last:c,point:r}}class d9{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:s,y:i,radius:o}=this;return n=n||{start:0,end:Qt},t.arc(s,i,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:s}=this,i=t.angle;return{x:n+Math.cos(i)*s,y:r+Math.sin(i)*s,angle:i}}}function Due(e){const{chart:t,fill:n,line:r}=e;if(mr(n))return Rue(t,n);if(n==="stack")return _ue(e);if(n==="shape")return!0;const s=Iue(e);return s instanceof d9?s:u9(s,r)}function Rue(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function Iue(e){return(e.scale||{}).getPointPositionForValue?Lue(e):$ue(e)}function $ue(e){const{scale:t={},fill:n}=e,r=Cue(n,t);if(mr(r)){const s=t.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function Lue(e){const{scale:t,fill:n}=e,r=t.options,s=t.getLabels().length,i=r.reverse?t.max:t.min,o=Oue(n,t,i),l=[];if(r.grid.circular){const c=t.getPointPositionForValue(0,i);return new d9({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<s;++c)l.push(t.getPointPositionForValue(c,o));return l}function Q1(e,t,n){const r=Due(t),{chart:s,index:i,line:o,scale:l,axis:c}=t,u=o.options,d=u.fill,f=u.backgroundColor,{above:h=f,below:p=f}=d||{},m=s.getDatasetMeta(i),g=GL(s,m);r&&o.points.length&&(Nv(e,n),Fue(e,{line:o,target:r,above:h,below:p,area:n,scale:l,axis:c,clip:g}),Sv(e))}function Fue(e,t){const{line:n,target:r,above:s,below:i,area:o,scale:l,clip:c}=t,u=n._loop?"angle":t.axis;e.save();let d=i;i!==s&&(u==="x"?(yk(e,r,o.top),J1(e,{line:n,target:r,color:s,scale:l,property:u,clip:c}),e.restore(),e.save(),yk(e,r,o.bottom)):u==="y"&&(vk(e,r,o.left),J1(e,{line:n,target:r,color:i,scale:l,property:u,clip:c}),e.restore(),e.save(),vk(e,r,o.right),d=s)),J1(e,{line:n,target:r,color:d,scale:l,property:u,clip:c}),e.restore()}function yk(e,t,n){const{segments:r,points:s}=t;let i=!0,o=!1;e.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],f=s[Cv(c,u,s)];i?(e.moveTo(d.x,d.y),i=!1):(e.lineTo(d.x,n),e.lineTo(d.x,d.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(f.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function vk(e,t,n){const{segments:r,points:s}=t;let i=!0,o=!1;e.beginPath();for(const l of r){const{start:c,end:u}=l,d=s[c],f=s[Cv(c,u,s)];i?(e.moveTo(d.x,d.y),i=!1):(e.lineTo(n,d.y),e.lineTo(d.x,d.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(n,f.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function J1(e,t){const{line:n,target:r,property:s,color:i,scale:o,clip:l}=t,c=jue(n,r,s);for(const{source:u,target:d,start:f,end:h}of c){const{style:{backgroundColor:p=i}={}}=u,m=r!==!0;e.save(),e.fillStyle=p,Bue(e,o,l,m&&Vj(s,f,h)),e.beginPath();const g=!!n.pathSegment(e,u);let x;if(m){g?e.closePath():bk(e,r,h,s);const y=!!r.pathSegment(e,d,{move:g,reverse:!0});x=g&&y,x||bk(e,r,f,s)}e.closePath(),e.fill(x?"evenodd":"nonzero"),e.restore()}}function Bue(e,t,n,r){const s=t.chart.chartArea,{property:i,start:o,end:l}=r||{};if(i==="x"||i==="y"){let c,u,d,f;i==="x"?(c=o,u=s.top,d=l,f=s.bottom):(c=s.left,u=o,d=s.right,f=l),e.beginPath(),n&&(c=Math.max(c,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),f=Math.min(f,n.bottom)),e.rect(c,u,d-c,f-u),e.clip()}}function bk(e,t,n,r){const s=t.interpolate(n,r);s&&e.lineTo(s.x,s.y)}var f9={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,s=[];let i,o,l,c;for(o=0;o<r;++o)i=e.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof na&&(c={visible:e.isDatasetVisible(o),index:o,fill:Pue(l,o,r),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,s.push(c);for(o=0;o<r;++o)c=s[o],!(!c||c.fill===!1)&&(c.fill=Sue(s,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let o=s.length-1;o>=0;--o){const l=s[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),r&&l.fill&&Q1(e.ctx,l,i))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const i=r[s].$filler;xk(i)&&Q1(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!xk(r)||n.drawTime!=="beforeDatasetDraw"||Q1(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wk=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},Vue=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;let jk=class extends ka{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Bt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,s)=>t.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,s=hr(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=wk(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,l,c)+10):(d=this.maxHeight,u=this._fitCols(o,s,l,c)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let f=t;i.textAlign="left",i.textBaseline="middle";let h=-1,p=-d;return this.legendItems.forEach((m,g)=>{const x=r+n/2+i.measureText(m.text).width;(g===0||u[u.length-1]+x+2*l>o)&&(f+=d,u[u.length-(g>0?0:1)]=0,p+=d,h++),c[g]={left:0,top:p,row:h,width:x,height:s},u[u.length-1]+=x+l}),f}_fitCols(t,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-t;let f=l,h=0,p=0,m=0,g=0;return this.legendItems.forEach((x,y)=>{const{itemWidth:v,itemHeight:b}=zue(r,n,i,x,s);y>0&&p+b+2*l>d&&(f+=h+l,u.push({width:h,height:p}),m+=h+l,g++,h=p=0),c[y]={left:m,top:p,col:g,width:v,height:b},h=Math.max(h,v),p+=b+l}),f+=h,u.push({width:h,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=cu(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=sr(r,this.left+s,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=sr(r,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+t+s,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+s}else{let l=0,c=sr(r,this.top+t+s,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=sr(r,this.top+t+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Nv(t,this),this._draw(),Sv(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=t,l=fn.color,c=cu(t.rtl,this.left,this.width),u=hr(o.font),{padding:d}=o,f=u.size,h=f/2;let p;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:m,boxHeight:g,itemHeight:x}=wk(o,f),y=function(S,P,A){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;s.save();const C=st(A.lineWidth,1);if(s.fillStyle=st(A.fillStyle,l),s.lineCap=st(A.lineCap,"butt"),s.lineDashOffset=st(A.lineDashOffset,0),s.lineJoin=st(A.lineJoin,"miter"),s.lineWidth=C,s.strokeStyle=st(A.strokeStyle,l),s.setLineDash(st(A.lineDash,[])),o.usePointStyle){const T={radius:g*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:C},k=c.xPlus(S,m/2),O=P+h;IL(s,T,k,O,o.pointStyleWidth&&m)}else{const T=P+Math.max((f-g)/2,0),k=c.leftForLtr(S,m),O=lu(A.borderRadius);s.beginPath(),Object.values(O).some(I=>I!==0)?fx(s,{x:k,y:T,w:m,h:g,radius:O}):s.rect(k,T,m,g),s.fill(),C!==0&&s.stroke()}s.restore()},v=function(S,P,A){Zh(s,A.text,S,P+x/2,u,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},b=this.isHorizontal(),j=this._computeTitleHeight();b?p={x:sr(i,this.left+d,this.right-r[0]),y:this.top+d+j,line:0}:p={x:this.left+d,y:sr(i,this.top+j+d,this.bottom-n[0].height),line:0},UL(this.ctx,t.textDirection);const w=x+d;this.legendItems.forEach((S,P)=>{s.strokeStyle=S.fontColor,s.fillStyle=S.fontColor;const A=s.measureText(S.text).width,C=c.textAlign(S.textAlign||(S.textAlign=o.textAlign)),T=m+h+A;let k=p.x,O=p.y;c.setWidth(this.width),b?P>0&&k+T+d>this.right&&(O=p.y+=w,p.line++,k=p.x=sr(i,this.left+d,this.right-r[p.line])):P>0&&O+w>this.bottom&&(k=p.x=k+n[p.line].width+d,p.line++,O=p.y=sr(i,this.top+j+d,this.bottom-n[p.line].height));const I=c.x(k);if(y(I,O,S),k=voe(C,k+m+h,b?k+T:this.right,t.rtl),v(c.x(k),O,S),b)p.x+=T+d;else if(typeof S.text!="string"){const M=u.lineHeight;p.y+=h9(S,M)+d}else p.y+=w}),HL(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=hr(n.font),s=Rs(n.padding);if(!n.display)return;const i=cu(t.rtl,this.left,this.width),o=this.ctx,l=n.position,c=r.size/2,u=s.top+c;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=sr(t.align,f,this.right-h);else{const m=this.columnSizes.reduce((g,x)=>Math.max(g,x.height),0);d=u+sr(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=sr(l,f,f+h);o.textAlign=i.textAlign(F5(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Zh(o,n.text,p,d,r)}_computeTitleHeight(){const t=this.options.title,n=hr(t.font),r=Rs(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,s,i;if(ta(t,this.left,this.right)&&ta(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],ta(t,s.left,s.left+s.width)&&ta(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!Wue(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,i=Vue(s,r);s&&!i&&Bt(n.onLeave,[t,s,this],this),this._hoveredItem=r,r&&!i&&Bt(n.onHover,[t,r,this],this)}else r&&Bt(n.onClick,[t,r,this],this)}};function zue(e,t,n,r,s){const i=Uue(r,e,t,n),o=Hue(s,r,t.lineHeight);return{itemWidth:i,itemHeight:o}}function Uue(e,t,n,r){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),t+n.size/2+r.measureText(s).width}function Hue(e,t,n){let r=e;return typeof t.text!="string"&&(r=h9(t,n)),r}function h9(e,t){const n=e.text?e.text.length:0;return t*n}function Wue(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var p9={id:"legend",_element:jk,start(e,t,n){const r=e.legend=new jk({ctx:e.ctx,options:n,chart:e});ks.configure(e,r,n),ks.addBox(e,r)},stop(e){ks.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;ks.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=Rs(u.borderWidth);return{text:t[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class m9 extends ka{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=vn(r.text)?r.text.length:1;this._padding=Rs(r.padding);const i=s*hr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:s,right:i,options:o}=this,l=o.align;let c=0,u,d,f;return this.isHorizontal()?(d=sr(l,r,i),f=n+t,u=i-r):(o.position==="left"?(d=r+t,f=sr(l,s,n),c=St*-.5):(d=i-t,f=sr(l,n,s),c=St*.5),u=s-n),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=hr(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);Zh(t,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:u,textAlign:F5(n.align),textBaseline:"middle",translation:[o,l]})}}function que(e,t){const n=new m9({ctx:e.ctx,options:t,chart:e});ks.configure(e,n,t),ks.addBox(e,n),e.titleBlock=n}var g9={id:"title",_element:m9,start(e,t,n){que(e,n)},stop(e){const t=e.titleBlock;ks.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;ks.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bf={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,i=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),s+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,s=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=e.length;i<o;++i){const c=e[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=Rj(t,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function li(e,t){return t&&(vn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function zi(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Kue(e,t){const{element:n,datasetIndex:r,index:s}=t,i=e.getDatasetMeta(r).controller,{label:o,value:l}=i.getLabelAndValue(s);return{chart:e,label:o,parsed:i.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Nk(e,t){const n=e.chart.ctx,{body:r,footer:s,title:i}=e,{boxWidth:o,boxHeight:l}=t,c=hr(t.bodyFont),u=hr(t.titleFont),d=hr(t.footerFont),f=i.length,h=s.length,p=r.length,m=Rs(t.padding);let g=m.height,x=0,y=r.reduce((j,w)=>j+w.before.length+w.lines.length+w.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,f&&(g+=f*u.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),y){const j=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;g+=p*j+(y-p)*c.lineHeight+(y-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let v=0;const b=function(j){x=Math.max(x,n.measureText(j).width+v)};return n.save(),n.font=u.string,Nt(e.title,b),n.font=c.string,Nt(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?o+2+t.boxPadding:0,Nt(r,j=>{Nt(j.before,b),Nt(j.lines,b),Nt(j.after,b)}),v=0,n.font=d.string,Nt(e.footer,b),n.restore(),x+=m.width,{width:x,height:g}}function Gue(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function Yue(e,t,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&s+i+o>t.width||e==="right"&&s-i-o<0)return!0}function Xue(e,t,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:l,right:c}}=e;let u="center";return r==="center"?u=s<=(l+c)/2?"left":"right":s<=i/2?u="left":s>=o-i/2&&(u="right"),Yue(u,e,t,n)&&(u="center"),u}function Sk(e,t,n){const r=n.yAlign||t.yAlign||Gue(e,n);return{xAlign:n.xAlign||t.xAlign||Xue(e,t,n,r),yAlign:r}}function Que(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function Jue(e,t,n){let{y:r,height:s}=e;return t==="top"?r+=n:t==="bottom"?r-=s+n:r-=s/2,r}function Pk(e,t,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=e,{xAlign:l,yAlign:c}=n,u=s+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=lu(o);let m=Que(t,l);const g=Jue(t,c,u);return c==="center"?l==="left"?m+=u:l==="right"&&(m-=u):l==="left"?m-=Math.max(d,h)+s:l==="right"&&(m+=Math.max(f,p)+s),{x:fr(m,0,r.width-t.width),y:fr(g,0,r.height-t.height)}}function dg(e,t,n){const r=Rs(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Ak(e){return li([],zi(e))}function Zue(e,t,n){return cc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Ck(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const x9={beforeTitle:$i,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:$i,beforeBody:$i,beforeLabel:$i,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return bt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:$i,afterBody:$i,beforeFooter:$i,footer:$i,afterFooter:$i};function Cr(e,t,n,r){const s=e[t].call(n,r);return typeof s>"u"?x9[t].call(n,r):s}var E2;let Ok=(E2=class extends ka{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new YL(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Zue(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=Cr(r,"beforeTitle",this,t),i=Cr(r,"title",this,t),o=Cr(r,"afterTitle",this,t);let l=[];return l=li(l,zi(s)),l=li(l,zi(i)),l=li(l,zi(o)),l}getBeforeBody(t,n){return Ak(Cr(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return Nt(t,i=>{const o={before:[],lines:[],after:[]},l=Ck(r,i);li(o.before,zi(Cr(l,"beforeLabel",this,i))),li(o.lines,Cr(l,"label",this,i)),li(o.after,zi(Cr(l,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(t,n){return Ak(Cr(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=Cr(r,"beforeFooter",this,t),i=Cr(r,"footer",this,t),o=Cr(r,"afterFooter",this,t);let l=[];return l=li(l,zi(s)),l=li(l,zi(i)),l=li(l,zi(o)),l}_createItems(t){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(Kue(this.chart,n[c]));return t.filter&&(l=l.filter((d,f,h)=>t.filter(d,f,h,r))),t.itemSort&&(l=l.sort((d,f)=>t.itemSort(d,f,r))),Nt(l,d=>{const f=Ck(t.callbacks,d);s.push(Cr(f,"labelColor",this,d)),i.push(Cr(f,"labelPointStyle",this,d)),o.push(Cr(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=Bf[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const c=this._size=Nk(this,r),u=Object.assign({},l,c),d=Sk(this.chart,r,u),f=Pk(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const i=this.getCaretPosition(t,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=lu(l),{x:h,y:p}=t,{width:m,height:g}=n;let x,y,v,b,j,w;return i==="center"?(j=p+g/2,s==="left"?(x=h,y=x-o,b=j+o,w=j-o):(x=h+m,y=x+o,b=j-o,w=j+o),v=x):(s==="left"?y=h+Math.max(c,d)+o:s==="right"?y=h+m-Math.max(u,f)-o:y=this.caretX,i==="top"?(b=p,j=b-o,x=y-o,v=y+o):(b=p+g,j=b+o,x=y+o,v=y-o),w=b),{x1:x,x2:y,x3:v,y1:b,y2:j,y3:w}}drawTitle(t,n,r){const s=this.title,i=s.length;let o,l,c;if(i){const u=cu(r.rtl,this.x,this.width);for(t.x=dg(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=hr(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,c=0;c<i;++c)n.fillText(s[c],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===i&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,n,r,s,i){const o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=i,d=hr(i.bodyFont),f=dg(this,"left",i),h=s.x(f),p=c<d.lineHeight?(d.lineHeight-c)/2:0,m=n.y+p;if(i.usePointStyle){const g={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=s.leftForLtr(h,u)+u/2,y=m+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,$j(t,g,x,y),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,$j(t,g,x,y)}else{t.lineWidth=lt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(h,u),x=s.leftForLtr(s.xPlus(h,1),u-2),y=lu(o.borderRadius);Object.values(y).some(v=>v!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,fx(t,{x:g,y:m,w:u,h:c,radius:y}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),fx(t,{x,y:m+1,w:u-2,h:c-2,radius:y}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,m,u,c),t.strokeRect(g,m,u,c),t.fillStyle=o.backgroundColor,t.fillRect(x,m+1,u-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,f=hr(r.bodyFont);let h=f.lineHeight,p=0;const m=cu(r.rtl,this.x,this.width),g=function(A){n.fillText(A,m.x(t.x+p),t.y+h/2),t.y+=h+i},x=m.textAlign(o);let y,v,b,j,w,S,P;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=dg(this,x,r),n.fillStyle=r.bodyColor,Nt(this.beforeBody,g),p=l&&x!=="right"?o==="center"?u/2+d:u+2+d:0,j=0,S=s.length;j<S;++j){for(y=s[j],v=this.labelTextColors[j],n.fillStyle=v,Nt(y.before,g),b=y.lines,l&&b.length&&(this._drawColorBox(n,t,j,m,r),h=Math.max(f.lineHeight,c)),w=0,P=b.length;w<P;++w)g(b[w]),h=f.lineHeight;Nt(y.after,g)}p=0,h=f.lineHeight,Nt(this.afterBody,g),t.y-=i}drawFooter(t,n,r){const s=this.footer,i=s.length;let o,l;if(i){const c=cu(r.rtl,this.x,this.width);for(t.x=dg(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",o=hr(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=t,{width:u,height:d}=r,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:m}=lu(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+f,c),o==="top"&&this.drawCaret(t,n,r,s),n.lineTo(l+u-h,c),n.quadraticCurveTo(l+u,c,l+u,c+h),o==="center"&&i==="right"&&this.drawCaret(t,n,r,s),n.lineTo(l+u,c+d-m),n.quadraticCurveTo(l+u,c+d,l+u-m,c+d),o==="bottom"&&this.drawCaret(t,n,r,s),n.lineTo(l+p,c+d),n.quadraticCurveTo(l,c+d,l,c+d-p),o==="center"&&i==="left"&&this.drawCaret(t,n,r,s),n.lineTo(l,c+f),n.quadraticCurveTo(l,c,l+f,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=Bf[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Nk(this,t),c=Object.assign({},o,this._size),u=Sk(n,t,c),d=Pk(t,c,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Rs(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(i,t,s,n),UL(t,n.textDirection),i.y+=o.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),HL(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!cx(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(t,i,n,r),l=this._positionChanged(o,t),c=n||!cx(o,i)||l;return c&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,r,s){const i=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:s,options:i}=this,o=Bf[i.position].call(this,t,n);return o!==!1&&(r!==o.x||s!==o.y)}},Ie(E2,"positioners",Bf),E2);var y9={id:"tooltip",_element:Ok,positioners:Bf,afterInit(e,t,n){n&&(e.tooltip=new Ok({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:x9},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const ede=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function tde(e,t,n,r){const s=e.indexOf(t);if(s===-1)return ede(e,t,n,r);const i=e.lastIndexOf(t);return s!==i?n:s}const nde=(e,t)=>e===null?null:fr(Math.round(e),0,t);function kk(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class gx extends Od{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(bt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:tde(r,t,st(n,t),this._addedLabels),nde(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return kk.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Ie(gx,"id","category"),Ie(gx,"defaults",{ticks:{callback:kk}});function rde(e,t){const n=[],{bounds:s,step:i,min:o,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=e,p=i||1,m=d-1,{min:g,max:x}=t,y=!bt(o),v=!bt(l),b=!bt(u),j=(x-g)/(f+1);let w=PO((x-g)/m/p)*p,S,P,A,C;if(w<1e-14&&!y&&!v)return[{value:g},{value:x}];C=Math.ceil(x/w)-Math.floor(g/w),C>m&&(w=PO(C*w/m/p)*p),bt(c)||(S=Math.pow(10,c),w=Math.ceil(w*S)/S),s==="ticks"?(P=Math.floor(g/w)*w,A=Math.ceil(x/w)*w):(P=g,A=x),y&&v&&i&&uoe((l-o)/i,w/1e3)?(C=Math.round(Math.min((l-o)/w,d)),w=(l-o)/C,P=o,A=l):b?(P=y?o:P,A=v?l:A,C=u-1,w=(A-P)/C):(C=(A-P)/w,rh(C,Math.round(C),w/1e3)?C=Math.round(C):C=Math.ceil(C));const T=Math.max(AO(w),AO(P));S=Math.pow(10,bt(c)?T:c),P=Math.round(P*S)/S,A=Math.round(A*S)/S;let k=0;for(y&&(h&&P!==o?(n.push({value:o}),P<o&&k++,rh(Math.round((P+k*w)*S)/S,o,_k(o,j,e))&&k++):P<o&&k++);k<C;++k){const O=Math.round((P+k*w)*S)/S;if(v&&O>l)break;n.push({value:O})}return v&&h&&A!==l?n.length&&rh(n[n.length-1].value,l,_k(l,j,e))?n[n.length-1].value=l:n.push({value:l}):(!v||A===l)&&n.push({value:A}),n}function _k(e,t,{horizontal:n,minRotation:r}){const s=ea(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class sde extends Od{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=c=>s=n?s:c,l=c=>i=r?i:c;if(t){const c=Pi(s),u=Pi(i);c<0&&u<0?l(0):c>0&&u>0&&o(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),t||o(s-c)}this.min=s,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=rde(s,i);return t.bounds==="ticks"&&doe(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const s=(r-n)/Math.max(t.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return V5(t,this.chart.options.locale,this.options.ticks.format)}}class xx extends sde{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=mr(t)?t:0,this.max=mr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=ea(this.options.ticks.minRotation),s=(t?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ie(xx,"id","linear"),Ie(xx,"defaults",{ticks:{callback:RL.formatters.numeric}});const Ov={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mr=Object.keys(Ov);function Tk(e,t){return e-t}function Ek(e,t){if(bt(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:i}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),mr(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Xh(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function Mk(e,t,n,r){const s=Mr.length;for(let i=Mr.indexOf(e);i<s-1;++i){const o=Ov[Mr[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(l*o.size))<=r)return Mr[i]}return Mr[s-1]}function ide(e,t,n,r,s){for(let i=Mr.length-1;i>=Mr.indexOf(n);i--){const o=Mr[i];if(Ov[o].common&&e._adapter.diff(s,r,o)>=t-1)return o}return Mr[n?Mr.indexOf(n):0]}function ade(e){for(let t=Mr.indexOf(e)+1,n=Mr.length;t<n;++t)if(Ov[Mr[t]].common)return Mr[t]}function Dk(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:s}=L5(n,t),i=n[r]>=t?n[r]:n[s];e[i]=!0}}function ode(e,t,n,r){const s=e._adapter,i=+s.startOf(t[0].value,r),o=t[t.length-1].value;let l,c;for(l=i;l<=o;l=+s.add(l,1,r))c=n[l],c>=0&&(t[c].major=!0);return t}function Rk(e,t,n){const r=[],s={},i=t.length;let o,l;for(o=0;o<i;++o)l=t[o],s[l]=o,r.push({value:l,major:!1});return i===0||!n?r:ode(e,r,s,n)}class yx extends Od{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new Kle._date(t.adapters.date);s.init(n),nh(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Ek(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=mr(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=mr(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,l=goe(s,i,o);return this._unit=n.unit||(r.autoSkip?Mk(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):ide(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:ade(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),Rk(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,s,i;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?r=i:r=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=fr(n,0,o),r=fr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||Mk(i.minUnit,n,r,this._getLabelCapacity(n)),l=st(s.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,u=Xh(c)||c===!0,d={};let f=n,h,p;if(u&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,u?"day":o),t.diff(r,n,o)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+o);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(h=f,p=0;h<r;h=+t.add(h,l,o),p++)Dk(d,h,m);return(h===r||s.bounds==="ticks"||p===1)&&Dk(d,h,m),Object.keys(d).sort(Tk).map(g=>+g)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Bt(o,[t,n,r],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],h=r[n],p=u&&f&&h&&h.major;return this._adapter.format(t,s||(p?f:d))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=ea(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*i+l*o,h:r*o+l*i}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(t,0,Rk(this,[t],this._majorUnit),s),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(Ek(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return EL(t.sort(Tk))}}Ie(yx,"id","time"),Ie(yx,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function fg(e,t,n){let r=0,s=e.length-1,i,o,l,c;n?(t>=e[r].pos&&t<=e[s].pos&&({lo:r,hi:s}=ml(e,"pos",t)),{pos:i,time:l}=e[r],{pos:o,time:c}=e[s]):(t>=e[r].time&&t<=e[s].time&&({lo:r,hi:s}=ml(e,"time",t)),{time:i,pos:l}=e[r],{time:o,pos:c}=e[s]);const u=o-i;return u?l+(c-l)*(t-i)/u:l}class Ik extends yx{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=fg(n,this.min),this._tableRange=fg(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,s=[],i=[];let o,l,c,u,d;for(o=0,l=t.length;o<l;++o)u=t[o],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,l=s.length;o<l;++o)d=s[o+1],c=s[o-1],u=s[o],Math.round((d+c)/2)!==u&&i.push({time:u,pos:o/(l-1)});return i}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(fg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return fg(this._table,r*this._tableRange+this._minPos,!0)}}Ie(Ik,"id","timeseries"),Ie(Ik,"defaults",yx.defaults);const v9="label";function $k(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function lde(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function b9(e,t){e.labels=t}function w9(e,t,n=v9){const r=[];e.datasets=t.map(s=>{const i=e.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function cde(e,t=v9){const n={labels:[],datasets:[]};return b9(n,e.labels),w9(n,e.datasets,t),n}function ude(e,t){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:f,...h}=e,p=N.useRef(null),m=N.useRef(null),g=()=>{p.current&&(m.current=new om(p.current,{type:o,data:cde(l,i),options:c&&{...c},plugins:u}),$k(t,m.current))},x=()=>{$k(t,null),m.current&&(m.current.destroy(),m.current=null)};return N.useEffect(()=>{!s&&m.current&&c&&lde(m.current,c)},[s,c]),N.useEffect(()=>{!s&&m.current&&b9(m.current.config.data,l.labels)},[s,l.labels]),N.useEffect(()=>{!s&&m.current&&l.datasets&&w9(m.current.config.data,l.datasets,i)},[s,l.datasets]),N.useEffect(()=>{m.current&&(s?(x(),setTimeout(g)):m.current.update(f))},[s,c,l.labels,l.datasets,f]),N.useEffect(()=>{m.current&&(x(),setTimeout(g))},[o]),N.useEffect(()=>(g(),()=>x()),[]),a.jsx("canvas",{ref:p,role:"img",height:n,width:r,...h,children:d})}const dde=N.forwardRef(ude);function Y5(e,t){return om.register(t),N.forwardRef((n,r)=>a.jsx(dde,{...n,ref:r,type:e}))}const zj=Y5("line",s0),j9=Y5("bar",r0),fde=Y5("doughnut",$f),hde=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},gl={getAppointments:async(e={})=>(await ee.get("/appointments",{params:e})).data,getAppointment:async e=>(await ee.get(`/appointments/${e}`)).data,createAppointment:async e=>(await ee.post("/appointments",e)).data,updateAppointment:async(e,t)=>(await ee.put(`/appointments/${e}`,t)).data,updateStatus:async(e,t,n=null)=>(await ee.put(`/appointments/${e}/status`,{status:t,reason:n})).data,getTodayCount:async()=>(await ee.get("/appointments/today/count")).data,getCalendarData:async(e,t,n=null)=>{const r={month:e,year:t};return n&&(r.doctorId=n),(await ee.get("/appointments/calendar",{params:r})).data},getTodayAppointments:async()=>{var n;const e=hde(new Date);return((n=(await ee.get("/appointments",{params:{startDate:e,endDate:e,limit:50}})).data)==null?void 0:n.data)||[]},getDoctors:async()=>(await ee.get("/appointments/doctors")).data};om.register(gx,xx,ah,na,oh,g9,y9,p9,f9);const hg=({icon:e,title:t,value:n,change:r,changeType:s,color:i})=>a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:n}),r&&a.jsxs("p",{className:`text-sm mt-1 ${s==="increase"?"text-green-600":"text-red-600"}`,children:[s==="increase"?"+":"-",r,"% from yesterday"]})]}),a.jsx("div",{className:`w-12 h-12 ${i} rounded-xl flex items-center justify-center`,children:a.jsx(e,{className:"text-xl text-white"})})]})}),Z1=({icon:e,title:t,to:n,color:r})=>a.jsxs(Be,{to:n,className:"flex items-center gap-3 p-4 bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:`w-10 h-10 ${r} rounded-lg flex items-center justify-center`,children:a.jsx(e,{className:"text-white"})}),a.jsx("span",{className:"font-medium text-gray-700",children:t}),a.jsx(k5,{className:"ml-auto text-gray-400"})]}),pde=({type:e,message:t,time:n})=>{const r={warning:"bg-yellow-100 text-yellow-800 border-yellow-200",danger:"bg-red-100 text-red-800 border-red-200",info:"bg-blue-100 text-blue-800 border-blue-200"};return a.jsxs("div",{className:`p-3 rounded-lg border ${r[e]} flex items-start gap-3`,children:[a.jsx(vL,{className:"mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:t}),a.jsx("p",{className:"text-xs opacity-75 mt-1",children:n})]})]})};function mde(){var b,j,w,S,P,A,C,T,k,O,I,M,E,_,L,R,F,W,q,G,H,J;const{user:e,normalizeRole:t}=ri(),[n]=N.useState("7days"),{activeViewUser:r}=ri(),{data:s}=De({queryKey:["rolePermissions"],queryFn:()=>In.getRolePermissions(),staleTime:5*60*1e3}),i=(s==null?void 0:s.data)||s||null,o=t?t((r==null?void 0:r.role)||(e==null?void 0:e.role)||"STAFF"):r&&r.role||e&&e.role||"STAFF",l=!!(r&&r.id&&e&&r.id!==e.id),c=ce=>{if(e!=null&&e.isClinicAdmin&&!l)return!0;if(!i)return["DOCTOR","SUPER_ADMIN"].includes((o||"").toString().toUpperCase());const fe=i[o==null?void 0:o.toString().toUpperCase()];return fe?fe.includes(ce):!1},{data:u,isLoading:d}=De({queryKey:["dashboardStats",(r==null?void 0:r.id)||null],queryFn:()=>Bc.getStats((r==null?void 0:r.id)||null),placeholderData:{todayOPD:0,totalRevenue:0,appointments:0,pendingBills:0},enabled:c("dashboard:view")}),{data:f}=De({queryKey:["patientTrend",n,(r==null?void 0:r.id)||null],queryFn:()=>Bc.getPatientTrend(n,(r==null?void 0:r.id)||null),placeholderData:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],data:[12,19,15,25,22,30,28]},enabled:c("dashboard:view")}),{data:h}=De({queryKey:["revenueTrend",n,(r==null?void 0:r.id)||null],queryFn:()=>Bc.getRevenueTrend(n,(r==null?void 0:r.id)||null),placeholderData:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],data:[5e3,8e3,6500,9e3,7500,12e3,10500]},enabled:c("dashboard:view")}),{data:p}=De({queryKey:["todayAppointments"],queryFn:()=>gl.getTodayAppointments(),placeholderData:[],enabled:c("dashboard:view")}),{data:m}=De({queryKey:["recentPatients"],queryFn:()=>lr.getRecent(5),placeholderData:[],enabled:c("dashboard:view")}),{data:g}=De({queryKey:["dashboardAlerts",(r==null?void 0:r.id)||null],queryFn:()=>Bc.getAlerts((r==null?void 0:r.id)||null),placeholderData:[],enabled:c("dashboard:view")});if(!c("dashboard:view"))return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-100 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome to your workspace"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:["Hi ",(e==null?void 0:e.name)||"there",", welcome to DocClinic."]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c("patients:read")||c("patients:create")?a.jsxs(Be,{to:"/patients",className:"block p-4 bg-blue-50 rounded-lg hover:shadow-md transition",children:[a.jsx("p",{className:"font-medium text-blue-700",children:"Patients"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Search and manage patient records"})]}):null,c("appointments:read")||c("appointments:create")?a.jsxs(Be,{to:"/appointments",className:"block p-4 bg-green-50 rounded-lg hover:shadow-md transition",children:[a.jsx("p",{className:"font-medium text-green-700",children:"Appointments"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"View schedule or book a patient"})]}):null,c("prescriptions:read")||c("prescriptions:create")?a.jsxs(Be,{to:"/prescriptions",className:"block p-4 bg-purple-50 rounded-lg hover:shadow-md transition",children:[a.jsx("p",{className:"font-medium text-purple-700",children:"Prescriptions"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create and view prescriptions"})]}):null]})]})})});const x={labels:(f==null?void 0:f.labels)||[],datasets:[{label:"Patients",data:(f==null?void 0:f.data)||[],fill:!0,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]},y={labels:(h==null?void 0:h.labels)||[],datasets:[{label:"Revenue ()",data:(h==null?void 0:h.data)||[],backgroundColor:"rgba(16, 185, 129, 0.8)",borderRadius:8}]},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}};return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:["DOCTOR","SUPER_ADMIN"].includes((o||"").toString().toUpperCase())?`Welcome back, Dr. ${(e==null?void 0:e.name)||"Doctor"}!`:`Welcome, ${(e==null?void 0:e.name)||"Staff"}.`}),a.jsx("p",{className:"text-gray-500 mt-1",children:c("appointments:read")||c("patients:read")?"Here's what's happening at your clinic today.":"Welcome to your workspace."})]}),c("appointments:read")||c("reports:collections")?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(hg,{icon:Ql,title:"Today's OPD",value:((j=(b=u==null?void 0:u.data)==null?void 0:b.appointments)==null?void 0:j.total)||0,change:Math.abs((S=(w=u==null?void 0:u.data)==null?void 0:w.appointments)==null?void 0:S.growth)||0,changeType:((A=(P=u==null?void 0:u.data)==null?void 0:P.appointments)==null?void 0:A.growth)>=0?"increase":"decrease",color:"bg-blue-500"}),a.jsx(hg,{icon:pl,title:"Today's Revenue",value:`${(((T=(C=u==null?void 0:u.data)==null?void 0:C.revenue)==null?void 0:T.total)||0).toLocaleString()}`,change:Math.abs((O=(k=u==null?void 0:u.data)==null?void 0:k.revenue)==null?void 0:O.growth)||0,changeType:((M=(I=u==null?void 0:u.data)==null?void 0:I.revenue)==null?void 0:M.growth)>=0?"increase":"decrease",color:"bg-green-500"}),a.jsx(hg,{icon:hO,title:"New Patients",value:((_=(E=u==null?void 0:u.data)==null?void 0:E.patients)==null?void 0:_.newToday)||0,change:((R=(L=u==null?void 0:u.data)==null?void 0:L.appointments)==null?void 0:R.completed)||0,changeType:"increase",color:"bg-purple-500"}),a.jsx(hg,{icon:T5,title:"Bills Today",value:((W=(F=u==null?void 0:u.data)==null?void 0:F.bills)==null?void 0:W.count)||0,change:((G=(q=u==null?void 0:u.data)==null?void 0:q.appointments)==null?void 0:G.pending)||0,changeType:"decrease",color:"bg-orange-500"})]}):null,a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patient Count"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Last 7 days trend"})]}),a.jsx(ou,{className:"text-blue-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(zj,{data:x,options:v})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Revenue"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Last 7 days"})]}),a.jsx(pl,{className:"text-green-500"})]}),a.jsx("div",{className:"h-64",children:a.jsx(j9,{data:y,options:v})})]})]}),(c("appointments:create")||c("prescriptions:create")||c("patients:create"))&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c("appointments:create")&&a.jsx(Z1,{icon:hO,title:"New Appointment",to:"/appointments/new",color:"bg-blue-500"}),c("prescriptions:create")&&a.jsx(Z1,{icon:jv,title:"New Prescription",to:"/prescriptions/new",color:"bg-purple-500"}),c("patients:create")&&a.jsx(Z1,{icon:Ur,title:"Add Patient",to:"/patients/new",color:"bg-green-500"})]})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Alerts"}),a.jsx(nae,{className:"text-gray-400"})]}),a.jsx("div",{className:"space-y-3",children:((J=(H=g==null?void 0:g.data)==null?void 0:H.alerts)==null?void 0:J.length)>0?g.data.alerts.map((ce,fe)=>a.jsx(pde,{type:ce.type,message:ce.message,time:ce.title},fe)):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No alerts at this time"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Patients"}),a.jsx(Be,{to:"/patients",className:"text-blue-600 text-sm hover:underline",children:"View all"})]}),a.jsx("div",{className:"space-y-3",children:(m==null?void 0:m.length)>0?m.map(ce=>{var fe;return a.jsxs(Be,{to:`/patients/${ce.id}`,className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 font-medium",children:((fe=ce.name)==null?void 0:fe.charAt(0))||"P"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 truncate",children:ce.name}),a.jsx("p",{className:"text-sm text-gray-500",children:ce.phone})]})]},ce.id)}):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent patients"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Today's Appointments"}),a.jsx(Be,{to:"/appointments",className:"text-blue-600 text-sm hover:underline",children:"View all"})]}),a.jsx("div",{className:"space-y-3",children:(p==null?void 0:p.length)>0?p.slice(0,5).map(ce=>{var fe,Z;return a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx(wa,{className:"text-purple-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 truncate",children:((fe=ce.patient)==null?void 0:fe.name)||ce.patientName||"Unknown Patient"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[ce.timeSlot||ce.time||"-"," - ",ce.type||"Consultation"]})]}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${ce.status==="CONFIRMED"||ce.status==="confirmed"?"bg-green-100 text-green-700":ce.status==="COMPLETED"||ce.status==="completed"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:((Z=ce.status)==null?void 0:Z.toLowerCase())||"scheduled"})]},ce.id)}):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No appointments today"})})]})]})]})})}function gde(){var F,W;const e=Qn(),[t,n]=k7(),r=ln(),[s,i]=N.useState(t.get("search")||""),[o,l]=N.useState(1),[c,u]=N.useState(!1),[d,f]=N.useState(t.get("action")==="new"),[h,p]=N.useState({gender:"",fromDate:"",toDate:""}),m=10,g=tt("patients:create",["SUPER_ADMIN","DOCTOR","RECEPTIONIST"]);N.useEffect(()=>{const q=t.get("action"),G=t.get("search");q==="new"&&(g&&f(!0),n({},{replace:!0})),G&&(i(G),n({},{replace:!0}))},[t,n,g]);const{register:x,handleSubmit:y,reset:v,formState:{errors:b}}=Ut(),{data:j,isLoading:w,isError:S}=De({queryKey:["patients",o,m,s,h],queryFn:()=>lr.getAll({page:o,limit:m,search:s,...h}),placeholderData:q=>q}),P=Ge({mutationFn:q=>lr.createPatient(q),onSuccess:()=>{ae.success("Patient added successfully"),r.invalidateQueries(["patients"]),f(!1),v()},onError:q=>{var G,H;ae.error(((H=(G=q.response)==null?void 0:G.data)==null?void 0:H.message)||"Failed to add patient")}}),A=q=>{const G=q.allergies?q.allergies.split(",").map(J=>J.trim()).filter(Boolean):void 0,H=q.medicalHistory?q.medicalHistory.split(`
`).map(J=>J.trim()).filter(Boolean):void 0;P.mutate({...q,dateOfBirth:q.dateOfBirth||void 0,allergies:G,medicalHistory:H,insurance:q.insurance||void 0})},C=(j==null?void 0:j.data)||[],T=((F=j==null?void 0:j.pagination)==null?void 0:F.totalPages)||1,k=((W=j==null?void 0:j.pagination)==null?void 0:W.total)||0,O=q=>{i(q.target.value),l(1)},I=(q,G)=>{p(H=>({...H,[q]:G})),l(1)},M=()=>{p({gender:"",fromDate:"",toDate:""}),l(1)},E=q=>{e(`/patients/${q}`)},_=q=>(q==null?void 0:q.toLowerCase())==="male"?a.jsx(gae,{className:"text-blue-500"}):(q==null?void 0:q.toLowerCase())==="female"?a.jsx(dae,{className:"text-pink-500"}):a.jsx(Ql,{className:"text-gray-400"}),L=q=>q?new Date(q).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-",R=q=>{if(!q)return null;const G=new Date(q);if(Number.isNaN(G.getTime()))return null;const H=new Date;let J=H.getFullYear()-G.getFullYear();const ce=H.getMonth()-G.getMonth();return(ce<0||ce===0&&H.getDate()<G.getDate())&&J--,J};return a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patients"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and view all patient records"})]}),g&&a.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[a.jsx(Ur,{}),"Add Patient"]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:s,onChange:O,placeholder:"Search by name, phone, or patient ID...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),a.jsxs("button",{onClick:()=>u(!c),className:`inline-flex items-center gap-2 px-4 py-2.5 border rounded-lg font-medium transition ${c||h.gender||h.fromDate||h.toDate?"border-blue-500 text-blue-600 bg-blue-50":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(E5,{}),"Filters",(h.gender||h.fromDate||h.toDate)&&a.jsx("span",{className:"bg-blue-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:[h.gender,h.fromDate,h.toDate].filter(Boolean).length})]})]}),c&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),a.jsxs("select",{value:h.gender,onChange:q=>I("gender",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All"}),a.jsx("option",{value:"male",children:"Male"}),a.jsx("option",{value:"female",children:"Female"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),a.jsx("input",{type:"date",value:h.fromDate,onChange:q=>I("fromDate",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),a.jsx("input",{type:"date",value:h.toDate,onChange:q=>I("toDate",q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:M,className:"inline-flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition",children:[a.jsx(Bu,{}),"Clear Filters"]})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Patient ID"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Name"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Phone"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Age"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Gender"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Last Visit"})]})}),a.jsx("tbody",{children:w?[...Array(5)].map((q,G)=>a.jsxs("tr",{className:"animate-pulse",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})})]},G)):S?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[a.jsx("div",{className:"text-red-500 mb-2",children:"Failed to load patients"}),a.jsx("button",{onClick:()=>window.location.reload(),className:"text-blue-600 hover:underline",children:"Try again"})]})}):C.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[a.jsx(Ql,{className:"text-4xl text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"No patients found"}),s&&a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your search or filters"})]})}):C.map(q=>{var G;return a.jsxs("tr",{onClick:()=>E(q.id),className:"border-b border-gray-50 hover:bg-blue-50 cursor-pointer transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm font-medium text-blue-600",children:q.patientId||`P${String(q.id).padStart(5,"0")}`})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 font-medium text-sm",children:((G=q.name)==null?void 0:G.charAt(0))||"P"})}),a.jsx("span",{className:"font-medium text-gray-900",children:q.name})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-600",children:q.phone||"-"}),a.jsx("td",{className:"px-6 py-4 text-gray-600",children:q.age?`${q.age} yrs`:q.dateOfBirth?`${R(q.dateOfBirth)} yrs`:"-"}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[_(q.gender),a.jsx("span",{className:"text-gray-600 capitalize",children:q.gender||"-"})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-600",children:L(q.lastVisit)})]},q.id)})})]})}),!w&&C.length>0&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(o-1)*m+1," to"," ",Math.min(o*m,k)," of ",k," patients"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>l(q=>Math.max(1,q-1)),disabled:o===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:a.jsx(Ca,{className:"text-gray-600"})}),[...Array(Math.min(5,T))].map((q,G)=>{let H;return T<=5||o<=3?H=G+1:o>=T-2?H=T-4+G:H=o-2+G,a.jsx("button",{onClick:()=>l(H),className:`w-10 h-10 rounded-lg font-medium transition ${o===H?"bg-blue-600 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:H},H)}),a.jsx("button",{onClick:()=>l(q=>Math.min(T,q+1)),disabled:o===T,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:a.jsx(Oa,{className:"text-gray-600"})})]})]})]})]}),a.jsx(ft,{isOpen:d,onClose:()=>{f(!1),v()},title:"Add New Patient",size:"lg",children:a.jsxs("form",{onSubmit:y(A),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...x("name",{required:"Name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Patient name"}),b.name&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.name.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",...x("phone",{required:"Phone is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"10-digit phone number"}),b.phone&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.phone.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",...x("email"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email address"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),a.jsx("input",{type:"date",...x("dateOfBirth"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),a.jsxs("select",{...x("gender"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select gender"}),a.jsx("option",{value:"MALE",children:"Male"}),a.jsx("option",{value:"FEMALE",children:"Female"}),a.jsx("option",{value:"OTHER",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),a.jsxs("select",{...x("bloodGroup"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select blood group"}),a.jsx("option",{value:"A+",children:"A+"}),a.jsx("option",{value:"A-",children:"A-"}),a.jsx("option",{value:"B+",children:"B+"}),a.jsx("option",{value:"B-",children:"B-"}),a.jsx("option",{value:"AB+",children:"AB+"}),a.jsx("option",{value:"AB-",children:"AB-"}),a.jsx("option",{value:"O+",children:"O+"}),a.jsx("option",{value:"O-",children:"O-"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("textarea",{...x("address"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full address"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allergies (comma separated)"}),a.jsx("input",{type:"text",...x("allergies"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g. Penicillin, Pollen"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance"}),a.jsx("input",{type:"text",...x("insurance"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Insurance provider / policy"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical History (one per line)"}),a.jsx("textarea",{...x("medicalHistory"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe medical history entries, one per line"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:()=>{f(!1),v()},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:P.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:P.isPending?"Saving...":"Save Patient"})]})]})})]})}const No={getPrescriptions:async(e={})=>(await ee.get("/prescriptions",{params:e})).data,getPrescription:async e=>(await ee.get(`/prescriptions/${e}`)).data,createPrescription:async e=>(await ee.post("/prescriptions",e)).data,updatePrescription:async(e,t)=>(await ee.put(`/prescriptions/${e}`,t)).data,deletePrescription:async e=>(await ee.delete(`/prescriptions/${e}`)).data,sendPrescription:async(e,t)=>(await ee.post(`/prescriptions/${e}/send`,{method:t})).data,getPrescriptionPdf:async e=>(await ee.get(`/prescriptions/${e}/pdf`,{responseType:"blob"})).data,searchLabTests:async e=>(await ee.get("/prescriptions/lab-tests/search",{params:{q:e}})).data,getByPatientId:async(e,t={})=>{var r;const n=await ee.get("/prescriptions",{params:{patientId:e,...t}});return((r=n.data)==null?void 0:r.data)||n.data}},xde=[{id:"overview",label:"Overview",icon:zu},{id:"history",label:"History",icon:wL},{id:"prescriptions",label:"Prescriptions",icon:jv},{id:"bills",label:"Bills",icon:T5},{id:"vitals",label:"Vitals",icon:ou}];function yde(){var M,E;const{id:e}=qp(),t=Qn(),n=ds(),r=ln(),[s,i]=N.useState("overview"),[o,l]=N.useState(!1),{register:c,handleSubmit:u,reset:d,setValue:f,watch:h,formState:{errors:p}}=Ut();N.useEffect(()=>{n.pathname.endsWith("/edit")&&l(!0)},[n.pathname]);const{data:m,isLoading:g,isError:x}=De({queryKey:["patient",e],queryFn:()=>lr.getPatient(e),enabled:!!e});N.useEffect(()=>{m&&d({name:m.name||"",phone:m.phone||"",email:m.email||"",gender:m.gender||"",dateOfBirth:m.dateOfBirth?m.dateOfBirth.split("T")[0]:"",age:m.age||"",bloodGroup:m.bloodGroup||"",address:m.address||"",city:m.city||"",emergencyContact:m.emergencyContact||"",allergies:m.allergies&&Array.isArray(m.allergies)?m.allergies.join(", "):"",medicalHistory:m.medicalHistory&&Array.isArray(m.medicalHistory)?m.medicalHistory.join(`
`):"",insurance:m.insurance||""})},[m,d]);const y=h("dateOfBirth");N.useEffect(()=>{if(!y)return;const _=I(y);typeof _=="number"&&!Number.isNaN(_)&&f("age",_,{shouldValidate:!0,shouldDirty:!0})},[y,f]);const{data:v}=De({queryKey:["patientPrescriptions",e],queryFn:()=>No.getByPatientId(e),enabled:!!e&&s==="prescriptions"}),{data:b}=De({queryKey:["patientVitals",e],queryFn:()=>lr.getVitals(e),enabled:!!e&&s==="vitals"}),{data:j}=De({queryKey:["patientBills",e],queryFn:()=>lr.getBills(e),enabled:!!e&&s==="bills"}),{data:w}=De({queryKey:["patientHistory",e],queryFn:()=>lr.getHistory(e),enabled:!!e&&s==="history"}),S=tt("prescriptions:create",["DOCTOR","SUPER_ADMIN"]),P=tt("appointments:create",["DOCTOR","SUPER_ADMIN","RECEPTIONIST"]),A=Ge({mutationFn:_=>lr.addVitals(e,_),onSuccess:()=>{r.invalidateQueries(["patientVitals",e]),ae.success("Vitals added successfully")},onError:()=>{ae.error("Failed to add vitals")}}),C=Ge({mutationFn:_=>lr.updatePatient(e,_),onSuccess:()=>{r.invalidateQueries(["patient",e]),r.invalidateQueries(["patients"]),ae.success("Patient updated successfully"),l(!1),t(`/patients/${e}`)},onError:_=>{var L,R;ae.error(((R=(L=_.response)==null?void 0:L.data)==null?void 0:R.message)||"Failed to update patient")}}),T=()=>{l(!1),t(`/patients/${e}`)},k=_=>{const L=_.allergies?_.allergies.split(",").map(F=>F.trim()).filter(Boolean):void 0,R=_.medicalHistory?_.medicalHistory.split(`
`).map(F=>F.trim()).filter(Boolean):void 0;C.mutate({..._,dateOfBirth:_.dateOfBirth||void 0,allergies:L,medicalHistory:R,insurance:_.insurance||void 0})},O=_=>_?new Date(_).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-",I=_=>{if(!_)return"-";const L=new Date,R=new Date(_);let F=L.getFullYear()-R.getFullYear();const W=L.getMonth()-R.getMonth();return(W<0||W===0&&L.getDate()<R.getDate())&&F--,F};return g?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx(qh,{className:"animate-spin text-4xl text-blue-600"})}):x||!m?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-500 mb-4",children:"Failed to load patient details"}),a.jsx("button",{onClick:()=>t("/patients"),className:"text-blue-600 hover:underline",children:"Back to Patients"})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("button",{onClick:()=>t("/patients"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:a.jsx(Yl,{className:"text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patient Details"}),a.jsxs("p",{className:"text-gray-500",children:["ID: ",m.patientId||`P${String(m.id).padStart(5,"0")}`]})]}),a.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[a.jsx(im,{}),"Edit Patient"]})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:m.photo?a.jsx("img",{src:m.photo,alt:m.name,className:"w-24 h-24 rounded-full object-cover"}):a.jsx("span",{className:"text-3xl font-bold text-blue-600",children:((M=m.name)==null?void 0:M.charAt(0))||"P"})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:m.name}),a.jsxs("p",{className:"text-gray-500",children:[m.age||I(m.dateOfBirth)," years  ",m.gender||"N/A"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[a.jsx(lx,{className:"text-blue-500"}),a.jsx("span",{children:m.phone||"No phone"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[a.jsx(To,{className:"text-blue-500"}),a.jsx("span",{children:m.email||"No email"})]}),a.jsxs("div",{className:"flex items-start gap-3 text-gray-600",children:[a.jsx(Tj,{className:"text-blue-500 mt-1"}),a.jsx("span",{children:m.address||"No address"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[a.jsx(_o,{className:"text-blue-500"}),a.jsxs("span",{children:["Registered: ",O(m.createdAt)]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 space-y-3",children:[S&&a.jsxs(Be,{to:`/prescriptions/new?patientId=${e}`,className:"w-full inline-flex items-center justify-center gap-2 bg-green-600 text-white py-2.5 rounded-lg font-medium hover:bg-green-700 transition",children:[a.jsx(jv,{}),"New Prescription"]}),P&&a.jsxs(Be,{to:`/appointments/new?patientId=${e}`,className:"w-full inline-flex items-center justify-center gap-2 border border-blue-600 text-blue-600 py-2.5 rounded-lg font-medium hover:bg-blue-50 transition",children:[a.jsx(_o,{}),"Book Appointment"]})]})]})}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:a.jsx("div",{className:"flex overflow-x-auto",children:xde.map(_=>a.jsxs("button",{onClick:()=>i(_.id),className:`flex items-center gap-2 px-6 py-4 font-medium whitespace-nowrap transition border-b-2 ${s===_.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[a.jsx(_.icon,{}),_.label]},_.id))})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[s==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Blood Group"}),a.jsx("p",{className:"font-medium text-gray-900",children:m.bloodGroup||"Not recorded"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date of Birth"}),a.jsx("p",{className:"font-medium text-gray-900",children:O(m.dateOfBirth)})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Emergency Contact"}),a.jsx("p",{className:"font-medium text-gray-900",children:m.emergencyContact||"Not recorded"})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Insurance"}),a.jsx("p",{className:"font-medium text-gray-900",children:m.insurance||"Not recorded"})]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Zie,{className:"text-red-500"}),"Allergies"]})}),m.allergies&&m.allergies.length>0?a.jsx("div",{className:"flex flex-wrap gap-2",children:m.allergies.map((_,L)=>a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:_},L))}):a.jsx("p",{className:"text-gray-500",children:"No known allergies"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Medical History"}),m.medicalHistory&&m.medicalHistory.length>0?a.jsx("ul",{className:"space-y-2",children:m.medicalHistory.map((_,L)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(M5,{className:"text-blue-500 mt-1 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:_})]},L))}):a.jsx("p",{className:"text-gray-500",children:"No medical history recorded"})]})]}),s==="history"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Visit History"}),((E=w==null?void 0:w.appointments)==null?void 0:E.length)>0?a.jsx("div",{className:"space-y-4",children:w.appointments.map((_,L)=>a.jsxs(Be,{to:`/appointments/${_.id}`,className:"block p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("p",{className:"font-medium text-gray-900",children:_.reason||"General Checkup"}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_.status==="COMPLETED"?"bg-green-100 text-green-700":_.status==="CANCELLED"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:_.status})]}),a.jsx("p",{className:"text-gray-600 text-sm",children:O(_.date)}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:_.notes||"No notes"})]},_.id||L))}):a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No visit history available"})]}),s==="prescriptions"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Prescriptions"}),a.jsxs(Be,{to:`/prescriptions/new?patientId=${e}`,className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[a.jsx(Ur,{}),"New Prescription"]})]}),(v==null?void 0:v.length)>0?a.jsx("div",{className:"space-y-4",children:v.map(_=>{var L;return a.jsxs(Be,{to:`/prescriptions/${_.id}`,className:"block p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("p",{className:"font-medium text-gray-900",children:_.diagnosis||"Prescription"}),a.jsx("span",{className:"text-sm text-gray-500",children:O(_.date)})]}),a.jsxs("p",{className:"text-gray-600 text-sm",children:[((L=_.medicines)==null?void 0:L.length)||0," medicines prescribed"]}),a.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["Dr. ",_.doctor||"N/A"]})]},_.id)})}):a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No prescriptions yet"})]}),s==="bills"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bills & Invoices"}),(j==null?void 0:j.length)>0?a.jsx("div",{className:"space-y-4",children:j.map(_=>{var L;return a.jsxs(Be,{to:`/billing/${_.id}`,className:"block p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("p",{className:"font-medium text-gray-900",children:["Invoice #",_.billNo]}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_.paymentStatus==="PAID"?"bg-green-100 text-green-700":_.paymentStatus==="PARTIAL"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:_.paymentStatus})]}),a.jsx("p",{className:"text-gray-600 text-sm",children:O(_.date)}),a.jsxs("p",{className:"font-semibold text-gray-900 mt-2",children:["",((L=_.totalAmount)==null?void 0:L.toLocaleString())||0]})]},_.id)})}):a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No bills generated"})]}),s==="vitals"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vitals Record"}),a.jsxs("button",{onClick:()=>{const _={bloodPressure:"120/80",pulse:72,temperature:98.6,weight:70,height:170,spO2:98};A.mutate(_)},disabled:A.isPending,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition disabled:opacity-50",children:[A.isPending?a.jsx(qh,{className:"animate-spin"}):a.jsx(Ur,{}),"Add Vitals"]})]}),(b==null?void 0:b.length)>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Date"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"BP"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Pulse"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Temp"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Weight"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Height"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"SpO2"})]})}),a.jsx("tbody",{children:b.map((_,L)=>a.jsxs("tr",{className:"border-b border-gray-50",children:[a.jsx("td",{className:"py-3 px-4 text-gray-900",children:O(_.recordedAt)}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:_.bloodPressure||"-"}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:_.pulse?`${_.pulse} bpm`:"-"}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:_.temperature?`${_.temperature}F`:"-"}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:_.weight?`${_.weight} kg`:"-"}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:_.height?`${_.height} cm`:"-"}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:_.spO2?`${_.spO2}%`:"-"})]},_.id||L))})]})}):a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No vitals recorded"})]})]})]})]})]}),a.jsx(ft,{isOpen:o,onClose:T,title:"Edit Patient",size:"lg",children:a.jsxs("form",{onSubmit:u(k),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient Name *"}),a.jsx("input",{type:"text",...c("name",{required:"Name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),p.name&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),a.jsx("input",{type:"tel",...c("phone",{required:"Phone is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),p.phone&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.phone.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",...c("email"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),a.jsxs("select",{...c("gender"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select Gender"}),a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),a.jsx("input",{type:"date",...c("dateOfBirth"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allergies (comma separated)"}),a.jsx("input",{type:"text",...c("allergies"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Penicillin, Pollen"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance"}),a.jsx("input",{type:"text",...c("insurance"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Insurance provider / policy"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical History (one per line)"}),a.jsx("textarea",{...c("medicalHistory"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe medical history entries, one per line"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),a.jsxs("select",{...c("bloodGroup"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select Blood Group"}),a.jsx("option",{value:"A+",children:"A+"}),a.jsx("option",{value:"A-",children:"A-"}),a.jsx("option",{value:"B+",children:"B+"}),a.jsx("option",{value:"B-",children:"B-"}),a.jsx("option",{value:"AB+",children:"AB+"}),a.jsx("option",{value:"AB-",children:"AB-"}),a.jsx("option",{value:"O+",children:"O+"}),a.jsx("option",{value:"O-",children:"O-"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),a.jsx("input",{type:"text",...c("city"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("textarea",{...c("address"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact"}),a.jsx("input",{type:"text",...c("emergencyContact"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:C.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:C.isPending?"Saving...":"Save Changes"})]})]})})]})}const Lk={SCHEDULED:"bg-blue-100 text-blue-700",CONFIRMED:"bg-indigo-100 text-indigo-700",COMPLETED:"bg-green-100 text-green-700",CANCELLED:"bg-red-100 text-red-700",NO_SHOW:"bg-gray-100 text-gray-700"},vde=[{key:"all",label:"All"},{key:"SCHEDULED",label:"Scheduled"},{key:"COMPLETED",label:"Completed"},{key:"CANCELLED",label:"Cancelled"}],bde=[{value:"CONSULTATION",label:"Consultation"},{value:"FOLLOW_UP",label:"Follow-up"},{value:"PROCEDURE",label:"Procedure"},{value:"EMERGENCY",label:"Emergency"}],pg=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`};function Fk(){var J,ce,fe,Z,he;const[e,t]=k7(),n=ln(),r=ds(),[s,i]=N.useState(e.get("action")==="new"||r.pathname.endsWith("/new")),[o,l]=N.useState("all"),[c,u]=N.useState("today"),[d,f]=N.useState({start:"",end:""}),[h,p]=N.useState(""),[m,g]=N.useState(1),[x,y]=N.useState(null),v=10;N.useEffect(()=>{(e.get("action")==="new"||r.pathname.endsWith("/new"))&&(i(!0),t({},{replace:!0}))},[e,t,r.pathname]);const{register:b,handleSubmit:j,reset:w,control:S,formState:{errors:P}}=Ut(),A=()=>{const $=new Date;if($.setHours(0,0,0,0),c==="today")return{startDate:pg($),endDate:pg($)};if(c==="week"){const oe=new Date($);return oe.setDate($.getDate()+7),{startDate:pg($),endDate:pg(oe)}}else if(c==="custom"&&d.start&&d.end)return{startDate:d.start,endDate:d.end};return{}},{data:C,isLoading:T}=De({queryKey:["appointments",m,v,o,c,d,h],queryFn:()=>gl.getAppointments({page:m,limit:v,status:o==="all"?void 0:o,search:h||void 0,...A()}),placeholderData:$=>$}),k=(C==null?void 0:C.data)||[],O=((J=C==null?void 0:C.pagination)==null?void 0:J.totalPages)||1,{data:I}=De({queryKey:["patients-list"],queryFn:()=>lr.getPatients({limit:100})}),M=((I==null?void 0:I.data)||[]).map($=>({value:$.id,label:`${$.name} (${$.patientId||`P${String($.id).padStart(5,"0")}`})`})),{data:E}=De({queryKey:["doctors-list"],queryFn:()=>gl.getDoctors(),enabled:s}),_=((E==null?void 0:E.data)||[]).map($=>({value:$.id,label:$.name})),L=Ge({mutationFn:gl.createAppointment,onSuccess:()=>{ae.success("Appointment created successfully"),n.invalidateQueries({queryKey:["appointments"]}),i(!1),w()},onError:$=>{var oe,D;ae.error(((D=(oe=$.response)==null?void 0:oe.data)==null?void 0:D.message)||"Failed to create appointment")}}),R=Ge({mutationFn:({id:$,status:oe})=>gl.updateStatus($,oe),onSuccess:()=>{ae.success("Status updated"),n.invalidateQueries({queryKey:["appointments"]}),y(null)},onError:$=>{var oe,D;ae.error(((D=(oe=$.response)==null?void 0:oe.data)==null?void 0:D.message)||"Failed to update status")}}),F=$=>{var oe,D,Y;try{if($.date&&$.time&&new Date(`${$.date}T${$.time}`)<new Date){ae.error("Appointment date and time cannot be in the past");return}}catch{}L.mutate({patientId:(oe=$.patient)==null?void 0:oe.value,date:$.date,timeSlot:$.time,type:((D=$.type)==null?void 0:D.value)||"CONSULTATION",symptoms:$.reason,notes:$.notes,doctorId:(Y=$.doctor)==null?void 0:Y.value})},W=($,oe)=>{R.mutate({id:$,status:oe})},q=$=>{if(!$)return"-";const[oe,D]=$.split(":"),Y=parseInt(oe,10),se=Y>=12?"PM":"AM";return`${Y%12||12}:${D} ${se}`},G=$=>$?new Date($).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-",H=tt("appointments:create",["DOCTOR","SUPER_ADMIN","RECEPTIONIST"]);return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Appointments"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and schedule patient appointments"})]}),H&&a.jsx(Je,{iconLeft:Ur,onClick:()=>i(!0),children:"New Appointment"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_o,{className:"text-gray-400"}),a.jsxs("select",{value:c,onChange:$=>{u($.target.value),g(1)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"custom",children:"Custom Range"})]})]}),c==="custom"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"date",value:d.start,onChange:$=>f(oe=>({...oe,start:$.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("span",{className:"text-gray-500",children:"to"}),a.jsx("input",{type:"date",value:d.end,onChange:$=>f(oe=>({...oe,end:$.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:h,onChange:$=>{p($.target.value),g(1)},placeholder:"Search by patient name...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsx("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-100",children:vde.map($=>a.jsx("button",{onClick:()=>{l($.key),g(1)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${o===$.key?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:$.label},$.key))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Time"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Patient"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Type"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Status"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{children:T?[...Array(5)].map(($,oe)=>a.jsxs("tr",{className:"animate-pulse",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})})]},oe)):k.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[a.jsx(Ql,{className:"text-4xl text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"No appointments found"})]})}):k.map($=>{var oe,D,Y,se;return a.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wa,{className:"text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:q($.timeSlot)}),a.jsx("p",{className:"text-sm text-gray-500",children:G($.date)})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 font-medium text-sm",children:((D=(oe=$.patient)==null?void 0:oe.name)==null?void 0:D.charAt(0))||"P"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:((Y=$.patient)==null?void 0:Y.name)||"Unknown Patient"}),a.jsx("p",{className:"text-sm text-gray-500",children:((se=$.patient)==null?void 0:se.phone)||"-"})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"capitalize text-gray-700",children:$.type||"Consultation"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium capitalize ${Lk[$.status]||Lk.scheduled}`,children:$.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>y(x===$.id?null:$.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(uae,{className:"text-gray-400"})}),x===$.id&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[$.status!=="COMPLETED"&&a.jsxs("button",{onClick:()=>W($.id,"COMPLETED"),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(Wn,{className:"text-green-500"}),"Mark Completed"]}),$.status==="REVIEW"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>W($.id,"SCHEDULED"),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(Wn,{className:"text-green-500"}),"Approve (Schedule)"]}),a.jsxs("button",{onClick:()=>W($.id,"CANCELLED"),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(Bu,{className:"text-red-500"}),"Reject"]})]}),$.status!=="CANCELLED"&&a.jsxs("button",{onClick:()=>W($.id,"CANCELLED"),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(Bu,{className:"text-red-500"}),"Cancel"]}),$.status==="CANCELLED"&&a.jsxs("button",{onClick:()=>W($.id,"SCHEDULED"),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(wa,{className:"text-blue-500"}),"Reschedule"]})]})]})})]},$.id)})})]})}),O>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",m," of ",O]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>g($=>Math.max(1,$-1)),disabled:m===1,className:"px-3 py-1 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),a.jsx("button",{onClick:()=>g($=>Math.min(O,$+1)),disabled:m===O,className:"px-3 py-1 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),a.jsx(ft,{isOpen:s,onClose:()=>{i(!1),w()},title:"New Appointment",size:"lg",footer:a.jsxs(a.Fragment,{children:[a.jsx(Je,{variant:"secondary",onClick:()=>{i(!1),w()},children:"Cancel"}),H?a.jsx(Je,{onClick:j(F),loading:L.isPending,children:"Create Appointment"}):a.jsx(Je,{variant:"secondary",disabled:!0,children:"Permission required"})]}),children:a.jsxs("form",{className:"space-y-4",children:[a.jsx(As,{label:"Patient",name:"patient",control:S,options:M,placeholder:"Search and select patient...",rules:{required:"Patient is required"},error:(ce=P.patient)==null?void 0:ce.message,isSearchable:!0}),a.jsx(As,{label:"Doctor",name:"doctor",control:S,options:_,placeholder:"Select doctor (optional)",error:(fe=P.doctor)==null?void 0:fe.message,isSearchable:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(dt,{label:"Date",type:"date",min:new Date().toISOString().split("T")[0],...b("date",{required:"Date is required"}),error:(Z=P.date)==null?void 0:Z.message}),a.jsx(dt,{label:"Time",type:"time",...b("time",{required:"Time is required"}),error:(he=P.time)==null?void 0:he.message})]}),a.jsx(As,{label:"Appointment Type",name:"type",control:S,options:bde,placeholder:"Select type..."}),a.jsx(dt,{label:"Reason for Visit",placeholder:"Brief description...",...b("reason")}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Notes"}),a.jsx("textarea",{...b("notes"),rows:3,placeholder:"Additional notes...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]})})]})})}const Bk={scheduled:"bg-blue-500",confirmed:"bg-indigo-500",completed:"bg-green-500",cancelled:"bg-red-500","no-show":"bg-gray-500"},Vk={scheduled:"bg-blue-100 border-blue-200",confirmed:"bg-indigo-100 border-indigo-200",completed:"bg-green-100 border-green-200",cancelled:"bg-red-100 border-red-200","no-show":"bg-gray-100 border-gray-200"},wde=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],jde=["January","February","March","April","May","June","July","August","September","October","November","December"];function Nde(){const[e,t]=N.useState("month"),[n,r]=N.useState(new Date),[s,i]=N.useState(null),[o,l]=N.useState(!1),c=n.getMonth(),u=n.getFullYear(),{data:d,isLoading:f}=De({queryKey:["calendar",c+1,u],queryFn:()=>gl.getCalendarData(c+1,u)}),h=(d==null?void 0:d.data)||{},p=N.useMemo(()=>{const C=new Date(u,c,1),T=new Date(u,c+1,0),k=C.getDay(),O=T.getDate(),I=[];for(let E=0;E<k;E++){const _=new Date(u,c,-k+E+1);I.push({date:_,isCurrentMonth:!1,dayNumber:_.getDate()})}for(let E=1;E<=O;E++){const _=new Date(u,c,E);I.push({date:_,isCurrentMonth:!0,dayNumber:E})}const M=42-I.length;for(let E=1;E<=M;E++){const _=new Date(u,c+1,E);I.push({date:_,isCurrentMonth:!1,dayNumber:E})}return I},[c,u]),m=N.useMemo(()=>{if(e!=="week")return[];const C=new Date(n);return C.setDate(n.getDate()-n.getDay()),Array.from({length:7},(T,k)=>{const O=new Date(C);return O.setDate(C.getDate()+k),{date:O,isCurrentMonth:O.getMonth()===c,dayNumber:O.getDate()}})},[n,e,c]),g=e==="week"?m:p,x=()=>{if(e==="month")r(new Date(u,c-1,1));else{const C=new Date(n);C.setDate(n.getDate()-7),r(C)}},y=()=>{if(e==="month")r(new Date(u,c+1,1));else{const C=new Date(n);C.setDate(n.getDate()+7),r(C)}},v=()=>{r(new Date)},b=C=>C.toISOString().split("T")[0],j=C=>{const T=b(C);return h[T]||[]},w=C=>{i(C.date),l(!0)},S=C=>{if(!C)return"-";const[T,k]=C.split(":"),O=parseInt(T,10),I=O>=12?"PM":"AM";return`${O%12||12}:${k} ${I}`},P=C=>{const T=new Date;return C.getDate()===T.getDate()&&C.getMonth()===T.getMonth()&&C.getFullYear()===T.getFullYear()},A=s?j(s):[];return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Appointment Calendar"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"View and manage appointments on the calendar"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>t("week"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="week"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100 border border-gray-300"}`,children:"Week"}),a.jsx("button",{onClick:()=>t("month"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="month"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100 border border-gray-300"}`,children:"Month"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Ca,{className:"text-gray-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e==="month"?`${jde[c]} ${u}`:`Week of ${n.toLocaleDateString("en-IN",{month:"short",day:"numeric",year:"numeric"})}`}),a.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Oa,{className:"text-gray-600"})})]}),a.jsx("button",{onClick:v,className:"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg font-medium transition-colors",children:"Today"})]}),a.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 bg-gray-50 border-b border-gray-100",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Status:"}),Object.entries(Bk).map(([C,T])=>a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`w-3 h-3 rounded-full ${T}`}),a.jsx("span",{className:"text-sm text-gray-600 capitalize",children:C})]},C))]}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:wde.map(C=>a.jsx("div",{className:"text-center text-sm font-semibold text-gray-500 py-2",children:C},C))}),f?a.jsx("div",{className:"grid grid-cols-7 gap-1",children:[...Array(e==="week"?7:35)].map((C,T)=>a.jsx("div",{className:"aspect-square p-2 animate-pulse bg-gray-100 rounded-lg"},T))}):a.jsx("div",{className:`grid grid-cols-7 gap-1 ${e==="week"?"":"grid-rows-6"}`,children:g.map((C,T)=>{const k=j(C.date),O=k.length>0,I=P(C.date),M=k.reduce((E,_)=>(E[_.status]=(E[_.status]||0)+1,E),{});return a.jsxs("div",{onClick:()=>w(C),className:`
                        ${e==="week"?"min-h-[150px]":"aspect-square"}
                        p-2 rounded-lg cursor-pointer transition-all border
                        ${C.isCurrentMonth?"bg-white hover:bg-gray-50":"bg-gray-50 text-gray-400"}
                        ${I?"ring-2 ring-blue-500 ring-offset-2":"border-gray-100"}
                        ${O&&C.isCurrentMonth?"hover:shadow-md":""}
                      `,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`text-sm font-medium ${I?"w-7 h-7 flex items-center justify-center bg-blue-600 text-white rounded-full":""}`,children:C.dayNumber}),O&&C.isCurrentMonth&&a.jsx("span",{className:"text-xs text-gray-500",children:k.length})]}),O&&C.isCurrentMonth&&a.jsxs("div",{className:"space-y-1",children:[Object.entries(M).slice(0,e==="week"?5:3).map(([E,_])=>a.jsxs("div",{className:`text-xs px-1.5 py-0.5 rounded truncate ${Vk[E]} border`,children:[_," ",E]},E)),Object.keys(M).length>(e==="week"?5:3)&&a.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",Object.keys(M).length-(e==="week"?5:3)," more"]})]})]},T)})})]})]}),a.jsx(ft,{isOpen:o,onClose:()=>l(!1),title:s?s.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"Appointments",size:"lg",children:a.jsx("div",{className:"space-y-3",children:A.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(_o,{className:"text-4xl text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"No appointments scheduled for this day"})]}):A.map(C=>{var T,k;return a.jsxs("div",{className:`p-4 rounded-lg border ${Vk[C.status]}`,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm",children:a.jsx(Ql,{className:"text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:((T=C.patient)==null?void 0:T.name)||"Unknown Patient"}),a.jsx("p",{className:"text-sm text-gray-500",children:C.type||"Consultation"})]})]}),a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium capitalize ${Bk[C.status]} text-white`,children:C.status})]}),a.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(wa,{className:"text-gray-400"}),S(C.time)]}),((k=C.patient)==null?void 0:k.phone)&&a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{children:C.patient.phone})})]}),C.reason&&a.jsx("p",{className:"mt-2 text-sm text-gray-600 bg-white/50 p-2 rounded",children:C.reason})]},C.id)})})})]})})}function Sde(){var P,A,C,T;const e=Qn();ln();const[t,n]=N.useState(""),[r,s]=N.useState(1),[i,o]=N.useState(!1),[l,c]=N.useState(null),u=10,{data:d,isLoading:f}=De({queryKey:["prescriptions",r,u,t],queryFn:()=>No.getPrescriptions({page:r,limit:u,search:t||void 0}),placeholderData:k=>k,refetchInterval:5*60*1e3}),h=(d==null?void 0:d.data)||[],p=((P=d==null?void 0:d.pagination)==null?void 0:P.totalPages)||1,m=((A=d==null?void 0:d.pagination)==null?void 0:A.total)||0,g=Ge({mutationFn:({id:k,method:O})=>No.sendPrescription(k,O),onSuccess:k=>{k.whatsappUrl?(window.open(k.whatsappUrl,"_blank"),ae.success("WhatsApp opened. Send the message to complete.")):ae.success("Prescription sent successfully"),o(!1),c(null)},onError:k=>{var O,I;ae.error(((I=(O=k.response)==null?void 0:O.data)==null?void 0:I.message)||"Failed to send prescription")}}),x=k=>{n(k.target.value),s(1)},y=k=>{e(`/prescriptions/${k.id}`)},v=k=>{e(`/prescriptions/${k.id}?print=true`)},b=k=>{c(k),o(!0)},j=k=>{l&&g.mutate({id:l.id,method:k})},w=k=>k?new Date(k).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-",S=tt("prescriptions:create",["DOCTOR","SUPER_ADMIN"]);return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Prescriptions"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"View and manage patient prescriptions"})]}),S&&a.jsx(Be,{to:"/prescriptions/new",children:a.jsx(Je,{iconLeft:Ur,children:"New Prescription"})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:a.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:t,onChange:x,placeholder:"Search by patient name or prescription ID...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]})})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Prescription ID"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Date"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Patient"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Diagnosis"}),a.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{children:f?[...Array(5)].map((k,O)=>a.jsxs("tr",{className:"animate-pulse",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})})]},O)):h.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[a.jsx(hae,{className:"text-4xl text-gray-300 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"No prescriptions found"}),t&&a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your search term"})]})}):h.map(k=>{var O,I,M,E,_;return a.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm font-medium text-blue-600",children:k.prescriptionId||`RX${String(k.id).padStart(5,"0")}`})}),a.jsx("td",{className:"px-6 py-4 text-gray-600",children:w(k.createdAt)}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 font-medium text-sm",children:((I=(O=k.patient)==null?void 0:O.name)==null?void 0:I.charAt(0))||"P"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:((M=k.patient)==null?void 0:M.name)||"Unknown Patient"}),a.jsx("p",{className:"text-sm text-gray-500",children:((E=k.patient)==null?void 0:E.patientId)||((_=k.patient)==null?void 0:_.id)&&`P${String(k.patient.id).padStart(5,"0")}`})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("p",{className:"text-gray-700 truncate max-w-xs",children:k.diagnosis||"-"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>y(k),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View",children:a.jsx(Cn,{})}),a.jsx("button",{onClick:()=>v(k),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Print",children:a.jsx(Wh,{})}),a.jsx("button",{onClick:()=>b(k),className:"p-2 text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Send",children:a.jsx(wv,{})})]})})]},k.id)})})]})}),p>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(r-1)*u+1," -"," ",Math.min(r*u,m)," of ",m," prescriptions"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>s(k=>Math.max(1,k-1)),disabled:r===1,className:"p-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:a.jsx(Ca,{className:"text-gray-600"})}),a.jsxs("span",{className:"px-3 py-1 text-sm text-gray-700",children:["Page ",r," of ",p]}),a.jsx("button",{onClick:()=>s(k=>Math.min(p,k+1)),disabled:r===p,className:"p-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:a.jsx(Oa,{className:"text-gray-600"})})]})]})]}),a.jsx(ft,{isOpen:i,onClose:()=>{o(!1),c(null)},title:"Send Prescription",size:"sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600",children:"How would you like to send this prescription to the patient?"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>j("whatsapp"),disabled:g.isPending,className:"w-full flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-green-50 hover:border-green-300 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(Gl,{className:"text-green-600 text-lg"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"WhatsApp"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Send via WhatsApp to ",((C=l==null?void 0:l.patient)==null?void 0:C.phone)||"patient"]})]})]}),a.jsxs("button",{onClick:()=>j("email"),disabled:g.isPending,className:"w-full flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(To,{className:"text-blue-600 text-lg"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Email"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Send via email to ",((T=l==null?void 0:l.patient)==null?void 0:T.email)||"patient"]})]})]})]}),g.isPending&&a.jsx("p",{className:"text-center text-sm text-gray-500",children:"Sending..."}),g.isError&&a.jsx("p",{className:"text-center text-sm text-red-600",children:"Failed to send. Please try again."}),g.isSuccess&&a.jsx("p",{className:"text-center text-sm text-green-600",children:"Prescription sent successfully!"})]})})]})})}function Pde(){var y,v,b,j,w,S;const{id:e}=qp(),t=Qn(),[n,r]=N.useState(!1),{data:s,isLoading:i,error:o}=De({queryKey:["prescription",e],queryFn:()=>No.getPrescription(e),enabled:!!e}),l=s==null?void 0:s.data,c=P=>{if(!P||Object.keys(P).length===0)return"";let A="";return P.bp&&(A+=`<div class="vital-item"><div class="value">${P.bp}</div><div class="label">BP (mmHg)</div></div>`),P.pulse&&(A+=`<div class="vital-item"><div class="value">${P.pulse}</div><div class="label">Pulse (bpm)</div></div>`),P.temp&&(A+=`<div class="vital-item"><div class="value">${P.temp}</div><div class="label">Temp (F)</div></div>`),P.spo2&&(A+=`<div class="vital-item"><div class="value">${P.spo2}%</div><div class="label">SpO2</div></div>`),P.weight&&(A+=`<div class="vital-item"><div class="value">${P.weight}</div><div class="label">Weight (kg)</div></div>`),`
      <div class="vitals-section">
        <h3>Vitals</h3>
        <div class="vitals-grid">${A}</div>
      </div>
    `},u=P=>!Array.isArray(P)||P.length===0?"":`
      <div class="section">
        <div class="section-title">Diagnosis</div>
        <div class="diagnosis-tags">${P.map(C=>`<span class="diagnosis-tag">${C}</span>`).join("")}</div>
      </div>
    `,d=P=>!P||P.length===0?"":`
      <div class="section">
        <div class="section-title"> Medicines</div>
        <table>
          <thead>
            <tr>
              <th style="width:5%">#</th>
              <th style="width:30%">Medicine</th>
              <th style="width:15%">Dosage</th>
              <th style="width:15%">Frequency</th>
              <th style="width:15%">Duration</th>
              <th style="width:20%">Timing</th>
            </tr>
          </thead>
          <tbody>${P.map((C,T)=>`
      <tr>
        <td>${T+1}</td>
        <td>
          <div class="medicine-name">${C.medicineName}</div>
          ${C.genericName?`<div class="generic-name">${C.genericName}</div>`:""}
        </td>
        <td>${C.dosage||"-"}</td>
        <td>${C.frequency||"-"}</td>
        <td>${C.duration||"-"}</td>
        <td>${C.timing||"-"}</td>
      </tr>
    `).join("")}</tbody>
        </table>
      </div>
    `,f=P=>!P||P.length===0?"":`
      <div class="section">
        <div class="section-title">Lab Tests</div>
        <div class="lab-tests">${P.map((C,T)=>`
      <div class="lab-test-item">
        <div class="lab-test-name">${T+1}. ${C.testName}</div>
        ${C.instructions?`<div class="lab-instructions">${C.instructions}</div>`:""}
      </div>
    `).join("")}</div>
      </div>
    `,h=()=>{var W,q,G,H;if(!l)return;const P=window.open("","_blank"),A=l.prescriptionNo||"RX"+String(l.id).padStart(5,"0"),C=new Date(l.createdAt).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),T=((W=l.patient)==null?void 0:W.name)||"N/A",k=((q=l.patient)==null?void 0:q.patientId)||"P"+String((G=l.patient)==null?void 0:G.id).padStart(5,"0"),O=((H=l.patient)==null?void 0:H.phone)||"N/A",I=c(l.vitalsSnapshot),M=u(l.diagnosis),E=d(l.medicines),_=f(l.labTests),L=l.clinicalNotes?`
      <div class="section">
        <div class="section-title">Clinical Notes</div>
        <div class="notes-box"><p>${l.clinicalNotes}</p></div>
      </div>
    `:"",R=l.advice?`
      <div class="section">
        <div class="section-title">Advice</div>
        <div class="advice-box"><p>${l.advice}</p></div>
      </div>
    `:"",F=l.followUpDate?`
      <div class="followup">
        <div class="followup-label">Follow-up Date</div>
        <div class="followup-date">${new Date(l.followUpDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}</div>
      </div>
    `:"<div></div>";P.document.write(`
      <html>
        <head>
          <title>Prescription - ${A}</title>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { 
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
              padding: 30px; 
              max-width: 800px; 
              margin: 0 auto;
              color: #333;
              line-height: 1.5;
            }
            .prescription-container {
              border: 2px solid #2563eb;
              border-radius: 8px;
              overflow: hidden;
            }
            .header { 
              background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
              color: white;
              padding: 20px 30px;
              text-align: center;
            }
            .clinic-name { font-size: 28px; font-weight: bold; margin-bottom: 5px; }
            .clinic-info { font-size: 12px; opacity: 0.9; }
            .content { padding: 25px 30px; position: relative; }
            .prescription-no { text-align: right; font-size: 14px; color: #666; margin-bottom: 15px; }
            .patient-card {
              background: #f8fafc;
              border: 1px solid #e2e8f0;
              border-radius: 8px;
              padding: 15px 20px;
              margin-bottom: 20px;
            }
            .patient-card h3 {
              color: #2563eb;
              font-size: 14px;
              text-transform: uppercase;
              letter-spacing: 1px;
              margin-bottom: 10px;
            }
            .patient-details {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 15px;
            }
            .detail-item label { font-size: 11px; color: #64748b; display: block; }
            .detail-item span { font-size: 14px; font-weight: 600; color: #1e293b; }
            .vitals-section {
              background: #fef3c7;
              border: 1px solid #fbbf24;
              border-radius: 8px;
              padding: 15px 20px;
              margin-bottom: 20px;
            }
            .vitals-section h3 {
              color: #b45309;
              font-size: 14px;
              text-transform: uppercase;
              letter-spacing: 1px;
              margin-bottom: 10px;
            }
            .vitals-grid {
              display: grid;
              grid-template-columns: repeat(5, 1fr);
              gap: 10px;
            }
            .vital-item {
              background: white;
              padding: 10px;
              border-radius: 6px;
              text-align: center;
            }
            .vital-item .value { font-size: 18px; font-weight: bold; color: #b45309; }
            .vital-item .label { font-size: 10px; color: #666; text-transform: uppercase; }
            .section { margin-bottom: 20px; }
            .section-title {
              font-size: 14px;
              font-weight: bold;
              color: #2563eb;
              text-transform: uppercase;
              letter-spacing: 1px;
              padding-bottom: 8px;
              border-bottom: 2px solid #e2e8f0;
              margin-bottom: 15px;
            }
            .diagnosis-tags { display: flex; flex-wrap: wrap; gap: 8px; }
            .diagnosis-tag {
              background: #dbeafe;
              color: #1e40af;
              padding: 6px 12px;
              border-radius: 20px;
              font-size: 13px;
              font-weight: 500;
            }
            table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 13px; }
            th { 
              background: #f1f5f9;
              color: #475569;
              font-weight: 600;
              text-transform: uppercase;
              font-size: 11px;
              letter-spacing: 0.5px;
              padding: 12px 10px;
              text-align: left;
              border-bottom: 2px solid #e2e8f0;
            }
            td { padding: 12px 10px; border-bottom: 1px solid #e2e8f0; vertical-align: top; }
            tr:last-child td { border-bottom: none; }
            .medicine-name { font-weight: 600; color: #1e293b; }
            .generic-name { font-size: 11px; color: #64748b; font-style: italic; }
            .lab-tests { display: grid; gap: 10px; }
            .lab-test-item {
              background: #fef3c7;
              border-left: 4px solid #f59e0b;
              padding: 10px 15px;
              border-radius: 0 6px 6px 0;
            }
            .lab-test-name { font-weight: 600; color: #92400e; }
            .lab-instructions { font-size: 12px; color: #78350f; }
            .advice-box {
              background: #ecfdf5;
              border: 1px solid #10b981;
              border-radius: 8px;
              padding: 15px;
            }
            .advice-box p { color: #065f46; white-space: pre-wrap; }
            .notes-box {
              background: #f8fafc;
              border: 1px solid #cbd5e1;
              border-radius: 8px;
              padding: 15px;
            }
            .notes-box p { color: #475569; white-space: pre-wrap; }
            .footer {
              margin-top: 40px;
              padding-top: 20px;
              border-top: 1px dashed #cbd5e1;
              display: flex;
              justify-content: space-between;
            }
            .followup { background: #dbeafe; padding: 10px 15px; border-radius: 6px; }
            .followup-label { font-size: 11px; color: #3b82f6; text-transform: uppercase; }
            .followup-date { font-weight: bold; color: #1e40af; }
            .signature { text-align: right; }
            .signature-line { border-top: 1px solid #333; width: 200px; margin-left: auto; margin-bottom: 5px; }
            .doctor-name { font-weight: bold; }
            @media print { 
              body { print-color-adjust: exact; -webkit-print-color-adjust: exact; }
              .prescription-container { border: 1px solid #000; }
            }
          </style>
        </head>
        <body>
          <div class="prescription-container">
            <div class="header">
              <div class="clinic-name">Docsy</div>
              <div class="clinic-info">Your Trusted Healthcare Partner | Phone: +91 9876543210</div>
            </div>
            <div class="content">
              <div class="prescription-no">
                <strong>${A}</strong>&nbsp;|&nbsp;${C}
              </div>
              
              <div class="patient-card">
                <h3>Patient Information</h3>
                <div class="patient-details">
                  <div class="detail-item"><label>Name</label><span>${T}</span></div>
                  <div class="detail-item"><label>Patient ID</label><span>${k}</span></div>
                  <div class="detail-item"><label>Phone</label><span>${O}</span></div>
                  <div class="detail-item"><label>Date</label><span>${new Date(l.createdAt).toLocaleDateString("en-IN")}</span></div>
                </div>
              </div>

              ${I}
              ${M}
              ${L}
              ${E}
              ${_}
              ${R}

              <div class="footer">
                ${F}
                <div class="signature">
                  <div class="signature-line"></div>
                  <div class="doctor-name">Doctor's Signature</div>
                </div>
              </div>
            </div>
          </div>
        </body>
      </html>
    `),P.document.close(),P.onload=()=>{P.print()}},p=async P=>{var A,C;try{const T=await No.sendPrescription(e,P);T.whatsappUrl?(window.open(T.whatsappUrl,"_blank"),ae.success("WhatsApp opened. Send the message to complete.")):ae.success(`Prescription sent via ${P}`),r(!1)}catch(T){ae.error(((C=(A=T.response)==null?void 0:A.data)==null?void 0:C.message)||"Failed to send prescription")}},m=P=>P?new Date(P).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-";if(i)return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(o||!l)return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[a.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load prescription"}),a.jsx("button",{onClick:()=>t("/prescriptions"),className:"text-blue-600 hover:underline",children:"Back to Prescriptions"})]})});const g=l.vitalsSnapshot||{},x=Array.isArray(l.diagnosis)?l.diagnosis:[];return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>t("/prescriptions"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:a.jsx(Yl,{className:"text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l.prescriptionNo||`RX${String(l.id).padStart(5,"0")}`}),a.jsx("p",{className:"text-gray-500 mt-1",children:m(l.createdAt)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:h,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[a.jsx(Wh,{}),"Print"]}),a.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[a.jsx(wv,{}),"Send"]})]})]}),a.jsxs("div",{id:"prescription-print-area",className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-4",children:[a.jsx(zu,{}),a.jsx("h2",{className:"text-lg font-semibold",children:"Patient Information"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),a.jsx("p",{className:"font-medium",children:((y=l.patient)==null?void 0:y.name)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Patient ID"}),a.jsx("p",{className:"font-medium",children:((v=l.patient)==null?void 0:v.patientId)||`P${String((b=l.patient)==null?void 0:b.id).padStart(5,"0")}`})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),a.jsx("p",{className:"font-medium",children:((j=l.patient)==null?void 0:j.phone)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),a.jsx("p",{className:"font-medium",children:m(l.createdAt)})]})]})]}),(g.bp||g.pulse||g.temp||g.spo2||g.weight)&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-4",children:[a.jsx(M5,{}),a.jsx("h2",{className:"text-lg font-semibold",children:"Vitals"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[g.bp&&a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Blood Pressure"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:g.bp})]}),g.pulse&&a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Pulse"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[g.pulse," bpm"]})]}),g.temp&&a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Temperature"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[g.temp,"F"]})]}),g.spo2&&a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"SpO2"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[g.spo2,"%"]})]}),g.weight&&a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Weight"}),a.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[g.weight," kg"]})]})]})]}),(x.length>0||l.clinicalNotes)&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-purple-600 mb-4",children:[a.jsx(jL,{}),a.jsx("h2",{className:"text-lg font-semibold",children:"Diagnosis & Notes"})]}),x.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Diagnosis"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:x.map((P,A)=>a.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:P},A))})]}),l.clinicalNotes&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Clinical Notes"}),a.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:l.clinicalNotes})]})]}),l.medicines&&l.medicines.length>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-4",children:[a.jsx(Hh,{}),a.jsx("h2",{className:"text-lg font-semibold",children:"Medicines"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"#"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Medicine"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Dosage"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Frequency"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Duration"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Timing"})]})}),a.jsx("tbody",{children:l.medicines.map((P,A)=>a.jsxs("tr",{className:"border-b border-gray-50",children:[a.jsx("td",{className:"py-3 px-4 text-gray-500",children:A+1}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"font-medium text-gray-900",children:P.medicineName}),P.genericName&&a.jsx("p",{className:"text-sm text-gray-500",children:P.genericName})]}),a.jsx("td",{className:"py-3 px-4 text-gray-700",children:P.dosage||"-"}),a.jsx("td",{className:"py-3 px-4 text-gray-700",children:P.frequency||"-"}),a.jsx("td",{className:"py-3 px-4 text-gray-700",children:P.duration||"-"}),a.jsx("td",{className:"py-3 px-4 text-gray-700",children:P.timing||"-"})]},P.id))})]})})]}),l.labTests&&l.labTests.length>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-orange-600 mb-4",children:[a.jsx(Fu,{}),a.jsx("h2",{className:"text-lg font-semibold",children:"Lab Tests"})]}),a.jsx("div",{className:"space-y-3",children:l.labTests.map((P,A)=>{var C;return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"w-6 h-6 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-sm font-medium",children:A+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:P.testName}),P.instructions&&a.jsx("p",{className:"text-sm text-gray-500",children:P.instructions}),((C=P.lab)==null?void 0:C.name)&&a.jsxs("p",{className:"text-sm text-blue-600",children:["Lab: ",P.lab.name]})]})]},P.id)})})]}),l.advice&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-4",children:[a.jsx(wL,{}),a.jsx("h2",{className:"text-lg font-semibold",children:"Advice"})]}),a.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:l.advice})]}),l.followUpDate&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-teal-600 mb-4",children:[a.jsx(aae,{}),a.jsx("h2",{className:"text-lg font-semibold",children:"Follow-up"})]}),a.jsxs("p",{className:"text-gray-700",children:["Next visit scheduled for: ",a.jsx("span",{className:"font-medium",children:m(l.followUpDate)})]})]})]}),a.jsx(ft,{isOpen:n,onClose:()=>r(!1),title:"Send Prescription",size:"sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600",children:"How would you like to send this prescription to the patient?"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>p("whatsapp"),className:"w-full flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-green-50 hover:border-green-300 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(Gl,{className:"text-green-600 text-lg"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"WhatsApp"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Send via WhatsApp to ",((w=l.patient)==null?void 0:w.phone)||"patient"]})]})]}),a.jsxs("button",{onClick:()=>p("email"),className:"w-full flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(To,{className:"text-blue-600 text-lg"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Email"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Send via email to ",((S=l.patient)==null?void 0:S.email)||"patient"]})]})]})]})]})})]})})}const qa={getBills:async(e={})=>(await ee.get("/billing",{params:e})).data,getBill:async e=>(await ee.get(`/billing/${e}`)).data,createBill:async e=>(await ee.post("/billing",e)).data,updateBill:async(e,t)=>(await ee.put(`/billing/${e}`,t)).data,recordPayment:async(e,t)=>{var s;const n={...t,method:((s=t.method)==null?void 0:s.toUpperCase())||"CASH"};return(await ee.post(`/billing/${e}/payment`,n)).data},getSummary:async(e,t={})=>{const n={period:e,...t};return(await ee.get("/billing/summary",{params:n})).data},getPatients:async(e={})=>(await ee.get("/billing/patients",{params:e})).data,getDoctors:async()=>(await ee.get("/billing/doctors")).data},qn={getProducts:async(e={})=>(await ee.get("/pharmacy/products",{params:e})).data,getProduct:async e=>(await ee.get(`/pharmacy/products/${e}`)).data,createProduct:async e=>(await ee.post("/pharmacy/products",e)).data,updateProduct:async(e,t)=>(await ee.put(`/pharmacy/products/${e}`,t)).data,updateStock:async(e,t)=>{const n={quantity:t.quantity,type:t.type,notes:t.notes};return t.expiryDate&&(n.expiryDate=t.expiryDate),t.batchNumber&&(n.batchNumber=t.batchNumber),t.costPrice&&(n.costPrice=t.costPrice),(await ee.post(`/pharmacy/products/${e}/stock`,n)).data},getLowStock:async(e=null)=>{const t=e?{threshold:e}:{};return(await ee.get("/pharmacy/low-stock",{params:t})).data},getStockHistory:async(e={})=>(await ee.get("/pharmacy/stock-history",{params:e})).data,getBatches:async e=>(await ee.get(`/pharmacy/products/${e}/batches`)).data,downloadOpeningStockTemplate:async()=>(await ee.get("/pharmacy/stock/opening-import/template",{responseType:"blob"})).data,importOpeningStock:async(e,t={})=>{const n={};return typeof t.dryRun<"u"&&(n.dryRun=t.dryRun),t.openingDate&&(n.openingDate=t.openingDate),t.creditAccountName&&(n.creditAccountName=t.creditAccountName),(await ee.post("/pharmacy/stock/opening-import",e,{params:n,headers:{"Content-Type":"multipart/form-data"}})).data}},Ade=[{value:"1-0-0",label:"1-0-0 (Morning)"},{value:"0-1-0",label:"0-1-0 (Afternoon)"},{value:"0-0-1",label:"0-0-1 (Night)"},{value:"1-1-0",label:"1-1-0 (Morning, Afternoon)"},{value:"1-0-1",label:"1-0-1 (Morning, Night)"},{value:"0-1-1",label:"0-1-1 (Afternoon, Night)"},{value:"1-1-1",label:"1-1-1 (Thrice a day)"},{value:"1-1-1-1",label:"1-1-1-1 (Four times)"},{value:"sos",label:"SOS (As needed)"},{value:"stat",label:"STAT (Immediately)"}],Cde=[{value:"3",label:"3 Days"},{value:"5",label:"5 Days"},{value:"7",label:"7 Days"},{value:"10",label:"10 Days"},{value:"14",label:"14 Days"},{value:"15",label:"15 Days"},{value:"21",label:"21 Days"},{value:"30",label:"30 Days"},{value:"60",label:"60 Days"},{value:"90",label:"90 Days"}],Ode=[{value:"before",label:"Before Food"},{value:"after",label:"After Food"},{value:"with",label:"With Food"},{value:"any",label:"Any Time"}];function zk(){var $,oe;if(!tt("prescriptions:create",["DOCTOR","SUPER_ADMIN"]))return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Access denied"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"You do not have permission to create prescriptions."})]})})});const t=Qn(),{user:n}=ri(),r=ln(),[s,i]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(!1),[d,f]=N.useState(!1),h=N.useRef(null),[p,m]=N.useState(!1),[g,x]=N.useState(null),{register:y,handleSubmit:v,control:b,watch:j,setValue:w,formState:{errors:S}}=Ut({defaultValues:{patient:null,vitals:{bloodPressureSystolic:"",bloodPressureDiastolic:"",heartRate:"",temperature:"",weight:"",height:"",oxygenSaturation:""},diagnosis:"",notes:"",medicines:[],labTests:[]}}),{fields:P,append:A,remove:C}=kj({control:b,name:"medicines"}),{fields:T,append:k,remove:O}=kj({control:b,name:"labTests"}),{data:I}=De({queryKey:["patients-list"],queryFn:()=>lr.getPatients({limit:100})}),M=((I==null?void 0:I.data)||[]).map(D=>({value:D.id,label:`${D.name} (${D.patientId||`P${String(D.id).padStart(5,"0")}`})`,patient:D})),E=()=>{var D;return(D=j("patient"))==null?void 0:D.value},{data:_}=De({queryKey:["patient-appointments",E()],queryFn:()=>gl.getAppointments({patientId:E(),status:"SCHEDULED",doctorId:n==null?void 0:n.id,limit:50}),enabled:!!E()}),L=((_==null?void 0:_.data)||[]).map(D=>({value:D.id,label:`${D.appointmentNo||""} ${D.date?`- ${new Date(D.date).toLocaleDateString()}`:""}`,appt:D})),{data:R}=De({queryKey:["medicines-search",s],queryFn:()=>qn.getProducts({search:s,limit:10}),enabled:s.length>=2}),F=(R==null?void 0:R.data)||[],{data:W}=De({queryKey:["lab-tests-search",o],queryFn:()=>No.searchLabTests(o),enabled:o.length>=2}),q=(W==null?void 0:W.data)||[],G=Ge({mutationFn:No.createPrescription,onSuccess:async D=>{ae.success("Prescription saved successfully");const Y=D.data||D;try{const se=h.current||{},je=[];let be=0,_e="Consultation";if(se.appointmentId&&Array.isArray(_==null?void 0:_.data)){const ne=(_.data||[]).find(Ne=>Ne.id===se.appointmentId);ne&&(be=ne.consultationFee||0,_e=`Consultation (${ne.appointmentNo||""})`)}if(je.push({description:_e,quantity:1,unitPrice:be,type:"consultation"}),(se.medicines||[]).forEach(ne=>{je.push({description:ne.medicineName||ne.name||ne.medicine||"",quantity:ne.quantity||1,unitPrice:ne.price||ne.unitPrice||0,type:"medicine",productId:ne.productId||ne.productId})}),(se.labTests||[]).forEach(ne=>{je.push({description:ne.testName||ne.name||"",quantity:1,unitPrice:ne.price||0,type:"lab",labId:ne.labId||null})}),je.length>0){const ne={patientId:Y.patientId||se.patientId,type:"MIXED",items:je,notes:`Draft bill for prescription ${Y.prescriptionNo||""}`,doctorId:n==null?void 0:n.id};try{await qa.createBill(ne);try{r.invalidateQueries({queryKey:["bills"]})}catch{}}catch(Ne){console.error("Failed creating draft bill:",Ne)}}}catch(se){console.error("Failed to create draft bill for prescription:",se)}try{const se=await No.getPrescriptionPdf(Y.id),je=window.URL.createObjectURL(se),be=window.open(je,"_blank");be&&(be.onload=()=>{be.print()})}catch{console.log("PDF not available, navigating to prescriptions")}try{r.setQueriesData({queryKey:["prescriptions"]},se=>se&&(se&&typeof se=="object"&&Array.isArray(se.data)?{...se,data:[Y,...se.data]}:Array.isArray(se)?[Y,...se]:se))}catch(se){console.error("Failed to update prescriptions cache optimistically",se)}t("/prescriptions")},onError:D=>{var Y,se;ae.error(((se=(Y=D.response)==null?void 0:Y.data)==null?void 0:se.message)||"Failed to save prescription"),console.error("Failed to create prescription:",D)}}),H=D=>{var se,je;const Y={appointmentId:(se=D.appointment)==null?void 0:se.value,patientId:(je=D.patient)==null?void 0:je.value,vitalsSnapshot:{bloodPressureSystolic:D.vitals.bloodPressureSystolic?parseInt(D.vitals.bloodPressureSystolic):null,bloodPressureDiastolic:D.vitals.bloodPressureDiastolic?parseInt(D.vitals.bloodPressureDiastolic):null,heartRate:D.vitals.heartRate?parseInt(D.vitals.heartRate):null,temperature:D.vitals.temperature?parseFloat(D.vitals.temperature):null,weight:D.vitals.weight?parseFloat(D.vitals.weight):null,height:D.vitals.height?parseFloat(D.vitals.height):null,oxygenSaturation:D.vitals.oxygenSaturation?parseInt(D.vitals.oxygenSaturation):null},diagnosis:D.diagnosis,clinicalNotes:D.notes,medicines:D.medicines.map(be=>{var _e,ne,Ne,Ce;return{productId:be.medicineId,medicineName:be.name,dosage:((_e=be.dosage)==null?void 0:_e.value)||be.dosage,duration:((ne=be.duration)==null?void 0:ne.value)||be.duration,timing:((Ne=be.mealTiming)==null?void 0:Ne.value)||be.mealTiming,frequency:((Ce=be.dosage)==null?void 0:Ce.value)||be.dosage,instructions:be.instructions,quantity:be.quantity?parseInt(be.quantity):1,isExternal:!!be.isExternal}}),labTests:D.labTests.map(be=>({testName:be.name,instructions:be.instructions,isExternal:!!be.isExternal,labId:be.labId||null}))};h.current=Y,G.mutate(Y)},J=D=>{A({medicineId:D.id,name:D.name,dosage:null,duration:null,mealTiming:null,instructions:"",quantity:"",isExternal:!1}),i(""),u(!1)},ce=D=>{A({medicineId:null,name:D,dosage:null,duration:null,mealTiming:null,instructions:"",quantity:1,isExternal:!0}),i(""),u(!1)},fe=D=>{k({testId:D.id||null,labId:D.labId||null,name:D.name,price:D.price||null,labName:D.labName||null,instructions:"",isExternal:(D.isCatalog,!1)}),l(""),f(!1)},Z=D=>{k({testId:null,labId:null,name:D,price:null,labName:null,instructions:"",isExternal:!0}),l(""),f(!1)},he=($=j("patient"))==null?void 0:$.patient;return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:a.jsx(Yl,{className:"text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"New Prescription"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Create a new prescription for a patient"}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Doctor: ",a.jsx("strong",{className:"text-gray-900",children:(n==null?void 0:n.name)||"You"})]})]})]}),a.jsxs("form",{onSubmit:v(H),className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(Ql,{className:"text-blue-600"})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patient Information"})]}),a.jsx(As,{label:"Select Patient",name:"patient",control:b,options:M,placeholder:"Search and select patient...",rules:{required:"Patient is required"},error:(oe=S.patient)==null?void 0:oe.message,isSearchable:!0}),he&&a.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Age:"}),a.jsx("span",{className:"ml-2 font-medium",children:he.age?`${he.age} yrs`:"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Gender:"}),a.jsx("span",{className:"ml-2 font-medium capitalize",children:he.gender||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Phone:"}),a.jsx("span",{className:"ml-2 font-medium",children:he.phone||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Blood Group:"}),a.jsx("span",{className:"ml-2 font-medium",children:he.bloodGroup||"-"})]})]}),he.allergies&&a.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg",children:[a.jsx("span",{className:"text-red-700 text-sm font-medium",children:"Allergies: "}),a.jsx("span",{className:"text-red-600 text-sm",children:he.allergies})]})]}),L.length>0&&a.jsx("div",{className:"mt-4",children:a.jsx(Mf,{name:"appointment",control:b,render:({field:D})=>a.jsx(As,{...D,label:"Select Appointment (optional)",options:L,placeholder:"Select appointment...",isClearable:!0,isSearchable:!0,onChange:Y=>{D.onChange(Y),x(Y)}})})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx(M5,{className:"text-red-600"})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Vitals"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Blood Pressure"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{...y("vitals.bloodPressureSystolic"),type:"number",placeholder:"Sys",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("span",{className:"text-gray-400",children:"/"}),a.jsx("input",{...y("vitals.bloodPressureDiastolic"),type:"number",placeholder:"Dia",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-500",children:"mmHg"})]})]}),a.jsx(dt,{label:"Heart Rate",type:"number",placeholder:"72",...y("vitals.heartRate"),helperText:"bpm"}),a.jsx(dt,{label:"Temperature",type:"number",step:"0.1",placeholder:"98.6",...y("vitals.temperature"),helperText:"F"}),a.jsx(dt,{label:"SpO2",type:"number",placeholder:"98",...y("vitals.oxygenSaturation"),helperText:"%"}),a.jsx(dt,{label:"Weight",type:"number",step:"0.1",placeholder:"70",...y("vitals.weight"),helperText:"kg"}),a.jsx(dt,{label:"Height",type:"number",placeholder:"170",...y("vitals.height"),helperText:"cm"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(jL,{className:"text-purple-600"})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Diagnosis"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Diagnosis ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{...y("diagnosis",{required:"Diagnosis is required"}),rows:2,placeholder:"Enter diagnosis...",className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 resize-none ${S.diagnosis?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),S.diagnosis&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:S.diagnosis.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Additional Notes"}),a.jsx("textarea",{...y("notes"),rows:2,placeholder:"Any additional notes or advice...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(Hh,{className:"text-green-600"})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Medicines"})]})}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:s,onChange:D=>{i(D.target.value),u(!0)},onFocus:()=>u(!0),placeholder:"Search medicines from pharmacy...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),c&&s.length>=2&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:F.length===0?a.jsxs("div",{children:[a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No medicines found"}),a.jsx("div",{className:"px-4 py-3 border-t border-gray-100",children:a.jsxs("button",{type:"button",onClick:()=>ce(s),className:"w-full text-left px-3 py-2 bg-yellow-50 text-yellow-900 rounded-md",children:['Add "',s,'" as external medicine']})})]}):F.map(D=>a.jsxs("button",{type:"button",onClick:()=>J(D),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0",children:[a.jsx("p",{className:"font-medium text-gray-900",children:D.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[D.category&&`${D.category}  `,"Stock: ",D.stock||0,"  ",D.price]})]},D.id))})]}),P.length>0?a.jsx("div",{className:"space-y-4",children:P.map((D,Y)=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{children:a.jsx("p",{className:"font-medium text-gray-900",children:D.name})}),a.jsx("button",{type:"button",onClick:()=>C(Y),className:"p-1.5 text-red-500 hover:bg-red-50 rounded transition-colors",children:a.jsx(Vu,{size:14})})]}),a.jsx("div",{className:"flex items-center gap-3 mb-3",children:a.jsxs("label",{className:"inline-flex items-center text-sm",children:[a.jsx("input",{type:"checkbox",...y(`medicines.${Y}.isExternal`),className:"form-checkbox h-4 w-4 text-blue-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Patient will buy externally"})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[a.jsx(Mf,{name:`medicines.${Y}.dosage`,control:b,render:({field:se})=>a.jsx(As,{...se,label:"Dosage",options:Ade,placeholder:"Select...",menuPlacement:"auto"})}),a.jsx(Mf,{name:`medicines.${Y}.duration`,control:b,render:({field:se})=>a.jsx(As,{...se,label:"Duration",options:Cde,placeholder:"Select...",menuPlacement:"auto"})}),a.jsx(Mf,{name:`medicines.${Y}.mealTiming`,control:b,render:({field:se})=>a.jsx(As,{...se,label:"Timing",options:Ode,placeholder:"Select...",menuPlacement:"auto"})}),a.jsx(dt,{label:"Quantity",type:"number",placeholder:"10",...y(`medicines.${Y}.quantity`)}),a.jsx(dt,{label:"Instructions",placeholder:"Special instructions...",...y(`medicines.${Y}.instructions`)})]})]},D.id))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Hh,{className:"text-3xl text-gray-300 mx-auto mb-2"}),a.jsx("p",{children:"No medicines added. Search above to add medicines."})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:a.jsx(Fu,{className:"text-orange-600"})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lab Tests"})]})}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:o,onChange:D=>{l(D.target.value),f(!0)},onFocus:()=>f(!0),placeholder:"Search lab tests...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d&&o.length>=2&&a.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[q.length===0?a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No lab tests found"}):q.map(D=>a.jsx("button",{type:"button",onClick:()=>fe(D),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:D.name}),D.category&&a.jsx("p",{className:"text-sm text-gray-500",children:D.category}),D.labName&&a.jsxs("p",{className:"text-xs text-gray-400",children:["From: ",D.labName]})]}),D.price!=null&&a.jsxs("div",{className:"text-sm font-medium text-gray-800",children:[D.price," ",D.currency||"INR"]})]})},D.id||D.name)),q.length===0&&o.length>=2&&a.jsx("div",{className:"px-4 py-3 border-t border-gray-100",children:a.jsxs("button",{type:"button",onClick:()=>Z(o),className:"w-full text-left px-3 py-2 bg-yellow-50 text-yellow-900 rounded-md",children:['Add "',o,'" as external lab test']})})]})]}),T.length>0?a.jsx("div",{className:"space-y-3",children:T.map((D,Y)=>a.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"font-medium text-gray-900",children:D.name})}),a.jsx("input",{...y(`labTests.${Y}.instructions`),placeholder:"Special instructions...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),a.jsxs("label",{className:"inline-flex items-center ml-3",children:[a.jsx("input",{type:"checkbox",...y(`labTests.${Y}.isExternal`),className:"form-checkbox h-4 w-4 text-blue-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Patient will buy externally"})]}),a.jsx("button",{type:"button",onClick:()=>O(Y),className:"p-2 text-red-500 hover:bg-red-50 rounded transition-colors",children:a.jsx(Vu,{size:14})})]},D.id))}):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Fu,{className:"text-3xl text-gray-300 mx-auto mb-2"}),a.jsx("p",{children:"No lab tests added. Search above to add tests."})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4",children:[a.jsx(Je,{type:"button",variant:"secondary",onClick:()=>t(-1),children:"Cancel"}),a.jsx(Je,{type:"submit",iconLeft:xi,iconRight:Wh,loading:G.isPending,children:"Save & Print"})]}),G.isError&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-700",children:"Failed to create prescription. Please try again."})})]})]})})}const kde=[{id:"all",label:"All Products"},{id:"lowStock",label:"Low Stock"},{id:"expiring",label:"Expiring Soon"}];function _de(){var et,ie;const e=ln(),t=Qn(),[n,r]=N.useState("all"),[s,i]=N.useState(""),[o,l]=N.useState(1),[c,u]=N.useState(!1),[d,f]=N.useState(!1),[h,p]=N.useState(!1),[m,g]=N.useState(null),x=10,{register:y,handleSubmit:v,reset:b,setValue:j,formState:{errors:w}}=Ut({defaultValues:{name:"",sku:"",genericName:"",category:"",unit:"units",price:"",costPrice:"",stock:"0",minStock:"10",expiryDate:""}}),{register:S,handleSubmit:P,reset:A}=Ut({defaultValues:{type:"addition",quantity:"",notes:"",expiryDate:"",batchNumber:""}}),{data:C,isLoading:T}=De({queryKey:["products",n,o,x,s],queryFn:()=>{const z={page:o,limit:x,search:s};return n==="lowStock"?z.stockStatus="low":n==="expiring"&&(z.expiringWithin=30),qn.getProducts(z)},placeholderData:z=>z}),k=(C==null?void 0:C.data)||[],O=((et=C==null?void 0:C.pagination)==null?void 0:et.totalPages)||1,I=((ie=C==null?void 0:C.pagination)==null?void 0:ie.total)||0,M=Ge({mutationFn:z=>qn.createProduct(z),onSuccess:()=>{ae.success("Product added successfully"),e.invalidateQueries(["products"]),u(!1),b()},onError:z=>{var xe,ye;ae.error(((ye=(xe=z.response)==null?void 0:xe.data)==null?void 0:ye.message)||"Failed to add product")}}),E=Ge({mutationFn:({id:z,data:xe})=>qn.updateProduct(z,xe),onSuccess:()=>{ae.success("Product updated successfully"),e.invalidateQueries(["products"]),f(!1),g(null),b()},onError:z=>{var xe,ye;ae.error(((ye=(xe=z.response)==null?void 0:xe.data)==null?void 0:ye.message)||"Failed to update product")}}),_=Ge({mutationFn:z=>qn.updateStock(z.id,z),onSuccess:()=>{ae.success("Stock updated successfully"),e.invalidateQueries(["products"]),p(!1),g(null),A()},onError:z=>{var xe,ye;ae.error(((ye=(xe=z.response)==null?void 0:xe.data)==null?void 0:ye.message)||"Failed to update stock")}}),L=Ge({mutationFn:z=>qn.updateProduct(z,{isActive:!1}),onSuccess:()=>{ae.success("Product deleted successfully"),e.invalidateQueries(["products"])},onError:z=>{var xe,ye;ae.error(((ye=(xe=z.response)==null?void 0:xe.data)==null?void 0:ye.message)||"Failed to delete product")}}),R=z=>{i(z.target.value),l(1)},F=z=>{r(z),l(1)},W=z=>{M.mutate({code:z.sku||void 0,name:z.name,genericName:z.genericName,category:z.category,mrp:parseFloat(z.price),sellingPrice:parseFloat(z.price),purchasePrice:z.costPrice?parseFloat(z.costPrice):void 0,quantity:parseInt(z.stock)||0,minStock:z.minStock?parseInt(z.minStock):10,unit:z.unit||"pcs",expiryDate:z.expiryDate||void 0})},q=z=>{m&&E.mutate({id:m.id,data:{name:z.name,genericName:z.genericName,category:z.category,mrp:parseFloat(z.price),sellingPrice:parseFloat(z.price),purchasePrice:z.costPrice?parseFloat(z.costPrice):void 0,minStock:z.minStock?parseInt(z.minStock):10,unit:z.unit||"pcs",expiryDate:z.expiryDate||void 0}})},G=z=>{g(z),j("name",z.name),j("sku",z.code),j("genericName",z.genericName||""),j("category",z.category||""),j("price",z.sellingPrice||z.mrp||""),j("costPrice",z.purchasePrice||""),j("minStock",z.minStock||10),j("unit",z.unit||"pcs"),j("expiryDate",z.expiryDate?z.expiryDate.split("T")[0]:""),f(!0)},H=z=>{if(!m)return;const xe={addition:"PURCHASE",subtraction:"SALE",adjustment:"ADJUSTMENT"};_.mutate({id:m.id,quantity:parseInt(z.quantity),type:xe[z.type]||"ADJUSTMENT",notes:z.notes,expiryDate:z.expiryDate||void 0,batchNumber:z.batchNumber||void 0})},J=z=>{g(z),A({type:"addition",quantity:"",notes:""}),p(!0)},[ce,fe]=N.useState(!1),[Z,he]=N.useState([]),[$,oe]=N.useState(!1),[D,Y]=N.useState(!1),[se,je]=N.useState(null),[be,_e]=N.useState(new Date().toISOString().slice(0,10)),[ne,Ne]=N.useState("Opening Stock Adjustment"),[Ce,ze]=N.useState(null),[U,X]=N.useState([]),V=Ge({mutationFn:async({dryRun:z})=>{if(!se)throw new Error("Please choose a CSV file");const xe=new FormData;return xe.append("file",se),qn.importOpeningStock(xe,{dryRun:z,openingDate:be,creditAccountName:ne})},onSuccess:async(z,xe)=>{ze((z==null?void 0:z.summary)||null),X((z==null?void 0:z.errors)||[]),xe.dryRun?((z==null?void 0:z.errors)||[]).length===0?ae.success("Validation successful. You can import now."):ae.error("Validation found issues. Please fix the CSV and retry."):(ae.success("Opening stock imported successfully"),e.invalidateQueries(["products"]),e.invalidateQueries(["dashboardStats"]),Y(!1),je(null),ze(null),X([]))},onError:z=>{var xe,ye;ae.error(((ye=(xe=z==null?void 0:z.response)==null?void 0:xe.data)==null?void 0:ye.message)||(z==null?void 0:z.message)||"Opening stock import failed")}}),le=async()=>{try{const z=await qn.downloadOpeningStockTemplate(),xe=window.URL.createObjectURL(z),ye=document.createElement("a");ye.href=xe,ye.download="opening_stock_import_sample.csv",document.body.appendChild(ye),ye.click(),ye.remove(),window.URL.revokeObjectURL(xe)}catch{ae.error("Failed to download template")}},re=async z=>{g(z),fe(!0),oe(!0);try{const xe=await qn.getBatches(z.id);he(xe.data||[])}catch{he([])}finally{oe(!1)}},K=z=>{window.confirm(`Are you sure you want to delete "${z.name}"?`)&&L.mutate(z.id)},de=z=>z?new Date(z).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-",Ae=z=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(z||0),Oe=z=>z.quantity<(z.minStock||10),Fe=z=>{if(!z.expiryDate)return!1;const xe=new Date(z.expiryDate),ye=new Date;return ye.setDate(ye.getDate()+30),xe<=ye};return a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pharmacy"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Manage inventory and stock levels"})]}),a.jsxs("div",{className:"flex gap-2",children:[tt("pharmacy:create",["SUPER_ADMIN","DOCTOR","PHARMACIST"])&&a.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[a.jsx(Ur,{}),"Add Product"]}),tt("purchases:create",["SUPER_ADMIN","ACCOUNTANT","PHARMACIST"])&&a.jsxs("button",{type:"button",onClick:()=>t("/pharmacy/upload"),className:"inline-flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-indigo-700 transition",children:[a.jsx(L1,{}),"Upload Invoice"]}),tt("pharmacy:create",["SUPER_ADMIN","DOCTOR","PHARMACIST"])&&a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:le,className:"inline-flex items-center justify-center gap-2 bg-slate-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-slate-700 transition",children:"Download Import Template"}),a.jsx("button",{type:"button",onClick:()=>Y(!0),className:"inline-flex items-center justify-center gap-2 bg-violet-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-violet-700 transition",children:"Import Opening Stock"})]}),tt("purchases:read",["SUPER_ADMIN","ACCOUNTANT","PHARMACIST"])&&a.jsx("button",{type:"button",onClick:()=>t("/pharmacy/purchases"),className:"inline-flex items-center justify-center gap-2 bg-gray-700 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-gray-800 transition",children:"Draft Purchase"}),tt("purchases:read",["SUPER_ADMIN","ACCOUNTANT","PHARMACIST"])&&a.jsx("button",{type:"button",onClick:()=>t("/pharmacy/suppliers"),className:"inline-flex items-center justify-center gap-2 bg-teal-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-teal-700 transition",children:"Suppliers"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[a.jsx("div",{className:"flex border-b border-gray-100",children:kde.map(z=>a.jsxs("button",{onClick:()=>F(z.id),className:`flex-1 px-4 py-3 text-sm font-medium transition ${n===z.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[z.label,z.id==="lowStock"&&a.jsx("span",{className:"ml-2 bg-red-100 text-red-600 px-2 py-0.5 rounded-full text-xs",children:"!"}),z.id==="expiring"&&a.jsx("span",{className:"ml-2 bg-yellow-100 text-yellow-600 px-2 py-0.5 rounded-full text-xs",children:a.jsx(wa,{className:"inline w-3 h-3"})})]},z.id))}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:s,onChange:R,placeholder:"Search by product name or code...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:T?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):k.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[a.jsx(L1,{className:"text-4xl mb-4"}),a.jsx("p",{className:"font-medium",children:"No products found"}),a.jsx("p",{className:"text-sm mt-1",children:s?"Try adjusting your search":"Add your first product to get started"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Code"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"MRP"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Expiry"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:k.map(z=>a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-mono text-gray-600",children:z.code||"-"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:z.name}),z.category&&a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:z.category})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`text-sm font-medium ${Oe(z)?"text-red-600":"text-gray-900"}`,children:[z.quantity," ",z.unit||"units"]}),Oe(z)&&a.jsx(vL,{className:"text-red-500 text-xs"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900",children:Ae(z.sellingPrice||z.mrp)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`text-sm ${Fe(z)?"text-yellow-600 font-medium":"text-gray-600"}`,children:de(z.expiryDate)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("button",{onClick:()=>J(z),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 transition",children:[a.jsx(Ur,{className:"text-xs"}),"Stock"]}),a.jsxs("button",{onClick:()=>re(z),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-gray-50 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-100 transition",children:[a.jsx(L1,{className:"text-xs"}),"Batches"]}),a.jsx("button",{onClick:()=>G(z),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",children:a.jsx(im,{})}),a.jsx("button",{onClick:()=>K(z),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition",children:a.jsx(Vu,{})})]})})]},z.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Showing"," ",a.jsx("span",{className:"font-medium",children:(o-1)*x+1})," ","to"," ",a.jsx("span",{className:"font-medium",children:Math.min(o*x,I)})," ","of ",a.jsx("span",{className:"font-medium",children:I})," products"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>l(z=>Math.max(1,z-1)),disabled:o===1,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition",children:a.jsx(Ca,{className:"text-gray-600"})}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",o," of ",O]}),a.jsx("button",{onClick:()=>l(z=>Math.min(O,z+1)),disabled:o===O,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition",children:a.jsx(Oa,{className:"text-gray-600"})})]})]})]})})]}),a.jsx(ft,{isOpen:c,onClose:()=>{u(!1),b()},title:"Add New Product",size:"lg",children:a.jsxs("form",{onSubmit:v(W),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Product Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{...y("name",{required:"Product name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter product name"}),w.name&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU / Code"}),a.jsx("input",{...y("sku"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter SKU or product code"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Generic Name"}),a.jsx("input",{...y("genericName"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter generic name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{...y("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select category"}),a.jsx("option",{value:"Tablets",children:"Tablets"}),a.jsx("option",{value:"Capsules",children:"Capsules"}),a.jsx("option",{value:"Syrups",children:"Syrups"}),a.jsx("option",{value:"Injections",children:"Injections"}),a.jsx("option",{value:"Drops",children:"Drops"}),a.jsx("option",{value:"Ointments",children:"Ointments"}),a.jsx("option",{value:"Supplies",children:"Supplies"}),a.jsx("option",{value:"Equipment",children:"Equipment"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),a.jsxs("select",{...y("unit"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"units",children:"Units"}),a.jsx("option",{value:"strips",children:"Strips"}),a.jsx("option",{value:"bottles",children:"Bottles"}),a.jsx("option",{value:"boxes",children:"Boxes"}),a.jsx("option",{value:"packs",children:"Packs"}),a.jsx("option",{value:"ml",children:"ML"}),a.jsx("option",{value:"gm",children:"GM"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["MRP () ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",step:"0.01",...y("price",{required:"MRP is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}),w.price&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.price.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Price ()"}),a.jsx("input",{type:"number",step:"0.01",...y("costPrice"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Initial Stock"}),a.jsx("input",{type:"number",...y("stock"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",defaultValue:0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Stock Level"}),a.jsx("input",{type:"number",...y("minStock"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manufacturer"}),a.jsx("input",{...y("manufacturer"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter manufacturer name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),a.jsx("input",{type:"date",...y("expiryDate"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",...y("requiresPrescription"),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Requires Prescription"})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[a.jsx("button",{type:"button",onClick:()=>{u(!1),b()},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:M.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:M.isPending?"Adding...":"Add Product"})]})]})}),a.jsx(ft,{isOpen:h,onClose:()=>{p(!1),g(null),A()},title:"Update Stock",size:"md",children:m&&a.jsxs("form",{onSubmit:P(H),className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("p",{className:"font-medium text-gray-900",children:m.name}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Current Stock:"," ",a.jsxs("span",{className:"font-medium",children:[m.quantity," ",m.unit||"units"]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Transaction Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{...S("type",{required:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"addition",children:"Add Stock"}),a.jsx("option",{value:"subtraction",children:"Remove Stock"}),a.jsx("option",{value:"adjustment",children:"Adjustment"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",...S("quantity",{required:!0,min:1}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter quantity"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch Number"}),a.jsx("input",{...S("batchNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional batch number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),a.jsx("input",{type:"date",...S("expiryDate"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{...S("notes"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Optional notes for this transaction"})]}),a.jsxs("div",{className:"flex justify-between items-center gap-3 pt-4 border-t border-gray-100",children:[a.jsx("div",{children:a.jsx("button",{type:"button",onClick:()=>{const z=(document.querySelector('input[name="quantity"]')||{}).value||"",xe=(document.querySelector('input[name="batchNumber"]')||{}).value||"",ye=(document.querySelector('input[name="expiryDate"]')||{}).value||"",te={addition:"PURCHASE",subtraction:"RETURN",adjustment:"JOURNAL"},Me=document.querySelector('select[name="type"]'),Re=Me&&te[Me.value]||"JOURNAL",ct=[{productId:m.id,name:m.name,quantity:Number(z)||0,unitPrice:m.purchasePrice||m.mrp||0,gstPercent:m.gstPercent||0,batchNumber:xe||void 0,expiryDate:ye||void 0}];localStorage.setItem("manualPrefill",JSON.stringify({mode:Re,items:ct})),t("/ledger/manual")},className:"px-3 py-2 text-sm border rounded text-gray-700 bg-yellow-50 hover:bg-yellow-100",children:"Create Manual Entry"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{p(!1),g(null),A()},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:_.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:_.isPending?"Updating...":"Update Stock"})]})]})]})}),a.jsx(ft,{isOpen:ce,onClose:()=>{fe(!1),g(null),he([])},title:`Batches  ${(m==null?void 0:m.name)||""}`,size:"md",children:$?a.jsx("div",{className:"py-6 text-center text-gray-500",children:"Loading batches"}):Z.length===0?a.jsx("div",{className:"py-6 text-center text-gray-500",children:"No batches found for this product."}):a.jsx("div",{className:"overflow-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-xs text-gray-500 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-2",children:"Batch"}),a.jsx("th",{className:"text-left p-2",children:"Expiry"}),a.jsx("th",{className:"text-right p-2",children:"Qty"}),a.jsx("th",{className:"text-right p-2",children:"Cost"})]})}),a.jsx("tbody",{children:Z.map(z=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-2",children:z.batchNumber||"-"}),a.jsx("td",{className:"p-2",children:z.expiryDate?new Date(z.expiryDate).toLocaleDateString():"-"}),a.jsx("td",{className:"p-2 text-right",children:z.quantity}),a.jsx("td",{className:"p-2 text-right",children:Ae(z.costPrice)})]},z.id))})]})})}),a.jsx(ft,{isOpen:D,onClose:()=>{Y(!1),ze(null),X([])},title:"Import Opening Stock",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Upload the CSV or XLSX template to bulk add existing stock at clinic onboarding. This creates one consolidated ledger entry: Debit ",a.jsx("strong",{children:"Inventory"}),", Credit ",a.jsx("strong",{children:ne||"Opening Stock Adjustment"}),"."]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opening Date"}),a.jsx("input",{type:"date",value:be,onChange:z=>_e(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credit Account"}),a.jsx("input",{value:ne,onChange:z=>Ne(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Opening Stock Adjustment"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CSV or XLSX File"}),a.jsx("input",{type:"file",accept:".csv,text/csv,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:z=>{var xe;return je(((xe=z.target.files)==null?void 0:xe[0])||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),Ce&&a.jsxs("div",{className:"p-3 rounded border bg-gray-50 text-sm",children:[a.jsxs("div",{children:["Rows: ",a.jsx("strong",{children:Ce.rows||0})]}),a.jsxs("div",{children:["Total Stock Value: ",a.jsx("strong",{children:Ae(Ce.totalStockValue||0)})]}),Ce.ledgerPreview&&a.jsxs("div",{className:"text-gray-600 mt-1",children:["Ledger Preview: Dr ",Ce.ledgerPreview.debitAccount," / Cr ",Ce.ledgerPreview.creditAccount]}),Ce.ledgerPosted&&a.jsxs("div",{className:"text-gray-600 mt-1",children:["Ledger Posted: Dr ",Ce.ledgerPosted.debitAccount," / Cr ",Ce.ledgerPosted.creditAccount]})]}),U.length>0&&a.jsx("div",{className:"p-3 rounded border border-red-200 bg-red-50 text-sm text-red-700 max-h-40 overflow-auto",children:U.map((z,xe)=>a.jsxs("div",{children:[z.sheet?`Sheet ${z.sheet}, `:"","Line ",z.line,": ",z.field," - ",z.message]},`${z.line}-${z.field}-${xe}`))}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-t border-gray-100",children:[a.jsx("button",{type:"button",onClick:()=>Y(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"button",disabled:V.isPending||!se,onClick:()=>V.mutate({dryRun:!0}),className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition disabled:opacity-50",children:V.isPending?"Validating...":"Validate File"}),a.jsx("button",{type:"button",disabled:V.isPending||!se,onClick:()=>V.mutate({dryRun:!1}),className:"px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition disabled:opacity-50",children:V.isPending?"Importing...":"Import Stock"})]})]})}),a.jsx(ft,{isOpen:d,onClose:()=>{f(!1),g(null),b()},title:"Edit Product",size:"lg",children:a.jsxs("form",{onSubmit:v(q),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Product Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{...y("name",{required:"Product name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter product name"}),w.name&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU / Code"}),a.jsx("input",{...y("sku"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100",placeholder:"SKU",disabled:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Generic Name"}),a.jsx("input",{...y("genericName"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter generic name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{...y("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select category"}),a.jsx("option",{value:"Tablets",children:"Tablets"}),a.jsx("option",{value:"Capsules",children:"Capsules"}),a.jsx("option",{value:"Syrups",children:"Syrups"}),a.jsx("option",{value:"Injections",children:"Injections"}),a.jsx("option",{value:"Drops",children:"Drops"}),a.jsx("option",{value:"Ointments",children:"Ointments"}),a.jsx("option",{value:"Supplies",children:"Supplies"}),a.jsx("option",{value:"Equipment",children:"Equipment"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),a.jsxs("select",{...y("unit"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"units",children:"Units"}),a.jsx("option",{value:"strips",children:"Strips"}),a.jsx("option",{value:"bottles",children:"Bottles"}),a.jsx("option",{value:"boxes",children:"Boxes"}),a.jsx("option",{value:"packs",children:"Packs"}),a.jsx("option",{value:"ml",children:"ML"}),a.jsx("option",{value:"gm",children:"GM"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["MRP () ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",step:"0.01",...y("price",{required:"MRP is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}),w.price&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.price.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Price ()"}),a.jsx("input",{type:"number",step:"0.01",...y("costPrice"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Stock Level"}),a.jsx("input",{type:"number",...y("minStock"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),a.jsx("input",{type:"date",...y("expiryDate"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[a.jsx("button",{type:"button",onClick:()=>{f(!1),g(null),b()},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:E.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:E.isPending?"Saving...":"Save Changes"})]})]})})]})}const an={uploadInvoice:(e,t={})=>ee.post("/purchases/upload",e,{headers:{"Content-Type":"multipart/form-data"},...t}),getUpload:e=>ee.get(`/purchases/upload/${e}`),cancelUpload:e=>ee.post(`/purchases/upload/${e}/cancel`),createFromUpload:(e,t)=>ee.post(`/purchases/from-upload/${e}`,t),receivePurchase:e=>ee.post(`/purchases/${e}/receive`),returnPurchase:(e,t)=>ee.post(`/purchases/${e}/return`,t),getSuppliers:e=>ee.get(`/purchases/suppliers?q=${encodeURIComponent(e||"")}`).then(t=>{var n;return((n=t==null?void 0:t.data)==null?void 0:n.data)||(t==null?void 0:t.data)||t}),createSupplier:e=>ee.post("/purchases/suppliers",e).then(t=>{var n;return((n=t==null?void 0:t.data)==null?void 0:n.data)||(t==null?void 0:t.data)||t}),getSupplier:e=>ee.get(`/purchases/suppliers/${e}`).then(t=>{var n;return((n=t==null?void 0:t.data)==null?void 0:n.data)||(t==null?void 0:t.data)||t}),updateSupplier:(e,t)=>ee.put(`/purchases/suppliers/${e}`,t).then(n=>{var r;return((r=n==null?void 0:n.data)==null?void 0:r.data)||(n==null?void 0:n.data)||n}),deleteSupplier:e=>ee.delete(`/purchases/suppliers/${e}`).then(t=>(t==null?void 0:t.data)||t),createManualPurchase:e=>ee.post("/ledger/manual-purchase",e),getPurchases:(e={})=>ee.get("/purchases",{params:e}),getPurchase:e=>ee.get(`/purchases/${e}`),updatePurchase:(e,t)=>ee.patch(`/purchases/${e}`,t),deletePurchase:e=>ee.delete(`/purchases/${e}`).then(t=>(t==null?void 0:t.data)||t),getSupplier:e=>ee.get(`/purchases/suppliers/${e}`)};function Tde(){const[e,t]=N.useState(null),[n,r]=N.useState(null),[s,i]=N.useState(null),[o,l]=N.useState(""),[c,u]=N.useState(!0),[d,f]=N.useState(null),[h,p]=N.useState(""),[m,g]=N.useState([]),[x,y]=N.useState(!1),[v,b]=N.useState({}),[j,w]=N.useState(!1),[S,P]=N.useState(!1),[A,C]=N.useState({name:"",code:"",category:"",mrp:0,purchasePrice:0,sellingPrice:0,gstPercent:12,quantity:0,unit:"pcs",expiryDate:"",manufacturer:""}),[T,k]=N.useState(null),[O,I]=N.useState(!1),[M,E]=N.useState({name:"",phone:"",email:"",address:"",gstNumber:"",notes:""}),[_,L]=N.useState({}),[R,F]=N.useState({}),W=N.useRef({}),[q,G]=N.useState([]),[H,J]=N.useState(""),[ce,fe]=N.useState(""),[Z,he]=N.useState(0),[$,oe]=N.useState(0),[D,Y]=N.useState(0),[se,je]=N.useState(!1),[be,_e]=N.useState(!1),ne=N.useRef(null),Ne=N.useRef({intervalId:null,timeoutId:null}),Ce=N.useRef(new Set),ze=Ge({mutationFn:({form:K,signal:de})=>an.uploadInvoice(K,{signal:de,timeout:3e5}),onSuccess:K=>{const de=(K==null?void 0:K.data)||K||{},Ae=(de==null?void 0:de.data)||{},Oe=de.id||Ae.id||de.uploadId||Ae.uploadId||null;r(Oe);const Fe=de.parsedJson||Ae.parsedJson||de.parsed||Ae.parsed||null;let et=null;try{Fe&&(typeof Fe=="string"?et=JSON.parse(Fe):et=Fe)}catch{try{et=JSON.parse(JSON.stringify(Fe))}catch{et=null}}i(et),et?_e(!1):(ae.success("File uploaded. Parsing in background  waiting for results..."),Oe&&U(Oe))},onError:K=>{const de=K==null?void 0:K.response;if(de&&de.data){const Ae=de.data.message||de.data.error||"Upload failed",Oe=de.data.data||de.data.record||null;let Fe=null;try{if(Oe&&Oe.parsedJson){const et=Oe.parsedJson;Fe=typeof et=="string"?JSON.parse(et):et,r(Oe.id||n),i(Fe),ae.error(`${Ae}  parsed preview available for review`);return}}catch{}ae.error(Ae)}else ae.error("Upload failed")}}),U=K=>{X(),_e(!0);const de=Date.now(),Ae=setInterval(async()=>{try{const Fe=await an.getUpload(K),et=(Fe==null?void 0:Fe.data)||Fe,ie=(et==null?void 0:et.data)||et;if(!ie)return;const z=ie.status;if(z==="PARSED"&&ie.parsedJson){let xe=null;try{xe=typeof ie.parsedJson=="string"?JSON.parse(ie.parsedJson):ie.parsedJson}catch{xe=null}i(xe),r(K),X(),_e(!1);return}if(z==="FAILED"){ae.error("Parsing failed on server"),X(),_e(!1);return}if(z==="CANCELLED"){ae("Upload cancelled"),X(),_e(!1);return}if(Date.now()-de>3e5){ae.error("Parsing timed out after 5 minutes"),X(),_e(!1);return}}catch(Fe){console.error("Polling error",Fe)}},3e3),Oe=setTimeout(()=>{X(),_e(!1)},305e3);Ne.current={intervalId:Ae,timeoutId:Oe}},X=()=>{try{Ne.current.intervalId&&clearInterval(Ne.current.intervalId),Ne.current.timeoutId&&clearTimeout(Ne.current.timeoutId)}catch{}Ne.current={intervalId:null,timeoutId:null}};Ge({mutationFn:({id:K,body:de})=>an.createFromUpload(K,de),onSuccess:async(K,de)=>{var Fe,et;const Ae=(K==null?void 0:K.data)||K||{},Oe=Ae||(Ae==null?void 0:Ae.data);ae.success("Purchase created from upload");try{if((Fe=de==null?void 0:de.body)!=null&&Fe.createAndReceive){const ie=Oe.id||((et=Oe==null?void 0:Oe.data)==null?void 0:et.id)||(Ae==null?void 0:Ae.id);ie&&(await an.receivePurchase(ie),ae.success("Purchase published and stock updated"))}}catch{ae.error("Created purchase but failed to publish/receive")}window.location.href="/pharmacy/purchases"},onError:()=>ae.error("Failed to create purchase")});const V=async()=>{if(!e)return ae.error("Select a file");const K=new FormData;if(K.append("file",e),ne.current)try{ne.current.abort()}catch{}const de=new AbortController;ne.current=de,_e(!0),ze.mutate({form:K,signal:de.signal},{onSettled:()=>{_e(!1),ne.current=null}})},le=async()=>{try{ne.current&&ne.current.abort()}catch{}if(_e(!1),n)try{await an.cancelUpload(n),ae.success("Upload cancelled")}catch{ae.error("Failed to cancel upload on server")}else ae("Upload request aborted")};N.useEffect(()=>{var K,de,Ae,Oe,Fe,et,ie;if(s){G(s.items&&Array.isArray(s.items)?s.items.map(ye=>({name:ye.name||ye.description||"Item",productId:ye.productId||null,quantity:Number(ye.quantity||1),unitPrice:Number(ye.unitPrice||0),taxAmount:Number(ye.taxAmount||0),amount:Number(ye.amount||(ye.quantity||1)*(ye.unitPrice||0)),batchNumber:ye.batchNumber||"",expiryDate:ye.expiryDate?ye.expiryDate.split?ye.expiryDate.split("T")[0]:ye.expiryDate:""})):[]),J(s.invoiceNo||""),fe(s.invoiceDate?s.invoiceDate.split("T")[0]:""),he(s.subtotal||((K=s.totals)==null?void 0:K.sub_total)||0);let z=s.taxAmount;if(!z&&Array.isArray(s.tax_summary)&&s.tax_summary.length){const ye=s.tax_summary[0];z=Number(ye.tax_amount||Number(ye.sgst_amount||0)+Number(ye.cgst_amount||0)||0)}oe(z||0),Y(s.totalAmount||((de=s.totals)==null?void 0:de.net_amount)||+(Number(s.subtotal||0)+Number(z||0)).toFixed(2));const xe=((Ae=s.pharmacy_details)==null?void 0:Ae.name)||null;xe&&(f({name:xe,phone:((Oe=s.pharmacy_details)==null?void 0:Oe.phone)||"",email:((Fe=s.pharmacy_details)==null?void 0:Fe.email)||"",address:((et=s.pharmacy_details)==null?void 0:et.address)||"",gstNumber:((ie=s.pharmacy_details)==null?void 0:ie.gstin)||""}),(async()=>{try{const ye=await an.getSuppliers(xe),te=(ye==null?void 0:ye.data)||ye;Array.isArray(te)&&te.length?u(!0):u(!1)}catch{u(!1)}})())}else G([]),J(""),fe(""),he(0),oe(0),Y(0)},[s]),N.useEffect(()=>{if(!s)return;const K=n?`draft-purchase-ready-${n}`:`draft-purchase-ready-${Date.now()}`;Ce.current.has(K)||(Ce.current.add(K),Af.add({id:K,title:"Draft Purchase Ready",message:s!=null&&s.invoiceNo?`Invoice ${s.invoiceNo} is ready for review.`:"A draft purchase is ready for review.",path:"/pharmacy/purchases",type:"purchase",unread:!0}))},[s,n]),N.useEffect(()=>{s&&ae.success(K=>a.jsx("div",{className:"cursor-pointer",onClick:()=>{window.location.href="/pharmacy/purchases",ae.dismiss(K.id)},children:"Draft purchase ready for invoice  check the draft purchase list"}),{duration:8e3})},[s]),N.useEffect(()=>{if(!h||h.length<2){g([]);return}y(!0);const K=setTimeout(()=>{an.getSuppliers(h).then(de=>{const Ae=de.data||de;g(Array.isArray(Ae)?Ae:[])}).catch(()=>g([])).finally(()=>y(!1))},350);return()=>clearTimeout(K)},[h]),N.useEffect(()=>()=>{X();try{ne.current&&ne.current.abort()}catch{}},[]);const re=(K,de,Ae)=>{G(Oe=>{const Fe=[...Oe];Fe[K]={...Fe[K],[de]:Ae};const et=Number(Fe[K].quantity||0),ie=Number(Fe[K].unitPrice||0);Fe[K].amount=+(et*ie).toFixed(2);const z=Fe.reduce((xe,ye)=>xe+(Number(ye.amount)||0),0);if(he(z),Y(+(z+Number($||0)).toFixed(2)),de==="name"){const xe=(Ae||"").toString();W.current[K]&&clearTimeout(W.current[K]),xe.length>=2?(F(ye=>({...ye,[K]:!0})),W.current[K]=setTimeout(async()=>{try{const ye=await qn.getProducts({search:xe,limit:10}),te=ye.data||ye;L(Me=>({...Me,[K]:Array.isArray(te)?te:[]}))}catch{L(te=>({...te,[K]:[]}))}finally{F(ye=>({...ye,[K]:!1}))}},300)):(L(ye=>({...ye,[K]:[]})),F(ye=>({...ye,[K]:!1})),W.current[K]&&(clearTimeout(W.current[K]),delete W.current[K]))}return Fe})};return a.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Upload Purchase Invoice"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("input",{type:"file",onChange:K=>t(K.target.files[0])}),a.jsx("div",{className:"text-xs text-gray-600 mt-2",children:"Note: Invoice scanning can take a few minutes. Please wait until parsing completes."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Je,{onClick:V,loading:ze.isLoading||be,children:"Upload & Parse"}),(ze.isLoading||be)&&a.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded text-sm",onClick:le,children:"Cancel Upload"})]}),a.jsx(Je,{variant:"secondary",onClick:()=>t(null),children:"Reset"})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-96",children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Create Product"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Name",value:A.name,onChange:K=>C(de=>({...de,name:K.target.value}))}),a.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Code / SKU",value:A.code,onChange:K=>C(de=>({...de,code:K.target.value}))}),a.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Category",value:A.category,onChange:K=>C(de=>({...de,category:K.target.value}))}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx("input",{type:"number",min:"0",step:"0.01",className:"p-2 border rounded",placeholder:"MRP",value:A.mrp,onChange:K=>C(de=>({...de,mrp:Number(K.target.value)}))}),a.jsx("input",{type:"number",min:"0",step:"0.01",className:"p-2 border rounded",placeholder:"Purchase Price",value:A.purchasePrice,onChange:K=>C(de=>({...de,purchasePrice:Number(K.target.value)}))}),a.jsx("input",{type:"number",min:"0",step:"0.01",className:"p-2 border rounded",placeholder:"Selling Price",value:A.sellingPrice,onChange:K=>C(de=>({...de,sellingPrice:Number(K.target.value)}))})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx("input",{type:"number",min:"0",className:"p-2 border rounded",placeholder:"GST %",value:A.gstPercent,onChange:K=>C(de=>({...de,gstPercent:Number(K.target.value)}))}),a.jsx("input",{type:"number",min:"0",className:"p-2 border rounded",placeholder:"Quantity",value:A.quantity,onChange:K=>C(de=>({...de,quantity:Number(K.target.value)}))}),a.jsx("input",{className:"p-2 border rounded",placeholder:"Unit",value:A.unit,onChange:K=>C(de=>({...de,unit:K.target.value}))})]}),a.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Manufacturer",value:A.manufacturer,onChange:K=>C(de=>({...de,manufacturer:K.target.value}))}),a.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Expiry Date",type:"date",value:A.expiryDate,onChange:K=>C(de=>({...de,expiryDate:K.target.value}))})]}),a.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[a.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>{P(!1),k(null)},children:"Cancel"}),a.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",disabled:j,onClick:async()=>{try{w(!0);const K={code:A.code,name:A.name,genericName:"",manufacturer:A.manufacturer,category:A.category,mrp:A.mrp,purchasePrice:A.purchasePrice,sellingPrice:A.sellingPrice,gstPercent:A.gstPercent,quantity:A.quantity,unit:A.unit,batchNumber:null,expiryDate:A.expiryDate||null},de=await qn.createProduct(K),Ae=de.data||de,Oe=Ae||(Ae==null?void 0:Ae.data);T!==null&&(re(T,"productId",Oe.id||(Oe==null?void 0:Oe.id)),re(T,"name",Oe.name||A.name),re(T,"unitPrice",Oe.purchasePrice||Oe.sellingPrice||0)),ae.success("Product created"),P(!1),k(null)}catch{ae.error("Failed to create product")}finally{w(!1)}},children:"Create Product"})]})]})})]})}const Gr={getEntries:(e={})=>ee.get("/ledger",{params:e}),getSummary:(e={})=>ee.get("/ledger/summary",{params:e}),getAccounts:e=>ee.get("/accounts",{params:{q:e}}),createAccount:e=>ee.post("/accounts",e),getDetail:e=>ee.get(`/ledger/${e}`),exportEntries:(e={})=>ee.get("/ledger/export",{params:e,responseType:"blob"}),createManualEntry:e=>ee.post("/ledger/manual",e),createManualPurchase:e=>ee.post("/ledger/manual/purchase",e)};function Ede(){var a6,o6,l6,c6;const[e,t]=N.useState(1),[n]=N.useState(20),[r,s]=N.useState({account:"",type:"",refType:"",from:"",to:""}),[i,o]=N.useState(!1),[l,c]=N.useState(""),[u,d]=N.useState(!1),[f,h]=N.useState(""),p=tt("ledger:create",["ADMIN","SUPER_ADMIN"]),m=tt("ledger:create"),g=Qn(),[x,y]=N.useState(!1),[v,b]=N.useState(""),[j,w]=N.useState(""),[S,P]=N.useState(""),[A,C]=N.useState(""),[T,k]=N.useState(""),[O,I]=N.useState("JOURNAL"),[M,E]=N.useState(""),[_,L]=N.useState(""),[R,F]=N.useState([]),[W,q]=N.useState(null),[G,H]=N.useState(!1),[J,ce]=N.useState(""),[fe,Z]=N.useState(""),[he,$]=N.useState([]),[oe,D]=N.useState(""),[Y,se]=N.useState([]),[je,be]=N.useState(!1),[_e,ne]=N.useState({name:"",mrp:"",purchasePrice:"",sellingPrice:"",gstPercent:""}),[Ne,Ce]=N.useState(""),[ze,U]=N.useState(""),[X,V]=N.useState([]),[le,re]=N.useState(null),[K,de]=N.useState(""),[Ae,Oe]=N.useState([]),[Fe,et]=N.useState(null);N.useEffect(()=>{if(!ze){V([]);return}const ve=setTimeout(async()=>{var ot;try{const Gt=((ot=(await Gr.getAccounts(ze)).data)==null?void 0:ot.data)||[];V(Gt)}catch{V([])}},250);return()=>clearTimeout(ve)},[ze]),N.useEffect(()=>{if(!K){Oe([]);return}const ve=setTimeout(async()=>{var ot;try{const Gt=((ot=(await Gr.getAccounts(K)).data)==null?void 0:ot.data)||[];Oe(Gt)}catch{Oe([])}},250);return()=>clearTimeout(ve)},[K]),N.useEffect(()=>{if(!oe)return se([]);const ve=setTimeout(async()=>{var ot;try{const Ye=await qn.getProducts({search:oe,limit:10}),Gt=((ot=Ye==null?void 0:Ye.data)==null?void 0:ot.data)||(Ye==null?void 0:Ye.data)||[];se(Gt)}catch{se([])}},250);return()=>clearTimeout(ve)},[oe]),N.useEffect(()=>{if(!_)return F([]);const ve=setTimeout(async()=>{var ot;try{const Ye=await an.getSuppliers(_),Gt=((ot=Ye==null?void 0:Ye.data)==null?void 0:ot.data)||(Ye==null?void 0:Ye.data)||[];F(Gt)}catch{F([])}},250);return()=>clearTimeout(ve)},[_]);const{data:ie,isLoading:z,refetch:xe}=De({queryKey:["ledger",e,n,r],queryFn:()=>Gr.getEntries({page:e,limit:n,...r}),keepPreviousData:!0}),{data:ye,isLoading:te,refetch:Me}=De({queryKey:["ledgerSummary",r],queryFn:()=>Gr.getSummary(r)}),Re=ie==null?void 0:ie.data,ct=(Re==null?void 0:Re.data)||[],Wt=(Re==null?void 0:Re.pagination)||{page:1,total:0,totalPages:0},yt=(ve,ot)=>s(Ye=>({...Ye,[ve]:ot})),Vn=()=>{t(1),xe(),Me()},me=async()=>{var ve,ot;if(!r.from||!r.to){ae.error("Select both From and To dates for export");return}if(new Date(r.from)>new Date(r.to)){ae.error("From date cannot be after To date");return}try{o(!0);const Ye=await Gr.exportEntries({from:r.from,to:r.to,account:r.account||void 0,type:r.type||void 0}),Gt=new Blob([Ye.data],{type:"text/csv;charset=utf-8"}),Uo=window.URL.createObjectURL(Gt),Da=document.createElement("a");Da.href=Uo,Da.download=`ledger-${r.from}-to-${r.to}.csv`,document.body.appendChild(Da),Da.click(),Da.remove(),window.URL.revokeObjectURL(Uo),ae.success("Ledger export downloaded")}catch(Ye){console.error("Ledger export failed",Ye),ae.error(((ot=(ve=Ye==null?void 0:Ye.response)==null?void 0:ve.data)==null?void 0:ot.message)||"Failed to export ledger")}finally{o(!1)}},[$t,pn]=N.useState(!1),[Di,xm]=N.useState(!1),[it,zd]=N.useState(null),ym=tt("purchases:update",["PHARMACIST","ADMIN","SUPER_ADMIN"]),[Fs,gc]=N.useState(!1),[Ud,Nb]=N.useState({}),uz=async ve=>{var ot;pn(!0),xm(!0);try{const Gt=((ot=(await Gr.getDetail(ve)).data)==null?void 0:ot.data)||null;zd(Gt),gc(!1),Nb({})}catch(Ye){console.error("Failed to load detail",Ye),zd(null)}finally{xm(!1)}},dz=()=>{if(!(it!=null&&it.purchase))return;const ve={};it.purchase.items.forEach(ot=>{ve[ot.id]={qty:""}}),Nb(ve),gc(!0)},s6=(ve,ot)=>{Nb(Ye=>({...Ye,[ve]:{...Ye[ve]||{},qty:ot}}))},fz=async()=>{var ot,Ye;if(!(it!=null&&it.purchase))return;const ve=Object.entries(Ud).map(([Gt,Uo])=>({purchaseItemId:Gt,quantity:Number(Uo.qty||0)})).filter(Gt=>Gt.quantity>0);if(ve.length===0)return ae.error("Select at least one item with quantity > 0");try{await an.returnPurchase(it.purchase.id,{items:ve,note:"Return created from ledger UI"}),gc(!1),pn(!1),t(1),await xe(),await Me(),ae.success("Return processed")}catch(Gt){console.error(Gt),ae.error(((Ye=(ot=Gt.response)==null?void 0:ot.data)==null?void 0:Ye.message)||"Failed to process return")}},Sb=B.useMemo(()=>{var Gt,Uo,Da;if(!(it!=null&&it.purchase))return{items:0,tax:0,total:0};let ve=0;const ot=Number(((Gt=it==null?void 0:it.purchase)==null?void 0:Gt.subtotal)||0)>0?Number(((Uo=it==null?void 0:it.purchase)==null?void 0:Uo.taxAmount)||0)/Number(((Da=it==null?void 0:it.purchase)==null?void 0:Da.subtotal)||1)*100:0;it.purchase.items.forEach(u6=>{const Cb=Ud[u6.id],d6=Number((Cb==null?void 0:Cb.qty)||0);if(d6<=0)return;const pz=Number(u6.unitPrice||0)*d6;ve+=pz});const Ye=Number((ve*(ot/100)).toFixed(2));return{items:ve,tax:Ye,total:ve+Ye}},[it,Ud]),{data:Pb,refetch:Ab}=De({queryKey:["accounts",l],queryFn:()=>Gr.getAccounts(l),enabled:!!l,keepPreviousData:!0}),i6=((a6=Pb==null?void 0:Pb.data)==null?void 0:a6.data)||[];N.useEffect(()=>{if(!l)return;const ve=setTimeout(()=>Ab(),300);return()=>clearTimeout(ve)},[l,Ab]);const hz=async()=>{var ve,ot;if(!(!f||!f.trim()))try{await Gr.createAccount({name:f.trim()}),d(!1),h(""),c(""),Ab(),s(Ye=>({...Ye,account:f.trim()})),xe(),Me(),ae.success("Account created")}catch(Ye){console.error("Create account failed",Ye),ae.error(((ot=(ve=Ye.response)==null?void 0:ve.data)==null?void 0:ot.message)||"Failed to create account")}};return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ledger"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Account ledger entries"})]}),a.jsx("div",{children:m&&a.jsx("button",{onClick:()=>g("/ledger/manual"),className:"px-3 py-2 bg-green-600 text-white rounded",children:"Add Manual Entry"})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Search Ledger"}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Filter by account, type, reference, and date period."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[a.jsxs("div",{className:"relative md:col-span-4",children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Account"}),a.jsx("input",{type:"text",placeholder:"Search account name",value:r.account,onChange:ve=>{yt("account",ve.target.value),c(ve.target.value)},className:"h-10 px-3 border rounded-lg w-full"}),l&&a.jsx("div",{className:"absolute z-20 bg-white border rounded mt-1 w-full max-h-48 overflow-auto",children:i6.length===0?a.jsxs("div",{className:"p-2 text-sm text-gray-500",children:["No accounts. ",p&&a.jsx("button",{onClick:()=>d(!0),className:"text-blue-600 underline",children:"Create"})]}):i6.map(ve=>a.jsx("div",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>{s(ot=>({...ot,account:ve.name})),c("")},children:ve.name},ve.id))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Entry Type"}),a.jsxs("select",{value:r.type,onChange:ve=>yt("type",ve.target.value),className:"h-10 px-3 border rounded-lg w-full",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"DEBIT",children:"Debit"}),a.jsx("option",{value:"CREDIT",children:"Credit"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ref Type"}),a.jsxs("select",{value:r.refType,onChange:ve=>yt("refType",ve.target.value),className:"h-10 px-3 border rounded-lg w-full",children:[a.jsx("option",{value:"",children:"All Ref Types"}),a.jsx("option",{value:"BILL",children:"BILL"}),a.jsx("option",{value:"BILL_PAYMENT",children:"BILL_PAYMENT"}),a.jsx("option",{value:"PURCHASE",children:"PURCHASE"}),a.jsx("option",{value:"RETURN",children:"RETURN"}),a.jsx("option",{value:"PAYMENT",children:"PAYMENT"}),a.jsx("option",{value:"ADJUSTMENT",children:"ADJUSTMENT"}),a.jsx("option",{value:"MANUAL",children:"MANUAL"}),a.jsx("option",{value:"STOCK",children:"STOCK"}),a.jsx("option",{value:"OPENING_STOCK_IMPORT",children:"OPENING_STOCK_IMPORT"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From Date"}),a.jsx("input",{type:"date",value:r.from,onChange:ve=>yt("from",ve.target.value),className:"h-10 px-3 border rounded-lg w-full"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To Date"}),a.jsx("input",{type:"date",value:r.to,onChange:ve=>yt("to",ve.target.value),className:"h-10 px-3 border rounded-lg w-full"})]}),a.jsxs("div",{className:"md:col-span-12 flex flex-wrap gap-2 justify-start md:justify-end pt-1",children:[a.jsx("button",{onClick:Vn,className:"h-10 px-4 bg-blue-600 text-white rounded-lg text-sm font-medium",children:"Apply Filters"}),a.jsx("button",{onClick:me,disabled:i,className:"h-10 px-4 bg-emerald-600 text-white rounded-lg text-sm font-medium disabled:opacity-60",children:i?"Exporting...":"Export CSV"}),a.jsx("button",{onClick:()=>{s({account:"",type:"",refType:"",from:"",to:""}),t(1),xe()},className:"h-10 px-4 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:"Reset"})]})]})]}),$t&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl p-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Ledger Entry Detail"}),a.jsx("button",{onClick:()=>pn(!1),className:"text-gray-600",children:"Close"})]}),Di?a.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading"}):it?a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Account"}),a.jsx("div",{className:"font-medium",children:it.entry.account})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500",children:"Amount"}),a.jsx("div",{className:"font-medium",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(it.entry.amount)})]})]}),it.purchase&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"font-semibold",children:["Purchase: ",it.purchase.invoiceNo]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Supplier: ",((o6=it.purchase.supplier)==null?void 0:o6.name)||""]}),a.jsx("div",{className:"mt-2 overflow-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-xs text-gray-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left",children:"Item"}),a.jsx("th",{children:"Qty"}),a.jsx("th",{children:"Rate"}),a.jsx("th",{className:"text-right",children:"Amount"})]})}),a.jsx("tbody",{children:it.purchase.items.map(ve=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{children:ve.name}),a.jsx("td",{className:"text-center",children:ve.quantity}),a.jsx("td",{className:"text-right",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.unitPrice)}),a.jsx("td",{className:"text-right",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.amount)})]},ve.id))}),a.jsxs("tfoot",{children:[a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{colSpan:3,className:"text-right text-sm text-gray-600",children:"Subtotal"}),a.jsx("td",{className:"text-right font-medium",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(it.purchase.subtotal)})]}),ym&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:dz,className:"px-3 py-1 bg-yellow-500 text-white rounded",children:"Create Return"})}),Fs&&a.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded",children:[a.jsx("h5",{className:"font-semibold",children:"Return Items"}),a.jsxs("div",{className:"mt-2 max-h-64 overflow-y-auto pr-1",children:[a.jsxs("div",{className:"hidden md:flex items-center gap-3 text-xs text-gray-500 mb-2 px-2",children:[a.jsx("div",{className:"flex-1",children:"Item"}),a.jsx("div",{className:"w-24 text-right",children:"Qty"}),a.jsx("div",{className:"w-28"})]}),it.purchase.items.map(ve=>{var ot,Ye;return a.jsxs("div",{className:"flex items-center gap-3 py-2 border-b",children:[a.jsxs("div",{className:"flex-1",children:[ve.name," ",a.jsxs("span",{className:"text-xs text-gray-500",children:["(available ",ve.quantity,")"]})]}),a.jsx("div",{className:"w-24",children:a.jsx("input",{"aria-label":`return-qty-${ve.id}`,placeholder:"Qty",type:"number",min:0,max:ve.quantity,value:((ot=Ud[ve.id])==null?void 0:ot.qty)??"",onChange:Gt=>s6(ve.id,Gt.target.value),className:"p-1 border rounded w-full text-right"})}),a.jsx("div",{className:"w-28 text-right text-sm text-gray-700",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Number(ve.unitPrice||0)*Number(((Ye=Ud[ve.id])==null?void 0:Ye.qty)||0))}),a.jsx("div",{className:"w-8",children:a.jsx("button",{className:"px-2 py-1 text-sm bg-red-100 rounded",onClick:()=>s6(ve.id,0),children:"Clear"})})]},ve.id)})]}),a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"text-right text-sm text-gray-700",children:["Items: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Sb.items),"  GST: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Sb.tax),"  Total: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Sb.total)]}),a.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>gc(!1),className:"px-3 py-1 border rounded",children:"Cancel"}),a.jsx("button",{onClick:fz,className:"px-3 py-1 bg-red-600 text-white rounded",children:"Submit Return"})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:3,className:"text-right text-sm text-gray-600",children:"Tax"}),a.jsx("td",{className:"text-right",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(it.purchase.taxAmount)})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:3,className:"text-right text-sm text-gray-600",children:"Total"}),a.jsx("td",{className:"text-right font-semibold",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(it.purchase.totalAmount)})]})]})]})})]}),it.relatedEntries&&it.relatedEntries.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:"Related Payments / Adjustments"}),a.jsx("div",{className:"mt-2 text-sm",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"text-xs text-gray-500",children:a.jsxs("tr",{children:[a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Account"}),a.jsx("th",{children:"Type"}),a.jsx("th",{className:"text-right",children:"Amount"}),a.jsx("th",{children:"Note"})]})}),a.jsx("tbody",{children:it.relatedEntries.map(ve=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"text-xs text-gray-600",children:new Date(ve.createdAt).toLocaleString()}),a.jsx("td",{children:ve.account}),a.jsx("td",{children:ve.type}),a.jsx("td",{className:"text-right",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.amount)}),a.jsx("td",{className:"text-sm text-gray-600",children:ve.note||"-"})]},ve.id))})]})})]})]}):a.jsx("div",{className:"py-8 text-center text-gray-500",children:"No details available"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4",children:[a.jsx("div",{className:"lg:col-span-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Account Balances"}),a.jsx("input",{className:"flex-1 p-2 border rounded",placeholder:"Search account",value:r.account,onChange:ve=>{yt("account",ve.target.value),c(ve.target.value)}}),a.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>{d(ve=>!ve),h("")},children:u?"Close":"New"}),te?a.jsx("div",{className:"mt-3 py-4 text-sm text-gray-500",children:"Loading balances"}):a.jsx("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3",children:(((c6=(l6=ye==null?void 0:ye.data)==null?void 0:l6.data)==null?void 0:c6.accounts)||[]).map(ve=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[a.jsx("div",{className:"text-xs text-gray-500",children:ve.account}),a.jsx("div",{className:"text-lg font-medium text-gray-900",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.balance)}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Debit: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.debit),"  Credit: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.credit)]})]},ve.account))})]})}),u&&a.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-40",children:a.jsxs("div",{className:"bg-white rounded p-4 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Create Account"}),a.jsx("input",{className:"mt-3 p-2 border w-full",value:f,onChange:ve=>h(ve.target.value),placeholder:"Account name"}),a.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[a.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>d(!1),children:"Cancel"}),a.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",onClick:hz,children:"Create"})]})]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:z?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):ct.length===0?a.jsx("div",{className:"p-8 text-gray-500",children:"No ledger entries found"}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600",children:"Account"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600",children:"Ref"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600",children:"Notes"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:ct.map(ve=>a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(ve.createdAt).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ve.account}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ve.type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.amount)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:[ve.refType," ",ve.refId||""]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ve.note||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:a.jsx("button",{onClick:()=>uz(ve.id),className:"px-2 py-1 text-sm bg-gray-100 rounded",children:"View"})})]},ve.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Showing page ",Wt.page," of ",Wt.totalPages,"  ",Wt.total," entries"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>t(ve=>Math.max(1,ve-1)),disabled:e===1,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Prev"}),a.jsx("button",{onClick:()=>t(ve=>Math.min(Wt.totalPages||1,ve+1)),disabled:e===(Wt.totalPages||1),className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]})]})]})})]})})}const mg=["PURCHASE","RETURN"],Mde=["PURCHASE","RETURN","PAYMENT"];function Dde(){const e=Qn(),t=ds(),n=tt("ledger:create"),[r,s]=N.useState("JOURNAL"),[i,o]=N.useState("CASH"),[l,c]=N.useState(""),[u,d]=N.useState(""),[f,h]=N.useState(""),[p,m]=N.useState(""),[g,x]=N.useState(""),[y,v]=N.useState(""),[b,j]=N.useState([]),[w,S]=N.useState(null),[P,A]=N.useState(""),[C,T]=N.useState([]),[k,O]=N.useState(null),[I,M]=N.useState(!0),[E,_]=N.useState(!0),[L,R]=N.useState(""),[F,W]=N.useState(""),[q,G]=N.useState([]),[H,J]=N.useState(null),[ce,fe]=N.useState(!1),[Z,he]=N.useState(""),[$,oe]=N.useState(""),[D,Y]=N.useState([]),[se,je]=N.useState(""),[be,_e]=N.useState([]),[ne,Ne]=N.useState(!1),[Ce,ze]=N.useState({name:"",mrp:"",purchasePrice:"",sellingPrice:"",gstPercent:"",sku:"",category:"",initialStock:""}),[U,X]=N.useState("");N.useEffect(()=>{if(!y)return j([]);const ie=setTimeout(async()=>{var z;try{const xe=await Gr.getAccounts(y);j(((z=xe.data)==null?void 0:z.data)||[])}catch{j([])}},250);return()=>clearTimeout(ie)},[y]),N.useEffect(()=>{if(!P)return T([]);const ie=setTimeout(async()=>{var z;try{const xe=await Gr.getAccounts(P);T(((z=xe.data)==null?void 0:z.data)||[])}catch{T([])}},250);return()=>clearTimeout(ie)},[P]),N.useEffect(()=>{if(!se)return _e([]);const ie=setTimeout(async()=>{var z;try{const xe=await qn.getProducts({search:se,limit:10});_e(((z=xe==null?void 0:xe.data)==null?void 0:z.data)||(xe==null?void 0:xe.data)||[])}catch{_e([])}},250);return()=>clearTimeout(ie)},[se]),N.useEffect(()=>{if(!F)return G([]);const ie=setTimeout(async()=>{var z;try{const xe=await an.getSuppliers(F);G(((z=xe==null?void 0:xe.data)==null?void 0:z.data)||(xe==null?void 0:xe.data)||[])}catch{G([])}},250);return()=>clearTimeout(ie)},[F]),N.useEffect(()=>{const ie=D.reduce((ye,te)=>ye+Number(te.unitPrice||0)*Number(te.quantity||0),0),z=D.reduce((ye,te)=>ye+Number(te.unitPrice||0)*Number(te.quantity||0)*(Number(te.gstPercent||0)/100),0),xe=ie+z;if(mg.includes(r)&&h(String(Number(xe.toFixed(2)))),r==="PURCHASE"){c("Inventory"),d(H!=null&&H.name?`Payable - ${H.name}`:"Accounts Payable"),M(!1),_(!1);return}if(r==="RETURN"){c(H!=null&&H.name?`Payable - ${H.name}`:"Accounts Payable"),d("Inventory"),M(!1),_(!1);return}if(r==="PAYMENT"){c(H!=null&&H.name?`Payable - ${H.name}`:"Accounts Payable"),d(i==="BANK"?"Bank":i==="UPI"?"UPI":"Cash"),M(!1),_(!1);return}if(r==="ADJUSTMENT"){l||c("Inventory"),u||d("Inventory Adjustment"),M(!0),_(!0);return}M(!0),_(!0)},[r,D,H,i,l,u]),N.useEffect(()=>{const ie=t==null?void 0:t.state;ie&&(ie.mode&&s(ie.mode),Array.isArray(ie.items)&&ie.items.length&&Y(ie.items.map(z=>({productId:z.productId,name:z.name,quantity:Number(z.quantity||1),unitPrice:Number(z.unitPrice||0),gstPercent:Number(z.gstPercent||0),batchNumber:z.batchNumber||"",expiryDate:z.expiryDate||""}))),ie.supplierName&&R(ie.supplierName))},[t]),N.useEffect(()=>{try{const ie=localStorage.getItem("manualPrefill");if(!ie)return;const z=JSON.parse(ie);z.mode&&s(z.mode),Array.isArray(z.items)&&z.items.length&&Y(z.items),z.supplierName&&R(z.supplierName),localStorage.removeItem("manualPrefill")}catch{}},[]);const V=async()=>{var z,xe,ye;const ie=Z==null?void 0:Z.trim();if(oe(""),!ie)return oe("Enter supplier name");try{const te=await an.createSupplier({name:ie}),Me=((z=te.data)==null?void 0:z.data)||te.data||te;J(Me),R(Me.name),he(""),fe(!1),ae.success("Supplier created")}catch(te){ae.error(((ye=(xe=te.response)==null?void 0:xe.data)==null?void 0:ye.message)||"Failed to create supplier")}},le=async()=>{var ie,z,xe;if(X(""),!Ce.name||!Ce.mrp){X("Provide product name and MRP");return}try{const ye={name:Ce.name,code:Ce.sku||void 0,category:Ce.category||"medicine",mrp:parseFloat(Ce.mrp),sellingPrice:Ce.sellingPrice?parseFloat(Ce.sellingPrice):parseFloat(Ce.mrp),purchasePrice:Ce.purchasePrice?parseFloat(Ce.purchasePrice):parseFloat(Ce.mrp),gstPercent:Ce.gstPercent?parseFloat(Ce.gstPercent):0,quantity:Ce.initialStock?parseInt(Ce.initialStock,10):0},te=await qn.createProduct(ye),Me=((ie=te.data)==null?void 0:ie.data)||te.data||te;Y(Re=>[...Re,{productId:Me.id,name:Me.name,quantity:1,unitPrice:Me.purchasePrice||Me.mrp||0,gstPercent:Me.gstPercent||0,batchNumber:"",expiryDate:""}]),Ne(!1),ze({name:"",mrp:"",purchasePrice:"",sellingPrice:"",gstPercent:"",sku:"",category:"",initialStock:""}),ae.success("Product created and added")}catch(ye){ae.error(((xe=(z=ye.response)==null?void 0:z.data)==null?void 0:xe.message)||"Failed to create product")}},re=async(ie,z)=>{var te,Me,Re;if(ie!=null&&ie.id)return ie.id;const xe=z==null?void 0:z.trim();if(!xe)return null;const ye=await Gr.createAccount({name:xe});return((Me=(te=ye.data)==null?void 0:te.data)==null?void 0:Me.id)||((Re=ye.data)==null?void 0:Re.id)||null},K=async()=>{if(!w&&!l||!k&&!u||!f)return ae.error("Provide debit, credit and amount"),!1;const ie=await re(w,l),z=await re(k,u),xe=r==="PAYMENT"?"PAYMENT":r==="ADJUSTMENT"?"ADJUSTMENT":"MANUAL";return await Gr.createManualEntry({debitAccountId:ie,creditAccountId:z,amount:Number(f),note:p||void 0,date:g||void 0,refType:xe}),!0},de=async()=>mg.includes(r)?D.length===0?(ae.error("Add at least one item"),!1):(await Gr.createManualPurchase({mode:r,supplierId:H==null?void 0:H.id,supplierName:L||void 0,items:D,note:p||void 0,date:g||void 0}),!0):!1,Ae=async()=>{var ie,z;try{if(mg.includes(r)){if(!await de())return}else if(!await K())return;ae.success("Manual entry created"),e("/ledger")}catch(xe){ae.error(((z=(ie=xe==null?void 0:xe.response)==null?void 0:ie.data)==null?void 0:z.message)||"Failed to create manual entry")}};if(!n)return a.jsx("div",{className:"min-h-screen p-6",children:a.jsx("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded",children:"You do not have permission to access this page."})});const Oe=Mde.includes(r),Fe=mg.includes(r),et=Number(f||0);return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-5xl mx-auto bg-white rounded p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Create Manual Ledger Entry"}),a.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>e("/ledger"),children:"Back"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm text-gray-600 bg-yellow-50 border-l-4 border-yellow-300 p-3 rounded",children:"Quick help: pick mode first. Purchases/returns update stock. Payments and adjustments only post ledger entries."}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Mode"}),a.jsxs("select",{value:r,onChange:ie=>s(ie.target.value),className:"p-2 border rounded w-full",children:[a.jsx("option",{value:"JOURNAL",children:"Journal (debit/credit)"}),a.jsx("option",{value:"PURCHASE",children:"Manual Purchase (add stock)"}),a.jsx("option",{value:"RETURN",children:"Manual Return (reduce stock)"}),a.jsx("option",{value:"PAYMENT",children:"Supplier Payment"}),a.jsx("option",{value:"ADJUSTMENT",children:"Adjustment Entry"})]})]}),Oe&&a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Supplier / Distributor"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Supplier name",value:H?H.name:F||L,onChange:ie=>{W(ie.target.value),R(ie.target.value),J(null)}}),q.length>0&&F&&a.jsx("div",{className:"absolute z-30 bg-white border rounded mt-1 w-full max-h-48 overflow-auto",children:q.map(ie=>a.jsxs("div",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>{J(ie),R(ie.name),W(""),G([])},children:[ie.name," ",ie.phone?`- ${ie.phone}`:""]},ie.id))}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx("button",{className:"px-2 py-1 text-sm border rounded",onClick:()=>{fe(ie=>!ie),oe("")},children:ce?"Close":"Create supplier"}),H&&a.jsx("button",{className:"px-2 py-1 text-sm border rounded",onClick:()=>{J(null),R("")},children:"Clear"})]}),ce&&a.jsxs("div",{className:"mt-3 p-3 border rounded bg-gray-50",children:[a.jsx("div",{className:"text-sm font-medium",children:"Create supplier"}),a.jsx("input",{className:"mt-2 p-2 border w-full",value:Z,onChange:ie=>{he(ie.target.value),oe("")},placeholder:"Supplier name"}),$&&a.jsx("div",{className:"text-sm text-red-600 mt-2",children:$}),a.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[a.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>fe(!1),children:"Cancel"}),a.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded",onClick:V,children:"Create"})]})]})]})]}),r==="PAYMENT"&&a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Payment Method"}),a.jsxs("select",{className:"p-2 border rounded w-full",value:i,onChange:ie=>o(ie.target.value),children:[a.jsx("option",{value:"CASH",children:"Cash"}),a.jsx("option",{value:"BANK",children:"Bank"}),a.jsx("option",{value:"UPI",children:"UPI"})]})]}),Fe&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Add product"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{className:"flex-1 p-2 border rounded",placeholder:"Search medicine",value:se,onChange:ie=>je(ie.target.value)}),a.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>{Ne(ie=>!ie),X("")},children:ne?"Close":"New"})]}),be.length>0&&se&&a.jsx("div",{className:"border bg-white max-h-44 overflow-auto mt-1",children:be.map(ie=>a.jsxs("div",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>{Y(z=>[...z,{productId:ie.id,name:ie.name,quantity:1,unitPrice:ie.purchasePrice||ie.mrp||0,gstPercent:ie.gstPercent||0,batchNumber:"",expiryDate:""}]),je(""),_e([])},children:[ie.name," - ",ie.code||""]},ie.id))})]}),ne&&a.jsxs("div",{className:"mt-3 p-3 border rounded bg-gray-50",children:[a.jsx("div",{className:"text-sm font-medium",children:"Create product"}),U&&a.jsx("div",{className:"text-sm text-red-600 mt-2",children:U}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[a.jsx("input",{className:"p-2 border",placeholder:"Name",value:Ce.name,onChange:ie=>ze(z=>({...z,name:ie.target.value}))}),a.jsx("input",{className:"p-2 border",placeholder:"SKU (optional)",value:Ce.sku,onChange:ie=>ze(z=>({...z,sku:ie.target.value}))}),a.jsx("input",{className:"p-2 border",placeholder:"MRP",value:Ce.mrp,onChange:ie=>ze(z=>({...z,mrp:ie.target.value}))}),a.jsx("input",{className:"p-2 border",placeholder:"Purchase Price",value:Ce.purchasePrice,onChange:ie=>ze(z=>({...z,purchasePrice:ie.target.value}))}),a.jsx("input",{className:"p-2 border",placeholder:"Selling Price",value:Ce.sellingPrice,onChange:ie=>ze(z=>({...z,sellingPrice:ie.target.value}))}),a.jsx("input",{className:"p-2 border",placeholder:"GST %",value:Ce.gstPercent,onChange:ie=>ze(z=>({...z,gstPercent:ie.target.value}))}),a.jsx("input",{className:"p-2 border col-span-2",placeholder:"Category",value:Ce.category,onChange:ie=>ze(z=>({...z,category:ie.target.value}))}),a.jsx("input",{className:"p-2 border col-span-2",placeholder:"Initial Stock (optional)",value:Ce.initialStock,onChange:ie=>ze(z=>({...z,initialStock:ie.target.value}))})]}),a.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[a.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>Ne(!1),children:"Cancel"}),a.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded",onClick:le,children:"Create and Add"})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Items"}),a.jsx("div",{className:"space-y-2",children:D.map((ie,z)=>{const xe=Number(ie.quantity||0),ye=Number(ie.unitPrice||0),te=Number(ie.gstPercent||0),Me=xe*ye,Re=Me*(te/100);return a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{children:ie.name}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx("input",{"aria-label":`batch-${z}`,placeholder:"Batch",className:"p-1 border rounded w-36",value:ie.batchNumber||"",onChange:ct=>Y(Wt=>Wt.map((yt,Vn)=>Vn===z?{...yt,batchNumber:ct.target.value}:yt))}),a.jsx("input",{"aria-label":`expiry-${z}`,type:"date",className:"p-1 border rounded w-36",value:ie.expiryDate||"",onChange:ct=>Y(Wt=>Wt.map((yt,Vn)=>Vn===z?{...yt,expiryDate:ct.target.value}:yt))})]})]}),a.jsx("input",{"aria-label":`quantity-${z}`,type:"number",min:1,className:"w-20 p-1 border rounded text-right",value:ie.quantity,onChange:ct=>Y(Wt=>Wt.map((yt,Vn)=>Vn===z?{...yt,quantity:Number(ct.target.value)}:yt))}),a.jsx("input",{"aria-label":`rate-${z}`,type:"number",step:"0.01",className:"w-28 p-1 border rounded text-right",value:ie.unitPrice,onChange:ct=>Y(Wt=>Wt.map((yt,Vn)=>Vn===z?{...yt,unitPrice:Number(ct.target.value)}:yt))}),a.jsx("input",{"aria-label":`gst-${z}`,type:"number",step:"0.01",className:"w-20 p-1 border rounded text-right",value:ie.gstPercent,onChange:ct=>Y(Wt=>Wt.map((yt,Vn)=>Vn===z?{...yt,gstPercent:Number(ct.target.value)}:yt))}),a.jsx("div",{className:"w-28 text-right text-sm text-gray-700",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Me+Re)}),a.jsx("button",{className:"px-2 py-1 text-sm bg-red-100 rounded",onClick:()=>Y(ct=>ct.filter((Wt,yt)=>yt!==z)),children:"Remove"})]},z)})})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-baseline justify-between",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Debit account"}),a.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-2",children:["Auto-selected for guided modes",a.jsx("button",{type:"button",className:"text-xs text-blue-600",onClick:()=>M(ie=>!ie),children:I?"Edit":"Lock"})]})]}),a.jsx("input",{readOnly:!I,className:`w-full p-2 border rounded ${I?"":"bg-gray-100"}`,placeholder:"Search debit account",value:y||l,onChange:ie=>{v(ie.target.value),c(ie.target.value),S(null)}}),b.length>0&&y&&a.jsx("div",{className:"border bg-white max-h-44 overflow-auto mt-1",children:b.map(ie=>a.jsx("div",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>{S(ie),v(ie.name),c(ie.name),j([])},children:ie.name},ie.id))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-baseline justify-between",children:[a.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Credit account"}),a.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-2",children:["Auto-selected for guided modes",a.jsx("button",{type:"button",className:"text-xs text-blue-600",onClick:()=>_(ie=>!ie),children:E?"Edit":"Lock"})]})]}),a.jsx("input",{readOnly:!E,className:`w-full p-2 border rounded ${E?"":"bg-gray-100"}`,placeholder:"Search credit account",value:P||u,onChange:ie=>{A(ie.target.value),d(ie.target.value),O(null)}}),C.length>0&&P&&a.jsx("div",{className:"border bg-white max-h-44 overflow-auto mt-1",children:C.map(ie=>a.jsx("div",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>{O(ie),A(ie.name),d(ie.name),T([])},children:ie.name},ie.id))})]}),a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Suggested mapping:",a.jsxs("ul",{className:"list-disc ml-5",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Purchase:"})," Debit Inventory, Credit Payable - Supplier"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Return:"})," Debit Payable - Supplier, Credit Inventory"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Payment:"})," Debit Payable - Supplier, Credit Cash/Bank/UPI"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Adjustment:"})," Uses refType ADJUSTMENT for audit clarity"]})]})]}),a.jsxs("div",{children:[a.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Amount",type:"number",value:f,onChange:ie=>h(ie.target.value)}),a.jsx("input",{className:"w-full p-2 border rounded mt-2",placeholder:"Date (optional)",type:"date",value:g,onChange:ie=>x(ie.target.value)}),a.jsx("textarea",{className:"w-full p-2 border rounded mt-2",placeholder:"Note (optional)",value:p,onChange:ie=>m(ie.target.value)}),et>0&&a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Amount preview: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(et)]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>e("/ledger"),children:"Cancel"}),a.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded",onClick:Ae,children:"Create"})]})]})]})})}function Rde(){const{data:e,isLoading:t,refetch:n}=De({queryKey:["suppliers"],queryFn:()=>an.getSuppliers(""),keepPreviousData:!0}),r=Array.isArray(e)?e:Array.isArray(e==null?void 0:e.data)?e.data:[],[s,i]=N.useState(null),[o,l]=N.useState({name:"",phone:"",email:"",address:"",gstNumber:"",notes:""}),c=ln(),u=Ge({mutationFn:h=>an.createSupplier(h),onSuccess:async()=>{ae.success("Supplier created"),l({name:"",phone:"",email:"",address:"",gstNumber:"",notes:""}),await n()}}),d=Ge({mutationFn:({id:h,body:p})=>an.updateSupplier(h,p),onSuccess:async()=>{ae.success("Supplier updated"),i(null),await n()}}),f=Ge({mutationFn:h=>an.deleteSupplier(h),onMutate:async h=>{await c.cancelQueries({queryKey:["suppliers"]});const p=c.getQueryData(["suppliers"]);return c.setQueryData(["suppliers"],m=>(Array.isArray(m)?m:Array.isArray(m==null?void 0:m.data)?m.data:[]).filter(x=>x.id!==h)),{previous:p}},onError:(h,p,m)=>{m!=null&&m.previous&&c.setQueryData(["suppliers"],m.previous),ae.error("Failed to delete supplier")},onSettled:async()=>{ae.success("Supplier deleted"),await n()}});return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h1",{className:"text-2xl font-bold",children:"Suppliers"})}),a.jsxs("div",{className:"bg-white rounded p-4 mb-6",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Create Supplier"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("input",{className:"p-2 border rounded",placeholder:"Name",value:o.name,onChange:h=>l(p=>({...p,name:h.target.value}))}),a.jsx("input",{className:"p-2 border rounded",placeholder:"Phone",value:o.phone,onChange:h=>l(p=>({...p,phone:h.target.value}))}),a.jsx("input",{className:"p-2 border rounded",placeholder:"Email",value:o.email,onChange:h=>l(p=>({...p,email:h.target.value}))}),a.jsx("input",{className:"p-2 border rounded",placeholder:"GST Number",value:o.gstNumber,onChange:h=>l(p=>({...p,gstNumber:h.target.value}))}),a.jsx("input",{className:"p-2 border rounded col-span-2",placeholder:"Address",value:o.address,onChange:h=>l(p=>({...p,address:h.target.value}))}),a.jsx("input",{className:"p-2 border rounded col-span-2",placeholder:"Notes",value:o.notes,onChange:h=>l(p=>({...p,notes:h.target.value}))})]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded",onClick:()=>u.mutate(o),children:"Create"}),a.jsx("button",{className:"px-3 py-2 border rounded",onClick:()=>l({name:"",phone:"",email:"",address:"",gstNumber:"",notes:""}),children:"Reset"})]})]}),a.jsxs("div",{className:"bg-white rounded p-4",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Supplier List"}),t?a.jsx("div",{children:"Loading"}):a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-xs text-gray-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-2 text-left",children:"Name"}),a.jsx("th",{className:"p-2",children:"Phone"}),a.jsx("th",{className:"p-2",children:"GST"}),a.jsx("th",{className:"p-2",children:" "})]})}),a.jsx("tbody",{children:r.map(h=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-2",children:h.name}),a.jsx("td",{className:"p-2",children:h.phone||"-"}),a.jsx("td",{className:"p-2",children:h.gstNumber||"-"}),a.jsxs("td",{className:"p-2 text-right",children:[a.jsx("button",{className:"px-2 py-1 mr-2 text-sm border rounded",onClick:()=>{i(h),l({name:h.name,phone:h.phone||"",email:h.email||"",address:h.address||"",gstNumber:h.gstNumber||"",notes:h.notes||""})},children:"Edit"}),a.jsx("button",{className:"px-2 py-1 text-sm bg-red-600 text-white rounded",onClick:()=>{confirm("Delete supplier?")&&f.mutate(h.id)},children:"Delete"})]})]},h.id))})]}),s&&a.jsxs("div",{className:"mt-4 p-3 border rounded",children:[a.jsx("h4",{className:"font-medium",children:"Edit Supplier"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[a.jsx("input",{className:"p-2 border rounded",placeholder:"Name",value:o.name,onChange:h=>l(p=>({...p,name:h.target.value}))}),a.jsx("input",{className:"p-2 border rounded",placeholder:"Phone",value:o.phone,onChange:h=>l(p=>({...p,phone:h.target.value}))}),a.jsx("input",{className:"p-2 border rounded",placeholder:"Email",value:o.email,onChange:h=>l(p=>({...p,email:h.target.value}))}),a.jsx("input",{className:"p-2 border rounded",placeholder:"GST Number",value:o.gstNumber,onChange:h=>l(p=>({...p,gstNumber:h.target.value}))}),a.jsx("input",{className:"p-2 border rounded col-span-2",placeholder:"Address",value:o.address,onChange:h=>l(p=>({...p,address:h.target.value}))}),a.jsx("input",{className:"p-2 border rounded col-span-2",placeholder:"Notes",value:o.notes,onChange:h=>l(p=>({...p,notes:h.target.value}))})]}),a.jsxs("div",{className:"mt-3 flex gap-2 justify-end",children:[a.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>i(null),children:"Cancel"}),a.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",onClick:()=>d.mutate({id:s.id,body:o}),children:"Save"})]})]})]})]})})}function Ide(e){if(!(e!=null&&e.parsedJson))return null;try{return typeof e.parsedJson=="string"?JSON.parse(e.parsedJson):e.parsedJson}catch{return null}}function Uk(e){var i,o;if(!e)return e;const t=Ide(e.upload);if(!t)return e;const n=Array.isArray(t.items)?t.items:[],r=Number((t==null?void 0:t.roundOff)??(t==null?void 0:t.round_off)??((i=t==null?void 0:t.totals)==null?void 0:i.roundOff)??((o=t==null?void 0:t.totals)==null?void 0:o.round_off)??(e==null?void 0:e.roundOff)??(e==null?void 0:e.roundoff)??0),s=Array.isArray(e.items)?e.items.map((l,c)=>{var u,d;return{...l,mrp:Number((l==null?void 0:l.mrp)??((u=n[c])==null?void 0:u.mrp)??((d=n[c])==null?void 0:d.MRP)??0)}}):[];return{...e,roundOff:r,roundoff:r,items:s}}function Hk(e){if(!e)return"";const t=e.path||"";return t&&(/^https?:\/\//i.test(t)||t.startsWith("/"))?t:e.filename?`/uploads/purchases/${e.filename}`:""}function $de(){const e=tt("purchases:read"),t=tt("purchases:delete"),{data:n,isLoading:r,refetch:s}=De({queryKey:["purchases","DRAFT"],queryFn:()=>an.getPurchases({status:"DRAFT",limit:50}),enabled:!!e}),i=(n==null?void 0:n.data)||n||{},o=Array.isArray(i==null?void 0:i.data)?i.data:Array.isArray(i)?i:[],[l,c]=N.useState({}),[u,d]=N.useState(null),[f,h]=N.useState(""),[p,m]=N.useState([]),[g,x]=N.useState(!1),[y,v]=N.useState(null),[b,j]=N.useState([]),[w,S]=N.useState({}),[P,A]=N.useState({}),[C,T]=N.useState({}),k=N.useRef({}),O=tt("purchases:receive");N.useEffect(()=>{if(!f||f.length<2){m([]);return}x(!0);const M=setTimeout(async()=>{try{const E=await an.getSuppliers(f),_=(E==null?void 0:E.data)||E;m(Array.isArray(_)?_:[])}catch{m([])}finally{x(!1)}},300);return()=>clearTimeout(M)},[f]),N.useEffect(()=>{if(!u)return;const M=Array.isArray(u.items)?u.items.map(E=>({id:E.id,productId:E.productId,name:E.name,quantity:Number(E.quantity||0),unitPrice:Number(E.unitPrice||E.purchasePrice||0),mrp:Number(E.mrp||0),taxAmount:Number(E.taxAmount||0),amount:Number(E.amount||0),batchNumber:E.batchNumber||null,expiryDate:E.expiryDate?new Date(E.expiryDate).toISOString().slice(0,10):"",newEntry:!1})):[];j(M)},[u&&u.id]),N.useEffect(()=>{if(!u)return;const M=b.reduce((R,F)=>R+Number(F.amount||Number(F.quantity||0)*Number(F.unitPrice||0)),0),E=Number(u.taxAmount||0),_=Number((u.roundOff??u.roundoff)||0),L=+(M+E-_).toFixed(2);d(R=>({...R,subtotal:+(M.toFixed?M.toFixed(2):M),totalAmount:L,roundOff:_}))},[b,u==null?void 0:u.taxAmount,u==null?void 0:u.roundOff,u==null?void 0:u.roundoff]),N.useEffect(()=>()=>{try{Object.values(k.current||{}).forEach(M=>clearTimeout(M))}catch{}},[]);const I=(M,E)=>{if(T(_=>({..._,[M]:E})),k.current[M]&&clearTimeout(k.current[M]),!E||E.length<2){S(_=>({..._,[M]:[]})),A(_=>({..._,[M]:!1}));return}A(_=>({..._,[M]:!0})),k.current[M]=setTimeout(async()=>{try{const _=await qn.getProducts({search:E,limit:10}),L=_.data||_;S(R=>({...R,[M]:Array.isArray(L)?L:[]}))}catch{S(L=>({...L,[M]:[]}))}finally{A(_=>({..._,[M]:!1}))}},300)};return a.jsx(a.Fragment,{children:a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Purchases  Drafts"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Draft purchases created from uploads"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-auto",children:r?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading"}):o.length===0?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No draft purchases found"}):a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 text-left",children:"Invoice No"}),a.jsx("th",{className:"p-3 text-left",children:"Supplier"}),a.jsx("th",{className:"p-3 text-left",children:"Date"}),a.jsx("th",{className:"p-3 text-right",children:"Total"}),a.jsx("th",{className:"p-3 text-left",children:"Status"})]})}),a.jsx("tbody",{children:o.map(M=>{var E,_;return a.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[a.jsx("td",{className:"p-3",children:M.invoiceNo}),a.jsx("td",{className:"p-3",children:((E=M.supplier)==null?void 0:E.name)||(l[M.supplierId]?l[M.supplierId].name:M.supplierId?"Assigned":"")}),a.jsx("td",{className:"p-3",children:M.invoiceDate?new Date(M.invoiceDate).toLocaleDateString():"-"}),a.jsx("td",{className:"p-3 text-right",children:(_=M.totalAmount)!=null&&_.toFixed?M.totalAmount.toFixed(2):M.totalAmount}),a.jsx("td",{className:"p-3",children:M.status}),a.jsxs("td",{className:"p-3 text-right flex items-center justify-end gap-2",children:[a.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-sm",onClick:async()=>{var L,R;try{const F=await an.getPurchase(M.id),W=Uk(((L=F==null?void 0:F.data)==null?void 0:L.data)||(F==null?void 0:F.data)||F);d(W),v(W.supplierId||null),h(((R=W.supplier)==null?void 0:R.name)||"")}catch(F){console.error("Failed to load purchase",F),ae.error("Failed to load purchase")}},children:"Edit"}),t&&a.jsx("button",{className:"px-2 py-1 bg-red-600 text-white rounded text-sm",onClick:async()=>{var L,R;if(window.confirm("Delete this draft purchase? This cannot be undone."))try{await an.deletePurchase(M.id),ae.success("Draft purchase deleted"),await s()}catch(F){console.error(F),ae.error(((R=(L=F==null?void 0:F.response)==null?void 0:L.data)==null?void 0:R.message)||"Failed to delete purchase")}},children:"Delete"})]})]},M.id)})})]})}),u&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mt-6 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Edit Draft Purchase"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Edit purchase details created from upload"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-3 py-1 border rounded",onClick:async()=>{d(null),await s()},children:"Back to list"}),a.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded",onClick:async()=>{var M,E;try{const _=b.map(W=>({...W}));for(let W=0;W<_.length;W++){const q=_[W];if(q.newEntry&&!q.productId){const G=`SKU${Date.now().toString().slice(-6)}${Math.floor(Math.random()*900+100)}`,H={code:G,name:q.name||`Product-${G}`,genericName:"",manufacturer:"",category:"",mrp:q.mrp||0,purchasePrice:q.unitPrice||0,sellingPrice:q.unitPrice||0,gstPercent:0,quantity:0,unit:"pcs"};try{const J=await qn.createProduct(H),ce=J.data||J,fe=ce||(ce==null?void 0:ce.data),Z=(fe==null?void 0:fe.id)||((M=fe==null?void 0:fe.data)==null?void 0:M.id);Z&&(_[W].productId=Z,j(he=>he.map(($,oe)=>oe===W?{...$,productId:Z}:$)),ae.success(`Created product ${fe.name||H.name}`))}catch(J){console.error("Failed to create product",J),ae.error(`Failed to create product for item ${q.name}`)}}}const L={supplierId:y||null,invoiceNo:u.invoiceNo,invoiceDate:u.invoiceDate,notes:u.notes,subtotal:Number(u.subtotal||0),taxAmount:Number(u.taxAmount||0),roundOff:Number((u.roundOff??u.roundoff)||0),totalAmount:Number(u.totalAmount||0),items:_.map(W=>({name:W.name,productId:W.productId||void 0,quantity:Number(W.quantity||0),unitPrice:Number(W.unitPrice||0),mrp:Number(W.mrp||0),taxAmount:Number(W.taxAmount||0),amount:Number(W.amount||Number(W.quantity||0)*Number(W.unitPrice||0)),batchNumber:W.batchNumber||null,expiryDate:W.expiryDate||null}))};await an.updatePurchase(u.id,L),ae.success("Purchase saved");const R=await an.getPurchase(u.id),F=Uk(((E=R==null?void 0:R.data)==null?void 0:E.data)||(R==null?void 0:R.data)||R);if(d(F),F&&Array.isArray(F.items)){const W=F.items.map(q=>({id:q.id,productId:q.productId,name:q.name,quantity:Number(q.quantity||0),unitPrice:Number(q.unitPrice||q.purchasePrice||0),mrp:Number(q.mrp||0),taxAmount:Number(q.taxAmount||0),amount:Number(q.amount||0),batchNumber:q.batchNumber||null,expiryDate:q.expiryDate?new Date(q.expiryDate).toISOString().slice(0,10):""}));j(W)}if(await s(),O){if(window.confirm("Publish now and update stock/ledger (Receive)?"))try{await an.receivePurchase(u.id),ae.success("Purchase published and stock updated"),d(null),await s()}catch(W){console.error(W),ae.error("Saved but failed to publish (receive)")}}else d(null)}catch(_){console.error(_),ae.error("Failed to publish purchase")}},children:"Publish"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"md:col-span-3",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm text-gray-600",children:"Invoice No"}),a.jsx("input",{className:"w-full p-2 border rounded",value:u.invoiceNo||"",onChange:M=>d(E=>({...E,invoiceNo:M.target.value}))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm text-gray-600",children:"Invoice Date"}),a.jsx("input",{type:"date",className:"w-full p-2 border rounded",value:u.invoiceDate?new Date(u.invoiceDate).toISOString().slice(0,10):"",onChange:M=>d(E=>({...E,invoiceDate:M.target.value}))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm text-gray-600",children:"Supplier (search)"}),a.jsx("input",{value:f,onChange:M=>{h(M.target.value),v(null)},className:"w-full p-2 border rounded",placeholder:"Search suppliers by name"}),g&&a.jsx("div",{className:"text-xs text-gray-500",children:"Searching..."}),p.length>0&&a.jsx("ul",{className:"bg-white border rounded mt-1 max-h-48 overflow-auto text-sm",children:p.map(M=>a.jsxs("li",{className:`p-2 hover:bg-gray-50 cursor-pointer ${y===M.id?"bg-gray-100":""}`,onClick:()=>{v(M.id),h(M.name),m([])},children:[M.name," ",M.phone?` ${M.phone}`:""]},M.id))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm text-gray-600",children:"Notes"}),a.jsx("textarea",{className:"w-full p-2 border rounded",value:u.notes||"",onChange:M=>d(E=>({...E,notes:M.target.value}))})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Items"}),a.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[40vh]",children:a.jsxs("table",{className:"min-w-max w-full text-sm border",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-2 text-left",children:"Name"}),a.jsx("th",{className:"p-2",children:"Link Product"}),a.jsx("th",{className:"p-2",children:"Qty"}),a.jsx("th",{className:"p-2",children:"Unit Price"}),a.jsx("th",{className:"p-2",children:"MRP"}),a.jsx("th",{className:"p-2",children:"Batch"}),a.jsx("th",{className:"p-2",children:"Expiry"}),a.jsx("th",{className:"p-2",children:"Amount"})]})}),a.jsx("tbody",{children:Array.isArray(b)&&b.map((M,E)=>a.jsxs("tr",{className:"border-t",children:[a.jsxs("td",{className:"p-2 relative",children:[a.jsx("input",{className:"w-full p-1 border rounded",value:M.name||"",onChange:_=>j(L=>L.map((R,F)=>F===E?{...R,name:_.target.value}:R))}),a.jsx("div",{className:"mt-1 text-xs",children:a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:!!M.newEntry,onChange:_=>j(L=>L.map((R,F)=>F===E?{...R,newEntry:_.target.checked}:R))}),a.jsx("span",{children:"Mark as new product"})]})})]}),a.jsx("td",{className:"p-2",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{className:"w-full p-1 border rounded",placeholder:"Search products",value:C[E]||"",onChange:_=>I(E,_.target.value)}),P[E]&&a.jsx("div",{className:"text-xs text-gray-500",children:"Searching products..."}),w[E]&&w[E].length>0&&a.jsx("ul",{className:"absolute left-0 right-0 bg-white border mt-1 max-h-56 overflow-auto z-20 text-sm",children:w[E].map(_=>a.jsxs("li",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>{j(L=>L.map((R,F)=>F===E?{...R,productId:_.id}:R)),S(L=>({...L,[E]:[]})),T(L=>({...L,[E]:_.name}))},children:[_.name," ",_.genericName?` ${_.genericName}`:""]},_.id))})]})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"number",min:0,className:"w-14 p-1 border rounded",value:String(M.quantity||0),onChange:_=>{const L=Number(_.target.value||0);j(R=>R.map((F,W)=>W===E?{...F,quantity:L,amount:+(L*Number(F.unitPrice||0)).toFixed(2)}:F))}})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"number",step:"0.01",min:0,className:"w-20 p-1 border rounded",value:String(M.unitPrice||0),onChange:_=>{const L=Number(_.target.value||0);j(R=>R.map((F,W)=>W===E?{...F,unitPrice:L,amount:+(Number(F.quantity||0)*L).toFixed(2)}:F))}})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"number",step:"0.01",min:0,className:"w-20 p-1 border rounded",value:String(M.mrp||0),onChange:_=>j(L=>L.map((R,F)=>F===E?{...R,mrp:Number(_.target.value||0)}:R))})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{className:"w-32 p-1 border rounded",value:M.batchNumber||"",onChange:_=>j(L=>L.map((R,F)=>F===E?{...R,batchNumber:_.target.value}:R)),placeholder:"batch"})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"date",className:"w-36 p-1 border rounded",value:M.expiryDate||"",onChange:_=>j(L=>L.map((R,F)=>F===E?{...R,expiryDate:_.target.value}:R))})}),a.jsx("td",{className:"p-2",children:a.jsx("input",{type:"number",step:"0.01",min:0,className:"w-20 p-1 border rounded",value:String(M.amount||0),onChange:_=>{const L=Number(_.target.value||0);j(R=>R.map((F,W)=>W===E?{...F,amount:L,unitPrice:Number(F.quantity||0)>0?+(L/Number(F.quantity||1)).toFixed(2):F.unitPrice}:F))}})})]},M.id||E))})]})})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm text-gray-600",children:"Totals"}),a.jsxs("div",{className:"p-3 border rounded",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal"}),a.jsx("span",{children:Number(u.subtotal||0).toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tax"}),a.jsx("span",{children:Number(u.taxAmount||0).toFixed(2)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Roundoff (adjustment)"}),a.jsx("input",{type:"number",step:"0.01",className:"w-24 p-1 border rounded text-right",value:String(u.roundOff??u.roundoff??0),onChange:M=>d(E=>({...E,roundOff:Number(M.target.value||0)}))})]}),a.jsxs("div",{className:"flex justify-between font-semibold mt-2",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{children:Number(u.totalAmount||0).toFixed(2)})]})]})]}),u.upload&&a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Parsed Invoice"}),a.jsx("div",{className:"border rounded p-2",children:Hk(u.upload)?a.jsx("img",{src:Hk(u.upload),alt:"invoice",className:"max-w-full h-auto rounded"}):u.upload.filename?a.jsx("img",{src:`/uploads/purchases/${u.upload.filename}`,alt:"invoice",className:"max-w-full h-auto rounded"}):a.jsx("pre",{className:"text-xs text-gray-600",children:u.upload.parsedJson?JSON.stringify(JSON.parse(u.upload.parsedJson),null,2):"No parsed data available"})})]})]})]})]})]})})})}const Wk={pending:"bg-yellow-100 text-yellow-800",partial:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},Lde=[{value:"",label:"All Status"},{value:"pending",label:"Pending"},{value:"partial",label:"Partial"},{value:"paid",label:"Paid"},{value:"cancelled",label:"Cancelled"}];function Fde(){var J,ce,fe,Z,he;const e=Qn(),t=ln(),[n,r]=N.useState(""),[s,i]=N.useState(1),[o,l]=N.useState(!1),[c,u]=N.useState({status:"",startDate:"",endDate:""}),[d,f]=N.useState(!1),[h,p]=N.useState(null),[m,g]=N.useState(!1),x=10,{register:y,handleSubmit:v,reset:b,formState:{errors:j}}=Ut(),w=tt("billing:create",["SUPER_ADMIN","DOCTOR","ACCOUNTANT","PHARMACIST","RECEPTIONIST"]),S=tt("billing:edit",["SUPER_ADMIN","DOCTOR","ACCOUNTANT","PHARMACIST","RECEPTIONIST"]),{data:P,isLoading:A}=De({queryKey:["bills",s,x,n,c],queryFn:()=>qa.getBills({page:s,limit:x,search:n,...c}),placeholderData:$=>$}),C=(P==null?void 0:P.data)||[],T=((J=P==null?void 0:P.pagination)==null?void 0:J.totalPages)||1,k=((ce=P==null?void 0:P.pagination)==null?void 0:ce.total)||0,O=Ge({mutationFn:({id:$,paymentData:oe})=>qa.recordPayment($,oe),onSuccess:()=>{ae.success("Payment recorded successfully"),t.invalidateQueries(["bills"]),f(!1),p(null),b()},onError:$=>{var oe,D;ae.error(((D=(oe=$.response)==null?void 0:oe.data)==null?void 0:D.message)||"Failed to record payment")}}),I=$=>{r($.target.value),i(1)},M=($,oe)=>{u(D=>({...D,[$]:oe})),i(1)},E=()=>{u({status:"",startDate:"",endDate:""}),i(1)},_=$=>{p($),f(!0)},L=$=>{p($),g(!0)},R=$=>{var se,je,be,_e,ne,Ne,Ce,ze;const oe=window.open("","_blank");if(!oe){ae.error("Please allow popups to print");return}const D=($.items||[]).map(U=>{var X;return`
      <tr>
        <td style="padding: 8px; border-bottom: 1px solid #eee;">${U.description}</td>
        <td style="padding: 8px; border-bottom: 1px solid #eee; text-align: center;">${U.quantity}</td>
        <td style="padding: 8px; border-bottom: 1px solid #eee; text-align: right;">${(X=U.unitPrice)==null?void 0:X.toFixed(2)}</td>
        <td style="padding: 8px; border-bottom: 1px solid #eee; text-align: right;">${(U.quantity*U.unitPrice).toFixed(2)}</td>
      </tr>
    `}).join(""),Y=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Bill - ${$.billNo||$.id}</title>
        <style>
          body { font-family: Arial, sans-serif; padding: 20px; }
          .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 15px; margin-bottom: 20px; }
          .header h1 { margin: 0; color: #333; }
          .header p { margin: 5px 0; color: #666; }
          .bill-info { display: flex; justify-content: space-between; margin-bottom: 20px; }
          .patient-info { background: #f5f5f5; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
          table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
          th { background: #333; color: white; padding: 10px; text-align: left; }
          .totals { text-align: right; margin-top: 20px; }
          .totals p { margin: 5px 0; }
          .totals .total { font-size: 18px; font-weight: bold; }
          .footer { margin-top: 40px; text-align: center; color: #666; font-size: 12px; }
          @media print { body { padding: 0; } }
        </style>
      </head>
      <body>
        <div class="header">
          <h1>Docsy ERP</h1>
          <p>Tax Invoice</p>
        </div>
        
        <div class="bill-info">
          <div>
            <strong>Bill No:</strong> ${$.billNo||$.id.slice(-8).toUpperCase()}<br>
            <strong>Date:</strong> ${W($.createdAt)}
          </div>
          <div style="text-align: right;">
            <strong>Status:</strong> ${$.paymentStatus||"PENDING"}
          </div>
        </div>
        
        <div class="patient-info">
          <strong>Patient:</strong> ${((se=$.patient)==null?void 0:se.name)||"Unknown"}<br>
          ${(je=$.patient)!=null&&je.phone?`<strong>Phone:</strong> ${$.patient.phone}`:""}
        </div>
        
        <table>
          <thead>
            <tr>
              <th>Description</th>
              <th style="text-align: center;">Qty</th>
              <th style="text-align: right;">Price</th>
              <th style="text-align: right;">Amount</th>
            </tr>
          </thead>
          <tbody>
            ${D}
          </tbody>
        </table>
        
        <div class="totals">
          <p><strong>Subtotal:</strong> ${((be=$.subtotal)==null?void 0:be.toFixed(2))||"0.00"}</p>
          ${$.discountAmount>0?`<p><strong>Discount:</strong> -${(_e=$.discountAmount)==null?void 0:_e.toFixed(2)}</p>`:""}
          ${$.taxAmount>0?`<p><strong>Tax:</strong> ${(ne=$.taxAmount)==null?void 0:ne.toFixed(2)}</p>`:""}
          <p class="total"><strong>Total:</strong> ${((Ne=$.totalAmount)==null?void 0:Ne.toFixed(2))||"0.00"}</p>
          <p><strong>Paid:</strong> ${((Ce=$.paidAmount)==null?void 0:Ce.toFixed(2))||"0.00"}</p>
          <p><strong>Balance Due:</strong> ${((ze=$.dueAmount)==null?void 0:ze.toFixed(2))||"0.00"}</p>
        </div>
        
        <div class="footer">
          <p>Thank you for your visit!</p>
          <p>This is a computer generated invoice.</p>
        </div>
        
        <script>window.onload = function() { window.print(); }<\/script>
      </body>
      </html>
    `;oe.document.write(Y),oe.document.close()},F=$=>{h&&O.mutate({id:h.id,paymentData:{amount:parseFloat($.amount),method:$.method,reference:$.reference,notes:$.notes}})},W=$=>$?new Date($).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-",q=$=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format($||0),G=$=>$.dueAmount||0,H=c.status||c.startDate||c.endDate;return a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Billing"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Manage invoices and payments"})]}),w&&a.jsxs(Be,{to:"/billing/new",className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[a.jsx(Ur,{}),"New Bill"]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:n,onChange:I,placeholder:"Search by bill number or patient name...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),a.jsx("select",{value:c.status,onChange:$=>M("status",$.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Lde.map($=>a.jsx("option",{value:$.value,children:$.label},$.value))}),a.jsxs("button",{onClick:()=>l(!o),className:`inline-flex items-center gap-2 px-4 py-2.5 border rounded-lg font-medium transition ${o||H?"border-blue-500 text-blue-600 bg-blue-50":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(E5,{}),"Date Filter",(c.startDate||c.endDate)&&a.jsx("span",{className:"bg-blue-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:"1"})]})]}),o&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),a.jsx("input",{type:"date",value:c.startDate,onChange:$=>M("startDate",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),a.jsx("input",{type:"date",value:c.endDate,onChange:$=>M("endDate",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition",children:[a.jsx(Bu,{}),"Clear Filters"]})})]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:A?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):C.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[a.jsx(T5,{className:"text-4xl mb-4"}),a.jsx("p",{className:"font-medium",children:"No bills found"}),a.jsx("p",{className:"text-sm mt-1",children:n||H?"Try adjusting your search or filters":"Create your first bill to get started"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Bill No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Patient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:C.map($=>{var oe,D,Y,se;return a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-medium text-blue-600",children:$.billNo||$.id.slice(-8).toUpperCase()})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-600",children:W($.createdAt)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:((oe=$.patient)==null?void 0:oe.name)||"Unknown Patient"}),((D=$.patient)==null?void 0:D.phone)&&a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:$.patient.phone})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:q($.totalAmount)}),$.status!=="paid"&&G($)>0&&a.jsxs("p",{className:"text-xs text-red-600 mt-0.5",children:["Due: ",q(G($))]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-medium capitalize ${Wk[(Y=$.paymentStatus)==null?void 0:Y.toLowerCase()]||Wk.pending}`,children:((se=$.paymentStatus)==null?void 0:se.toLowerCase())||"pending"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>L($),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View",children:a.jsx(Cn,{})}),a.jsx("button",{onClick:()=>R($),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition",title:"Print",children:a.jsx(Wh,{})}),$.status!=="paid"&&$.status!=="cancelled"&&a.jsxs("button",{onClick:()=>_($),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 transition",title:"Record Payment",children:[a.jsx(mO,{className:"text-xs"}),"Pay"]})]})})]},$.id)})})]})}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Showing"," ",a.jsx("span",{className:"font-medium",children:(s-1)*x+1})," ","to"," ",a.jsx("span",{className:"font-medium",children:Math.min(s*x,k)})," ","of ",a.jsx("span",{className:"font-medium",children:k})," bills"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>i($=>Math.max(1,$-1)),disabled:s===1,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition",children:a.jsx(Ca,{className:"text-gray-600"})}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",s," of ",T]}),a.jsx("button",{onClick:()=>i($=>Math.min(T,$+1)),disabled:s===T,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition",children:a.jsx(Oa,{className:"text-gray-600"})})]})]})]})})]}),a.jsx(ft,{isOpen:d,onClose:()=>{f(!1),p(null),b()},title:"Record Payment",size:"md",children:h&&a.jsxs("form",{onSubmit:v(F),className:"space-y-4",children:[a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Bill Number"}),a.jsx("p",{className:"font-medium text-gray-900",children:h.billNo||h.id.slice(-8).toUpperCase()})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Balance Due"}),a.jsx("p",{className:"font-medium text-red-600",children:q(G(h))})]})]})}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Payment Amount () ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",step:"0.01",...y("amount",{required:"Amount is required",min:{value:1,message:"Amount must be at least 1"},max:{value:G(h),message:`Amount cannot exceed ${q(G(h))}`}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount",defaultValue:G(h)}),j.amount&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.amount.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Payment Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{...y("method",{required:"Payment method is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select method"}),a.jsx("option",{value:"cash",children:"Cash"}),a.jsx("option",{value:"card",children:"Card"}),a.jsx("option",{value:"upi",children:"UPI"}),a.jsx("option",{value:"netbanking",children:"Net Banking"}),a.jsx("option",{value:"insurance",children:"Insurance"}),a.jsx("option",{value:"other",children:"Other"})]}),j.method&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.method.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference / Transaction ID"}),a.jsx("input",{...y("reference"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter reference number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{...y("notes"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Optional payment notes"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[a.jsx("button",{type:"button",onClick:()=>{f(!1),p(null),b()},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:O.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:O.isPending?"Recording...":"Record Payment"})]})]})}),a.jsx(ft,{isOpen:m,onClose:()=>{g(!1),p(null)},title:"Bill Details",size:"lg",children:h&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start pb-4 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Bill Number"}),a.jsx("p",{className:"font-bold text-lg text-gray-900",children:h.billNo||h.id.slice(-8).toUpperCase()})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),a.jsx("p",{className:"font-medium text-gray-900",children:W(h.createdAt)})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Patient"}),a.jsx("p",{className:"font-medium text-gray-900",children:((fe=h.patient)==null?void 0:fe.name)||"Unknown Patient"}),((Z=h.patient)==null?void 0:Z.phone)&&a.jsx("p",{className:"text-sm text-gray-600",children:h.patient.phone})]}),h.items&&h.items.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Items"}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-gray-600",children:"Description"}),a.jsx("th",{className:"px-4 py-2 text-center text-gray-600",children:"Qty"}),a.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Price"}),a.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:h.items.map(($,oe)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-gray-900",children:$.description}),a.jsx("td",{className:"px-4 py-2 text-center text-gray-600",children:$.quantity}),a.jsx("td",{className:"px-4 py-2 text-right text-gray-600",children:q($.unitPrice)}),a.jsx("td",{className:"px-4 py-2 text-right font-medium text-gray-900",children:q($.quantity*$.unitPrice)})]},oe))})]})})]}),a.jsxs("div",{className:"border-t border-gray-100 pt-4 space-y-2",children:[h.discount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Discount"}),a.jsxs("span",{className:"text-red-600",children:["-",q(h.discount)]})]}),h.tax>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-500",children:["Tax (",h.tax,"%)"]}),a.jsx("span",{className:"text-gray-600",children:q(h.taxAmount||0)})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{className:"text-gray-900",children:"Total Amount"}),a.jsx("span",{className:"text-gray-900",children:q(h.totalAmount)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Paid"}),a.jsx("span",{className:"text-green-600",children:q(((he=h.payments)==null?void 0:he.reduce(($,oe)=>$+oe.amount,0))||0)})]}),a.jsxs("div",{className:"flex justify-between font-medium",children:[a.jsx("span",{className:"text-gray-700",children:"Balance Due"}),a.jsx("span",{className:G(h)>0?"text-red-600":"text-green-600",children:q(G(h))})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[a.jsxs("button",{onClick:()=>R(h),className:"inline-flex items-center gap-2 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[a.jsx(Wh,{}),"Print"]}),S&&a.jsx("button",{onClick:()=>{g(!1),e(`/billing/${h.id}/edit`)},className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Edit"}),h.status!=="paid"&&h.status!=="cancelled"&&a.jsxs("button",{onClick:()=>{g(!1),_(h)},className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[a.jsx(mO,{}),"Record Payment"]})]})]})})]})}const Bde=[{id:"consultation",label:"Consultation",color:"blue"},{id:"pharmacy",label:"Pharmacy",color:"green"},{id:"lab",label:"Lab Test",color:"purple"}],Vde=[{value:0,label:"No GST (0%)"},{value:5,label:"GST 5%"},{value:12,label:"GST 12%"},{value:18,label:"GST 18%"}],zde=[{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"upi",label:"UPI"},{value:"netbanking",label:"Net Banking"},{value:"insurance",label:"Insurance"}];function qk(){const{id:e}=qp(),t=tt("billing:create",["SUPER_ADMIN","DOCTOR","ACCOUNTANT","PHARMACIST","RECEPTIONIST"]),n=tt("billing:edit",["SUPER_ADMIN","DOCTOR","ACCOUNTANT","PHARMACIST","RECEPTIONIST"]),r=!!e;if(r&&!n||!r&&!t)return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Access denied"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["You do not have permission to ",r?"edit":"create"," bills."]})]})})});const s=Qn(),[i,o]=N.useState(""),[l,c]=N.useState(null),[u,d]=N.useState(!1),[f,h]=N.useState("consultation"),[p,m]=N.useState(""),[g,x]=N.useState(!1),[y,v]=N.useState(""),[b,j]=N.useState(null),[w,S]=N.useState(""),[P,A]=N.useState(!1),[C,T]=N.useState(!1),{register:k,control:O,handleSubmit:I,watch:M,setValue:E,formState:{errors:_}}=Ut({defaultValues:{items:[],discount:0,discountType:"fixed",gstRate:0,paymentMethod:"cash",paymentAmount:0,paymentReference:"",notes:""}}),{fields:L,append:R,remove:F}=kj({control:O,name:"items"}),W=M("items")||L,q=M("discount")||0,G=M("discountType"),H=Number(M("gstRate")||0);N.useEffect(()=>{E("gstRate",0)},[E]);const J=M("paymentAmount")||0,{data:ce}=De({queryKey:["billing-doctors"],queryFn:()=>qa.getDoctors(),enabled:!0}),fe=(ce==null?void 0:ce.data)||[],[Z,he]=N.useState(null),{user:$,normalizeRole:oe}=ri(),D=oe($==null?void 0:$.role),Y=D==="DOCTOR",se=!!($!=null&&$.isClinicAdmin||["SUPER_ADMIN","ACCOUNTANT"].includes(D)),je=N.useMemo(()=>{try{const te=Array.isArray(fe)?[...fe]:[];return Y&&$&&(te.some(Re=>Re.id===$.id)||te.unshift({id:$.id,name:$.name,email:$.email})),te}catch{return fe||[]}},[fe,Y,$]),{data:be}=De({queryKey:["billing-patients-search",i,Z==null?void 0:Z.id],queryFn:()=>qa.getPatients({search:i,limit:10,doctorId:Z==null?void 0:Z.id}),enabled:i.length>=2}),{data:_e}=De({queryKey:["products-search",p],queryFn:()=>qn.getProducts({search:p,limit:10}),enabled:p.length>=2&&f==="pharmacy"}),ne=(be==null?void 0:be.data)||[],Ne=(_e==null?void 0:_e.data)||[],{data:Ce}=De({queryKey:["labs-search",y],queryFn:()=>Tr.getLabs({search:y,limit:10}),enabled:f==="lab"&&y.length>=1}),ze=(Ce==null?void 0:Ce.data)||[],{data:U}=De({queryKey:["lab-tests",b==null?void 0:b.id,w],queryFn:()=>Tr.getLabTests(b==null?void 0:b.id,{search:w,limit:50}),enabled:f==="lab"&&!!b&&w.length>=1}),X=(U==null?void 0:U.data)||[],V=N.useMemo(()=>{const te=W.reduce((yt,Vn)=>yt+(parseFloat(Vn.quantity)||0)*(parseFloat(Vn.unitPrice)||0),0);let Me=0;G==="percentage"?Me=te*(parseFloat(q)||0)/100:Me=parseFloat(q)||0;const Re=te-Me,ct=Re*(parseFloat(H)||0)/100,Wt=Re+ct;return{subtotal:te,discountAmount:Me,afterDiscount:Re,gstAmount:ct,total:Wt}},[JSON.stringify(W||[]),q,G,H]),le=ln(),re=Ge({mutationFn:te=>qa.createBill(te),onSuccess:te=>{ae.success("Bill created successfully"),le.invalidateQueries(["bills"]),s("/billing")},onError:te=>{var Me,Re;ae.error(((Re=(Me=te.response)==null?void 0:Me.data)==null?void 0:Re.message)||"Failed to create bill")}}),{data:K}=De({queryKey:["bill",e],queryFn:()=>e?qa.getBill(e):Promise.resolve(null),enabled:!!e});N.useEffect(()=>{if(K&&e){const te=K.data||K;if(c(te.patient||null),te.doctor&&he({id:te.doctor.id,name:te.doctor.name}),te.type){const Re=(te.type||"").toString().toUpperCase();h(Re==="PHARMACY"?"pharmacy":Re==="LAB_TEST"?"lab":"consultation")}const Me=(te.items||[]).map(Re=>({productId:Re.productId||null,description:Re.description||"",quantity:Re.quantity||1,unitPrice:Re.unitPrice||Re.amount||0,type:Re.type||"other",doctorId:Re.doctorId||void 0}));try{E("items",Me),te.discountPercent!==null&&te.discountPercent!==void 0?(E("discount",te.discountPercent||0),E("discountType","percentage")):(E("discount",te.discountAmount||0),E("discountType","fixed"));const Re=Number(te.subtotal||0),ct=Number(te.discountAmount||0),Wt=Re-ct;if(Wt>0){const yt=Number(te.taxAmount||0)/Wt*100||0;E("gstRate",Math.round(yt*100)/100)}else E("gstRate",0);E("notes",te.notes||"")}catch{}}},[K,e]);const de=Ge({mutationFn:({id:te,data:Me})=>qa.updateBill(te,Me),onSuccess:()=>{ae.success("Bill updated successfully"),le.invalidateQueries(["bills"]),s("/billing")},onError:te=>{var Me,Re;ae.error(((Re=(Me=te.response)==null?void 0:Me.data)==null?void 0:Re.message)||"Failed to update bill")}}),Ae=te=>{c(te),o(te.name),d(!1)},Oe=te=>{he(te||null),c(null),o("")};N.useEffect(()=>{if(!se&&Y&&$){const te=je.find(Me=>Me.id===$.id)||{id:$.id,name:$.name};he(te)}},[$,Y,se]);const Fe=te=>{const Me=W.findIndex(Re=>Re.productId===te.id);if(Me>=0){const Re=(parseInt(W[Me].quantity)||0)+1;E(`items.${Me}.quantity`,Re),ae.success(`${te.name} quantity updated`)}else R({productId:te.id,description:te.name,quantity:1,unitPrice:te.sellingPrice||te.mrp||0,type:"medicine"}),ae.success(`${te.name} added to bill`);m(""),x(!1)},et=te=>{j(te),v(te.name)},ie=te=>{R({productId:null,description:te.name,quantity:1,unitPrice:te.price||0,type:"lab",meta:{labId:(b==null?void 0:b.id)||te.labId,labTestId:te.id}}),ae.success(`${te.name} added to bill`),S(""),A(!1)},z=()=>{R({productId:null,description:"",quantity:1,unitPrice:0,type:f==="consultation"?"consultation":f==="lab"?"lab":"other",doctorId:f==="consultation"&&Y&&!se?$==null?void 0:$.id:void 0})},xe=te=>{if(!l){ae.error("Please select a patient");return}if(te.items.length===0){ae.error("Please add at least one item");return}const Me={pharmacy:"PHARMACY",consultation:"CONSULTATION",lab:"LAB_TEST"},Re={patientId:l.id,doctorId:Z==null?void 0:Z.id,type:Me[f]||"MIXED",items:te.items.map(ct=>({description:ct.description,quantity:parseInt(ct.quantity),unitPrice:parseFloat(ct.unitPrice),gstPercent:parseFloat(te.gstRate)||0,productId:ct.productId||void 0,doctorId:ct.doctorId||void 0})),discount:V.discountAmount,discountType:"AMOUNT",taxConfig:{gstRate:parseFloat(te.gstRate)||0},notes:te.notes};C&&parseFloat(te.paymentAmount)>0&&(Re.payment={amount:parseFloat(te.paymentAmount),method:te.paymentMethod,reference:te.paymentReference}),e?de.mutate({id:e,data:Re}):re.mutate(Re)},ye=te=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(te||0);return a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("button",{onClick:()=>s("/billing"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:a.jsx(Yl,{className:"text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"New Bill"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Create a new invoice"})]})]}),a.jsx("form",{onSubmit:I(xe),children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(zu,{className:"text-blue-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patient"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"w-1/3",children:[a.jsxs("select",{value:(Z==null?void 0:Z.id)||"",onChange:te=>{const Me=te.target.value,Re=je.find(ct=>ct.id===Me)||null;Oe(Re)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[se&&a.jsx("option",{value:"",children:"All Doctors"}),je.map(te=>a.jsx("option",{value:te.id,children:te.name},te.id))]}),!se&&a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Listing patients for all doctors is restricted to clinic admins and accountants."})]}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:i,onChange:te=>{o(te.target.value),d(!0),te.target.value||c(null)},onFocus:()=>d(!0),placeholder:"Search patient by name or phone...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]})]}),u&&ne.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:ne.map(te=>a.jsxs("button",{type:"button",onClick:()=>Ae(te),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0",children:[a.jsx("p",{className:"font-medium text-gray-900",children:te.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[te.phone," ",te.email&&` ${te.email}`]})]},te.id))})]}),l&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"font-medium text-blue-900",children:l.name}),a.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:[l.phone,l.email&&`  ${l.email}`]}),l.patientId&&a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["ID: ",l.patientId]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bill Type"}),a.jsx("div",{className:"flex flex-wrap gap-3",children:Bde.map(te=>a.jsx("button",{type:"button",onClick:()=>h(te.id),className:`px-4 py-2 rounded-lg font-medium transition ${f===te.id?te.color==="blue"?"bg-blue-600 text-white":te.color==="green"?"bg-green-600 text-white":"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:te.label},te.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gO,{className:"text-blue-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Items"})]}),a.jsxs("button",{type:"button",onClick:z,className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[a.jsx(Ur,{}),"Add Item"]})]}),f==="pharmacy"&&a.jsxs("div",{className:"relative mb-4",children:[a.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:p,onChange:te=>{m(te.target.value),x(!0)},onFocus:()=>x(!0),placeholder:"Search and add products...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),g&&Ne.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:Ne.map(te=>a.jsxs("button",{type:"button",onClick:()=>Fe(te),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:te.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Stock: ",te.quantity," ",te.unit||"units"]})]}),a.jsx("span",{className:"font-medium text-gray-900",children:ye(te.sellingPrice||te.mrp)})]},te.id))})]}),f==="lab"&&a.jsxs("div",{className:"mb-4 bg-white rounded p-4 border border-gray-100",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Lab"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:y,onChange:te=>{v(te.target.value)},onFocus:()=>v(y),placeholder:"Search labs...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),y&&ze.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-auto",children:ze.map(te=>{var Me;return a.jsx("button",{type:"button",onClick:()=>et(te),className:"w-full text-left px-4 py-2 hover:bg-gray-50 border-b border-gray-100",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:te.name}),te.contactPerson&&a.jsx("p",{className:"text-xs text-gray-500",children:te.contactPerson})]}),a.jsx("div",{className:"text-sm text-gray-500",children:((Me=te._count)==null?void 0:Me.bills)||""})]})},te.id)})})]})]}),b&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["Selected Lab: ",a.jsx("strong",{children:b.name})]}),a.jsxs("div",{className:"relative mb-2",children:[a.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:w,onChange:te=>{S(te.target.value),A(!0)},onFocus:()=>A(!0),placeholder:"Search lab tests...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),P&&w.length>=1&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:X.length===0?a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No lab tests found"}):X.map(te=>a.jsx("button",{type:"button",onClick:()=>ie(te),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:te.name}),te.category&&a.jsx("p",{className:"text-sm text-gray-500",children:te.category})]}),a.jsxs("div",{className:"text-sm font-medium text-gray-800",children:[te.price," ",te.currency||"INR"]})]})},te.id))})]})]})]}),L.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(gO,{className:"text-3xl mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No items added yet"}),a.jsx("p",{className:"text-sm mt-1",children:f==="pharmacy"?"Search and add products above":'Click "Add Item" to add items'})]}):a.jsx("div",{className:"space-y-3",children:L.map((te,Me)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),a.jsx("input",{...k(`items.${Me}.description`,{required:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Item description"})]}),te.type==="consultation"&&a.jsxs("div",{className:"md:col-span-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Doctor"}),a.jsxs("select",{...k(`items.${Me}.doctorId`),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[!se&&a.jsx("option",{value:$==null?void 0:$.id,children:$==null?void 0:$.name}),se&&a.jsx("option",{value:"",children:"Select doctor"}),je.map(Re=>a.jsx("option",{value:Re.id,children:Re.name},Re.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Qty"}),a.jsx("input",{type:"number",min:"1",...k(`items.${Me}.quantity`,{required:!0,min:1}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Price ()"}),a.jsx("input",{type:"number",step:"0.01",min:"0",...k(`items.${Me}.unitPrice`,{required:!0,min:0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),a.jsx("button",{type:"button",onClick:()=>F(Me),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition mt-5",children:a.jsx(Vu,{})})]},te.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(yae,{className:"text-blue-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Discount & GST"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Type"}),a.jsxs("select",{...k("discountType"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"fixed",children:"Fixed Amount ()"}),a.jsx("option",{value:"percentage",children:"Percentage (%)"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Discount ",G==="percentage"?"(%)":"()"]}),a.jsx("input",{type:"number",step:"0.01",min:"0",...k("discount"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Rate"}),a.jsx("select",{...k("gstRate"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Vde.map(te=>a.jsx("option",{value:te.value,children:te.label},te.value))})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),a.jsx("textarea",{...k("notes"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Any additional notes for this bill..."})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 sticky top-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bill Summary"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Subtotal"}),a.jsx("span",{className:"text-gray-900",children:ye(V.subtotal)})]}),V.discountAmount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Discount"}),a.jsxs("span",{className:"text-red-600",children:["-",ye(V.discountAmount)]})]}),V.gstAmount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-500",children:["GST (",H,"%)"]}),a.jsxs("span",{className:"text-gray-900",children:["+",ye(V.gstAmount)]})]}),a.jsx("div",{className:"border-t border-gray-100 pt-3",children:a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{className:"text-gray-900",children:"Total"}),a.jsx("span",{className:"text-blue-600",children:ye(V.total)})]})})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:C,onChange:te=>T(te.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Collect Payment Now"})]}),C&&a.jsxs("div",{className:"mt-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),a.jsx("select",{...k("paymentMethod"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:zde.map(te=>a.jsx("option",{value:te.value,children:te.label},te.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ()"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:V.total,...k("paymentAmount"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:V.total.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference / Transaction ID"}),a.jsx("input",{...k("paymentReference"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional"})]}),J>0&&J<V.total&&a.jsxs("p",{className:"text-sm text-yellow-600 bg-yellow-50 p-2 rounded",children:["Balance due after payment:"," ",a.jsx("span",{className:"font-medium",children:ye(V.total-J)})]})]})]}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsxs("button",{type:"submit",disabled:re.isPending||!l||L.length===0,className:"w-full inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-3 rounded-lg font-medium hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(xi,{}),re.isPending?"Creating...":"Create Bill"]}),a.jsx("button",{type:"button",onClick:()=>s("/billing"),className:"w-full px-4 py-2.5 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"})]})]})})]})})]}),(u||g)&&a.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>{d(!1),x(!1)}})]})}const e2=["Administration","Medical","Nursing","Pharmacy","Laboratory","Reception","Housekeeping","Accounts"],Kk=["Doctor","Nurse","Pharmacist","Lab Technician","Receptionist","Administrator","Accountant","Cleaner","Security","Manager"];function Ude(){var $,oe;const e=ln(),[t,n]=N.useState(""),[r,s]=N.useState(1),[i,o]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState(null),[f,h]=N.useState(""),p=10,{register:m,handleSubmit:g,reset:x,formState:{errors:y}}=Ut(),{register:v,handleSubmit:b,reset:j,setValue:w,formState:{errors:S}}=Ut(),{data:P,isLoading:A}=De({queryKey:["staff",r,p,t,f],queryFn:()=>Gn.getAll({page:r,limit:p,search:t,department:f}),placeholderData:D=>D}),C=(P==null?void 0:P.data)||[],T=(($=P==null?void 0:P.pagination)==null?void 0:$.totalPages)||1,k=((oe=P==null?void 0:P.pagination)==null?void 0:oe.total)||0,O=Ge({mutationFn:D=>Gn.create(D),onSuccess:()=>{ae.success("Staff member added successfully"),e.invalidateQueries(["staff"]),o(!1),x()},onError:D=>{var Y,se;ae.error(((se=(Y=D.response)==null?void 0:Y.data)==null?void 0:se.message)||"Failed to add staff member")}}),I=Ge({mutationFn:({id:D,data:Y})=>Gn.update(D,Y),onSuccess:()=>{ae.success("Staff member updated successfully"),e.invalidateQueries(["staff"]),c(!1),d(null),j()},onError:D=>{var Y,se;ae.error(((se=(Y=D.response)==null?void 0:Y.data)==null?void 0:se.message)||"Failed to update staff member")}}),M=Ge({mutationFn:D=>Gn.deactivate(D),onSuccess:()=>{ae.success("Staff member deactivated successfully"),e.invalidateQueries(["staff"])},onError:D=>{var Y,se;ae.error(((se=(Y=D.response)==null?void 0:Y.data)==null?void 0:se.message)||"Failed to deactivate staff member")}}),E=Ge({mutationFn:D=>Gn.activate(D),onSuccess:()=>{ae.success("Staff member activated successfully"),e.invalidateQueries(["staff"])},onError:D=>{var Y,se;ae.error(((se=(Y=D.response)==null?void 0:Y.data)==null?void 0:se.message)||"Failed to activate staff member")}}),_=D=>{n(D.target.value),s(1)},L=D=>{O.mutate({...D,salary:D.salary?parseFloat(D.salary):void 0})},R=D=>{u&&I.mutate({id:u.id,data:{...D,salary:D.salary?parseFloat(D.salary):void 0}})},F=D=>{var Y,se,je,be;d(D),w("name",((Y=D.user)==null?void 0:Y.name)||D.name||""),w("email",((se=D.user)==null?void 0:se.email)||D.email||""),w("phone",((je=D.user)==null?void 0:je.phone)||D.phone||""),w("designation",D.designation||""),w("department",D.department||""),w("salary",D.salary||""),w("joiningDate",((be=D.joiningDate)==null?void 0:be.split("T")[0])||""),c(!0)},[W,q]=N.useState(!1),[G,H]=N.useState(null),[J,ce]=N.useState(""),fe=async()=>{var D,Y,se,je;try{const be=J?{newPassword:J}:{},_e=await ee.post(`/staff/${G}/reset-password`,be),ne=(D=_e.data)==null?void 0:D.tempPassword;alert((((Y=_e.data)==null?void 0:Y.message)||"Password updated")+(ne?`
Temporary password: ${ne}`:"")),q(!1),ce(""),e.invalidateQueries(["staff"])}catch(be){console.error(be),alert(((je=(se=be==null?void 0:be.response)==null?void 0:se.data)==null?void 0:je.message)||"Failed to reset password")}},Z=D=>{var se;const Y=((se=D.user)==null?void 0:se.name)||D.name||D.employeeId||"this staff member";window.confirm(`Are you sure you want to deactivate "${Y}"?`)&&M.mutate(D.id)},he=D=>{E.mutate(D.id)};return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Management"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Manage employees and their details"})]}),a.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[a.jsx(Ur,{}),"Add Staff"]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:t,onChange:_,placeholder:"Search by name, employee ID, or phone...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),a.jsxs("select",{value:f,onChange:D=>{h(D.target.value),s(1)},className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Departments"}),e2.map(D=>a.jsx("option",{value:D,children:D},D))]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:A?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):C.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[a.jsx(Rf,{className:"text-4xl mb-4"}),a.jsx("p",{className:"font-medium",children:"No staff members found"}),a.jsx("p",{className:"text-sm mt-1",children:t?"Try adjusting your search":"Add your first staff member to get started"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Employee ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Designation"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:C.map(D=>{var Y,se,je,be,_e,ne,Ne,Ce;return a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"font-mono text-sm text-gray-900",children:D.employeeId||"EMP-"+((Y=D.id)==null?void 0:Y.slice(-6).toUpperCase())})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 font-medium text-sm",children:(((se=D.user)==null?void 0:se.name)||D.name||"S").charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:((je=D.user)==null?void 0:je.name)||D.name||"Unknown"}),a.jsx("p",{className:"text-sm text-gray-500",children:((be=D.user)==null?void 0:be.email)||D.email||"-"})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-gray-900",children:D.designation||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:D.department||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:((_e=D.user)==null?void 0:_e.phone)||D.phone||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${(((ne=D.user)==null?void 0:ne.isActive)??D.isActive)!==!1?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:(((Ne=D.user)==null?void 0:Ne.isActive)??D.isActive)!==!1?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>F(D),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit",children:a.jsx(im,{})}),(((Ce=D.user)==null?void 0:Ce.isActive)??D.isActive)!==!1?a.jsx("button",{onClick:()=>Z(D),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Deactivate",children:a.jsx(Aae,{})}):a.jsx("button",{onClick:()=>he(D),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition",title:"Activate",children:a.jsx(Sae,{})}),a.jsx("button",{onClick:()=>{H(D.id),q(!0)},className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition",title:"Reset Password",children:"Reset PW"})]})})]},D.id)})})]})}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(r-1)*p+1," to"," ",Math.min(r*p,k)," of ",k," staff members"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>s(D=>Math.max(1,D-1)),disabled:r===1,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:a.jsx(Ca,{className:"text-gray-600"})}),a.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",r," of ",T]}),a.jsx("button",{onClick:()=>s(D=>Math.min(T,D+1)),disabled:r===T,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:a.jsx(Oa,{className:"text-gray-600"})})]})]})]})}),a.jsx(ft,{isOpen:i,onClose:()=>{o(!1),x()},title:"Add Staff Member",size:"lg",children:a.jsxs("form",{autoComplete:"off",onSubmit:g(L),className:"space-y-4",children:[a.jsx("input",{type:"text",name:"fake-username",autoComplete:"username",style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}}),a.jsx("input",{type:"password",name:"fake-password",autoComplete:"current-password",style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...m("name",{required:"Name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full name"}),y.name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.name.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",autoComplete:"off",...m("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email"}),y.email&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.email.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",a.jsx("span",{className:"text-gray-400 text-xs",children:"(optional)"})]}),a.jsx("input",{type:"password",autoComplete:"new-password",...m("password"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Set initial password (leave blank to auto-generate)"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",...m("phone",{required:"Phone is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"}),y.phone&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.phone.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{...m("department",{required:"Department is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Department"}),e2.map(D=>a.jsx("option",{value:D,children:D},D))]}),y.department&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.department.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Designation ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{...m("designation",{required:"Designation is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Designation"}),Kk.map(D=>a.jsx("option",{value:D,children:D},D))]}),y.designation&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.designation.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salary"}),a.jsx("input",{type:"number",...m("salary"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter monthly salary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),a.jsx("input",{type:"date",...m("joiningDate"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("input",{type:"text",...m("address"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter address"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{o(!1),x()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:O.isPending,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:O.isPending?"Adding...":"Add Staff"})]})]})}),a.jsx(ft,{isOpen:l,onClose:()=>{c(!1),d(null),j()},title:"Edit Staff Member",size:"lg",children:a.jsxs("form",{autoComplete:"off",onSubmit:b(R),className:"space-y-4",children:[a.jsx("input",{type:"text",name:"fake-username-edit",autoComplete:"username",style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}}),a.jsx("input",{type:"password",name:"fake-password-edit",autoComplete:"current-password",style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...v("name",{required:"Name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full name"}),S.name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.name.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",...v("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email"}),S.email&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.email.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",...v("phone",{required:"Phone is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"}),S.phone&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.phone.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{...v("department",{required:"Department is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Department"}),e2.map(D=>a.jsx("option",{value:D,children:D},D))]}),S.department&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.department.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Designation ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{...v("designation",{required:"Designation is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Designation"}),Kk.map(D=>a.jsx("option",{value:D,children:D},D))]}),S.designation&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.designation.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salary"}),a.jsx("input",{type:"number",...v("salary"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter monthly salary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),a.jsx("input",{type:"date",...v("joiningDate"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",a.jsx("span",{className:"text-gray-400 text-xs",children:"(optional)"})]}),a.jsx("input",{type:"password",...v("password"),autoComplete:"new-password",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Set new password (leave blank to keep existing)"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{c(!1),d(null),j()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:I.isPending,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:I.isPending?"Saving...":"Save Changes"})]})]})}),W&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Reset Password"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Enter a new password for the staff member, or leave blank to auto-generate a temporary password."}),a.jsx("input",{type:"password",value:J,onChange:D=>ce(D.target.value),placeholder:"New password (optional)",className:"w-full px-3 py-2 border rounded mb-4",autoComplete:"new-password"}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{q(!1),ce("")},className:"px-3 py-2 border rounded",children:"Cancel"}),a.jsx("button",{onClick:fe,className:"px-3 py-2 bg-yellow-600 text-white rounded",children:"Reset Password"})]})]})})]})})}const Hde=["January","February","March","April","May","June","July","August","September","October","November","December"];function Wde(){const e=ln(),t=new Date,[n,r]=N.useState("view"),[s,i]=N.useState(t.getMonth()),[o,l]=N.useState(t.getFullYear()),[c,u]=N.useState(""),[d,f]=N.useState(""),[h,p]=N.useState(t.toISOString().split("T")[0]),m=N.useMemo(()=>new Date(o,s+1,0).getDate(),[s,o]),g=N.useMemo(()=>Array.from({length:m},(H,J)=>J+1),[m]),x=N.useMemo(()=>{const H=new Date().getFullYear();return Array.from({length:7},(J,ce)=>H-5+ce)},[]),{data:y,isLoading:v}=De({queryKey:["staff","all",c],queryFn:()=>Gn.getAll({limit:100,department:c})}),b=(y==null?void 0:y.data)||[],{data:j,isLoading:w}=De({queryKey:["attendance-date",h],queryFn:()=>Gn.getAttendance({date:h,limit:500}),staleTime:5e3}),S=(j==null?void 0:j.data)||[],{data:P,isLoading:A}=De({queryKey:["attendance",s,o,c],queryFn:()=>Gn.getAttendance({month:s+1,year:o,department:c,limit:1e3}),enabled:n==="monthly"}),C=(P==null?void 0:P.data)||[],T=N.useMemo(()=>{const H=S.filter(he=>he.status==="PRESENT").length,J=S.filter(he=>he.status==="ABSENT").length,ce=S.filter(he=>he.status==="ON_LEAVE").length,fe=S.filter(he=>he.status==="HALF_DAY").length,Z=b.length-S.length;return{totalStaff:b.length,presentToday:H,absentToday:J,onLeave:ce,halfDay:fe,notMarked:Z>0?Z:0}},[S,b]),{data:k}=De({queryKey:["attendance-summary",s,o],queryFn:()=>Gn.getAttendanceSummary({month:s+1,year:o})}),O=T,I=Ge({mutationFn:H=>Gn.markAttendance(H),onSuccess:()=>{ae.success("Attendance marked successfully"),e.invalidateQueries({queryKey:["attendance-date",h]}),e.invalidateQueries({queryKey:["attendance"]}),e.invalidateQueries({queryKey:["attendance-summary"]}),e.refetchQueries({queryKey:["attendance-date",h]})},onError:H=>{var J,ce;ae.error(((ce=(J=H.response)==null?void 0:J.data)==null?void 0:ce.message)||"Failed to mark attendance")}}),M=(H,J)=>{const fe=(n==="view"||n==="mark"?S:C).find(he=>{const $=new Date(he.date),oe=`${$.getFullYear()}-${String($.getMonth()+1).padStart(2,"0")}-${String($.getDate()).padStart(2,"0")}`;return he.staffId===H&&oe===J});return fe!=null&&fe.status?{PRESENT:"present",ABSENT:"absent",ON_LEAVE:"leave",HALF_DAY:"half-day",LATE:"late"}[fe.status]||fe.status.toLowerCase():null},E=(H,J)=>{const ce=`${o}-${String(s+1).padStart(2,"0")}-${String(J).padStart(2,"0")}`;return M(H,ce)},_=(H,J,ce=h)=>{I.mutate({staffId:H,date:new Date(ce).toISOString(),status:J.toUpperCase().replace("-","_").replace("LEAVE","ON_LEAVE")})},L=H=>{H==="prev"?s===0?(i(11),l(o-1)):i(s-1):s===11?(i(0),l(o+1)):i(s+1)},R=H=>new Date(o,s,H).getDay()===0,F=H=>{const J=new Date(o,s,H),ce=new Date;return ce.setHours(0,0,0,0),J>ce},W=v||A,q=({staffId:H,currentStatus:J})=>{const ce=[{key:"present",label:"Present",color:"bg-green-500 hover:bg-green-600",activeRing:"ring-green-500"},{key:"absent",label:"Absent",color:"bg-red-500 hover:bg-red-600",activeRing:"ring-red-500"},{key:"leave",label:"Leave",color:"bg-yellow-500 hover:bg-yellow-600",activeRing:"ring-yellow-500"},{key:"half-day",label:"Half Day",color:"bg-blue-500 hover:bg-blue-600",activeRing:"ring-blue-500"}];return a.jsx("div",{className:"flex flex-wrap gap-2",children:ce.map(({key:fe,label:Z,color:he,activeRing:$})=>a.jsx("button",{onClick:()=>_(H,fe),disabled:I.isPending,className:`
              px-4 py-2 rounded-lg text-white font-medium transition-all text-sm
              ${he}
              ${J===fe?`ring-2 ring-offset-2 ${$} scale-105`:"opacity-60 hover:opacity-100"}
              disabled:opacity-50 disabled:cursor-not-allowed
            `,children:Z},fe))})},G=({status:H})=>{const J={present:"bg-green-500 text-white",absent:"bg-red-500 text-white",leave:"bg-yellow-500 text-white","half-day":"bg-blue-500 text-white"},ce={present:"P",absent:"A",leave:"L","half-day":"H"};return a.jsx("span",{className:`inline-flex items-center justify-center w-7 h-7 rounded-full text-xs font-bold ${J[H]||"bg-gray-200 text-gray-500"}`,children:ce[H]||"-"})};return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-full mx-auto",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Attendance"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Track and manage daily attendance records"})]})}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:a.jsx(Rf,{className:"text-blue-600 text-xl"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Staff"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.totalStaff||b.length})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:a.jsx(Lo,{className:"text-green-600 text-xl"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Present Today"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:O.presentToday})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:a.jsx(Kh,{className:"text-red-600 text-xl"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Absent Today"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:O.absentToday})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:a.jsx(xae,{className:"text-yellow-600 text-xl"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"On Leave"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:O.onLeave})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[a.jsxs("div",{className:"flex border-b border-gray-100",children:[a.jsxs("button",{onClick:()=>r("view"),className:`flex-1 flex items-center justify-center gap-2 px-6 py-4 font-medium transition ${n==="view"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(Cn,{}),a.jsx("span",{children:"View Attendance"})]}),a.jsxs("button",{onClick:()=>r("mark"),className:`flex-1 flex items-center justify-center gap-2 px-6 py-4 font-medium transition ${n==="mark"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(iae,{}),a.jsx("span",{children:"Mark Attendance"})]}),a.jsxs("button",{onClick:()=>r("monthly"),className:`flex-1 flex items-center justify-center gap-2 px-6 py-4 font-medium transition ${n==="monthly"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(pae,{}),a.jsx("span",{children:"Monthly View"})]})]}),a.jsx("div",{className:"p-4",children:n==="view"?a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_o,{className:"text-gray-400"}),a.jsx("input",{type:"date",value:h,onChange:H=>p(H.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("select",{value:d,onChange:H=>f(H.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"PRESENT",children:"Present Only"}),a.jsx("option",{value:"ABSENT",children:"Absent Only"}),a.jsx("option",{value:"ON_LEAVE",children:"On Leave Only"}),a.jsx("option",{value:"NOT_MARKED",children:"Not Marked"})]}),d&&a.jsx("button",{onClick:()=>f(""),className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear Filter"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-6 p-4 bg-gray-50 rounded-xl",children:[a.jsxs("div",{className:`text-center p-3 rounded-lg cursor-pointer transition ${d===""?"bg-blue-100 ring-2 ring-blue-400":"bg-white hover:bg-blue-50"}`,onClick:()=>f(""),children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.totalStaff}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]}),a.jsxs("div",{className:`text-center p-3 rounded-lg cursor-pointer transition ${d==="PRESENT"?"bg-green-100 ring-2 ring-green-400":"bg-white hover:bg-green-50"}`,onClick:()=>f(d==="PRESENT"?"":"PRESENT"),children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:O.presentToday}),a.jsx("p",{className:"text-xs text-gray-500",children:"Present"})]}),a.jsxs("div",{className:`text-center p-3 rounded-lg cursor-pointer transition ${d==="ABSENT"?"bg-red-100 ring-2 ring-red-400":"bg-white hover:bg-red-50"}`,onClick:()=>f(d==="ABSENT"?"":"ABSENT"),children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:O.absentToday}),a.jsx("p",{className:"text-xs text-gray-500",children:"Absent"})]}),a.jsxs("div",{className:`text-center p-3 rounded-lg cursor-pointer transition ${d==="ON_LEAVE"?"bg-yellow-100 ring-2 ring-yellow-400":"bg-white hover:bg-yellow-50"}`,onClick:()=>f(d==="ON_LEAVE"?"":"ON_LEAVE"),children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:O.onLeave}),a.jsx("p",{className:"text-xs text-gray-500",children:"On Leave"})]}),a.jsxs("div",{className:`text-center p-3 rounded-lg cursor-pointer transition ${d==="NOT_MARKED"?"bg-gray-200 ring-2 ring-gray-400":"bg-white hover:bg-gray-100"}`,onClick:()=>f(d==="NOT_MARKED"?"":"NOT_MARKED"),children:[a.jsx("p",{className:"text-2xl font-bold text-gray-600",children:O.notMarked}),a.jsx("p",{className:"text-xs text-gray-500",children:"Not Marked"})]})]}),v||w?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[a.jsx(Rf,{className:"text-4xl mb-4"}),a.jsx("p",{className:"font-medium",children:"No staff members found"})]}):a.jsx("div",{className:"space-y-2",children:b.map(H=>{const J=M(H.id,h),ce=J?J.toUpperCase().replace("-","_").replace("LEAVE","ON_LEAVE"):null;return{staff:H,status:J,backendStatus:ce}}).filter(({backendStatus:H})=>d?d==="NOT_MARKED"?!H:H===d:!0).map(({staff:H,status:J})=>{var ce,fe,Z,he;return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100 hover:bg-gray-50 transition",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${J==="present"?"bg-green-500":J==="absent"?"bg-red-500":J==="leave"?"bg-yellow-500":J==="half-day"?"bg-blue-500":"bg-gray-300"}`,children:a.jsx("span",{className:"text-white font-bold",children:((ce=H.name)==null?void 0:ce.charAt(0).toUpperCase())||((Z=(fe=H.user)==null?void 0:fe.name)==null?void 0:Z.charAt(0).toUpperCase())||"S"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:H.name||((he=H.user)==null?void 0:he.name)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[H.designation,"  ",H.department]})]})]}),a.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-semibold ${J==="present"?"bg-green-100 text-green-700":J==="absent"?"bg-red-100 text-red-700":J==="leave"?"bg-yellow-100 text-yellow-700":J==="half-day"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"}`,children:J?J==="half-day"?"Half Day":J.charAt(0).toUpperCase()+J.slice(1):"Not Marked"})]},H.id)})})]}):n==="mark"?a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_o,{className:"text-gray-400"}),a.jsx("input",{type:"date",value:h,onChange:H=>p(H.target.value),max:t.toISOString().split("T")[0],className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("select",{value:c,onChange:H=>u(H.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Departments"}),a.jsx("option",{value:"Administration",children:"Administration"}),a.jsx("option",{value:"Medical",children:"Medical"}),a.jsx("option",{value:"Nursing",children:"Nursing"}),a.jsx("option",{value:"Pharmacy",children:"Pharmacy"}),a.jsx("option",{value:"Laboratory",children:"Laboratory"}),a.jsx("option",{value:"Reception",children:"Reception"})]})]}),v?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[a.jsx(Rf,{className:"text-4xl mb-4"}),a.jsx("p",{className:"font-medium",children:"No staff members found"})]}):a.jsx("div",{className:"space-y-4",children:b.map(H=>{var ce,fe,Z,he;const J=M(H.id,h);return a.jsxs("div",{className:`flex flex-col lg:flex-row lg:items-center justify-between gap-4 p-4 rounded-xl border transition ${J?"bg-gray-50 border-gray-200":"bg-white border-gray-100 hover:border-blue-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:((ce=H.name)==null?void 0:ce.charAt(0).toUpperCase())||((Z=(fe=H.user)==null?void 0:fe.name)==null?void 0:Z.charAt(0).toUpperCase())||"S"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:H.name||((he=H.user)==null?void 0:he.name)}),a.jsxs("p",{className:"text-sm text-gray-500",children:[H.designation,"  ",H.department]})]}),J&&a.jsx("span",{className:`ml-4 px-3 py-1 rounded-full text-sm font-medium ${J==="present"?"bg-green-100 text-green-700":J==="absent"?"bg-red-100 text-red-700":J==="leave"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:J==="half-day"?"Half Day":J.charAt(0).toUpperCase()+J.slice(1)})]}),a.jsx(q,{staffId:H.id,currentStatus:J})]},H.id)})})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>L("prev"),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:a.jsx(Ca,{className:"text-gray-600"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{value:s,onChange:H=>i(parseInt(H.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Hde.map((H,J)=>a.jsx("option",{value:J,children:H},H))}),a.jsx("select",{value:o,onChange:H=>l(parseInt(H.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:x.map(H=>a.jsx("option",{value:H,children:H},H))})]}),a.jsx("button",{onClick:()=>L("next"),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:a.jsx(Oa,{className:"text-gray-600"})})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"P"}),"Present"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"A"}),"Absent"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"L"}),"Leave"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"H"}),"Half Day"]})]})]}),W?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[a.jsx(Rf,{className:"text-4xl mb-4"}),a.jsx("p",{className:"font-medium",children:"No staff members found"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase sticky left-0 bg-gray-50 min-w-[180px]",children:"Staff"}),g.map(H=>a.jsx("th",{className:`px-1 py-3 text-center text-xs font-semibold min-w-[36px] ${R(H)?"bg-red-50 text-red-600":"text-gray-600"}`,children:H},H)),a.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-green-600 bg-green-50 min-w-[50px]",children:"P"}),a.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-red-600 bg-red-50 min-w-[50px]",children:"A"}),a.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-yellow-600 bg-yellow-50 min-w-[50px]",children:"L"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:b.map(H=>{var he,$;const J=C.filter(oe=>oe.staffId===H.id),ce=J.filter(oe=>oe.status==="PRESENT").length,fe=J.filter(oe=>oe.status==="ABSENT").length,Z=J.filter(oe=>oe.status==="ON_LEAVE").length;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-2 whitespace-nowrap sticky left-0 bg-white",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm",children:((he=H.name)==null?void 0:he.charAt(0).toUpperCase())||"S"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 text-sm",children:H.name||(($=H.user)==null?void 0:$.name)}),a.jsx("p",{className:"text-xs text-gray-500",children:H.designation})]})]})}),g.map(oe=>{const D=E(H.id,oe),Y=F(oe),se=`${o}-${String(s+1).padStart(2,"0")}-${String(oe).padStart(2,"0")}`;return a.jsx("td",{className:`px-1 py-2 text-center ${R(oe)?"bg-red-50":""}`,children:Y?a.jsx("span",{className:"text-gray-300",children:"-"}):D?a.jsx("button",{onClick:()=>{const je=["present","absent","leave","half-day"],be=je[(je.indexOf(D)+1)%je.length];_(H.id,be,se)},className:"transition hover:scale-110",title:`Click to change (currently: ${D})`,children:a.jsx(G,{status:D})}):a.jsx("button",{onClick:()=>_(H.id,"present",se),className:"w-7 h-7 rounded-full border-2 border-dashed border-gray-300 text-gray-400 hover:border-green-500 hover:text-green-500 hover:bg-green-50 transition text-xs",title:"Click to mark present",children:"+"})},oe)}),a.jsx("td",{className:"px-3 py-2 text-center bg-green-50",children:a.jsx("span",{className:"font-bold text-green-600",children:ce})}),a.jsx("td",{className:"px-3 py-2 text-center bg-red-50",children:a.jsx("span",{className:"font-bold text-red-600",children:fe})}),a.jsx("td",{className:"px-3 py-2 text-center bg-yellow-50",children:a.jsx("span",{className:"font-bold text-yellow-600",children:Z})})]},H.id)})})]})})]})})]})]})})}const Gk=[{value:"CASUAL",label:"Casual Leave"},{value:"SICK",label:"Sick Leave"},{value:"EARNED",label:"Earned Leave"},{value:"UNPAID",label:"Unpaid Leave"}],Yk={PENDING:"bg-yellow-100 text-yellow-800 border-yellow-200",APPROVED:"bg-green-100 text-green-800 border-green-200",REJECTED:"bg-red-100 text-red-800 border-red-200"},qde={PENDING:wa,APPROVED:Lo,REJECTED:Kh};function Kde(){var J,ce,fe;const e=ln(),[t,n]=N.useState(1),[r,s]=N.useState(""),[i,o]=N.useState(!1),[l,c]=N.useState(null),u=10,{register:d,handleSubmit:f,reset:h,watch:p,formState:{errors:m}}=Ut(),g=p("startDate"),{data:x,isLoading:y}=De({queryKey:["staff-list"],queryFn:()=>Gn.getAll({limit:100}),staleTime:3e4}),v=(x==null?void 0:x.data)||[],b=tt("leaves:read"),j=tt("leaves:create"),w=tt("leaves:update"),{data:S,isLoading:P,error:A}=De({queryKey:["leaves-list",t,u,r],queryFn:()=>Gn.getLeaves({page:t,limit:u,status:r||void 0}),staleTime:1e4}),C=(S==null?void 0:S.data)||[],T=((J=S==null?void 0:S.pagination)==null?void 0:J.totalPages)||1,k=((ce=S==null?void 0:S.pagination)==null?void 0:ce.total)||0,{data:O}=De({queryKey:["leaves-summary"],queryFn:()=>Gn.getLeaves({limit:500}),staleTime:3e4,refetchOnWindowFocus:!1}),I=(O==null?void 0:O.data)||[],M={total:I.length,pending:I.filter(Z=>Z.status==="PENDING").length,approved:I.filter(Z=>Z.status==="APPROVED").length,rejected:I.filter(Z=>Z.status==="REJECTED").length};if(!b)return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-100 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"You don't have permission to view Leave Management."})]})})});const E=Ge({mutationFn:Z=>Gn.applyLeave(Z),onSuccess:()=>{ae.success("Leave application submitted successfully"),e.invalidateQueries({queryKey:["leaves-list"]}),e.invalidateQueries({queryKey:["leaves-summary"]}),o(!1),h()},onError:Z=>{var he,$;ae.error((($=(he=Z.response)==null?void 0:he.data)==null?void 0:$.message)||"Failed to submit leave application")}}),_=Ge({mutationFn:({id:Z,status:he})=>Gn.updateLeaveStatus(Z,{status:he}),onSuccess:(Z,he)=>{ae.success(`Leave ${he.status.toLowerCase()} successfully`),e.invalidateQueries({queryKey:["leaves-list"]}),e.invalidateQueries({queryKey:["leaves-summary"]})},onError:Z=>{var he,$;ae.error((($=(he=Z.response)==null?void 0:he.data)==null?void 0:$.message)||"Failed to update leave status")}}),L=Z=>{E.mutate({staffId:Z.staffId,startDate:Z.startDate,endDate:Z.endDate,type:Z.type,reason:Z.reason})},R=Z=>{if(!w){ae.error("You don't have permission to update leave status");return}window.confirm(`Approve leave for ${G(Z)}?`)&&_.mutate({id:Z.id,status:"APPROVED"})},F=Z=>{if(!w){ae.error("You don't have permission to update leave status");return}window.confirm(`Reject leave for ${G(Z)}?`)&&_.mutate({id:Z.id,status:"REJECTED"})},W=Z=>Z?new Date(Z).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-",q=(Z,he)=>{if(!Z||!he)return 0;const $=new Date(Z),oe=new Date(he),D=Math.abs(oe-$);return Math.ceil(D/(1e3*60*60*24))+1},G=Z=>{var he,$,oe;return(($=(he=Z.staff)==null?void 0:he.user)==null?void 0:$.name)||((oe=Z.staff)==null?void 0:oe.name)||"Unknown Staff"},H=Z=>{const he=Gk.find($=>$.value===Z);return(he==null?void 0:he.label)||Z};return a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave Management"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Review and manage staff leave requests"})]}),j?a.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[a.jsx(Ur,{}),"Apply Leave"]}):a.jsx("div",{className:"text-sm text-gray-500",children:"You don't have permission to apply for leave."})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:a.jsx(_o,{className:"text-blue-600 text-xl"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Requests"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.total})]})]})}),a.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-4 cursor-pointer transition hover:border-yellow-300 ${r==="PENDING"?"ring-2 ring-yellow-400":""}`,onClick:()=>s(r==="PENDING"?"":"PENDING"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:a.jsx(wa,{className:"text-yellow-600 text-xl"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:M.pending})]})]})}),a.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-4 cursor-pointer transition hover:border-green-300 ${r==="APPROVED"?"ring-2 ring-green-400":""}`,onClick:()=>s(r==="APPROVED"?"":"APPROVED"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:a.jsx(Lo,{className:"text-green-600 text-xl"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Approved"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:M.approved})]})]})}),a.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-4 cursor-pointer transition hover:border-red-300 ${r==="REJECTED"?"ring-2 ring-red-400":""}`,onClick:()=>s(r==="REJECTED"?"":"REJECTED"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:a.jsx(Kh,{className:"text-red-600 text-xl"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:M.rejected})]})]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(E5,{className:"text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Filter:"}),a.jsxs("select",{value:r,onChange:Z=>{s(Z.target.value),n(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[a.jsx("option",{value:"",children:"All Requests"}),a.jsx("option",{value:"PENDING",children:"Pending Only"}),a.jsx("option",{value:"APPROVED",children:"Approved Only"}),a.jsx("option",{value:"REJECTED",children:"Rejected Only"})]})]}),r&&a.jsx("button",{onClick:()=>s(""),className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear Filter"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:P?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):A?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-red-500",children:[a.jsx(Kh,{className:"text-4xl mb-4"}),a.jsx("p",{className:"font-medium",children:"Failed to load leave requests"}),a.jsx("p",{className:"text-sm mt-1",children:A.message})]}):C.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[a.jsx(Pae,{className:"text-4xl mb-4"}),a.jsx("p",{className:"font-medium",children:"No leave requests found"}),a.jsx("p",{className:"text-sm mt-1",children:r?"Try adjusting your filters":'Click "Apply Leave" to create the first request'})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divide-y divide-gray-100",children:C.map(Z=>{var oe;const he=qde[Z.status]||wa,$=q(Z.startDate,Z.endDate);return a.jsx("div",{className:"p-4 hover:bg-gray-50 transition",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-bold text-lg",children:G(Z).charAt(0).toUpperCase()})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:G(Z)}),a.jsx("p",{className:"text-sm text-gray-500",children:((oe=Z.staff)==null?void 0:oe.designation)||"Staff"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[a.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-blue-50 text-blue-700 text-xs font-medium",children:H(Z.type)}),a.jsxs("span",{className:"text-xs text-gray-500",children:[W(Z.startDate)," - ",W(Z.endDate)]}),a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-gray-100 text-gray-700 text-xs font-medium",children:[$," day",$>1?"s":""]})]}),Z.reason&&a.jsxs("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:[a.jsx("span",{className:"font-medium",children:"Reason:"})," ",Z.reason]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium border ${Yk[Z.status]}`,children:[a.jsx(he,{className:"text-xs"}),Z.status]}),Z.status==="PENDING"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>R(Z),disabled:_.isPending,className:"flex items-center gap-1.5 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 transition text-sm",children:[a.jsx(Wn,{}),"Approve"]}),a.jsxs("button",{onClick:()=>F(Z),disabled:_.isPending,className:"flex items-center gap-1.5 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 transition text-sm",children:[a.jsx(Bu,{}),"Reject"]})]}),a.jsx("button",{onClick:()=>c(Z),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition",title:"View Details",children:a.jsx(Cn,{})})]})]})},Z.id)})}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100 bg-gray-50",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(t-1)*u+1," to"," ",Math.min(t*u,k)," of ",k," requests"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>n(Z=>Math.max(1,Z-1)),disabled:t===1,className:"p-2 border border-gray-300 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition",children:a.jsx(Ca,{className:"text-gray-600"})}),a.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",t," of ",T]}),a.jsx("button",{onClick:()=>n(Z=>Math.min(T,Z+1)),disabled:t===T,className:"p-2 border border-gray-300 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition",children:a.jsx(Oa,{className:"text-gray-600"})})]})]})]})})]}),a.jsx(ft,{isOpen:i,onClose:()=>{o(!1),h()},title:"Apply for Leave",size:"md",children:a.jsx("form",{onSubmit:f(L),className:"space-y-4",children:y?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):v.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx("p",{children:"No staff members found."}),a.jsx("p",{className:"text-sm mt-1",children:"Please add staff members first."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Staff Member ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{...d("staffId",{required:"Staff member is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Staff Member"}),v.map(Z=>{var he;return a.jsxs("option",{value:Z.id,children:[((he=Z.user)==null?void 0:he.name)||Z.name," - ",Z.designation||"Staff"]},Z.id)})]}),m.staffId&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.staffId.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Leave Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{...d("type",{required:"Leave type is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Leave Type"}),Gk.map(Z=>a.jsx("option",{value:Z.value,children:Z.label},Z.value))]}),m.type&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.type.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",...d("startDate",{required:"Start date is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),m.startDate&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.startDate.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["End Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",...d("endDate",{required:"End date is required"}),min:g,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),m.endDate&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.endDate.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),a.jsx("textarea",{...d("reason"),rows:3,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Enter reason for leave (optional)..."})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{o(!1),h()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:E.isPending||v.length===0,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:E.isPending?"Submitting...":"Submit Application"})]})]})})}),a.jsx(ft,{isOpen:!!l,onClose:()=>c(null),title:"Leave Details",size:"md",children:l&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-2xl",children:G(l).charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900 text-xl",children:G(l)}),a.jsx("p",{className:"text-gray-500",children:((fe=l.staff)==null?void 0:fe.designation)||"Staff"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Leave Type"}),a.jsx("p",{className:"font-medium text-gray-900",children:H(l.type)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),a.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-medium ${Yk[l.status]}`,children:l.status})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Start Date"}),a.jsx("p",{className:"font-medium text-gray-900",children:W(l.startDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"End Date"}),a.jsx("p",{className:"font-medium text-gray-900",children:W(l.endDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),a.jsxs("p",{className:"font-medium text-gray-900",children:[q(l.startDate,l.endDate)," day(s)"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Applied On"}),a.jsx("p",{className:"font-medium text-gray-900",children:W(l.createdAt)})]})]}),l.reason&&a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Reason"}),a.jsx("p",{className:"text-gray-900",children:l.reason})]}),l.status==="PENDING"&&a.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[a.jsxs("button",{onClick:()=>{R(l),c(null)},disabled:_.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 transition",children:[a.jsx(Wn,{}),"Approve Leave"]}),a.jsxs("button",{onClick:()=>{F(l),c(null)},disabled:_.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 transition",children:[a.jsx(Bu,{}),"Reject Leave"]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx("button",{onClick:()=>c(null),className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition",children:"Close"})})]})})]})}const cf={getSalesReport:async(e={})=>(await ee.get("/reports/sales",{params:e})).data,getOPDReport:async(e={})=>(await ee.get("/reports/opd",{params:e})).data,getPatientReport:async(e={})=>(await ee.get("/reports/patients",{params:e})).data,getPharmacyReport:async(e={})=>(await ee.get("/reports/pharmacy",{params:e})).data,getCommissionReport:async(e={})=>(await ee.get("/reports/commissions",{params:e})).data};om.register(gx,xx,ah,na,oh,Ff,g9,y9,p9,f9);const Gde=[{id:"sales",label:"Sales",icon:pl},{id:"opd",label:"OPD",icon:n0},{id:"pharmacy",label:"Pharmacy",icon:Hh},{id:"commissions",label:"Commissions",icon:bv}],er=({title:e,value:t,change:n,changeType:r,icon:s,color:i})=>a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),n!==void 0&&a.jsxs("p",{className:`text-sm mt-1 flex items-center gap-1 ${r==="increase"?"text-green-600":"text-red-600"}`,children:[r==="increase"?a.jsx(tae,{className:"text-xs"}):a.jsx(eae,{className:"text-xs"}),Math.abs(n),"% from last period"]})]}),a.jsx("div",{className:`w-12 h-12 ${i} rounded-xl flex items-center justify-center`,children:a.jsx(s,{className:"text-xl text-white"})})]})});function Yde(){var k,O,I,M,E,_,L;const[e,t]=N.useState("sales"),[n,r]=N.useState({startDate:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[s,i]=N.useState("day"),o=tt("reports:sales",["SUPER_ADMIN","DOCTOR","ACCOUNTANT"]),l=tt("reports:opd",["SUPER_ADMIN","DOCTOR","ACCOUNTANT"]),c=tt("reports:pharmacy",["SUPER_ADMIN","DOCTOR","ACCOUNTANT"]),u=tt("reports:commissions",["SUPER_ADMIN","DOCTOR","ACCOUNTANT"]);if(!(tt("reports:view",["DOCTOR","SUPER_ADMIN","ACCOUNTANT"])||o||l||c||u))return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Reports not available"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Your role does not have access to reports. Contact the clinic administrator if you need access."})]})})});const h=Gde.filter(R=>{switch(R.id){case"sales":return o;case"opd":return l;case"pharmacy":return c;case"commissions":return u;default:return!1}}),{data:p,isLoading:m}=De({queryKey:["report",e,n,s],queryFn:()=>{const R={startDate:n.startDate,endDate:n.endDate,groupBy:s};switch(e){case"sales":return cf.getSalesReport(R);case"opd":return cf.getOPDReport(R);case"pharmacy":return cf.getPharmacyReport(R);case"commissions":return cf.getCommissionReport(R);default:return cf.getSalesReport(R)}}}),g=(p==null?void 0:p.data)||{},x={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}},interaction:{mode:"nearest",axis:"x",intersect:!1}},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}},b=N.useMemo(()=>{const R=[],F=new Date(n.startDate),W=new Date(n.endDate),q=new Date(F);for(;q<=W;)s==="day"?(R.push(q.toLocaleDateString("en-IN",{day:"2-digit",month:"short"})),q.setDate(q.getDate()+1)):s==="week"?(R.push(`Week ${Math.ceil(q.getDate()/7)}`),q.setDate(q.getDate()+7)):(R.push(q.toLocaleDateString("en-IN",{month:"short",year:"numeric"})),q.setMonth(q.getMonth()+1));return R.slice(0,30)},[n,s]),j={labels:((k=g.chartData)==null?void 0:k.labels)||b,datasets:[{label:"Revenue",data:((O=g.chartData)==null?void 0:O.revenue)||b.map(()=>0),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},w={labels:((I=g.chartData)==null?void 0:I.labels)||b,datasets:[{label:"New Patients",data:((M=g.chartData)==null?void 0:M.patients)||b.map(()=>0),backgroundColor:"rgba(16, 185, 129, 0.8)",borderRadius:4},{label:"Consultations",data:((E=g.chartData)==null?void 0:E.consultations)||b.map(()=>0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderRadius:4}]},S={labels:((_=g.chartData)==null?void 0:_.labels)||b,datasets:[{label:"Sales",data:((L=g.chartData)==null?void 0:L.sales)||b.map(()=>0),borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",fill:!0,tension:.4}]},P={labels:["Doctors","Agents","Labs","Others"],datasets:[{data:g.breakdown||[45,25,20,10],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(251, 146, 60, 0.8)","rgba(168, 85, 247, 0.8)"],borderWidth:0}]},A=R=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(R||0),C=()=>{const R=[["Report Type",e.toUpperCase()],["Date Range",`${n.startDate} to ${n.endDate}`],["Generated On",new Date().toLocaleString()],[],["Date","Value"],...b.map((G,H)=>[G,e==="sales"?j.datasets[0].data[H]:e==="opd"?w.datasets[0].data[H]:S.datasets[0].data[H]])].map(G=>G.join(",")).join(`
`),F=new Blob([R],{type:"text/csv"}),W=window.URL.createObjectURL(F),q=document.createElement("a");q.href=W,q.download=`${e}-report-${n.startDate}-${n.endDate}.csv`,q.click(),window.URL.revokeObjectURL(W)},T=()=>{var R,F,W,q,G,H,J,ce,fe;switch(e){case"sales":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsx(er,{title:"Total Revenue",value:A(g.totalRevenue||0),change:g.revenueChange,changeType:"increase",icon:pl,color:"bg-blue-500"}),a.jsx(er,{title:"Total Transactions",value:g.totalTransactions||0,change:g.transactionsChange,changeType:"increase",icon:Zm,color:"bg-green-500"}),a.jsx(er,{title:"Average Bill",value:A(g.avgBill||0),change:g.avgBillChange,changeType:"increase",icon:ou,color:"bg-purple-500"}),a.jsx(er,{title:"Outstanding",value:A(g.outstanding||0),change:g.outstandingChange,changeType:"decrease",icon:pl,color:"bg-orange-500"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),a.jsx("div",{className:"h-80",children:a.jsx(zj,{data:j,options:x})})]})]});case"opd":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsx(er,{title:"Total Patients",value:g.totalPatients||0,change:g.patientsChange,changeType:"increase",icon:n0,color:"bg-blue-500"}),a.jsx(er,{title:"Consultations",value:g.totalConsultations||0,change:g.consultationsChange,changeType:"increase",icon:Zm,color:"bg-green-500"}),a.jsx(er,{title:"New Patients",value:g.newPatients||0,change:g.newPatientsChange,changeType:"increase",icon:ou,color:"bg-purple-500"}),a.jsx(er,{title:"Revisits",value:g.revisits||0,change:g.revisitsChange,changeType:"increase",icon:n0,color:"bg-orange-500"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Patient & Consultation Trends"}),a.jsx("div",{className:"h-80",children:a.jsx(j9,{data:w,options:y})})]})]});case"pharmacy":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsx(er,{title:"Total Sales",value:A(g.totalSales||0),change:g.salesChange,changeType:"increase",icon:pl,color:"bg-purple-500"}),a.jsx(er,{title:"Transactions",value:g.totalTransactions||0,change:g.transactionsChange,changeType:"increase",icon:Hh,color:"bg-blue-500"}),a.jsx(er,{title:"Low Stock Items",value:g.lowStockCount||0,change:g.lowStockChange,changeType:"decrease",icon:Zm,color:"bg-red-500"}),a.jsx(er,{title:"Total Products",value:g.totalProducts||0,change:g.productsChange,changeType:"increase",icon:ou,color:"bg-green-500"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pharmacy Sales Trend"}),a.jsx("div",{className:"h-80",children:a.jsx(zj,{data:S,options:x})})]})]});case"commissions":const Z=((R=g.summary)==null?void 0:R.totalCommission)||0,he=Z-(((F=g.summary)==null?void 0:F.pendingAmount)||0),$=((W=g.summary)==null?void 0:W.pendingAmount)||0;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsx(er,{title:"Total Commissions",value:A(Z),change:g.commissionsChange,changeType:"increase",icon:bv,color:"bg-green-500"}),a.jsx(er,{title:"Paid",value:A(he),change:g.paidChange,changeType:"increase",icon:pl,color:"bg-blue-500"}),a.jsx(er,{title:"Pending",value:A($),change:g.pendingChange,changeType:"decrease",icon:Zm,color:"bg-orange-500"}),a.jsx(er,{title:"Total Records",value:((q=g.summary)==null?void 0:q.count)||0,change:g.recordsChange,changeType:"increase",icon:n0,color:"bg-purple-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Commission Breakdown"}),a.jsx("div",{className:"h-64",children:a.jsx(fde,{data:P,options:v})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Commission Summary"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm",children:"L"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Lab Commissions"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[((G=g.byLab)==null?void 0:G.length)||0," labs"]})]})]}),a.jsx("span",{className:"font-semibold text-green-600",children:A(((H=g.byLab)==null?void 0:H.reduce((oe,D)=>{var Y;return oe+(((Y=D._sum)==null?void 0:Y.amount)||0)},0))||0)})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-semibold text-sm",children:"A"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Agent Commissions"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[((J=g.byAgent)==null?void 0:J.length)||0," agents"]})]})]}),a.jsx("span",{className:"font-semibold text-green-600",children:A(((ce=g.byAgent)==null?void 0:ce.reduce((oe,D)=>{var Y;return oe+(((Y=D._sum)==null?void 0:Y.amount)||0)},0))||0)})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-600 font-semibold text-sm",children:"P"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Pending Payments"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[((fe=g.summary)==null?void 0:fe.pendingCount)||0," records"]})]})]}),a.jsx("span",{className:"font-semibold text-orange-600",children:A($)})]})]})]})]})]});default:return null}};return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"View detailed reports and insights"})]}),a.jsxs("button",{onClick:C,className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[a.jsx(cae,{}),"Export Report"]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[a.jsx("div",{className:"flex border-b border-gray-100",children:h.map(R=>a.jsxs("button",{onClick:()=>t(R.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition ${e===R.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(R.icon,{}),R.label]},R.id))}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_o,{className:"text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:"From:"}),a.jsx("input",{type:"date",value:n.startDate,onChange:R=>r(F=>({...F,startDate:R.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"To:"}),a.jsx("input",{type:"date",value:n.endDate,onChange:R=>r(F=>({...F,endDate:R.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsxs("select",{value:s,onChange:R=>i(R.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[a.jsx("option",{value:"day",children:"Daily"}),a.jsx("option",{value:"week",children:"Weekly"}),a.jsx("option",{value:"month",children:"Monthly"})]}),a.jsxs("div",{className:"flex gap-2 ml-auto",children:[a.jsx("button",{onClick:()=>{const R=new Date,F=new Date(R);F.setDate(F.getDate()-7),r({startDate:F.toISOString().split("T")[0],endDate:R.toISOString().split("T")[0]})},className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Last 7 Days"}),a.jsx("button",{onClick:()=>{const R=new Date,F=new Date(R);F.setDate(F.getDate()-30),r({startDate:F.toISOString().split("T")[0],endDate:R.toISOString().split("T")[0]})},className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Last 30 Days"}),a.jsx("button",{onClick:()=>{const R=new Date,F=new Date(R);F.setMonth(F.getMonth()-3),r({startDate:F.toISOString().split("T")[0],endDate:R.toISOString().split("T")[0]})},className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Last 3 Months"})]})]})})]}),m?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):T()]})})}const gg=[{id:"labs",label:"Labs",icon:Fu},{id:"agents",label:"Agents",icon:Ej},{id:"commissions",label:"Commissions",icon:bv}];function t2(){var te,Me,Re,ct,Wt,yt,Vn;const e=ln(),t=ds(),r=t.pathname==="/labs"||t.pathname.startsWith("/labs/")?gg.filter(me=>me.id==="labs"):gg.filter(me=>me.id!=="labs"),s=new URLSearchParams(t.search),i=s.get("tab"),o=r.some(me=>me.id===i)?i:r[0].id,[l,c]=N.useState(o);N.useEffect(()=>{r.find(me=>me.id===l)||c(r[0].id)},[l,r]),N.useEffect(()=>{const me=s.get("tab"),$t=t.pathname==="/labs"||t.pathname.startsWith("/labs/")?gg.filter(Di=>Di.id==="labs"):gg.filter(Di=>Di.id!=="labs"),pn=$t.some(Di=>Di.id===me)?me:$t[0].id;pn!==l&&(c(pn),h(1),d(""))},[t.pathname,t.search]);const[u,d]=N.useState(""),[f,h]=N.useState(1),[p,m]=N.useState("all"),[g,x]=N.useState(!1),[y,v]=N.useState(!1),[b,j]=N.useState(!1),[w,S]=N.useState(null),P=10,{register:A,handleSubmit:C,reset:T,formState:{errors:k}}=Ut(),{register:O,handleSubmit:I,reset:M,setValue:E,formState:{errors:_}}=Ut(),{register:L,handleSubmit:R,reset:F}=Ut(),{data:W,isLoading:q}=De({queryKey:["labs",f,P,u],queryFn:()=>Tr.getLabs({page:f,limit:P,search:u}),enabled:l==="labs"}),{data:G,isLoading:H}=De({queryKey:["agents",f,P,u],queryFn:()=>Tr.getAgents({page:f,limit:P,search:u}),enabled:l==="agents"}),{data:J,isLoading:ce}=De({queryKey:["commissions",f,P,p],queryFn:()=>Tr.getCommissions({page:f,limit:P,status:p==="all"?void 0:p}),enabled:l==="commissions"}),fe=(W==null?void 0:W.data)||[],Z=(G==null?void 0:G.data)||[],he=(J==null?void 0:J.data)||[],$=l==="labs"?((te=W==null?void 0:W.pagination)==null?void 0:te.totalPages)||1:l==="agents"?((Me=G==null?void 0:G.pagination)==null?void 0:Me.totalPages)||1:((Re=J==null?void 0:J.pagination)==null?void 0:Re.totalPages)||1,oe=l==="labs"?((ct=W==null?void 0:W.pagination)==null?void 0:ct.total)||0:l==="agents"?((Wt=G==null?void 0:G.pagination)==null?void 0:Wt.total)||0:((yt=J==null?void 0:J.pagination)==null?void 0:yt.total)||0,D=N.useMemo(()=>{var zd,ym;const me=((zd=W==null?void 0:W.pagination)==null?void 0:zd.total)||0,$t=fe.filter(Fs=>Fs.isActive!==!1).length,pn=((ym=G==null?void 0:G.pagination)==null?void 0:ym.total)||0,Di=Z.filter(Fs=>Fs.isActive!==!1).length,xm=he.filter(Fs=>(Fs.status||"").toUpperCase()!=="PAID").length,it=he.filter(Fs=>(Fs.status||"").toUpperCase()!=="PAID").reduce((Fs,gc)=>Fs+Number(gc.amount||0),0);return{totalLabs:me,activeLabsOnPage:$t,totalAgents:pn,activeAgentsOnPage:Di,pendingCount:xm,pendingAmount:it}},[fe,Z,he,W,G]),Y=Ge({mutationFn:me=>Tr.createAgent(me),onSuccess:()=>{ae.success("Agent added successfully"),e.invalidateQueries(["agents"]),x(!1),T()},onError:me=>{var $t,pn;ae.error(((pn=($t=me.response)==null?void 0:$t.data)==null?void 0:pn.message)||"Failed to add agent")}}),se=Ge({mutationFn:({id:me,data:$t})=>Tr.updateAgent(me,$t),onSuccess:()=>{ae.success("Agent updated successfully"),e.invalidateQueries(["agents"]),v(!1),S(null),M()},onError:me=>{var $t,pn;ae.error(((pn=($t=me.response)==null?void 0:$t.data)==null?void 0:pn.message)||"Failed to update agent")}}),je=Ge({mutationFn:me=>Tr.deleteAgent(me),onSuccess:()=>{ae.success("Agent deleted successfully"),e.invalidateQueries(["agents"])},onError:me=>{var $t,pn;ae.error(((pn=($t=me.response)==null?void 0:$t.data)==null?void 0:pn.message)||"Failed to delete agent")}}),be=Ge({mutationFn:({id:me,data:$t})=>Tr.markCommissionPaid(me,$t),onSuccess:()=>{ae.success("Commission marked as paid"),e.invalidateQueries(["commissions"]),j(!1),S(null),F()},onError:me=>{var $t,pn;ae.error(((pn=($t=me.response)==null?void 0:$t.data)==null?void 0:pn.message)||"Failed to process payment")}}),_e=me=>{d(me.target.value),h(1)},ne=me=>{c(me),h(1),d("")},Ne=me=>{Y.mutate({name:me.name,address:me.address,phone:me.phone,email:me.email,commissionType:"PERCENTAGE",commissionValue:me.commissionRate?parseFloat(me.commissionRate):0,discountAllowed:me.discountAllowed?parseFloat(me.discountAllowed):0})},Ce=me=>{w&&se.mutate({id:w.id,data:{name:me.name,address:me.address,phone:me.phone,email:me.email,commissionValue:me.commissionRate?parseFloat(me.commissionRate):void 0,discountAllowed:me.discountAllowed?parseFloat(me.discountAllowed):void 0}})},ze=me=>{w&&be.mutate({id:w.id,data:{paymentMethod:me.paymentMethod,paymentReference:me.paymentReference,paymentDate:me.paymentDate,notes:me.notes}})},U=me=>{S(me),E("name",me.name),E("email",me.email),E("phone",me.phone),E("address",me.address),E("commissionRate",me.commissionRate||me.commissionValue),E("discountAllowed",me.discountAllowed||0),v(!0)},X=me=>{S(me),j(!0)},V=me=>{window.confirm(`Are you sure you want to delete "${me.name}"?`)&&je.mutate(me.id)},le=me=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(me||0),re=me=>me?new Date(me).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-",K=q||H||ce,de=tt("agents:create",["SUPER_ADMIN","DOCTOR"]),Ae=tt("agents:update",["SUPER_ADMIN","DOCTOR"]),Oe=tt("agents:manage",["SUPER_ADMIN","DOCTOR"]),Fe=tt("commissions:pay",["SUPER_ADMIN","ACCOUNTANT"]),et=()=>a.jsx("div",{className:"grid gap-4",children:fe.map(me=>a.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-5 shadow-sm",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-sky-100 text-sky-700 flex items-center justify-center",children:a.jsx(Fu,{})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:me.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex flex-wrap gap-4 mt-1",children:[a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(lx,{})," ",me.phone||"-"]}),a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(To,{})," ",me.email||"-"]}),a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(Tj,{})," ",me.address||"-"]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsxs("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-emerald-100 text-emerald-700",children:["Commission: ",me.commissionValue||0,"%"]}),a.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${me.isActive!==!1?"bg-blue-100 text-blue-700":"bg-rose-100 text-rose-700"}`,children:me.isActive!==!1?"Active":"Inactive"})]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(Be,{to:`/labs-agents/${me.id}/tests`,className:"px-3 py-2 text-sm rounded-lg border border-sky-200 text-sky-700 hover:bg-sky-50",children:"Manage Tests"})})]})},me.id))}),ie=()=>a.jsx("div",{className:"grid gap-4",children:Z.map(me=>a.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-5 shadow-sm",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 text-amber-700 flex items-center justify-center",children:a.jsx(Ej,{})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:me.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex flex-wrap gap-4 mt-1",children:[a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(lx,{})," ",me.phone||"-"]}),a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(To,{})," ",me.email||"-"]}),a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(Tj,{})," ",me.address||"-"]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsxs("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-emerald-100 text-emerald-700",children:["Commission: ",me.commissionRate||me.commissionValue||0,"%"]}),a.jsxs("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-slate-100 text-slate-700",children:["Discount Allowed: ",me.discountAllowed||0,"%"]}),a.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${me.isActive!==!1?"bg-blue-100 text-blue-700":"bg-rose-100 text-rose-700"}`,children:me.isActive!==!1?"Active":"Inactive"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[Ae&&a.jsxs("button",{onClick:()=>U(me),className:"px-3 py-2 text-sm rounded-lg border border-blue-200 text-blue-600 hover:bg-blue-50",children:[a.jsx(im,{className:"inline-block mr-2"})," Edit"]}),Oe&&a.jsxs("button",{onClick:()=>V(me),className:"px-3 py-2 text-sm rounded-lg border border-rose-200 text-rose-600 hover:bg-rose-50",children:[a.jsx(Vu,{className:"inline-block mr-2"})," Remove"]})]})]})},me.id))}),z=()=>a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Agent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:he.map(me=>{var $t;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-medium text-gray-900",children:(($t=me.agent)==null?void 0:$t.name)||me.partnerName||"Agent"}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Ref: ",me.reference||me.refNo||"-"]})]}),a.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900",children:le(me.amount)}),a.jsx("td",{className:"px-6 py-4 text-gray-600",children:re(me.createdAt)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${(me.status||"").toUpperCase()==="PAID"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:(me.status||"PENDING").toUpperCase()})}),a.jsx("td",{className:"px-6 py-4 text-right",children:Fe&&(me.status||"").toUpperCase()!=="PAID"&&a.jsxs("button",{onClick:()=>X(me),className:"inline-flex items-center gap-2 px-3 py-2 bg-emerald-600 text-white rounded-lg text-sm hover:bg-emerald-700",children:[a.jsx(Wn,{})," Mark Paid"]})})]},me.id)})})]})}),xe=l==="labs"?"Labs":"Agents & Commissions",ye=l==="labs"?"Manage referral labs and open their test catalog from here.":"Hire agents on commission to bring patients to your clinic. Track payouts in one place.";return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"bg-gradient-to-r from-amber-50 via-white to-blue-50 border border-gray-100 rounded-2xl p-6 mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:xe}),a.jsx("p",{className:"text-gray-600 mt-1",children:ye})]}),l==="agents"&&de&&a.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center justify-center gap-2 bg-amber-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-amber-700",children:[a.jsx(Ur,{})," Add Agent"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:l==="labs"?"Total Labs":"Total Agents"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:l==="labs"?D.totalLabs:D.totalAgents})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Active (Page)"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:l==="labs"?D.activeLabsOnPage:D.activeAgentsOnPage})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Pending Commissions"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:D.pendingCount})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Pending Amount"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:le(D.pendingAmount)})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[r.length>1&&a.jsx("div",{className:"flex border-b border-gray-100",children:r.map(me=>a.jsxs("button",{onClick:()=>ne(me.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition ${l===me.id?"text-amber-700 border-b-2 border-amber-600 bg-amber-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[a.jsx(me.icon,{}),me.label]},me.id))}),(l==="agents"||l==="labs")&&a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:u,onChange:_e,placeholder:l==="labs"?"Search labs by name or contact person...":"Search agents by name or phone...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]})}),l==="commissions"&&a.jsxs("div",{className:"p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Track commission payouts for patient referrals."}),a.jsxs("select",{value:p,onChange:me=>{m(me.target.value),h(1)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"paid",children:"Paid"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[K?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600"})}):l==="labs"?fe.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[a.jsx(Fu,{className:"text-4xl mb-3"}),a.jsx("p",{className:"font-medium",children:"No labs yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Lab records will appear here once created."})]}):et():l==="agents"?Z.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[a.jsx(Ej,{className:"text-4xl mb-3"}),a.jsx("p",{className:"font-medium",children:"No agents yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Add your first agent to start tracking referrals."})]}):ie():he.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[a.jsx(bv,{className:"text-4xl mb-3"}),a.jsx("p",{className:"font-medium",children:"No commissions yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Commission records will appear here when created."})]}):z(),(l==="labs"?fe.length:l==="agents"?Z.length:he.length)>0&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(f-1)*P+1," to"," ",Math.min(f*P,oe)," of ",oe," items"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>h(me=>Math.max(1,me-1)),disabled:f===1,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Ca,{className:"text-gray-600"})}),a.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",f," of ",$]}),a.jsx("button",{onClick:()=>h(me=>Math.min($,me+1)),disabled:f===$,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Oa,{className:"text-gray-600"})})]})]})]}),a.jsx(ft,{isOpen:g,onClose:()=>{x(!1),T()},title:"Add Agent",size:"lg",children:a.jsxs("form",{onSubmit:C(Ne),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...A("name",{required:"Name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Agent name"}),k.name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:k.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",...A("email"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Email"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",...A("phone",{required:"Phone is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Phone number"}),k.phone&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:k.phone.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commission Rate (%)"}),a.jsx("input",{type:"number",step:"0.1",...A("commissionRate"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Allowed (%)"}),a.jsx("input",{type:"number",step:"0.1",...A("discountAllowed"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"0"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("textarea",{...A("address"),rows:2,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Address"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{x(!1),T()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:Y.isPending,className:"px-4 py-2.5 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700 disabled:opacity-50",children:Y.isPending?"Adding...":"Add Agent"})]})]})}),a.jsx(ft,{isOpen:y,onClose:()=>{v(!1),S(null),M()},title:"Edit Agent",size:"lg",children:a.jsxs("form",{onSubmit:I(Ce),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...O("name",{required:"Name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"}),_.name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:_.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",...O("email"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"tel",...O("phone",{required:"Phone is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"}),_.phone&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:_.phone.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commission Rate (%)"}),a.jsx("input",{type:"number",step:"0.1",...O("commissionRate"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Allowed (%)"}),a.jsx("input",{type:"number",step:"0.1",...O("discountAllowed"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("textarea",{...O("address"),rows:2,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{v(!1),S(null),M()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:se.isPending,className:"px-4 py-2.5 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700 disabled:opacity-50",children:se.isPending?"Saving...":"Save Changes"})]})]})}),a.jsx(ft,{isOpen:b,onClose:()=>{j(!1),S(null),F()},title:"Mark Commission as Paid",size:"md",children:a.jsxs("form",{onSubmit:R(ze),className:"space-y-4",children:[w&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Agent: ",a.jsx("span",{className:"font-medium text-gray-900",children:((Vn=w.agent)==null?void 0:Vn.name)||w.partnerName||"Agent"})]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Amount: ",a.jsx("span",{className:"font-medium text-gray-900",children:le(w.amount)})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Payment Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{...L("paymentMethod",{required:"Payment method is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[a.jsx("option",{value:"",children:"Select payment method"}),a.jsx("option",{value:"cash",children:"Cash"}),a.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),a.jsx("option",{value:"upi",children:"UPI"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Reference"}),a.jsx("input",{type:"text",...L("paymentReference"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Transaction ID / Cheque No."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date"}),a.jsx("input",{type:"date",...L("paymentDate"),defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{...L("notes"),rows:2,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Any additional notes..."})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{j(!1),S(null),F()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:be.isPending,className:"px-4 py-2.5 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 disabled:opacity-50",children:be.isPending?"Processing...":"Confirm Payment"})]})]})})]})})}function Xde(){const{labId:e}=qp(),t=ln(),[n,r]=N.useState(!1),[s,i]=N.useState(!1),[o,l]=N.useState(null),{register:c,handleSubmit:u,reset:d}=Ut(),{register:f,handleSubmit:h,setValue:p,reset:m}=Ut(),{data:g,isLoading:x}=De({queryKey:["labTests",e],queryFn:()=>Tr.getLabTests(e,{limit:100}),enabled:!!e}),y=Ge({mutationFn:A=>Tr.createLabTest(e,A),onSuccess:()=>{ae.success("Test created"),t.invalidateQueries(["labTests",e]),r(!1),d()},onError:A=>{var C,T;return ae.error(((T=(C=A.response)==null?void 0:C.data)==null?void 0:T.message)||"Failed to create")}}),v=Ge({mutationFn:({id:A,data:C})=>Tr.updateLabTest(e,A,C),onSuccess:()=>{ae.success("Test updated"),t.invalidateQueries(["labTests",e]),i(!1),l(null),m()},onError:A=>{var C,T;return ae.error(((T=(C=A.response)==null?void 0:C.data)==null?void 0:T.message)||"Failed to update")}}),b=Ge({mutationFn:A=>Tr.deleteLabTest(e,A),onSuccess:()=>{ae.success("Test deleted"),t.invalidateQueries(["labTests",e])},onError:A=>{var C,T;return ae.error(((T=(C=A.response)==null?void 0:C.data)==null?void 0:T.message)||"Failed to delete")}}),j=(g==null?void 0:g.data)||[],w=A=>{y.mutate({name:A.name,code:A.code,category:A.category,price:parseFloat(A.price||0),description:A.description})},S=A=>{o&&v.mutate({id:o.id,data:{name:A.name,code:A.code,category:A.category,price:parseFloat(A.price||0),description:A.description}})},P=A=>{l(A),p("name",A.name),p("code",A.code),p("category",A.category),p("price",A.price),p("description",A.description),i(!0)};return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Lab Tests"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage tests for the selected lab"}),a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Lab: ",a.jsx(Be,{to:"/labs-agents",className:"text-blue-600",children:"Back to Labs"})]})]}),a.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg",children:[" ",a.jsx(Ur,{})," Add Test"]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:x?a.jsx("div",{className:"p-8 text-center",children:"Loading..."}):j.length===0?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No tests found. Add one to get started."}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-4 py-3 text-sm text-gray-600",children:"Name"}),a.jsx("th",{className:"text-left px-4 py-3 text-sm text-gray-600",children:"Code"}),a.jsx("th",{className:"text-left px-4 py-3 text-sm text-gray-600",children:"Category"}),a.jsx("th",{className:"text-left px-4 py-3 text-sm text-gray-600",children:"Price"}),a.jsx("th",{className:"text-right px-4 py-3 text-sm text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y",children:j.map(A=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3",children:A.name}),a.jsx("td",{className:"px-4 py-3",children:A.code||"-"}),a.jsx("td",{className:"px-4 py-3",children:A.category||"-"}),a.jsx("td",{className:"px-4 py-3",children:A.price?`${A.price}`:"-"}),a.jsxs("td",{className:"px-4 py-3 text-right",children:[a.jsx("button",{onClick:()=>P(A),className:"p-2 text-blue-600 mr-2",children:a.jsx(im,{})}),a.jsx("button",{onClick:()=>{confirm("Delete test?")&&b.mutate(A.id)},className:"p-2 text-red-600",children:a.jsx(Vu,{})})]})]},A.id))})]})}),a.jsx(ft,{isOpen:n,onClose:()=>{r(!1),d()},title:"Add Lab Test",children:a.jsxs("form",{onSubmit:u(w),className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Name"}),a.jsx("input",{...c("name",{required:!0}),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Code"}),a.jsx("input",{...c("code"),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Category"}),a.jsx("input",{...c("category"),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Price"}),a.jsx("input",{type:"number",step:"0.01",...c("price"),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Description"}),a.jsx("textarea",{...c("description"),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 border rounded",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Add"})]})]})}),a.jsx(ft,{isOpen:s,onClose:()=>{i(!1),l(null),m()},title:"Edit Lab Test",children:a.jsxs("form",{onSubmit:h(S),className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Name"}),a.jsx("input",{...f("name",{required:!0}),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Code"}),a.jsx("input",{...f("code"),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Category"}),a.jsx("input",{...f("category"),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Price"}),a.jsx("input",{type:"number",step:"0.01",...f("price"),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700",children:"Description"}),a.jsx("textarea",{...f("description"),className:"w-full px-3 py-2 border rounded"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{i(!1),l(null),m()},className:"px-4 py-2 border rounded",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Save"})]})]})})]})})}const Ka={getEmailConfig:async()=>{var t;return((t=(await ee.get("/notifications/email/config")).data)==null?void 0:t.data)||null},saveEmailConfig:async e=>(await ee.post("/notifications/email/config",e)).data,testEmailConfig:async()=>(await ee.post("/notifications/email/test")).data,sendAppointmentReminder:async e=>(await ee.post(`/notifications/appointment-reminder/${e}`)).data,sendPrescriptionEmail:async e=>(await ee.post(`/notifications/prescription/${e}`)).data,sendBillEmail:async e=>(await ee.post(`/notifications/bill/${e}`)).data,sendBulkReminders:async(e=24)=>(await ee.post("/notifications/bulk-reminders",{hours:e})).data,getEmailLogs:async(e={})=>{var n;return((n=(await ee.get("/notifications/email/logs",{params:e})).data)==null?void 0:n.data)||{logs:[],pagination:{}}},getOtpTemplate:async()=>{var t;return((t=(await ee.get("/notifications/email/otp-template")).data)==null?void 0:t.data)||null},saveOtpTemplate:async e=>(await ee.post("/notifications/email/otp-template",e)).data,getWhatsAppConfig:async()=>{var t;return((t=(await ee.get("/notifications/whatsapp/config")).data)==null?void 0:t.data)||null},saveWhatsAppConfig:async e=>(await ee.post("/notifications/whatsapp/config",e)).data,testWhatsAppConfig:async e=>(await ee.post("/notifications/whatsapp/test",{phoneNumber:e})).data},Qde=[{id:"gmail-app-password",name:"Gmail (App Password)",icon:bL,color:"text-green-500",recommended:!0},{id:"gmail",name:"Gmail (OAuth2)",icon:Qie,color:"text-red-500"},{id:"outlook",name:"Outlook (OAuth2)",icon:Jie,color:"text-blue-500"},{id:"smtp",name:"SMTP (Custom)",icon:bae,color:"text-gray-500"}];function Jde(){const e=ln(),[t,n]=N.useState("gmail-app-password"),[r,s]=N.useState({}),[i,o]=N.useState(!1),{register:l,handleSubmit:c,reset:u,setValue:d,watch:f,formState:{errors:h}}=Ut({defaultValues:{provider:"gmail-app-password",userEmail:"",fromName:"Docsy",appPassword:"",clientId:"",clientSecret:"",refreshToken:"",tenantId:"",host:"",port:587,user:"",password:"",secure:!1}});f("provider");const{data:p,isLoading:m}=De({queryKey:["emailConfig"],queryFn:()=>Ka.getEmailConfig()});N.useEffect(()=>{p!=null&&p.configured&&(n(p.provider),d("provider",p.provider),d("userEmail",p.userEmail||""),d("fromName",p.fromName||"Docsy"))},[p,d]);const g=Ge({mutationFn:Ka.saveEmailConfig,onSuccess:()=>{ae.success("Email configuration saved successfully"),e.invalidateQueries(["emailConfig"])},onError:O=>{var I,M;ae.error(((M=(I=O.response)==null?void 0:I.data)==null?void 0:M.message)||"Failed to save configuration")}}),x=Ge({mutationFn:Ka.testEmailConfig,onSuccess:O=>{ae.success(O.message||"Test email sent successfully")},onError:O=>{var I,M;ae.error(((M=(I=O.response)==null?void 0:I.data)==null?void 0:M.message)||"Failed to send test email")}}),{data:y,isLoading:v}=De({queryKey:["otpTemplate"],queryFn:()=>Ka.getOtpTemplate()}),[b,j]=N.useState(""),[w,S]=N.useState([]);N.useEffect(()=>{typeof y<"u"&&(y&&typeof y=="object"?(j(y.template||""),S(y.placeholders||[])):(j(y||""),S([])))},[y]);const P=Ge({mutationFn:O=>Ka.saveOtpTemplate(O),onSuccess:()=>{ae.success("OTP email template saved"),e.invalidateQueries(["otpTemplate"])},onError:O=>{var I,M;ae.error(((M=(I=O.response)==null?void 0:I.data)==null?void 0:M.message)||"Failed to save template")}}),A=()=>{P.mutate({template:b})},C=O=>{const I={provider:t,userEmail:O.userEmail,fromName:O.fromName};t==="gmail-app-password"?I.appPassword=O.appPassword:t==="gmail"?(I.clientId=O.clientId,I.clientSecret=O.clientSecret,I.refreshToken=O.refreshToken):t==="outlook"?(I.clientId=O.clientId,I.clientSecret=O.clientSecret,I.refreshToken=O.refreshToken,I.tenantId=O.tenantId):t==="smtp"&&(I.host=O.host,I.port=parseInt(O.port),I.user=O.user,I.password=O.password,I.secure=O.secure),g.mutate(I)},T=()=>{o(!0),x.mutate(void 0,{onSettled:()=>o(!1)})},k=O=>{s(I=>({...I,[O]:!I[O]}))};return m?a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(To,{className:"text-sky-500"}),"Email Notifications"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure OAuth2 email for appointment reminders, prescriptions, and bills"})]}),(p==null?void 0:p.configured)&&a.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600 bg-green-50 px-3 py-1 rounded-full",children:[a.jsx(Lo,{})," Configured"]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Qde.map(O=>a.jsxs("button",{type:"button",onClick:()=>{n(O.id),d("provider",O.id)},className:`p-4 rounded-lg border-2 transition-all relative ${t===O.id?"border-sky-500 bg-sky-50":"border-gray-200 hover:border-gray-300"}`,children:[O.recommended&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Easy"}),a.jsx(O.icon,{className:`text-2xl mx-auto ${O.color}`}),a.jsx("p",{className:"text-sm font-medium mt-2",children:O.name})]},O.id))}),a.jsxs("form",{onSubmit:c(C),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",...l("userEmail",{required:"Email is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"your-email@gmail.com"}),h.userEmail&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.userEmail.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),a.jsx("input",{type:"text",...l("fromName"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"Docsy"})]})]}),t==="gmail-app-password"&&a.jsxs("div",{className:"space-y-4 p-4 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[a.jsx(Df,{}),a.jsx("span",{children:"Simple setup - just need Gmail App Password"}),a.jsxs("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline flex items-center gap-1",children:["Get App Password ",a.jsx(th,{className:"text-xs"})]})]}),a.jsxs("div",{className:"bg-green-100 p-3 rounded-lg text-sm text-green-800",children:[a.jsx("p",{className:"font-medium mb-1",children:"How to get App Password:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[a.jsx("li",{children:"Enable 2-Factor Authentication on your Google Account"}),a.jsxs("li",{children:["Go to ",a.jsx("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"myaccount.google.com/apppasswords"})]}),a.jsx("li",{children:'Select "Mail" and your device, click Generate'}),a.jsx("li",{children:"Copy the 16-character password (no spaces needed)"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["App Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:r.appPassword?"text":"password",...l("appPassword",{required:t==="gmail-app-password"&&"App Password is required"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"xxxx xxxx xxxx xxxx"}),a.jsx("button",{type:"button",onClick:()=>k("appPassword"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.appPassword?a.jsx(vr,{}):a.jsx(Cn,{})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"16-character password from Google App Passwords"})]})]}),t==="gmail"&&a.jsxs("div",{className:"space-y-4 p-4 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-700",children:[a.jsx(Df,{}),a.jsx("span",{children:"Requires Google Cloud Console OAuth2 credentials"}),a.jsxs("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:underline flex items-center gap-1",children:["Get Credentials ",a.jsx(th,{className:"text-xs"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client ID ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...l("clientId",{required:t==="gmail"&&"Client ID is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"xxxx.apps.googleusercontent.com"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client Secret ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:r.clientSecret?"text":"password",...l("clientSecret",{required:t==="gmail"&&"Client Secret is required"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"GOCSPX-xxxx"}),a.jsx("button",{type:"button",onClick:()=>k("clientSecret"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.clientSecret?a.jsx(vr,{}):a.jsx(Cn,{})})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Refresh Token ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:r.refreshToken?"text":"password",...l("refreshToken",{required:t==="gmail"&&"Refresh Token is required"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"1//xxxx"}),a.jsx("button",{type:"button",onClick:()=>k("refreshToken"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.refreshToken?a.jsx(vr,{}):a.jsx(Cn,{})})]})]})]}),t==="outlook"&&a.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[a.jsx(Df,{}),a.jsx("span",{children:"Requires Azure AD App Registration"}),a.jsxs("a",{href:"https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1",children:["Get Credentials ",a.jsx(th,{className:"text-xs"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client ID ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...l("clientId",{required:t==="outlook"&&"Client ID is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tenant ID ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...l("tenantId",{required:t==="outlook"&&"Tenant ID is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client Secret ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:r.clientSecret?"text":"password",...l("clientSecret",{required:t==="outlook"&&"Client Secret is required"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"xxxx~xxxx"}),a.jsx("button",{type:"button",onClick:()=>k("clientSecret"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.clientSecret?a.jsx(vr,{}):a.jsx(Cn,{})})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Refresh Token ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:r.refreshToken?"text":"password",...l("refreshToken",{required:t==="outlook"&&"Refresh Token is required"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"M.xxxx"}),a.jsx("button",{type:"button",onClick:()=>k("refreshToken"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.refreshToken?a.jsx(vr,{}):a.jsx(Cn,{})})]})]})]}),t==="smtp"&&a.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[a.jsx(Df,{}),a.jsx("span",{children:"Use any SMTP server (AWS SES, SendGrid, Mailgun, etc.)"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["SMTP Host ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...l("host",{required:t==="smtp"&&"Host is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"smtp.example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Port"}),a.jsx("input",{type:"number",...l("port"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"587"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Username ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...l("user",{required:t==="smtp"&&"Username is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"your-smtp-user"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:r.password?"text":"password",...l("password",{required:t==="smtp"&&"Password is required"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"your-smtp-password"}),a.jsx("button",{type:"button",onClick:()=>k("password"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.password?a.jsx(vr,{}):a.jsx(Cn,{})})]})]})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",...l("secure"),className:"w-4 h-4 text-sky-500 rounded focus:ring-sky-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Use TLS/SSL (port 465)"})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:T,disabled:i||!(p!=null&&p.configured),className:"flex items-center gap-2 px-4 py-2 text-sky-600 bg-sky-50 rounded-lg hover:bg-sky-100 disabled:opacity-50 disabled:cursor-not-allowed",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-sky-500 border-t-transparent rounded-full animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wv,{})," Send Test Email"]})}),a.jsx("button",{type:"submit",disabled:g.isPending,className:"flex items-center gap-2 px-6 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 disabled:opacity-50",children:g.isPending?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(xi,{})," Save Configuration"]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"OTP Email Template"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Customize the HTML template used for email OTPs. Use ",a.jsx("span",{className:"font-mono",children:"{{code}}"})," and ",a.jsx("span",{className:"font-mono",children:"{{expiryMinutes}}"})," as placeholders."]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx("textarea",{value:b,onChange:O=>j(O.target.value),className:"w-full h-48 p-3 border border-gray-200 rounded-lg font-sans",placeholder:"<p>Your OTP is <strong>{{code}}</strong></p>"})}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsxs("button",{type:"button",onClick:A,disabled:P==null?void 0:P.isLoading,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-sky-600 text-white rounded-lg hover:bg-sky-700 disabled:opacity-50",children:[a.jsx(xi,{})," ",P!=null&&P.isLoading?"Saving...":"Save Template"]})})]}),(w==null?void 0:w.length)>0&&a.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[a.jsx("p",{className:"font-medium",children:"Available placeholders:"}),a.jsx("ul",{className:"list-disc list-inside",children:w.map(O=>a.jsx("li",{className:"font-mono",children:O},O))})]})]})}function N9(e){return ge({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.381-.008.008 5.352 0 11.971V12c0 6.64 5.359 12 12 12 6.64 0 12-5.36 12-12 0-6.641-5.36-12-12-12zm0 20.801c-4.846.015-8.786-3.904-8.801-8.75V12c-.014-4.846 3.904-8.786 8.75-8.801H12c4.847-.014 8.786 3.904 8.801 8.75V12c.015 4.847-3.904 8.786-8.75 8.801H12zm5.44-11.76c0 1.359-1.12 2.479-2.481 2.479-1.366-.007-2.472-1.113-2.479-2.479 0-1.361 1.12-2.481 2.479-2.481 1.361 0 2.481 1.12 2.481 2.481zm0 5.919c0 1.36-1.12 2.48-2.481 2.48-1.367-.008-2.473-1.114-2.479-2.48 0-1.359 1.12-2.479 2.479-2.479 1.361-.001 2.481 1.12 2.481 2.479zm-5.919 0c0 1.36-1.12 2.48-2.479 2.48-1.368-.007-2.475-1.113-2.481-2.48 0-1.359 1.12-2.479 2.481-2.479 1.358-.001 2.479 1.12 2.479 2.479zm0-5.919c0 1.359-1.12 2.479-2.479 2.479-1.367-.007-2.475-1.112-2.481-2.479 0-1.361 1.12-2.481 2.481-2.481 1.358 0 2.479 1.12 2.479 2.481z"},child:[]}]})(e)}const Zde=[{id:"manual",name:"Manual (wa.me links)",icon:Gl,color:"text-green-500",description:"Opens WhatsApp Web for staff to send manually",recommended:!0},{id:"twilio",name:"Twilio WhatsApp",icon:N9,color:"text-red-500",description:"Automated sending via Twilio API"},{id:"whatsapp-business",name:"WhatsApp Business API",icon:_5,color:"text-green-600",description:"Official WhatsApp Business Cloud API"}];function efe(){const e=ln(),[t,n]=N.useState("manual"),[r,s]=N.useState({}),[i,o]=N.useState(!1),{register:l,handleSubmit:c,reset:u,setValue:d,watch:f,formState:{errors:h}}=Ut({defaultValues:{provider:"manual",clinicWhatsAppNumber:"",clinicWhatsAppName:"",twilioAccountSid:"",twilioAuthToken:"",twilioWhatsAppNumber:"",wabAccessToken:"",wabPhoneNumberId:"",wabBusinessId:""}});f("provider");const{data:p,isLoading:m}=De({queryKey:["whatsappConfig"],queryFn:()=>Ka.getWhatsAppConfig()});N.useEffect(()=>{p!=null&&p.configured&&(n(p.provider),d("provider",p.provider),d("clinicWhatsAppNumber",p.clinicWhatsAppNumber||""),d("clinicWhatsAppName",p.clinicWhatsAppName||""))},[p,d]);const g=Ge({mutationFn:Ka.saveWhatsAppConfig,onSuccess:()=>{ae.success("WhatsApp configuration saved successfully"),e.invalidateQueries(["whatsappConfig"])},onError:j=>{var w,S;ae.error(((S=(w=j.response)==null?void 0:w.data)==null?void 0:S.message)||"Failed to save configuration")}}),x=Ge({mutationFn:Ka.testWhatsAppConfig,onSuccess:j=>{j.url?(window.open(j.url,"_blank"),ae.success("WhatsApp Web opened. Send the test message to verify.")):ae.success(j.message||"Test message sent successfully")},onError:j=>{var w,S;ae.error(((S=(w=j.response)==null?void 0:w.data)==null?void 0:S.message)||"Failed to send test message")}}),y=j=>{const w={provider:t,clinicWhatsAppNumber:j.clinicWhatsAppNumber,clinicWhatsAppName:j.clinicWhatsAppName};t==="twilio"?(w.twilioAccountSid=j.twilioAccountSid,w.twilioAuthToken=j.twilioAuthToken,w.twilioWhatsAppNumber=j.twilioWhatsAppNumber):t==="whatsapp-business"&&(w.wabAccessToken=j.wabAccessToken,w.wabPhoneNumberId=j.wabPhoneNumberId,w.wabBusinessId=j.wabBusinessId),g.mutate(w)},v=()=>{o(!0),x.mutate(void 0,{onSettled:()=>o(!1)})},b=j=>{s(w=>({...w,[j]:!w[j]}))};return m?a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"WhatsApp Notifications"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure WhatsApp messaging for your clinic"})]}),a.jsx("div",{className:"flex items-center gap-2",children:p!=null&&p.configured?a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-green-100 text-green-700 text-sm",children:[a.jsx(Lo,{}),"Configured"]}):a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-sm",children:[a.jsx(Kh,{}),"Not Configured"]})})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Df,{className:"text-blue-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-blue-800",children:[a.jsx("p",{className:"font-medium mb-1",children:"Multi-Clinic WhatsApp Setup"}),a.jsx("p",{children:"Each clinic can have its own WhatsApp number. Messages will appear to patients as coming from your clinic's WhatsApp account."}),a.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside text-blue-700",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Manual:"})," Staff sends from clinic's phone with pre-filled message"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Twilio:"})," Automated sending from your Twilio WhatsApp number"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Business API:"})," Official WhatsApp Business for verified business accounts"]})]})]})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"WhatsApp Provider"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Zde.map(j=>{const w=j.icon;return a.jsxs("button",{type:"button",onClick:()=>{n(j.id),d("provider",j.id)},className:`relative p-4 border-2 rounded-xl text-left transition-all ${t===j.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[j.recommended&&a.jsx("span",{className:"absolute top-2 right-2 text-xs bg-green-500 text-white px-2 py-0.5 rounded-full",children:"Recommended"}),a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(w,{className:`text-2xl ${j.color}`}),a.jsx("span",{className:"font-medium text-gray-900",children:j.name})]}),a.jsx("p",{className:"text-xs text-gray-500",children:j.description})]},j.id)})})]}),a.jsxs("form",{onSubmit:c(y),className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[a.jsxs("h3",{className:"font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(Gl,{className:"text-green-500"}),"Clinic WhatsApp Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Clinic WhatsApp Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx(lx,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"tel",...l("clinicWhatsAppNumber",{required:"Phone number is required"}),placeholder:"+91 9876543210",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),h.clinicWhatsAppNumber&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.clinicWhatsAppNumber.message}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This is the phone number patients will see as the sender"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Name (as shown in WhatsApp)"}),a.jsx("input",{type:"text",...l("clinicWhatsAppName"),placeholder:"City Health Clinic",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your WhatsApp Business profile name"})]})]})]}),t==="twilio"&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(N9,{className:"text-red-500"}),"Twilio Configuration"]}),a.jsxs("a",{href:"https://console.twilio.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-red-600 hover:underline flex items-center gap-1",children:["Get credentials ",a.jsx(th,{className:"text-xs"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account SID *"}),a.jsx("input",{type:"text",...l("twilioAccountSid",{required:t==="twilio"?"Account SID is required":!1}),placeholder:"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Auth Token *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:r.twilioAuthToken?"text":"password",...l("twilioAuthToken",{required:t==="twilio"?"Auth Token is required":!1}),placeholder:"Your Auth Token",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),a.jsx("button",{type:"button",onClick:()=>b("twilioAuthToken"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.twilioAuthToken?a.jsx(vr,{}):a.jsx(Cn,{})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Twilio WhatsApp Number *"}),a.jsx("input",{type:"text",...l("twilioWhatsAppNumber",{required:t==="twilio"?"WhatsApp number is required":!1}),placeholder:"+14155238886",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Twilio sandbox number or your registered WhatsApp number"})]})]})]}),t==="whatsapp-business"&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(_5,{className:"text-green-600"}),"WhatsApp Business API Configuration"]}),a.jsxs("a",{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/get-started",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-600 hover:underline flex items-center gap-1",children:["Setup Guide ",a.jsx(th,{className:"text-xs"})]})]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Note:"})," WhatsApp Business API requires a verified Facebook Business account and approved WhatsApp Business phone number."]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Access Token *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:r.wabAccessToken?"text":"password",...l("wabAccessToken",{required:t==="whatsapp-business"?"Access Token is required":!1}),placeholder:"Your permanent access token",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),a.jsx("button",{type:"button",onClick:()=>b("wabAccessToken"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.wabAccessToken?a.jsx(vr,{}):a.jsx(Cn,{})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number ID *"}),a.jsx("input",{type:"text",...l("wabPhoneNumberId",{required:t==="whatsapp-business"?"Phone Number ID is required":!1}),placeholder:"1234567890123456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Business Account ID"}),a.jsx("input",{type:"text",...l("wabBusinessId"),placeholder:"1234567890123456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]})]}),t==="manual"&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsxs("h3",{className:"font-medium text-green-900 flex items-center gap-2 mb-2",children:[a.jsx(Gl,{className:"text-green-500"}),"How Manual Mode Works"]}),a.jsxs("ol",{className:"text-sm text-green-800 space-y-2 list-decimal list-inside",children:[a.jsx("li",{children:'When you click "Send via WhatsApp", a new tab opens with WhatsApp Web'}),a.jsx("li",{children:"The message is pre-filled with prescription/appointment details"}),a.jsx("li",{children:'Staff clicks "Send" in WhatsApp Web to complete sending'}),a.jsx("li",{children:"The message appears to come from your clinic's WhatsApp account (the one logged into WhatsApp Web)"})]}),a.jsxs("p",{className:"text-sm text-green-700 mt-3",children:[a.jsx("strong",{children:"Tip:"})," Keep WhatsApp Web logged in on the clinic's computer with the clinic's WhatsApp Business account."]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:v,disabled:i||!(p!=null&&p.configured),className:"inline-flex items-center gap-2 px-4 py-2 text-green-600 bg-green-50 rounded-lg hover:bg-green-100 transition disabled:opacity-50",children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wv,{}),"Send Test Message"]})}),a.jsx("button",{type:"submit",disabled:g.isPending,className:"inline-flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:g.isPending?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(xi,{}),"Save Configuration"]})})]})]})]})}const Xk=["DOCTOR","RECEPTIONIST","PHARMACIST","ACCOUNTANT","STAFF","PATIENT"],Uj=["dashboard:view","patients:read","patients:create","patients:update","appointments:read","appointments:create","appointments:update","prescriptions:read","prescriptions:create","pharmacy:read","pharmacy:create","billing:read","billing:create","billing:edit","reports:opd","purchases:read","purchases:create","ledger:read","ledger:create","ledger:update","ledger:delete"];Uj.push("leaves:read","leaves:create","leaves:update");const tfe=["labs:read","labs:create","labs:update","labs:tests"],nfe=["agents:read","agents:create","agents:update","commissions:read","commissions:pay"];function rfe(){const e=ln(),{data:t,isLoading:n,isError:r,error:s,refetch:i}=De({queryKey:["rolePermissions"],queryFn:()=>In.getRolePermissions()}),[o,l]=N.useState(null);N.useEffect(()=>{if(t!=null&&t.data)l(t.data);else if(!n&&!r){const h={};Xk.forEach(p=>{h[p]=Uj.slice()}),l(h)}},[t,n,r]);const c=Ge({mutationFn:In.updateRolePermissions,onSuccess:()=>{e.invalidateQueries({queryKey:["rolePermissions"]}),ae.success("Role permissions updated")},onError:h=>{var p,m;ae.error(((m=(p=h==null?void 0:h.response)==null?void 0:p.data)==null?void 0:m.message)||"Failed to update role permissions")}}),u={"labs:manage":["labs:read"],"labs:create":["labs:read"],"labs:update":["labs:read"],"labs:tests":["labs:read"],"agents:manage":["agents:read"],"agents:create":["agents:read"],"agents:update":["agents:read"],"commissions:pay":["commissions:read"],"ledger:create":["ledger:read"],"ledger:update":["ledger:read"],"ledger:delete":["ledger:read"],"leaves:create":["leaves:read"],"leaves:update":["leaves:read"]},d=Object.keys(u).reduce((h,p)=>(u[p].forEach(m=>{h[m]=h[m]||[],h[m].push(p)}),h),{}),f=(h,p)=>{l(m=>{const g=new Set(m[h]||[]);if(g.has(p)){g.delete(p);const x=[p];for(;x.length;){const y=x.shift(),v=d[y]||[];for(const b of v)g.has(b)&&(g.delete(b),x.push(b))}}else{g.add(p);const x=u[p]||[];for(const y of x)g.add(y)}return{...m,[h]:Array.from(g)}})};return n?a.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Role-based Feature Access"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]}):r?a.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Role-based Feature Access"}),a.jsxs("p",{className:"text-sm text-red-500 mb-4",children:["Failed to load role permissions: ",(s==null?void 0:s.message)||"Unknown error"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Je,{variant:"secondary",onClick:()=>i(),children:"Retry"}),a.jsx(Je,{variant:"ghost",onClick:()=>{alert("If this persists, ensure the backend migration/role-permissions endpoint is applied and the server is running.")},children:"Help"})]})]}):o?a.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Role-based Feature Access"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Grant or revoke feature access per role. Changes affect only this clinic."}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Xk.map(h=>a.jsxs("div",{className:"p-4 border rounded",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("strong",{children:h})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"General"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Uj.map(p=>a.jsxs("label",{className:"inline-flex items-center space-x-2 bg-gray-50 px-2 py-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:(o[h]||[]).includes(p),onChange:()=>f(h,p)}),a.jsx("span",{className:"text-sm",children:p})]},p))})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Labs"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:tfe.map(p=>a.jsxs("label",{className:"inline-flex items-center space-x-2 bg-gray-50 px-2 py-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:(o[h]||[]).includes(p),onChange:()=>f(h,p)}),a.jsx("span",{className:"text-sm",children:p})]},p))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Agents & Commissions"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:nfe.map(p=>a.jsxs("label",{className:"inline-flex items-center space-x-2 bg-gray-50 px-2 py-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:(o[h]||[]).includes(p),onChange:()=>f(h,p)}),a.jsx("span",{className:"text-sm",children:p})]},p))})]})]},h))}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(Je,{variant:"primary",onClick:()=>c.mutate(o),loading:c.isLoading,children:"Save Role Permissions"})})]}):null}const sfe=["appointments:read","prescriptions:read","billing:read","pharmacy:read"];function ife(){const e=ln(),{data:t,isLoading:n,isError:r,refetch:s}=De({queryKey:["rolePermissions"],queryFn:()=>In.getRolePermissions()}),[i,o]=N.useState([]);N.useEffect(()=>{t&&t.data&&t.data.PATIENT?o(Array.isArray(t.data.PATIENT)?t.data.PATIENT:[]):!n&&!r&&o([])},[t,n,r]);const l=Ge({mutationFn:d=>In.updateRolePermissions(d),onSuccess:()=>{e.invalidateQueries({queryKey:["rolePermissions"]}),ae.success("Mobile access updated")},onError:d=>{var f,h;ae.error(((h=(f=d==null?void 0:d.response)==null?void 0:f.data)==null?void 0:h.message)||"Failed to update mobile access")}}),c=d=>{o(f=>{const h=new Set(f||[]);return h.has(d)?h.delete(d):h.add(d),Array.from(h)})},u=()=>{const d=t&&t.data?{...t.data}:{};d.PATIENT=i,l.mutate(d)};return n?a.jsx("div",{className:"p-4",children:"Loading mobile access..."}):r?a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"text-red-600",children:"Failed to load mobile access settings."}),a.jsx("div",{className:"mt-2",children:a.jsx(Je,{variant:"ghost",onClick:()=>s(),children:"Retry"})})]}):a.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Mobile App"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Grant mobile (patient) access to select features."}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:sfe.map(d=>a.jsxs("label",{className:"inline-flex items-center space-x-2 bg-gray-50 px-3 py-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:(i||[]).includes(d),onChange:()=>c(d)}),a.jsx("span",{className:"text-sm",children:d})]},d))}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Je,{variant:"primary",onClick:u,loading:l.isLoading,children:"Save Mobile Access"})})]})}const afe=[{id:"profile",label:"Profile",icon:zu},{id:"clinic",label:"Clinic",icon:oae},{id:"email",label:"Email",icon:To},{id:"whatsapp",label:"WhatsApp",icon:Gl},{id:"preferences",label:"Preferences",icon:lae},{id:"access",label:"Access Management",icon:zu}],ofe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],lfe=[{id:"todayAppointments",label:"Today's Appointments",enabled:!0},{id:"revenue",label:"Revenue Stats",enabled:!0},{id:"recentPatients",label:"Recent Patients",enabled:!0},{id:"lowStock",label:"Low Stock Alerts",enabled:!0},{id:"pendingBills",label:"Pending Bills",enabled:!0},{id:"upcomingFollowups",label:"Upcoming Follow-ups",enabled:!1}];function cfe(){const e=ln(),{user:t,loadUser:n}=ri(),[r,s]=N.useState("profile"),[i,o]=N.useState(!1),[l,c]=N.useState(!1),{register:u,handleSubmit:d,formState:{errors:f}}=Ut({defaultValues:{name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}}),{register:h,handleSubmit:p,reset:m,watch:g,formState:{errors:x}}=Ut(),y=g("newPassword"),{register:v,handleSubmit:b,setValue:j,formState:{errors:w}}=Ut(),{register:S,handleSubmit:P,setValue:A}=Ut(),[C,T]=N.useState(ofe.map(D=>({day:D,isOpen:D!=="Sunday",openTime:"09:00",closeTime:"18:00",breakStart:"13:00",breakEnd:"14:00"}))),[k,O]=N.useState(lfe),{data:I,isLoading:M}=De({queryKey:["clinic-settings"],queryFn:()=>In.getClinicSettings()});N.useEffect(()=>{I&&(j("clinicName",I.clinicName||""),j("address",I.address||""),j("phone",I.phone||""),j("email",I.email||""),j("website",I.website||""),j("registrationNo",I.registrationNo||""),j("gstNo",I.gstNo||""))},[I,j]);const{data:E,isLoading:_}=De({queryKey:["preferences"],queryFn:()=>In.getPreferences()});N.useEffect(()=>{E!=null&&E.dashboardWidgets&&O(E.dashboardWidgets)},[E]);const L=Ge({mutationFn:D=>In.updateProfile(D),onSuccess:async()=>{ae.success("Profile updated successfully"),e.invalidateQueries(["user"]),await n()},onError:D=>{var Y,se;ae.error(((se=(Y=D.response)==null?void 0:Y.data)==null?void 0:se.message)||"Failed to update profile")}}),R=Ge({mutationFn:D=>In.changePassword(D),onSuccess:()=>{ae.success("Password changed successfully"),m()},onError:D=>{var Y,se;ae.error(((se=(Y=D.response)==null?void 0:Y.data)==null?void 0:se.message)||"Failed to change password")}}),F=Ge({mutationFn:D=>In.updateClinicSettings(D),onSuccess:()=>{ae.success("Clinic settings updated successfully"),e.invalidateQueries(["clinic-settings"])},onError:D=>{var Y,se;ae.error(((se=(Y=D.response)==null?void 0:Y.data)==null?void 0:se.message)||"Failed to update clinic settings")}});Ge({mutationFn:D=>In.updateTaxSettings(D),onSuccess:()=>{ae.success("Tax settings updated successfully"),e.invalidateQueries(["tax-settings"])},onError:D=>{var Y,se;ae.error(((se=(Y=D.response)==null?void 0:Y.data)==null?void 0:se.message)||"Failed to update tax settings")}}),Ge({mutationFn:D=>In.updateWorkingHours(D),onSuccess:()=>{ae.success("Working hours updated successfully"),e.invalidateQueries(["working-hours"])},onError:D=>{var Y,se;ae.error(((se=(Y=D.response)==null?void 0:Y.data)==null?void 0:se.message)||"Failed to update working hours")}});const W=Ge({mutationFn:D=>In.updatePreferences(D),onSuccess:()=>{ae.success("Preferences updated successfully"),e.invalidateQueries(["preferences"])},onError:D=>{var Y,se;ae.error(((se=(Y=D.response)==null?void 0:Y.data)==null?void 0:se.message)||"Failed to update preferences")}}),q=D=>{L.mutate(D)},G=D=>{R.mutate({currentPassword:D.currentPassword,newPassword:D.newPassword})},H=D=>{F.mutate(D)},J=D=>{O(Y=>Y.map(se=>se.id===D?{...se,enabled:!se.enabled}:se))},ce=()=>{W.mutate({dashboardWidgets:k})},fe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),a.jsxs("form",{onSubmit:d(q),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...u("name",{required:"Name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.name&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.name.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",...u("email",{required:"Email is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.email&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"tel",...u("phone"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs("button",{type:"submit",disabled:L.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[a.jsx(xi,{}),L.isPending?"Saving...":"Save Changes"]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),a.jsxs("form",{onSubmit:p(G),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:i?"text":"password",...h("currentPassword",{required:"Current password is required"}),className:"w-full px-4 py-2.5 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?a.jsx(vr,{}):a.jsx(Cn,{})})]}),x.currentPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.currentPassword.message})]}),a.jsx("div",{}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["New Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:l?"text":"password",...h("newPassword",{required:"New password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),className:"w-full px-4 py-2.5 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?a.jsx(vr,{}):a.jsx(Cn,{})})]}),x.newPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.newPassword.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm New Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",...h("confirmPassword",{required:"Please confirm your password",validate:D=>D===y||"Passwords do not match"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),x.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.confirmPassword.message})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs("button",{type:"submit",disabled:R.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[a.jsx(xi,{}),R.isPending?"Changing...":"Change Password"]})})]})]})]});if((t==null?void 0:t.role)==="STAFF")return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Settings"}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),a.jsxs("form",{onSubmit:p(G),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:i?"text":"password",...h("currentPassword",{required:"Current password is required"}),className:"w-full px-4 py-2.5 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?a.jsx(vr,{}):a.jsx(Cn,{})})]}),x.currentPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.currentPassword.message})]}),a.jsx("div",{}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["New Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:l?"text":"password",...h("newPassword",{required:"New password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),className:"w-full px-4 py-2.5 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?a.jsx(vr,{}):a.jsx(Cn,{})})]}),x.newPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.newPassword.message})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm New Password ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",...h("confirmPassword",{required:"Please confirm your password",validate:D=>D===y||"Passwords do not match"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),x.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.confirmPassword.message})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs("button",{type:"submit",disabled:R.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[a.jsx(xi,{}),R.isPending?"Changing...":"Change Password"]})})]})]})]})});const he=()=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Clinic Information"}),M?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("form",{onSubmit:b(H),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Clinic Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...v("clinicName",{required:"Clinic name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter clinic name"}),w.clinicName&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:w.clinicName.message})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("textarea",{...v("address"),rows:2,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full address"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"tel",...v("phone"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",...v("email"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),a.jsx("input",{type:"url",...v("website"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://www.example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),a.jsx("input",{type:"text",...v("registrationNo"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter registration number"})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs("button",{type:"submit",disabled:F.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[a.jsx(xi,{}),F.isPending?"Saving...":"Save Changes"]})})]})]}),$=()=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dashboard Customization"}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Choose which widgets to display on your dashboard"}),_?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(D=>a.jsx("div",{onClick:()=>J(D.id),className:`p-4 border rounded-lg cursor-pointer transition ${D.enabled?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`font-medium ${D.enabled?"text-blue-700":"text-gray-700"}`,children:D.label}),a.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${D.enabled?"bg-blue-600":"bg-gray-200"}`,children:D.enabled&&a.jsx(Wn,{className:"text-white text-xs"})})]})},D.id))}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs("button",{onClick:ce,disabled:W.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[a.jsx(xi,{}),W.isPending?"Saving...":"Save Preferences"]})})]})]}),oe=()=>{switch(r){case"profile":return fe();case"clinic":return he();case"tax":return renderTaxTab();case"hours":return renderHoursTab();case"email":return a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:a.jsx(Jde,{})});case"whatsapp":return a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:a.jsx(efe,{})});case"preferences":return $();case"access":return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:a.jsx(rfe,{})}),a.jsx("div",{children:a.jsx(ife,{})})]});default:return fe()}};return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your account and clinic settings"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("div",{className:"lg:w-64 flex-shrink-0",children:a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:afe.map(D=>a.jsxs("button",{onClick:()=>s(D.id),className:`w-full flex items-center gap-3 px-4 py-3 text-left transition ${r===D.id?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50 border-l-4 border-transparent"}`,children:[a.jsx(D.icon,{className:r===D.id?"text-blue-600":"text-gray-400"}),a.jsx("span",{className:"font-medium",children:D.label})]},D.id))})}),a.jsx("div",{className:"flex-1",children:oe()})]})]})})}function S9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=S9(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function nt(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=S9(e))&&(r&&(r+=" "),r+=t);return r}var ufe=Array.isArray,Hr=ufe,dfe=typeof bm=="object"&&bm&&bm.Object===Object&&bm,P9=dfe,ffe=P9,hfe=typeof self=="object"&&self&&self.Object===Object&&self,pfe=ffe||hfe||Function("return this")(),Ei=pfe,mfe=Ei,gfe=mfe.Symbol,lm=gfe,Qk=lm,A9=Object.prototype,xfe=A9.hasOwnProperty,yfe=A9.toString,uf=Qk?Qk.toStringTag:void 0;function vfe(e){var t=xfe.call(e,uf),n=e[uf];try{e[uf]=void 0;var r=!0}catch{}var s=yfe.call(e);return r&&(t?e[uf]=n:delete e[uf]),s}var bfe=vfe,wfe=Object.prototype,jfe=wfe.toString;function Nfe(e){return jfe.call(e)}var Sfe=Nfe,Jk=lm,Pfe=bfe,Afe=Sfe,Cfe="[object Null]",Ofe="[object Undefined]",Zk=Jk?Jk.toStringTag:void 0;function kfe(e){return e==null?e===void 0?Ofe:Cfe:Zk&&Zk in Object(e)?Pfe(e):Afe(e)}var _a=kfe;function _fe(e){return e!=null&&typeof e=="object"}var Ta=_fe,Tfe=_a,Efe=Ta,Mfe="[object Symbol]";function Dfe(e){return typeof e=="symbol"||Efe(e)&&Tfe(e)==Mfe}var kd=Dfe,Rfe=Hr,Ife=kd,$fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lfe=/^\w*$/;function Ffe(e,t){if(Rfe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ife(e)?!0:Lfe.test(e)||!$fe.test(e)||t!=null&&e in Object(t)}var X5=Ffe;function Bfe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Fo=Bfe;const _d=jt(Fo);var Vfe=_a,zfe=Fo,Ufe="[object AsyncFunction]",Hfe="[object Function]",Wfe="[object GeneratorFunction]",qfe="[object Proxy]";function Kfe(e){if(!zfe(e))return!1;var t=Vfe(e);return t==Hfe||t==Wfe||t==Ufe||t==qfe}var Q5=Kfe;const Qe=jt(Q5);var Gfe=Ei,Yfe=Gfe["__core-js_shared__"],Xfe=Yfe,n2=Xfe,e_=function(){var e=/[^.]+$/.exec(n2&&n2.keys&&n2.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Qfe(e){return!!e_&&e_ in e}var Jfe=Qfe,Zfe=Function.prototype,ehe=Zfe.toString;function the(e){if(e!=null){try{return ehe.call(e)}catch{}try{return e+""}catch{}}return""}var C9=the,nhe=Q5,rhe=Jfe,she=Fo,ihe=C9,ahe=/[\\^$.*+?()[\]{}|]/g,ohe=/^\[object .+?Constructor\]$/,lhe=Function.prototype,che=Object.prototype,uhe=lhe.toString,dhe=che.hasOwnProperty,fhe=RegExp("^"+uhe.call(dhe).replace(ahe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hhe(e){if(!she(e)||rhe(e))return!1;var t=nhe(e)?fhe:ohe;return t.test(ihe(e))}var phe=hhe;function mhe(e,t){return e==null?void 0:e[t]}var ghe=mhe,xhe=phe,yhe=ghe;function vhe(e,t){var n=yhe(e,t);return xhe(n)?n:void 0}var uc=vhe,bhe=uc,whe=bhe(Object,"create"),kv=whe,t_=kv;function jhe(){this.__data__=t_?t_(null):{},this.size=0}var Nhe=jhe;function She(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Phe=She,Ahe=kv,Che="__lodash_hash_undefined__",Ohe=Object.prototype,khe=Ohe.hasOwnProperty;function _he(e){var t=this.__data__;if(Ahe){var n=t[e];return n===Che?void 0:n}return khe.call(t,e)?t[e]:void 0}var The=_he,Ehe=kv,Mhe=Object.prototype,Dhe=Mhe.hasOwnProperty;function Rhe(e){var t=this.__data__;return Ehe?t[e]!==void 0:Dhe.call(t,e)}var Ihe=Rhe,$he=kv,Lhe="__lodash_hash_undefined__";function Fhe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$he&&t===void 0?Lhe:t,this}var Bhe=Fhe,Vhe=Nhe,zhe=Phe,Uhe=The,Hhe=Ihe,Whe=Bhe;function Td(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Td.prototype.clear=Vhe;Td.prototype.delete=zhe;Td.prototype.get=Uhe;Td.prototype.has=Hhe;Td.prototype.set=Whe;var qhe=Td;function Khe(){this.__data__=[],this.size=0}var Ghe=Khe;function Yhe(e,t){return e===t||e!==e&&t!==t}var J5=Yhe,Xhe=J5;function Qhe(e,t){for(var n=e.length;n--;)if(Xhe(e[n][0],t))return n;return-1}var _v=Qhe,Jhe=_v,Zhe=Array.prototype,epe=Zhe.splice;function tpe(e){var t=this.__data__,n=Jhe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():epe.call(t,n,1),--this.size,!0}var npe=tpe,rpe=_v;function spe(e){var t=this.__data__,n=rpe(t,e);return n<0?void 0:t[n][1]}var ipe=spe,ape=_v;function ope(e){return ape(this.__data__,e)>-1}var lpe=ope,cpe=_v;function upe(e,t){var n=this.__data__,r=cpe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var dpe=upe,fpe=Ghe,hpe=npe,ppe=ipe,mpe=lpe,gpe=dpe;function Ed(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ed.prototype.clear=fpe;Ed.prototype.delete=hpe;Ed.prototype.get=ppe;Ed.prototype.has=mpe;Ed.prototype.set=gpe;var Tv=Ed,xpe=uc,ype=Ei,vpe=xpe(ype,"Map"),Z5=vpe,n_=qhe,bpe=Tv,wpe=Z5;function jpe(){this.size=0,this.__data__={hash:new n_,map:new(wpe||bpe),string:new n_}}var Npe=jpe;function Spe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ppe=Spe,Ape=Ppe;function Cpe(e,t){var n=e.__data__;return Ape(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Ev=Cpe,Ope=Ev;function kpe(e){var t=Ope(this,e).delete(e);return this.size-=t?1:0,t}var _pe=kpe,Tpe=Ev;function Epe(e){return Tpe(this,e).get(e)}var Mpe=Epe,Dpe=Ev;function Rpe(e){return Dpe(this,e).has(e)}var Ipe=Rpe,$pe=Ev;function Lpe(e,t){var n=$pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Fpe=Lpe,Bpe=Npe,Vpe=_pe,zpe=Mpe,Upe=Ipe,Hpe=Fpe;function Md(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Md.prototype.clear=Bpe;Md.prototype.delete=Vpe;Md.prototype.get=zpe;Md.prototype.has=Upe;Md.prototype.set=Hpe;var e3=Md,O9=e3,Wpe="Expected a function";function t3(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Wpe);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(t3.Cache||O9),n}t3.Cache=O9;var k9=t3;const qpe=jt(k9);var Kpe=k9,Gpe=500;function Ype(e){var t=Kpe(e,function(r){return n.size===Gpe&&n.clear(),r}),n=t.cache;return t}var Xpe=Ype,Qpe=Xpe,Jpe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zpe=/\\(\\)?/g,eme=Qpe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Jpe,function(n,r,s,i){t.push(s?i.replace(Zpe,"$1"):r||n)}),t}),tme=eme;function nme(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var n3=nme,r_=lm,rme=n3,sme=Hr,ime=kd,s_=r_?r_.prototype:void 0,i_=s_?s_.toString:void 0;function _9(e){if(typeof e=="string")return e;if(sme(e))return rme(e,_9)+"";if(ime(e))return i_?i_.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ame=_9,ome=ame;function lme(e){return e==null?"":ome(e)}var T9=lme,cme=Hr,ume=X5,dme=tme,fme=T9;function hme(e,t){return cme(e)?e:ume(e,t)?[e]:dme(fme(e))}var E9=hme,pme=kd;function mme(e){if(typeof e=="string"||pme(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Mv=mme,gme=E9,xme=Mv;function yme(e,t){t=gme(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[xme(t[n++])];return n&&n==r?e:void 0}var r3=yme,vme=r3;function bme(e,t,n){var r=e==null?void 0:vme(e,t);return r===void 0?n:r}var M9=bme;const is=jt(M9);function wme(e){return e==null}var jme=wme;const Ze=jt(jme);var Nme=_a,Sme=Hr,Pme=Ta,Ame="[object String]";function Cme(e){return typeof e=="string"||!Sme(e)&&Pme(e)&&Nme(e)==Ame}var Ome=Cme;const ec=jt(Ome);var D9={exports:{}},Ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s3=Symbol.for("react.element"),i3=Symbol.for("react.portal"),Dv=Symbol.for("react.fragment"),Rv=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),$v=Symbol.for("react.provider"),Lv=Symbol.for("react.context"),kme=Symbol.for("react.server_context"),Fv=Symbol.for("react.forward_ref"),Bv=Symbol.for("react.suspense"),Vv=Symbol.for("react.suspense_list"),zv=Symbol.for("react.memo"),Uv=Symbol.for("react.lazy"),_me=Symbol.for("react.offscreen"),R9;R9=Symbol.for("react.module.reference");function $s(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case s3:switch(e=e.type,e){case Dv:case Iv:case Rv:case Bv:case Vv:return e;default:switch(e=e&&e.$$typeof,e){case kme:case Lv:case Fv:case Uv:case zv:case $v:return e;default:return t}}case i3:return t}}}Ct.ContextConsumer=Lv;Ct.ContextProvider=$v;Ct.Element=s3;Ct.ForwardRef=Fv;Ct.Fragment=Dv;Ct.Lazy=Uv;Ct.Memo=zv;Ct.Portal=i3;Ct.Profiler=Iv;Ct.StrictMode=Rv;Ct.Suspense=Bv;Ct.SuspenseList=Vv;Ct.isAsyncMode=function(){return!1};Ct.isConcurrentMode=function(){return!1};Ct.isContextConsumer=function(e){return $s(e)===Lv};Ct.isContextProvider=function(e){return $s(e)===$v};Ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===s3};Ct.isForwardRef=function(e){return $s(e)===Fv};Ct.isFragment=function(e){return $s(e)===Dv};Ct.isLazy=function(e){return $s(e)===Uv};Ct.isMemo=function(e){return $s(e)===zv};Ct.isPortal=function(e){return $s(e)===i3};Ct.isProfiler=function(e){return $s(e)===Iv};Ct.isStrictMode=function(e){return $s(e)===Rv};Ct.isSuspense=function(e){return $s(e)===Bv};Ct.isSuspenseList=function(e){return $s(e)===Vv};Ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Dv||e===Iv||e===Rv||e===Bv||e===Vv||e===_me||typeof e=="object"&&e!==null&&(e.$$typeof===Uv||e.$$typeof===zv||e.$$typeof===$v||e.$$typeof===Lv||e.$$typeof===Fv||e.$$typeof===R9||e.getModuleId!==void 0)};Ct.typeOf=$s;D9.exports=Ct;var Tme=D9.exports,Eme=_a,Mme=Ta,Dme="[object Number]";function Rme(e){return typeof e=="number"||Mme(e)&&Eme(e)==Dme}var I9=Rme;const Ime=jt(I9);var $me=I9;function Lme(e){return $me(e)&&e!=+e}var Fme=Lme;const cm=jt(Fme);var wr=function(t){return t===0?0:t>0?1:-1},xl=function(t){return ec(t)&&t.indexOf("%")===t.length-1},Se=function(t){return Ime(t)&&!cm(t)},Bme=function(t){return Ze(t)},Tn=function(t){return Se(t)||ec(t)},Vme=0,Dd=function(t){var n=++Vme;return"".concat(t||"").concat(n)},jr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(t)&&!ec(t))return r;var i;if(xl(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return cm(i)&&(i=r),s&&i>n&&(i=n),i},Ga=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},zme=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},s=0;s<n;s++)if(!r[t[s]])r[t[s]]=!0;else return!0;return!1},Jr=function(t,n){return Se(t)&&Se(n)?function(r){return t+r*(n-t)}:function(){return n}};function vx(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):is(r,t))===n})}var Ume=function(t,n){return Se(t)&&Se(n)?t-n:ec(t)&&ec(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function uu(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Hj(e){"@babel/helpers - typeof";return Hj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hj(e)}var Hme=["viewBox","children"],Wme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],a_=["points","pathLength"],r2={svg:Hme,polygon:a_,polyline:a_},a3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bx=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(N.isValidElement(t)&&(r=t.props),!_d(r))return null;var s={};return Object.keys(r).forEach(function(i){a3.includes(i)&&(s[i]=n||function(o){return r[i](r,o)})}),s},qme=function(t,n,r){return function(s){return t(n,r,s),null}},tc=function(t,n,r){if(!_d(t)||Hj(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];a3.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=qme(o,n,r))}),s},Kme=["children"],Gme=["children"];function o_(e,t){if(e==null)return{};var n=Yme(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Yme(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Wj(e){"@babel/helpers - typeof";return Wj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wj(e)}var l_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ua=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},c_=null,s2=null,o3=function e(t){if(t===c_&&Array.isArray(s2))return s2;var n=[];return N.Children.forEach(t,function(r){Ze(r)||(Tme.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),s2=n,c_=t,n};function as(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(s){return ua(s)}):r=[ua(t)],o3(e).forEach(function(s){var i=is(s,"type.displayName")||is(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}function Yr(e,t){var n=as(e,t);return n&&n[0]}var u_=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,s=n.height;return!(!Se(r)||r<=0||!Se(s)||s<=0)},Xme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qme=function(t){return t&&t.type&&ec(t.type)&&Xme.indexOf(t.type)>=0},Jme=function(t){return t&&Wj(t)==="object"&&"clipDot"in t},Zme=function(t,n,r,s){var i,o=(i=r2==null?void 0:r2[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Qe(t)&&(s&&o.includes(n)||Wme.includes(n))||r&&a3.includes(n)},Ue=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(N.isValidElement(t)&&(s=t.props),!_d(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;Zme((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=s[o])}),i},qj=function e(t,n){if(t===n)return!0;var r=N.Children.count(t);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return d_(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var i=t[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!d_(i,o))return!1}return!0},d_=function(t,n){if(Ze(t)&&Ze(n))return!0;if(!Ze(t)&&!Ze(n)){var r=t.props||{},s=r.children,i=o_(r,Kme),o=n.props||{},l=o.children,c=o_(o,Gme);return s&&l?uu(i,c)&&qj(s,l):!s&&!l?uu(i,c):!1}return!1},f_=function(t,n){var r=[],s={};return o3(t).forEach(function(i,o){if(Qme(i))r.push(i);else if(i){var l=ua(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);r.push(f),s[l]=!0}}}),r},ege=function(t){var n=t&&t.type;return n&&l_[n]?l_[n]:null},tge=function(t,n){return o3(n).indexOf(t)},nge=["children","width","height","viewBox","className","style","title","desc"];function Kj(){return Kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kj.apply(this,arguments)}function rge(e,t){if(e==null)return{};var n=sge(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sge(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Gj(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=rge(e,nge),d=s||{width:n,height:r,x:0,y:0},f=nt("recharts-surface",i);return B.createElement("svg",Kj({},Ue(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),B.createElement("title",null,l),B.createElement("desc",null,c),t)}var ige=["children","className"];function Yj(){return Yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yj.apply(this,arguments)}function age(e,t){if(e==null)return{};var n=oge(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oge(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var pt=B.forwardRef(function(e,t){var n=e.children,r=e.className,s=age(e,ige),i=nt("recharts-layer",r);return B.createElement("g",Yj({className:i},Ue(s,!0),{ref:t}),n)}),ti=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]};function lge(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(s);++r<s;)i[r]=e[r+t];return i}var cge=lge,uge=cge;function dge(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:uge(e,t,n)}var fge=dge,hge="\\ud800-\\udfff",pge="\\u0300-\\u036f",mge="\\ufe20-\\ufe2f",gge="\\u20d0-\\u20ff",xge=pge+mge+gge,yge="\\ufe0e\\ufe0f",vge="\\u200d",bge=RegExp("["+vge+hge+xge+yge+"]");function wge(e){return bge.test(e)}var $9=wge;function jge(e){return e.split("")}var Nge=jge,L9="\\ud800-\\udfff",Sge="\\u0300-\\u036f",Pge="\\ufe20-\\ufe2f",Age="\\u20d0-\\u20ff",Cge=Sge+Pge+Age,Oge="\\ufe0e\\ufe0f",kge="["+L9+"]",Xj="["+Cge+"]",Qj="\\ud83c[\\udffb-\\udfff]",_ge="(?:"+Xj+"|"+Qj+")",F9="[^"+L9+"]",B9="(?:\\ud83c[\\udde6-\\uddff]){2}",V9="[\\ud800-\\udbff][\\udc00-\\udfff]",Tge="\\u200d",z9=_ge+"?",U9="["+Oge+"]?",Ege="(?:"+Tge+"(?:"+[F9,B9,V9].join("|")+")"+U9+z9+")*",Mge=U9+z9+Ege,Dge="(?:"+[F9+Xj+"?",Xj,B9,V9,kge].join("|")+")",Rge=RegExp(Qj+"(?="+Qj+")|"+Dge+Mge,"g");function Ige(e){return e.match(Rge)||[]}var $ge=Ige,Lge=Nge,Fge=$9,Bge=$ge;function Vge(e){return Fge(e)?Bge(e):Lge(e)}var zge=Vge,Uge=fge,Hge=$9,Wge=zge,qge=T9;function Kge(e){return function(t){t=qge(t);var n=Hge(t)?Wge(t):void 0,r=n?n[0]:t.charAt(0),s=n?Uge(n,1).join(""):t.slice(1);return r[e]()+s}}var Gge=Kge,Yge=Gge,Xge=Yge("toUpperCase"),Qge=Xge;const Hv=jt(Qge);function Dt(e){return function(){return e}}const H9=Math.cos,wx=Math.sin,ii=Math.sqrt,jx=Math.PI,Wv=2*jx,Jj=Math.PI,Zj=2*Jj,rl=1e-6,Jge=Zj-rl;function W9(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zge(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return W9;const n=10**t;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class e0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?W9:Zge(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,i,o){this._append`C${+t},${+n},${+r},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,s,i){if(t=+t,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=s-n,d=o-t,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>rl)if(!(Math.abs(f*c-u*d)>rl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,m=s-l,g=c*c+u*u,x=p*p+m*m,y=Math.sqrt(g),v=Math.sqrt(h),b=i*Math.tan((Jj-Math.acos((g+h-x)/(2*y*v)))/2),j=b/v,w=b/y;Math.abs(j-1)>rl&&this._append`L${t+j*d},${n+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*m)},${this._x1=t+w*c},${this._y1=n+w*u}`}}arc(t,n,r,s,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=t+l,d=n+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>rl||Math.abs(this._y1-d)>rl)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Zj+Zj),h>Jge?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>rl&&this._append`A${r},${r},0,${+(h>=Jj)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function l3(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new e0e(t)}function c3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function q9(e){this._context=e}q9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qv(e){return new q9(e)}function K9(e){return e[0]}function G9(e){return e[1]}function Y9(e,t){var n=Dt(!0),r=null,s=qv,i=null,o=l3(l);e=typeof e=="function"?e:e===void 0?K9:Dt(e),t=typeof t=="function"?t:t===void 0?G9:Dt(t);function l(c){var u,d=(c=c3(c)).length,f,h=!1,p;for(r==null&&(i=s(p=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Dt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Dt(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Dt(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(i=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=i=null:i=s(r=c),l):r},l}function xg(e,t,n){var r=null,s=Dt(!0),i=null,o=qv,l=null,c=l3(u);e=typeof e=="function"?e:e===void 0?K9:Dt(+e),t=typeof t=="function"?t:Dt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?G9:Dt(+n);function u(f){var h,p,m,g=(f=c3(f)).length,x,y=!1,v,b=new Array(g),j=new Array(g);for(i==null&&(l=o(v=c())),h=0;h<=g;++h){if(!(h<g&&s(x=f[h],h,f))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(b[m],j[m]);l.lineEnd(),l.areaEnd()}y&&(b[h]=+e(x,h,f),j[h]=+t(x,h,f),l.point(r?+r(x,h,f):b[h],n?+n(x,h,f):j[h]))}if(v)return l=null,v+""||null}function d(){return Y9().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Dt(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Dt(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Dt(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Dt(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Dt(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Dt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Dt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class X9{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function t0e(e){return new X9(e,!0)}function n0e(e){return new X9(e,!1)}const u3={draw(e,t){const n=ii(t/jx);e.moveTo(n,0),e.arc(0,0,n,0,Wv)}},r0e={draw(e,t){const n=ii(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Q9=ii(1/3),s0e=Q9*2,i0e={draw(e,t){const n=ii(t/s0e),r=n*Q9;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},a0e={draw(e,t){const n=ii(t),r=-n/2;e.rect(r,r,n,n)}},o0e=.8908130915292852,J9=wx(jx/10)/wx(7*jx/10),l0e=wx(Wv/10)*J9,c0e=-H9(Wv/10)*J9,u0e={draw(e,t){const n=ii(t*o0e),r=l0e*n,s=c0e*n;e.moveTo(0,-n),e.lineTo(r,s);for(let i=1;i<5;++i){const o=Wv*i/5,l=H9(o),c=wx(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*s,c*r+l*s)}e.closePath()}},i2=ii(3),d0e={draw(e,t){const n=-ii(t/(i2*3));e.moveTo(0,n*2),e.lineTo(-i2*n,-n),e.lineTo(i2*n,-n),e.closePath()}},gs=-.5,xs=ii(3)/2,eN=1/ii(12),f0e=(eN/2+1)*3,h0e={draw(e,t){const n=ii(t/f0e),r=n/2,s=n*eN,i=r,o=n*eN+n,l=-i,c=o;e.moveTo(r,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(gs*r-xs*s,xs*r+gs*s),e.lineTo(gs*i-xs*o,xs*i+gs*o),e.lineTo(gs*l-xs*c,xs*l+gs*c),e.lineTo(gs*r+xs*s,gs*s-xs*r),e.lineTo(gs*i+xs*o,gs*o-xs*i),e.lineTo(gs*l+xs*c,gs*c-xs*l),e.closePath()}};function p0e(e,t){let n=null,r=l3(s);e=typeof e=="function"?e:Dt(e||u3),t=typeof t=="function"?t:Dt(t===void 0?64:+t);function s(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Dt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Dt(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function Nx(){}function Sx(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Z9(e){this._context=e}Z9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function m0e(e){return new Z9(e)}function eF(e){this._context=e}eF.prototype={areaStart:Nx,areaEnd:Nx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g0e(e){return new eF(e)}function tF(e){this._context=e}tF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x0e(e){return new tF(e)}function nF(e){this._context=e}nF.prototype={areaStart:Nx,areaEnd:Nx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function y0e(e){return new nF(e)}function h_(e){return e<0?-1:1}function p_(e,t,n){var r=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(r||s<0&&-0),o=(n-e._y1)/(s||r<0&&-0),l=(i*s+o*r)/(r+s);return(h_(i)+h_(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function m_(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function a2(e,t,n){var r=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,s+l*t,i-l,o-l*n,i,o)}function Px(e){this._context=e}Px.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a2(this,this._t0,m_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,a2(this,m_(this,n=p_(this,e,t)),n);break;default:a2(this,this._t0,n=p_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function rF(e){this._context=new sF(e)}(rF.prototype=Object.create(Px.prototype)).point=function(e,t){Px.prototype.point.call(this,t,e)};function sF(e){this._context=e}sF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,i){this._context.bezierCurveTo(t,e,r,n,i,s)}};function v0e(e){return new Px(e)}function b0e(e){return new rF(e)}function iF(e){this._context=e}iF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=g_(e),s=g_(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function g_(e){var t,n=e.length-1,r,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(s[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function w0e(e){return new iF(e)}function Kv(e,t){this._context=e,this._t=t}Kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function j0e(e){return new Kv(e,.5)}function N0e(e){return new Kv(e,0)}function S0e(e){return new Kv(e,1)}function Wu(e,t){if((o=e.length)>1)for(var n=1,r,s,i=e[t[0]],o,l=i.length;n<o;++n)for(s=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function tN(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function P0e(e,t){return e[t]}function A0e(e){const t=[];return t.key=e,t}function C0e(){var e=Dt([]),t=tN,n=Wu,r=P0e;function s(i){var o=Array.from(e.apply(this,arguments),A0e),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,i)]).data=f;for(l=0,d=c3(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Dt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:Dt(+i),s):r},s.order=function(i){return arguments.length?(t=i==null?tN:typeof i=="function"?i:Dt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??Wu,s):n},s}function O0e(e,t){if((r=e.length)>0){for(var n,r,s=0,i=e[0].length,o;s<i;++s){for(o=n=0;n<r;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<r;++n)e[n][s][1]/=o}Wu(e,t)}}function k0e(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,i=r.length;n<i;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Wu(e,t)}}function _0e(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,m=0;m<l;++m){var g=e[t[m]],x=g[r][1]||0,y=g[r-1][1]||0;p+=x-y}c+=f,u+=p*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,Wu(e,t)}}function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}var T0e=["type","size","sizeType"];function nN(){return nN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nN.apply(this,arguments)}function x_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function y_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(n),!0).forEach(function(r){E0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E0e(e,t,n){return t=M0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M0e(e){var t=D0e(e,"string");return tp(t)=="symbol"?t:t+""}function D0e(e,t){if(tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R0e(e,t){if(e==null)return{};var n=I0e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function I0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var aF={symbolCircle:u3,symbolCross:r0e,symbolDiamond:i0e,symbolSquare:a0e,symbolStar:u0e,symbolTriangle:d0e,symbolWye:h0e},$0e=Math.PI/180,L0e=function(t){var n="symbol".concat(Hv(t));return aF[n]||u3},F0e=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*$0e;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},B0e=function(t,n){aF["symbol".concat(Hv(t))]=n},d3=function(t){var n=t.type,r=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=R0e(t,T0e),u=y_(y_({},c),{},{type:r,size:i,sizeType:l}),d=function(){var x=L0e(r),y=p0e().type(x).size(F0e(i,l,r));return y()},f=u.className,h=u.cx,p=u.cy,m=Ue(u,!0);return h===+h&&p===+p&&i===+i?B.createElement("path",nN({},m,{className:nt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};d3.registerSymbol=B0e;function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function rN(){return rN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rN.apply(this,arguments)}function v_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function V0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(n),!0).forEach(function(r){np(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U0e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lF(r.key),r)}}function H0e(e,t,n){return t&&U0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W0e(e,t,n){return t=Ax(t),q0e(e,oF()?Reflect.construct(t,n||[],Ax(e).constructor):t.apply(e,n))}function q0e(e,t){if(t&&(qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K0e(e)}function K0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!e})()}function Ax(e){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ax(e)}function G0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sN(e,t)}function sN(e,t){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},sN(e,t)}function np(e,t,n){return t=lF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lF(e){var t=Y0e(e,"string");return qu(t)=="symbol"?t:t+""}function Y0e(e,t){if(qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ys=32,f3=function(e){function t(){return z0e(this,t),W0e(this,t,arguments)}return G0e(t,e),H0e(t,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,i=ys/2,o=ys/6,l=ys/3,c=r.inactive?s:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:ys,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ys,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ys/8,"h").concat(ys,"v").concat(ys*3/4,"h").concat(-ys,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var u=V0e({},r);return delete u.legendIcon,B.cloneElement(r.legendIcon,u)}return B.createElement(d3,{fill:c,cx:i,cy:i,size:ys,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:ys,height:ys},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var g=p.formatter||c,x=nt(np(np({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Qe(p.value)?null:p.value;ti(!Qe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return B.createElement("li",rN({className:x,style:f,key:"legend-item-".concat(m)},tc(r.props,p,m)),B.createElement(Gj,{width:o,height:o,viewBox:d,style:h},r.renderIcon(p)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(y,p,m):y))})}},{key:"render",value:function(){var r=this.props,s=r.payload,i=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);np(f3,"displayName","Legend");np(f3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var X0e=Tv;function Q0e(){this.__data__=new X0e,this.size=0}var J0e=Q0e;function Z0e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var exe=Z0e;function txe(e){return this.__data__.get(e)}var nxe=txe;function rxe(e){return this.__data__.has(e)}var sxe=rxe,ixe=Tv,axe=Z5,oxe=e3,lxe=200;function cxe(e,t){var n=this.__data__;if(n instanceof ixe){var r=n.__data__;if(!axe||r.length<lxe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oxe(r)}return n.set(e,t),this.size=n.size,this}var uxe=cxe,dxe=Tv,fxe=J0e,hxe=exe,pxe=nxe,mxe=sxe,gxe=uxe;function Rd(e){var t=this.__data__=new dxe(e);this.size=t.size}Rd.prototype.clear=fxe;Rd.prototype.delete=hxe;Rd.prototype.get=pxe;Rd.prototype.has=mxe;Rd.prototype.set=gxe;var cF=Rd,xxe="__lodash_hash_undefined__";function yxe(e){return this.__data__.set(e,xxe),this}var vxe=yxe;function bxe(e){return this.__data__.has(e)}var wxe=bxe,jxe=e3,Nxe=vxe,Sxe=wxe;function Cx(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new jxe;++t<n;)this.add(e[t])}Cx.prototype.add=Cx.prototype.push=Nxe;Cx.prototype.has=Sxe;var uF=Cx;function Pxe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var dF=Pxe;function Axe(e,t){return e.has(t)}var fF=Axe,Cxe=uF,Oxe=dF,kxe=fF,_xe=1,Txe=2;function Exe(e,t,n,r,s,i){var o=n&_xe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=n&Txe?new Cxe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var m=e[f],g=t[f];if(r)var x=o?r(g,m,f,t,e,i):r(m,g,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!Oxe(t,function(y,v){if(!kxe(p,v)&&(m===y||s(m,y,n,r,i)))return p.push(v)})){h=!1;break}}else if(!(m===g||s(m,g,n,r,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var hF=Exe,Mxe=Ei,Dxe=Mxe.Uint8Array,Rxe=Dxe;function Ixe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var $xe=Ixe;function Lxe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var h3=Lxe,b_=lm,w_=Rxe,Fxe=J5,Bxe=hF,Vxe=$xe,zxe=h3,Uxe=1,Hxe=2,Wxe="[object Boolean]",qxe="[object Date]",Kxe="[object Error]",Gxe="[object Map]",Yxe="[object Number]",Xxe="[object RegExp]",Qxe="[object Set]",Jxe="[object String]",Zxe="[object Symbol]",eye="[object ArrayBuffer]",tye="[object DataView]",j_=b_?b_.prototype:void 0,o2=j_?j_.valueOf:void 0;function nye(e,t,n,r,s,i,o){switch(n){case tye:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case eye:return!(e.byteLength!=t.byteLength||!i(new w_(e),new w_(t)));case Wxe:case qxe:case Yxe:return Fxe(+e,+t);case Kxe:return e.name==t.name&&e.message==t.message;case Xxe:case Jxe:return e==t+"";case Gxe:var l=Vxe;case Qxe:var c=r&Uxe;if(l||(l=zxe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=Hxe,o.set(e,t);var d=Bxe(l(e),l(t),r,s,i,o);return o.delete(e),d;case Zxe:if(o2)return o2.call(e)==o2.call(t)}return!1}var rye=nye;function sye(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var pF=sye,iye=pF,aye=Hr;function oye(e,t,n){var r=t(e);return aye(e)?r:iye(r,n(e))}var lye=oye;function cye(e,t){for(var n=-1,r=e==null?0:e.length,s=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[s++]=o)}return i}var uye=cye;function dye(){return[]}var fye=dye,hye=uye,pye=fye,mye=Object.prototype,gye=mye.propertyIsEnumerable,N_=Object.getOwnPropertySymbols,xye=N_?function(e){return e==null?[]:(e=Object(e),hye(N_(e),function(t){return gye.call(e,t)}))}:pye,yye=xye;function vye(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var bye=vye,wye=_a,jye=Ta,Nye="[object Arguments]";function Sye(e){return jye(e)&&wye(e)==Nye}var Pye=Sye,S_=Pye,Aye=Ta,mF=Object.prototype,Cye=mF.hasOwnProperty,Oye=mF.propertyIsEnumerable,kye=S_(function(){return arguments}())?S_:function(e){return Aye(e)&&Cye.call(e,"callee")&&!Oye.call(e,"callee")},p3=kye,Ox={exports:{}};function _ye(){return!1}var Tye=_ye;Ox.exports;(function(e,t){var n=Ei,r=Tye,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(Ox,Ox.exports);var gF=Ox.exports,Eye=9007199254740991,Mye=/^(?:0|[1-9]\d*)$/;function Dye(e,t){var n=typeof e;return t=t??Eye,!!t&&(n=="number"||n!="symbol"&&Mye.test(e))&&e>-1&&e%1==0&&e<t}var m3=Dye,Rye=9007199254740991;function Iye(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Rye}var g3=Iye,$ye=_a,Lye=g3,Fye=Ta,Bye="[object Arguments]",Vye="[object Array]",zye="[object Boolean]",Uye="[object Date]",Hye="[object Error]",Wye="[object Function]",qye="[object Map]",Kye="[object Number]",Gye="[object Object]",Yye="[object RegExp]",Xye="[object Set]",Qye="[object String]",Jye="[object WeakMap]",Zye="[object ArrayBuffer]",eve="[object DataView]",tve="[object Float32Array]",nve="[object Float64Array]",rve="[object Int8Array]",sve="[object Int16Array]",ive="[object Int32Array]",ave="[object Uint8Array]",ove="[object Uint8ClampedArray]",lve="[object Uint16Array]",cve="[object Uint32Array]",Ft={};Ft[tve]=Ft[nve]=Ft[rve]=Ft[sve]=Ft[ive]=Ft[ave]=Ft[ove]=Ft[lve]=Ft[cve]=!0;Ft[Bye]=Ft[Vye]=Ft[Zye]=Ft[zye]=Ft[eve]=Ft[Uye]=Ft[Hye]=Ft[Wye]=Ft[qye]=Ft[Kye]=Ft[Gye]=Ft[Yye]=Ft[Xye]=Ft[Qye]=Ft[Jye]=!1;function uve(e){return Fye(e)&&Lye(e.length)&&!!Ft[$ye(e)]}var dve=uve;function fve(e){return function(t){return e(t)}}var xF=fve,kx={exports:{}};kx.exports;(function(e,t){var n=P9,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===r,o=i&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(kx,kx.exports);var hve=kx.exports,pve=dve,mve=xF,P_=hve,A_=P_&&P_.isTypedArray,gve=A_?mve(A_):pve,yF=gve,xve=bye,yve=p3,vve=Hr,bve=gF,wve=m3,jve=yF,Nve=Object.prototype,Sve=Nve.hasOwnProperty;function Pve(e,t){var n=vve(e),r=!n&&yve(e),s=!n&&!r&&bve(e),i=!n&&!r&&!s&&jve(e),o=n||r||s||i,l=o?xve(e.length,String):[],c=l.length;for(var u in e)(t||Sve.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wve(u,c)))&&l.push(u);return l}var Ave=Pve,Cve=Object.prototype;function Ove(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Cve;return e===n}var kve=Ove;function _ve(e,t){return function(n){return e(t(n))}}var vF=_ve,Tve=vF,Eve=Tve(Object.keys,Object),Mve=Eve,Dve=kve,Rve=Mve,Ive=Object.prototype,$ve=Ive.hasOwnProperty;function Lve(e){if(!Dve(e))return Rve(e);var t=[];for(var n in Object(e))$ve.call(e,n)&&n!="constructor"&&t.push(n);return t}var Fve=Lve,Bve=Q5,Vve=g3;function zve(e){return e!=null&&Vve(e.length)&&!Bve(e)}var um=zve,Uve=Ave,Hve=Fve,Wve=um;function qve(e){return Wve(e)?Uve(e):Hve(e)}var Gv=qve,Kve=lye,Gve=yye,Yve=Gv;function Xve(e){return Kve(e,Yve,Gve)}var Qve=Xve,C_=Qve,Jve=1,Zve=Object.prototype,ebe=Zve.hasOwnProperty;function tbe(e,t,n,r,s,i){var o=n&Jve,l=C_(e),c=l.length,u=C_(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:ebe.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var g=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var y=e[h],v=t[h];if(r)var b=o?r(v,y,h,t,e,i):r(y,v,h,e,t,i);if(!(b===void 0?y===v||s(y,v,n,r,i):b)){g=!1;break}x||(x=h=="constructor")}if(g&&!x){var j=e.constructor,w=t.constructor;j!=w&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof w=="function"&&w instanceof w)&&(g=!1)}return i.delete(e),i.delete(t),g}var nbe=tbe,rbe=uc,sbe=Ei,ibe=rbe(sbe,"DataView"),abe=ibe,obe=uc,lbe=Ei,cbe=obe(lbe,"Promise"),ube=cbe,dbe=uc,fbe=Ei,hbe=dbe(fbe,"Set"),bF=hbe,pbe=uc,mbe=Ei,gbe=pbe(mbe,"WeakMap"),xbe=gbe,iN=abe,aN=Z5,oN=ube,lN=bF,cN=xbe,wF=_a,Id=C9,O_="[object Map]",ybe="[object Object]",k_="[object Promise]",__="[object Set]",T_="[object WeakMap]",E_="[object DataView]",vbe=Id(iN),bbe=Id(aN),wbe=Id(oN),jbe=Id(lN),Nbe=Id(cN),sl=wF;(iN&&sl(new iN(new ArrayBuffer(1)))!=E_||aN&&sl(new aN)!=O_||oN&&sl(oN.resolve())!=k_||lN&&sl(new lN)!=__||cN&&sl(new cN)!=T_)&&(sl=function(e){var t=wF(e),n=t==ybe?e.constructor:void 0,r=n?Id(n):"";if(r)switch(r){case vbe:return E_;case bbe:return O_;case wbe:return k_;case jbe:return __;case Nbe:return T_}return t});var Sbe=sl,l2=cF,Pbe=hF,Abe=rye,Cbe=nbe,M_=Sbe,D_=Hr,R_=gF,Obe=yF,kbe=1,I_="[object Arguments]",$_="[object Array]",yg="[object Object]",_be=Object.prototype,L_=_be.hasOwnProperty;function Tbe(e,t,n,r,s,i){var o=D_(e),l=D_(t),c=o?$_:M_(e),u=l?$_:M_(t);c=c==I_?yg:c,u=u==I_?yg:u;var d=c==yg,f=u==yg,h=c==u;if(h&&R_(e)){if(!R_(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new l2),o||Obe(e)?Pbe(e,t,n,r,s,i):Abe(e,t,c,n,r,s,i);if(!(n&kbe)){var p=d&&L_.call(e,"__wrapped__"),m=f&&L_.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,x=m?t.value():t;return i||(i=new l2),s(g,x,n,r,i)}}return h?(i||(i=new l2),Cbe(e,t,n,r,s,i)):!1}var Ebe=Tbe,Mbe=Ebe,F_=Ta;function jF(e,t,n,r,s){return e===t?!0:e==null||t==null||!F_(e)&&!F_(t)?e!==e&&t!==t:Mbe(e,t,n,r,jF,s)}var x3=jF,Dbe=cF,Rbe=x3,Ibe=1,$be=2;function Lbe(e,t,n,r){var s=n.length,i=s,o=!r;if(e==null)return!i;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=n[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Dbe;if(r)var h=r(u,d,c,e,t,f);if(!(h===void 0?Rbe(d,u,Ibe|$be,r,f):h))return!1}}return!0}var Fbe=Lbe,Bbe=Fo;function Vbe(e){return e===e&&!Bbe(e)}var NF=Vbe,zbe=NF,Ube=Gv;function Hbe(e){for(var t=Ube(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,zbe(s)]}return t}var Wbe=Hbe;function qbe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var SF=qbe,Kbe=Fbe,Gbe=Wbe,Ybe=SF;function Xbe(e){var t=Gbe(e);return t.length==1&&t[0][2]?Ybe(t[0][0],t[0][1]):function(n){return n===e||Kbe(n,e,t)}}var Qbe=Xbe;function Jbe(e,t){return e!=null&&t in Object(e)}var Zbe=Jbe,e1e=E9,t1e=p3,n1e=Hr,r1e=m3,s1e=g3,i1e=Mv;function a1e(e,t,n){t=e1e(t,e);for(var r=-1,s=t.length,i=!1;++r<s;){var o=i1e(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=s?i:(s=e==null?0:e.length,!!s&&s1e(s)&&r1e(o,s)&&(n1e(e)||t1e(e)))}var o1e=a1e,l1e=Zbe,c1e=o1e;function u1e(e,t){return e!=null&&c1e(e,t,l1e)}var d1e=u1e,f1e=x3,h1e=M9,p1e=d1e,m1e=X5,g1e=NF,x1e=SF,y1e=Mv,v1e=1,b1e=2;function w1e(e,t){return m1e(e)&&g1e(t)?x1e(y1e(e),t):function(n){var r=h1e(n,e);return r===void 0&&r===t?p1e(n,e):f1e(t,r,v1e|b1e)}}var j1e=w1e;function N1e(e){return e}var $d=N1e;function S1e(e){return function(t){return t==null?void 0:t[e]}}var P1e=S1e,A1e=r3;function C1e(e){return function(t){return A1e(t,e)}}var O1e=C1e,k1e=P1e,_1e=O1e,T1e=X5,E1e=Mv;function M1e(e){return T1e(e)?k1e(E1e(e)):_1e(e)}var D1e=M1e,R1e=Qbe,I1e=j1e,$1e=$d,L1e=Hr,F1e=D1e;function B1e(e){return typeof e=="function"?e:e==null?$1e:typeof e=="object"?L1e(e)?I1e(e[0],e[1]):R1e(e):F1e(e)}var Mi=B1e;function V1e(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var PF=V1e;function z1e(e){return e!==e}var U1e=z1e;function H1e(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var W1e=H1e,q1e=PF,K1e=U1e,G1e=W1e;function Y1e(e,t,n){return t===t?G1e(e,t,n):q1e(e,K1e,n)}var X1e=Y1e,Q1e=X1e;function J1e(e,t){var n=e==null?0:e.length;return!!n&&Q1e(e,t,0)>-1}var Z1e=J1e;function e2e(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var t2e=e2e;function n2e(){}var r2e=n2e,c2=bF,s2e=r2e,i2e=h3,a2e=1/0,o2e=c2&&1/i2e(new c2([,-0]))[1]==a2e?function(e){return new c2(e)}:s2e,l2e=o2e,c2e=uF,u2e=Z1e,d2e=t2e,f2e=fF,h2e=l2e,p2e=h3,m2e=200;function g2e(e,t,n){var r=-1,s=u2e,i=e.length,o=!0,l=[],c=l;if(n)o=!1,s=d2e;else if(i>=m2e){var u=t?null:h2e(e);if(u)return p2e(u);o=!1,s=f2e,c=new c2e}else c=t?[]:l;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var x2e=g2e,y2e=Mi,v2e=x2e;function b2e(e,t){return e&&e.length?v2e(e,y2e(t)):[]}var w2e=b2e;const B_=jt(w2e);function AF(e,t,n){return t===!0?B_(e,n):Qe(t)?B_(e,t):e}function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}var j2e=["ref"];function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(n),!0).forEach(function(r){Yv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OF(r.key),r)}}function S2e(e,t,n){return t&&z_(e.prototype,t),n&&z_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P2e(e,t,n){return t=_x(t),A2e(e,CF()?Reflect.construct(t,n||[],_x(e).constructor):t.apply(e,n))}function A2e(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C2e(e)}function C2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CF=function(){return!!e})()}function _x(e){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_x(e)}function O2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uN(e,t)}function uN(e,t){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},uN(e,t)}function Yv(e,t,n){return t=OF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OF(e){var t=k2e(e,"string");return Ku(t)=="symbol"?t:t+""}function k2e(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _2e(e,t){if(e==null)return{};var n=T2e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function T2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function E2e(e){return e.value}function M2e(e,t){if(B.isValidElement(e))return B.cloneElement(e,t);if(typeof e=="function")return B.createElement(e,t);t.ref;var n=_2e(t,j2e);return B.createElement(f3,n)}var U_=1,So=function(e){function t(){var n;N2e(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=P2e(this,t,[].concat(s)),Yv(n,"lastBoundingBox",{width:-1,height:-1}),n}return O2e(t,e),S2e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>U_||Math.abs(s.height-this.lastBoundingBox.height)>U_)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Li(Li({},f),h)}},{key:"render",value:function(){var r=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Li(Li({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},M2e(i,Li(Li({},this.props),{},{payload:AF(d,u,E2e)})))}}],[{key:"getWithHeight",value:function(r,s){var i=Li(Li({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Se(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||s}:null}}])}(N.PureComponent);Yv(So,"displayName","Legend");Yv(So,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var H_=lm,D2e=p3,R2e=Hr,W_=H_?H_.isConcatSpreadable:void 0;function I2e(e){return R2e(e)||D2e(e)||!!(W_&&e&&e[W_])}var $2e=I2e,L2e=pF,F2e=$2e;function kF(e,t,n,r,s){var i=-1,o=e.length;for(n||(n=F2e),s||(s=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?kF(l,t-1,n,r,s):L2e(s,l):r||(s[s.length]=l)}return s}var _F=kF;function B2e(e){return function(t,n,r){for(var s=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++s];if(n(i[c],c,i)===!1)break}return t}}var V2e=B2e,z2e=V2e,U2e=z2e(),H2e=U2e,W2e=H2e,q2e=Gv;function K2e(e,t){return e&&W2e(e,t,q2e)}var TF=K2e,G2e=um;function Y2e(e,t){return function(n,r){if(n==null)return n;if(!G2e(n))return e(n,r);for(var s=n.length,i=t?s:-1,o=Object(n);(t?i--:++i<s)&&r(o[i],i,o)!==!1;);return n}}var X2e=Y2e,Q2e=TF,J2e=X2e,Z2e=J2e(Q2e),y3=Z2e,ewe=y3,twe=um;function nwe(e,t){var n=-1,r=twe(e)?Array(e.length):[];return ewe(e,function(s,i,o){r[++n]=t(s,i,o)}),r}var EF=nwe;function rwe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var swe=rwe,q_=kd;function iwe(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,i=q_(e),o=t!==void 0,l=t===null,c=t===t,u=q_(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!s)return 1;if(!r&&!i&&!u&&e<t||u&&n&&s&&!r&&!i||l&&n&&s||!o&&s||!c)return-1}return 0}var awe=iwe,owe=awe;function lwe(e,t,n){for(var r=-1,s=e.criteria,i=t.criteria,o=s.length,l=n.length;++r<o;){var c=owe(s[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var cwe=lwe,u2=n3,uwe=r3,dwe=Mi,fwe=EF,hwe=swe,pwe=xF,mwe=cwe,gwe=$d,xwe=Hr;function ywe(e,t,n){t.length?t=u2(t,function(i){return xwe(i)?function(o){return uwe(o,i.length===1?i[0]:i)}:i}):t=[gwe];var r=-1;t=u2(t,pwe(dwe));var s=fwe(e,function(i,o,l){var c=u2(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return hwe(s,function(i,o){return mwe(i,o,n)})}var vwe=ywe;function bwe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var wwe=bwe,jwe=wwe,K_=Math.max;function Nwe(e,t,n){return t=K_(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=K_(r.length-t,0),o=Array(i);++s<i;)o[s]=r[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=r[s];return l[t]=n(o),jwe(e,this,l)}}var Swe=Nwe;function Pwe(e){return function(){return e}}var Awe=Pwe,Cwe=uc,Owe=function(){try{var e=Cwe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),MF=Owe,kwe=Awe,G_=MF,_we=$d,Twe=G_?function(e,t){return G_(e,"toString",{configurable:!0,enumerable:!1,value:kwe(t),writable:!0})}:_we,Ewe=Twe,Mwe=800,Dwe=16,Rwe=Date.now;function Iwe(e){var t=0,n=0;return function(){var r=Rwe(),s=Dwe-(r-n);if(n=r,s>0){if(++t>=Mwe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var $we=Iwe,Lwe=Ewe,Fwe=$we,Bwe=Fwe(Lwe),Vwe=Bwe,zwe=$d,Uwe=Swe,Hwe=Vwe;function Wwe(e,t){return Hwe(Uwe(e,t,zwe),e+"")}var qwe=Wwe,Kwe=J5,Gwe=um,Ywe=m3,Xwe=Fo;function Qwe(e,t,n){if(!Xwe(n))return!1;var r=typeof t;return(r=="number"?Gwe(n)&&Ywe(t,n.length):r=="string"&&t in n)?Kwe(n[t],e):!1}var Xv=Qwe,Jwe=_F,Zwe=vwe,eje=qwe,Y_=Xv,tje=eje(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Y_(e,t[0],t[1])?t=[]:n>2&&Y_(t[0],t[1],t[2])&&(t=[t[0]]),Zwe(e,Jwe(t,1),[])}),nje=tje;const v3=jt(nje);function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dN.apply(this,arguments)}function rje(e,t){return oje(e)||aje(e,t)||ije(e,t)||sje()}function sje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ije(e,t){if(e){if(typeof e=="string")return X_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(e,t)}}function X_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function oje(e){if(Array.isArray(e))return e}function Q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function d2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(n),!0).forEach(function(r){lje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lje(e,t,n){return t=cje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cje(e){var t=uje(e,"string");return rp(t)=="symbol"?t:t+""}function uje(e,t){if(rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dje(e){return Array.isArray(e)&&Tn(e[0])&&Tn(e[1])?e.join(" ~ "):e}var fje=function(t){var n=t.separator,r=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,g=t.label,x=t.labelFormatter,y=t.accessibilityLayer,v=y===void 0?!1:y,b=function(){if(d&&d.length){var O={padding:0,margin:0},I=(h?v3(d,h):d).map(function(M,E){if(M.type==="none")return null;var _=d2({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),L=M.formatter||f||dje,R=M.value,F=M.name,W=R,q=F;if(L&&W!=null&&q!=null){var G=L(R,F,M,E,d);if(Array.isArray(G)){var H=rje(G,2);W=H[0],q=H[1]}else W=G}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:_},Tn(q)?B.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Tn(q)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},W),B.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:O},I)}return null},j=d2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=d2({margin:0},u),S=!Ze(g),P=S?g:"",A=nt("recharts-default-tooltip",p),C=nt("recharts-tooltip-label",m);S&&x&&d!==void 0&&d!==null&&(P=x(g,d));var T=v?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",dN({className:A,style:j},T),B.createElement("p",{className:C,style:w},B.isValidElement(P)?P:"".concat(P)),b())};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function vg(e,t,n){return t=hje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hje(e){var t=pje(e,"string");return sp(t)=="symbol"?t:t+""}function pje(e,t){if(sp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var df="recharts-tooltip-wrapper",mje={visibility:"hidden"};function gje(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return nt(df,vg(vg(vg(vg({},"".concat(df,"-right"),Se(n)&&t&&Se(t.x)&&n>=t.x),"".concat(df,"-left"),Se(n)&&t&&Se(t.x)&&n<t.x),"".concat(df,"-bottom"),Se(r)&&t&&Se(t.y)&&r>=t.y),"".concat(df,"-top"),Se(r)&&t&&Se(t.y)&&r<t.y))}function J_(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Se(i[r]))return i[r];var d=n[r]-l-s,f=n[r]+s;if(t[r])return o[r]?d:f;if(o[r]){var h=d,p=c[r];return h<p?Math.max(f,c[r]):Math.max(d,c[r])}var m=f+l,g=c[r]+u;return m>g?Math.max(d,c[r]):Math.max(f,c[r])}function xje(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function yje(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=J_({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=J_({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=xje({translateX:d,translateY:f,useTranslate3d:l})):u=mje,{cssProperties:u,cssClasses:gje({translateX:d,translateY:f,coordinate:n})}}function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function Z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function eT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(n),!0).forEach(function(r){hN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bje(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RF(r.key),r)}}function wje(e,t,n){return t&&bje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jje(e,t,n){return t=Tx(t),Nje(e,DF()?Reflect.construct(t,n||[],Tx(e).constructor):t.apply(e,n))}function Nje(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sje(e)}function Sje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DF=function(){return!!e})()}function Tx(e){return Tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tx(e)}function Pje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fN(e,t)}function fN(e,t){return fN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},fN(e,t)}function hN(e,t,n){return t=RF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RF(e){var t=Aje(e,"string");return Gu(t)=="symbol"?t:t+""}function Aje(e,t){if(Gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tT=1,Cje=function(e){function t(){var n;vje(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=jje(this,t,[].concat(s)),hN(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hN(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Pje(t,e),wje(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>tT||Math.abs(r.height-this.state.lastBoundingBox.height)>tT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,m=s.position,g=s.reverseDirection,x=s.useTranslate3d,y=s.viewBox,v=s.wrapperStyle,b=yje({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),j=b.cssClasses,w=b.cssProperties,S=eT(eT({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return B.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(A){r.wrapperNode=A}},u)}}])}(N.PureComponent),Oje=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},dc={isSsr:Oje()};function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function rT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(n),!0).forEach(function(r){b3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$F(r.key),r)}}function Tje(e,t,n){return t&&_je(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eje(e,t,n){return t=Ex(t),Mje(e,IF()?Reflect.construct(t,n||[],Ex(e).constructor):t.apply(e,n))}function Mje(e,t){if(t&&(Yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dje(e)}function Dje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!e})()}function Ex(e){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ex(e)}function Rje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pN(e,t)}function pN(e,t){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},pN(e,t)}function b3(e,t,n){return t=$F(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $F(e){var t=Ije(e,"string");return Yu(t)=="symbol"?t:t+""}function Ije(e,t){if(Yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $je(e){return e.dataKey}function Lje(e,t){return B.isValidElement(e)?B.cloneElement(e,t):typeof e=="function"?B.createElement(e,t):B.createElement(fje,t)}var js=function(e){function t(){return kje(this,t),Eje(this,t,arguments)}return Rje(t,e),Tje(t,[{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,m=s.payload,g=s.payloadUniqBy,x=s.position,y=s.reverseDirection,v=s.useTranslate3d,b=s.viewBox,j=s.wrapperStyle,w=m??[];f&&w.length&&(w=AF(m.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),g,$je));var S=w.length>0;return B.createElement(Cje,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:x,reverseDirection:y,useTranslate3d:v,viewBox:b,wrapperStyle:j},Lje(u,rT(rT({},this.props),{},{payload:w})))}}])}(N.PureComponent);b3(js,"displayName","Tooltip");b3(js,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!dc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Fje=Ei,Bje=function(){return Fje.Date.now()},Vje=Bje,zje=/\s/;function Uje(e){for(var t=e.length;t--&&zje.test(e.charAt(t)););return t}var Hje=Uje,Wje=Hje,qje=/^\s+/;function Kje(e){return e&&e.slice(0,Wje(e)+1).replace(qje,"")}var Gje=Kje,Yje=Gje,sT=Fo,Xje=kd,iT=NaN,Qje=/^[-+]0x[0-9a-f]+$/i,Jje=/^0b[01]+$/i,Zje=/^0o[0-7]+$/i,eNe=parseInt;function tNe(e){if(typeof e=="number")return e;if(Xje(e))return iT;if(sT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=sT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Yje(e);var n=Jje.test(e);return n||Zje.test(e)?eNe(e.slice(2),n?2:8):Qje.test(e)?iT:+e}var LF=tNe,nNe=Fo,f2=Vje,aT=LF,rNe="Expected a function",sNe=Math.max,iNe=Math.min;function aNe(e,t,n){var r,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(rNe);t=aT(t)||0,nNe(n)&&(d=!!n.leading,f="maxWait"in n,i=f?sNe(aT(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h);function p(S){var P=r,A=s;return r=s=void 0,u=S,o=e.apply(A,P),o}function m(S){return u=S,l=setTimeout(y,t),d?p(S):o}function g(S){var P=S-c,A=S-u,C=t-P;return f?iNe(C,i-A):C}function x(S){var P=S-c,A=S-u;return c===void 0||P>=t||P<0||f&&A>=i}function y(){var S=f2();if(x(S))return v(S);l=setTimeout(y,g(S))}function v(S){return l=void 0,h&&r?p(S):(r=s=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function j(){return l===void 0?o:v(f2())}function w(){var S=f2(),P=x(S);if(r=arguments,s=this,c=S,P){if(l===void 0)return m(c);if(f)return clearTimeout(l),l=setTimeout(y,t),p(c)}return l===void 0&&(l=setTimeout(y,t)),o}return w.cancel=b,w.flush=j,w}var oNe=aNe,lNe=oNe,cNe=Fo,uNe="Expected a function";function dNe(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(uNe);return cNe(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),lNe(e,t,{leading:r,maxWait:t,trailing:s})}var fNe=dNe;const FF=jt(fNe);function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function oT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(n),!0).forEach(function(r){hNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hNe(e,t,n){return t=pNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pNe(e){var t=mNe(e,"string");return ip(t)=="symbol"?t:t+""}function mNe(e,t){if(ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gNe(e,t){return bNe(e)||vNe(e,t)||yNe(e,t)||xNe()}function xNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yNe(e,t){if(e){if(typeof e=="string")return lT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lT(e,t)}}function lT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bNe(e){if(Array.isArray(e))return e}var h2=N.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,s=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,g=m===void 0?0:m,x=e.id,y=e.className,v=e.onResize,b=e.style,j=b===void 0?{}:b,w=N.useRef(null),S=N.useRef();S.current=v,N.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var P=N.useState({containerWidth:s.width,containerHeight:s.height}),A=gNe(P,2),C=A[0],T=A[1],k=N.useCallback(function(I,M){T(function(E){var _=Math.round(I),L=Math.round(M);return E.containerWidth===_&&E.containerHeight===L?E:{containerWidth:_,containerHeight:L}})},[]);N.useEffect(function(){var I=function(F){var W,q=F[0].contentRect,G=q.width,H=q.height;k(G,H),(W=S.current)===null||W===void 0||W.call(S,G,H)};g>0&&(I=FF(I,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(I),E=w.current.getBoundingClientRect(),_=E.width,L=E.height;return k(_,L),M.observe(w.current),function(){M.disconnect()}},[k,g]);var O=N.useMemo(function(){var I=C.containerWidth,M=C.containerHeight;if(I<0||M<0)return null;ti(xl(o)||xl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ti(!n||n>0,"The aspect(%s) must be greater than zero.",n);var E=xl(o)?I:o,_=xl(c)?M:c;n&&n>0&&(E?_=E/n:_&&(E=_*n),h&&_>h&&(_=h)),ti(E>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,_,o,c,d,f,n);var L=!Array.isArray(p)&&ua(p.type).endsWith("Chart");return B.Children.map(p,function(R){return B.isValidElement(R)?N.cloneElement(R,bg({width:E,height:_},L?{style:bg({height:"100%",width:"100%",maxHeight:_,maxWidth:E},R.props.style)}:{})):R})},[n,p,c,h,f,d,C,o]);return B.createElement("div",{id:x?"".concat(x):void 0,className:nt("recharts-responsive-container",y),style:bg(bg({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},O)}),Qv=function(t){return null};Qv.displayName="Cell";function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(n),!0).forEach(function(r){wNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wNe(e,t,n){return t=jNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jNe(e){var t=NNe(e,"string");return ap(t)=="symbol"?t:t+""}function NNe(e,t){if(ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jc={widthCache:{},cacheCount:0},SNe=2e3,PNe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uT="recharts_measurement_span";function ANe(e){var t=mN({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var lh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||dc.isSsr)return{width:0,height:0};var r=ANe(n),s=JSON.stringify({text:t,copyStyle:r});if(jc.widthCache[s])return jc.widthCache[s];try{var i=document.getElementById(uT);i||(i=document.createElement("span"),i.setAttribute("id",uT),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=mN(mN({},PNe),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return jc.widthCache[s]=c,++jc.cacheCount>SNe&&(jc.cacheCount=0,jc.widthCache={}),c}catch{return{width:0,height:0}}},CNe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function Mx(e,t){return TNe(e)||_Ne(e,t)||kNe(e,t)||ONe()}function ONe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kNe(e,t){if(e){if(typeof e=="string")return dT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dT(e,t)}}function dT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _Ne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function TNe(e){if(Array.isArray(e))return e}function ENe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DNe(r.key),r)}}function MNe(e,t,n){return t&&fT(e.prototype,t),n&&fT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function DNe(e){var t=RNe(e,"string");return op(t)=="symbol"?t:t+""}function RNe(e,t){if(op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,INe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$Ne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},LNe=Object.keys(BF),Kc="NaN";function FNe(e,t){return e*BF[t]}var wg=function(){function e(t,n){ENe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!INe.test(n)&&(this.num=NaN,this.unit=""),LNe.includes(n)&&(this.num=FNe(t,n),this.unit="px")}return MNe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=$Ne.exec(n))!==null&&r!==void 0?r:[],i=Mx(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function VF(e){if(e.includes(Kc))return Kc;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=hT.exec(t))!==null&&n!==void 0?n:[],s=Mx(r,4),i=s[1],o=s[2],l=s[3],c=wg.parse(i??""),u=wg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Kc;t=t.replace(hT,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=pT.exec(t))!==null&&f!==void 0?f:[],p=Mx(h,4),m=p[1],g=p[2],x=p[3],y=wg.parse(m??""),v=wg.parse(x??""),b=g==="+"?y.add(v):y.subtract(v);if(b.isNaN())return Kc;t=t.replace(pT,b.toString())}return t}var mT=/\(([^()]*)\)/;function BNe(e){for(var t=e;t.includes("(");){var n=mT.exec(t),r=Mx(n,2),s=r[1];t=t.replace(mT,VF(s))}return t}function VNe(e){var t=e.replace(/\s+/g,"");return t=BNe(t),t=VF(t),t}function zNe(e){try{return VNe(e)}catch{return Kc}}function p2(e){var t=zNe(e.slice(5,-1));return t===Kc?"":t}var UNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],HNe=["dx","dy","angle","className","breakAll"];function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gN.apply(this,arguments)}function gT(e,t){if(e==null)return{};var n=WNe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function WNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xT(e,t){return YNe(e)||GNe(e,t)||KNe(e,t)||qNe()}function qNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KNe(e,t){if(e){if(typeof e=="string")return yT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yT(e,t)}}function yT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function YNe(e){if(Array.isArray(e))return e}var zF=/[ \f\n\r\t\v\u2028\u2029]+/,UF=function(t){var n=t.children,r=t.breakAll,s=t.style;try{var i=[];Ze(n)||(r?i=n.toString().split(""):i=n.toString().split(zF));var o=i.map(function(c){return{word:c,width:lh(c,s).width}}),l=r?0:lh("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},XNe=function(t,n,r,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Se(o),f=l,h=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce(function(_,L){var R=L.word,F=L.width,W=_[_.length-1];if(W&&(s==null||i||W.width+F+r<Number(s)))W.words.push(R),W.width+=F+r;else{var q={words:[R],width:F};_.push(q)}return _},[])},p=h(n),m=function(E){return E.reduce(function(_,L){return _.width>L.width?_:L})};if(!d)return p;for(var g="",x=function(E){var _=f.slice(0,E),L=UF({breakAll:u,style:c,children:_+g}).wordsWithComputedWidth,R=h(L),F=R.length>o||m(R).width>Number(s);return[F,R]},y=0,v=f.length-1,b=0,j;y<=v&&b<=f.length-1;){var w=Math.floor((y+v)/2),S=w-1,P=x(S),A=xT(P,2),C=A[0],T=A[1],k=x(w),O=xT(k,1),I=O[0];if(!C&&!I&&(y=w+1),C&&I&&(v=w-1),!C&&I){j=T;break}b++}return j||p},vT=function(t){var n=Ze(t)?[]:t.toString().split(zF);return[{words:n}]},QNe=function(t){var n=t.width,r=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!dc.isSsr){var c,u,d=UF({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return vT(s);return XNe({breakAll:o,children:s,maxLines:l,style:i},c,u,n,r)}return vT(s)},bT="#808080",nc=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,g=m===void 0?"end":m,x=t.fill,y=x===void 0?bT:x,v=gT(t,UNe),b=N.useMemo(function(){return QNe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),j=v.dx,w=v.dy,S=v.angle,P=v.className,A=v.breakAll,C=gT(v,HNe);if(!Tn(r)||!Tn(i))return null;var T=r+(Se(j)?j:0),k=i+(Se(w)?w:0),O;switch(g){case"start":O=p2("calc(".concat(u,")"));break;case"middle":O=p2("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=p2("calc(".concat(b.length-1," * -").concat(l,")"));break}var I=[];if(f){var M=b[0].width,E=v.width;I.push("scale(".concat((Se(E)?E/M:1)/M,")"))}return S&&I.push("rotate(".concat(S,", ").concat(T,", ").concat(k,")")),I.length&&(C.transform=I.join(" ")),B.createElement("text",gN({},Ue(C,!0),{x:T,y:k,className:nt("recharts-text",P),textAnchor:p,fill:y.includes("url")?bT:y}),b.map(function(_,L){var R=_.words.join(A?"":" ");return B.createElement("tspan",{x:T,dy:L===0?O:l,key:"".concat(R,"-").concat(L)},R)}))};function Po(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JNe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function w3(e){let t,n,r;e.length!==2?(t=Po,n=(l,c)=>Po(e(l),c),r=(l,c)=>e(l)-c):(t=e===Po||e===JNe?e:ZNe,n=e,r=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function ZNe(){return 0}function HF(e){return e===null?NaN:+e}function*eSe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const tSe=w3(Po),dm=tSe.right;w3(HF).center;class wT extends Map{constructor(t,n=sSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(jT(this,t))}has(t){return super.has(jT(this,t))}set(t,n){return super.set(nSe(this,t),n)}delete(t){return super.delete(rSe(this,t))}}function jT({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function nSe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function rSe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function sSe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function iSe(e=Po){if(e===Po)return WF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function WF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const aSe=Math.sqrt(50),oSe=Math.sqrt(10),lSe=Math.sqrt(2);function Dx(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=aSe?10:i>=oSe?5:i>=lSe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?Dx(e,t,n*2):[l,c,u]}function xN(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,i,o]=r?Dx(t,e,n):Dx(e,t,n);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function yN(e,t,n){return t=+t,e=+e,n=+n,Dx(e,t,n)[2]}function vN(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?yN(t,e,n):yN(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function NT(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ST(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qF(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?WF:iSe(s);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/c+h)),m=Math.min(r,Math.floor(t+(c-u)*f/c+h));qF(e,t,p,m,s)}const i=e[t];let o=n,l=r;for(ff(e,n,t),s(e[r],i)>0&&ff(e,n,r);o<l;){for(ff(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[n],i)===0?ff(e,n,l):(++l,ff(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function ff(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function cSe(e,t,n){if(e=Float64Array.from(eSe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return ST(e);if(t>=1)return NT(e);var r,s=(r-1)*t,i=Math.floor(s),o=NT(qF(e,i).subarray(0,i+1)),l=ST(e.subarray(i+1));return o+(l-o)*(s-i)}}function uSe(e,t,n=HF){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,i=Math.floor(s),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function dSe(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++r<s;)i[r]=e+r*n;return i}function Ls(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ea(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const bN=Symbol("implicit");function j3(){var e=new wT,t=[],n=[],r=bN;function s(i){let o=e.get(i);if(o===void 0){if(r!==bN)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new wT;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return j3(t,n).unknown(r)},Ls.apply(s,arguments),s}function lp(){var e=j3().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<r,m=p?s:r,g=p?r:s;i=(g-m)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),m+=(g-m-i*(h-c))*d,o=i*(1-c),l&&(m=Math.round(m),o=Math.round(o));var x=dSe(h).map(function(y){return m+i*y});return n(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,s]=h,r=+r,s=+s,f()):[r,s]},e.rangeRound=function(h){return[r,s]=h,r=+r,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return lp(t(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ls.apply(f(),arguments)}function KF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KF(t())},e}function ch(){return KF(lp.apply(null,arguments).paddingInner(1))}function N3(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function GF(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function fm(){}var cp=.7,Rx=1/cp,du="\\s*([+-]?\\d+)\\s*",up="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fSe=/^#([0-9a-f]{3,8})$/,hSe=new RegExp(`^rgb\\(${du},${du},${du}\\)$`),pSe=new RegExp(`^rgb\\(${Ai},${Ai},${Ai}\\)$`),mSe=new RegExp(`^rgba\\(${du},${du},${du},${up}\\)$`),gSe=new RegExp(`^rgba\\(${Ai},${Ai},${Ai},${up}\\)$`),xSe=new RegExp(`^hsl\\(${up},${Ai},${Ai}\\)$`),ySe=new RegExp(`^hsla\\(${up},${Ai},${Ai},${up}\\)$`),PT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};N3(fm,dp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:AT,formatHex:AT,formatHex8:vSe,formatHsl:bSe,formatRgb:CT,toString:CT});function AT(){return this.rgb().formatHex()}function vSe(){return this.rgb().formatHex8()}function bSe(){return YF(this).formatHsl()}function CT(){return this.rgb().formatRgb()}function dp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fSe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?OT(t):n===3?new Ir(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?jg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?jg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hSe.exec(e))?new Ir(t[1],t[2],t[3],1):(t=pSe.exec(e))?new Ir(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mSe.exec(e))?jg(t[1],t[2],t[3],t[4]):(t=gSe.exec(e))?jg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xSe.exec(e))?TT(t[1],t[2]/100,t[3]/100,1):(t=ySe.exec(e))?TT(t[1],t[2]/100,t[3]/100,t[4]):PT.hasOwnProperty(e)?OT(PT[e]):e==="transparent"?new Ir(NaN,NaN,NaN,0):null}function OT(e){return new Ir(e>>16&255,e>>8&255,e&255,1)}function jg(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ir(e,t,n,r)}function wSe(e){return e instanceof fm||(e=dp(e)),e?(e=e.rgb(),new Ir(e.r,e.g,e.b,e.opacity)):new Ir}function wN(e,t,n,r){return arguments.length===1?wSe(e):new Ir(e,t,n,r??1)}function Ir(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}N3(Ir,wN,GF(fm,{brighter(e){return e=e==null?Rx:Math.pow(Rx,e),new Ir(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cp:Math.pow(cp,e),new Ir(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ir(Il(this.r),Il(this.g),Il(this.b),Ix(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kT,formatHex:kT,formatHex8:jSe,formatRgb:_T,toString:_T}));function kT(){return`#${yl(this.r)}${yl(this.g)}${yl(this.b)}`}function jSe(){return`#${yl(this.r)}${yl(this.g)}${yl(this.b)}${yl((isNaN(this.opacity)?1:this.opacity)*255)}`}function _T(){const e=Ix(this.opacity);return`${e===1?"rgb(":"rgba("}${Il(this.r)}, ${Il(this.g)}, ${Il(this.b)}${e===1?")":`, ${e})`}`}function Ix(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Il(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yl(e){return e=Il(e),(e<16?"0":"")+e.toString(16)}function TT(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Js(e,t,n,r)}function YF(e){if(e instanceof Js)return new Js(e.h,e.s,e.l,e.opacity);if(e instanceof fm||(e=dp(e)),!e)return new Js;if(e instanceof Js)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Js(o,l,c,e.opacity)}function NSe(e,t,n,r){return arguments.length===1?YF(e):new Js(e,t,n,r??1)}function Js(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}N3(Js,NSe,GF(fm,{brighter(e){return e=e==null?Rx:Math.pow(Rx,e),new Js(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cp:Math.pow(cp,e),new Js(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Ir(m2(e>=240?e-240:e+120,s,r),m2(e,s,r),m2(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Js(ET(this.h),Ng(this.s),Ng(this.l),Ix(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ix(this.opacity);return`${e===1?"hsl(":"hsla("}${ET(this.h)}, ${Ng(this.s)*100}%, ${Ng(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ET(e){return e=(e||0)%360,e<0?e+360:e}function Ng(e){return Math.max(0,Math.min(1,e||0))}function m2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const S3=e=>()=>e;function SSe(e,t){return function(n){return e+n*t}}function PSe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ASe(e){return(e=+e)==1?XF:function(t,n){return n-t?PSe(t,n,e):S3(isNaN(t)?n:t)}}function XF(e,t){var n=t-e;return n?SSe(e,n):S3(isNaN(e)?t:e)}const MT=function e(t){var n=ASe(t);function r(s,i){var o=n((s=wN(s)).r,(i=wN(i)).r),l=n(s.g,i.g),c=n(s.b,i.b),u=XF(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function CSe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function OSe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kSe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Ld(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function _Se(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $x(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function TSe(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Ld(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var jN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,g2=new RegExp(jN.source,"g");function ESe(e){return function(){return e}}function MSe(e){return function(t){return e(t)+""}}function DSe(e,t){var n=jN.lastIndex=g2.lastIndex=0,r,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=jN.exec(e))&&(s=g2.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:$x(r,s)})),n=g2.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?MSe(c[0].x):ESe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Ld(e,t){var n=typeof t,r;return t==null||n==="boolean"?S3(t):(n==="number"?$x:n==="string"?(r=dp(t))?(t=r,MT):DSe:t instanceof dp?MT:t instanceof Date?_Se:OSe(t)?CSe:Array.isArray(t)?kSe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?TSe:$x)(e,t)}function P3(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function RSe(e,t){t===void 0&&(t=e,e=Ld);for(var n=0,r=t.length-1,s=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function ISe(e){return function(){return e}}function Lx(e){return+e}var DT=[0,1];function Nr(e){return e}function NN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:ISe(isNaN(t)?NaN:.5)}function $Se(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function LSe(e,t,n){var r=e[0],s=e[1],i=t[0],o=t[1];return s<r?(r=NN(s,r),i=n(o,i)):(r=NN(r,s),i=n(i,o)),function(l){return i(r(l))}}function FSe(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=NN(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=dm(e,l,1,r)-1;return i[c](s[c](l))}}function hm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jv(){var e=DT,t=DT,n=Ld,r,s,i,o=Nr,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Nr&&(o=$Se(e[0],e[h-1])),l=h>2?FSe:LSe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(r),$x)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Lx),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=P3,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Nr,d()):o!==Nr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return r=h,s=p,d()}}function A3(){return Jv()(Nr,Nr)}function BSe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fx(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Xu(e){return e=Fx(Math.abs(e)),e?e[1]:NaN}function VSe(e,t){return function(n,r){for(var s=n.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function zSe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var USe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fp(e){if(!(t=USe.exec(e)))throw new Error("invalid format: "+e);var t;return new C3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fp.prototype=C3.prototype;function C3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}C3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HSe(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var Bx;function WSe(e,t){var n=Fx(e,t);if(!n)return Bx=void 0,e.toPrecision(t);var r=n[0],s=n[1],i=s-(Bx=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Fx(e,Math.max(0,t+i-1))[0]}function RT(e,t){var n=Fx(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const IT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:BSe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>RT(e*100,t),r:RT,s:WSe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $T(e){return e}var LT=Array.prototype.map,FT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qSe(e){var t=e.grouping===void 0||e.thousands===void 0?$T:VSe(LT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?$T:zSe(LT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=fp(f);var p=f.fill,m=f.align,g=f.sign,x=f.symbol,y=f.zero,v=f.width,b=f.comma,j=f.precision,w=f.trim,S=f.type;S==="n"?(b=!0,S="g"):IT[S]||(j===void 0&&(j=12),w=!0,S="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var P=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),A=(x==="$"?r:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=IT[S],T=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function k(O){var I=P,M=A,E,_,L;if(S==="c")M=C(O)+M,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),j),w&&(O=HSe(O)),R&&+O==0&&g!=="+"&&(R=!1),I=(R?g==="("?g:l:g==="-"||g==="("?"":g)+I,M=(S==="s"&&!isNaN(O)&&Bx!==void 0?FT[8+Bx/3]:"")+M+(R&&g==="("?")":""),T){for(E=-1,_=O.length;++E<_;)if(L=O.charCodeAt(E),48>L||L>57){M=(L===46?s+O.slice(E+1):O.slice(E))+M,O=O.slice(0,E);break}}}b&&!y&&(O=t(O,1/0));var F=I.length+O.length+M.length,W=F<v?new Array(v-F+1).join(p):"";switch(b&&y&&(O=t(W+O,W.length?v-M.length:1/0),W=""),m){case"<":O=I+O+M+W;break;case"=":O=I+W+O+M;break;case"^":O=W.slice(0,F=W.length>>1)+I+O+M+W.slice(F);break;default:O=W+I+O+M;break}return i(O)}return k.toString=function(){return f+""},k}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(Xu(h)/3)))*3,m=Math.pow(10,-p),g=u((f=fp(f),f.type="f",f),{suffix:FT[8+p/3]});return function(x){return g(m*x)}}return{format:u,formatPrefix:d}}var Sg,O3,QF;KSe({thousands:",",grouping:[3],currency:["$",""]});function KSe(e){return Sg=qSe(e),O3=Sg.format,QF=Sg.formatPrefix,Sg}function GSe(e){return Math.max(0,-Xu(Math.abs(e)))}function YSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xu(t)/3)))*3-Xu(Math.abs(e)))}function XSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xu(t)-Xu(e))+1}function JF(e,t,n,r){var s=vN(e,t,n),i;switch(r=fp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=YSe(s,o))&&(r.precision=i),QF(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=XSe(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=GSe(s))&&(r.precision=i-(r.type==="%")*2);break}}return O3(r)}function Bo(e){var t=e.domain;return e.ticks=function(n){var r=t();return xN(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return JF(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,i=r.length-1,o=r[s],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=yN(o,l,n),u===c)return r[s]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Vx(){var e=A3();return e.copy=function(){return hm(e,Vx())},Ls.apply(e,arguments),Bo(e)}function ZF(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Lx),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return ZF(e).unknown(t)},e=arguments.length?Array.from(e,Lx):[0,1],Bo(n)}function eB(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],i=e[r],o;return i<s&&(o=n,n=r,r=o,o=s,s=i,i=o),e[n]=t.floor(s),e[r]=t.ceil(i),e}function BT(e){return Math.log(e)}function VT(e){return Math.exp(e)}function QSe(e){return-Math.log(-e)}function JSe(e){return-Math.exp(-e)}function ZSe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function e4e(e){return e===10?ZSe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function t4e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zT(e){return(t,n)=>-e(-t,n)}function k3(e){const t=e(BT,VT),n=t.domain;let r=10,s,i;function o(){return s=t4e(r),i=e4e(r),n()[0]<0?(s=zT(s),i=zT(i),e(QSe,JSe)):e(BT,VT),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),m,g;const x=l==null?10:+l;let y=[];if(!(r%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/i(-h):m*i(h),!(g<u)){if(g>d)break;y.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/i(-h):m*i(h),!(g<u)){if(g>d)break;y.push(g)}y.length*2<x&&(y=xN(u,d,x))}else y=xN(h,p,Math.min(p-h,x)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=fp(c)).precision==null&&(c.trim=!0),c=O3(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(eB(n(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function tB(){const e=k3(Jv()).domain([1,10]);return e.copy=()=>hm(e,tB()).base(e.base()),Ls.apply(e,arguments),e}function UT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function HT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _3(e){var t=1,n=e(UT(t),HT(t));return n.constant=function(r){return arguments.length?e(UT(t=+r),HT(t)):t},Bo(n)}function nB(){var e=_3(Jv());return e.copy=function(){return hm(e,nB()).constant(e.constant())},Ls.apply(e,arguments)}function WT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function n4e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function r4e(e){return e<0?-e*e:e*e}function T3(e){var t=e(Nr,Nr),n=1;function r(){return n===1?e(Nr,Nr):n===.5?e(n4e,r4e):e(WT(n),WT(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Bo(t)}function E3(){var e=T3(Jv());return e.copy=function(){return hm(e,E3()).exponent(e.exponent())},Ls.apply(e,arguments),e}function s4e(){return E3.apply(null,arguments).exponent(.5)}function qT(e){return Math.sign(e)*e*e}function i4e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rB(){var e=A3(),t=[0,1],n=!1,r;function s(i){var o=i4e(e(i));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(i){return e.invert(qT(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Lx)).map(qT)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return rB(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ls.apply(s,arguments),Bo(s)}function sB(){var e=[],t=[],n=[],r;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=uSe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[dm(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Po),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return sB().domain(e).range(t).unknown(r)},Ls.apply(i,arguments)}function iB(){var e=0,t=1,n=1,r=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[dm(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return iB().domain([e,t]).range(s).unknown(i)},Ls.apply(Bo(o),arguments)}function aB(){var e=[.5],t=[0,1],n,r=1;function s(i){return i!=null&&i<=i?t[dm(e,i,0,r)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return aB().domain(e).range(t).unknown(n)},Ls.apply(s,arguments)}const x2=new Date,y2=new Date;function En(e,t,n,r){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>En(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(s.count=(i,o)=>(x2.setTime(+i),y2.setTime(+o),e(x2),e(y2),Math.floor(n(x2,y2))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?o=>r(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const zx=En(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?En(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):zx);zx.range;const ra=1e3,_s=ra*60,sa=_s*60,ja=sa*24,M3=ja*7,KT=ja*30,v2=ja*365,vl=En(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ra)},(e,t)=>(t-e)/ra,e=>e.getUTCSeconds());vl.range;const D3=En(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ra)},(e,t)=>{e.setTime(+e+t*_s)},(e,t)=>(t-e)/_s,e=>e.getMinutes());D3.range;const R3=En(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_s)},(e,t)=>(t-e)/_s,e=>e.getUTCMinutes());R3.range;const I3=En(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ra-e.getMinutes()*_s)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getHours());I3.range;const $3=En(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCHours());$3.range;const pm=En(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_s)/ja,e=>e.getDate()-1);pm.range;const Zv=En(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ja,e=>e.getUTCDate()-1);Zv.range;const oB=En(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ja,e=>Math.floor(e/ja));oB.range;function fc(e){return En(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*_s)/M3)}const eb=fc(0),Ux=fc(1),a4e=fc(2),o4e=fc(3),Qu=fc(4),l4e=fc(5),c4e=fc(6);eb.range;Ux.range;a4e.range;o4e.range;Qu.range;l4e.range;c4e.range;function hc(e){return En(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/M3)}const tb=hc(0),Hx=hc(1),u4e=hc(2),d4e=hc(3),Ju=hc(4),f4e=hc(5),h4e=hc(6);tb.range;Hx.range;u4e.range;d4e.range;Ju.range;f4e.range;h4e.range;const L3=En(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());L3.range;const F3=En(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());F3.range;const Na=En(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:En(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Na.range;const Sa=En(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:En(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Sa.range;function lB(e,t,n,r,s,i){const o=[[vl,1,ra],[vl,5,5*ra],[vl,15,15*ra],[vl,30,30*ra],[i,1,_s],[i,5,5*_s],[i,15,15*_s],[i,30,30*_s],[s,1,sa],[s,3,3*sa],[s,6,6*sa],[s,12,12*sa],[r,1,ja],[r,2,2*ja],[n,1,M3],[t,1,KT],[t,3,3*KT],[e,1,v2]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function c(u,d,f){const h=Math.abs(d-u)/f,p=w3(([,,x])=>x).right(o,h);if(p===o.length)return e.every(vN(u/v2,d/v2,f));if(p===0)return zx.every(Math.max(vN(u,d,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[l,c]}const[p4e,m4e]=lB(Sa,F3,tb,oB,$3,R3),[g4e,x4e]=lB(Na,L3,eb,pm,I3,D3);function b2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function w2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function y4e(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=pf(s),d=mf(s),f=pf(i),h=mf(i),p=pf(o),m=mf(o),g=pf(l),x=mf(l),y=pf(c),v=mf(c),b={a:L,A:R,b:F,B:W,c:null,d:ZT,e:ZT,f:V4e,g:Q4e,G:Z4e,H:L4e,I:F4e,j:B4e,L:cB,m:z4e,M:U4e,p:q,q:G,Q:nE,s:rE,S:H4e,u:W4e,U:q4e,V:K4e,w:G4e,W:Y4e,x:null,X:null,y:X4e,Y:J4e,Z:e5e,"%":tE},j={a:H,A:J,b:ce,B:fe,c:null,d:eE,e:eE,f:s5e,g:p5e,G:g5e,H:t5e,I:n5e,j:r5e,L:dB,m:i5e,M:a5e,p:Z,q:he,Q:nE,s:rE,S:o5e,u:l5e,U:c5e,V:u5e,w:d5e,W:f5e,x:null,X:null,y:h5e,Y:m5e,Z:x5e,"%":tE},w={a:T,A:k,b:O,B:I,c:M,d:QT,e:QT,f:D4e,g:XT,G:YT,H:JT,I:JT,j:_4e,L:M4e,m:k4e,M:T4e,p:C,q:O4e,Q:I4e,s:$4e,S:E4e,u:N4e,U:S4e,V:P4e,w:j4e,W:A4e,x:E,X:_,y:XT,Y:YT,Z:C4e,"%":R4e};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),j.x=S(n,j),j.X=S(r,j),j.c=S(t,j);function S($,oe){return function(D){var Y=[],se=-1,je=0,be=$.length,_e,ne,Ne;for(D instanceof Date||(D=new Date(+D));++se<be;)$.charCodeAt(se)===37&&(Y.push($.slice(je,se)),(ne=GT[_e=$.charAt(++se)])!=null?_e=$.charAt(++se):ne=_e==="e"?" ":"0",(Ne=oe[_e])&&(_e=Ne(D,ne)),Y.push(_e),je=se+1);return Y.push($.slice(je,se)),Y.join("")}}function P($,oe){return function(D){var Y=hf(1900,void 0,1),se=A(Y,$,D+="",0),je,be;if(se!=D.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(oe&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(je=w2(hf(Y.y,0,1)),be=je.getUTCDay(),je=be>4||be===0?Hx.ceil(je):Hx(je),je=Zv.offset(je,(Y.V-1)*7),Y.y=je.getUTCFullYear(),Y.m=je.getUTCMonth(),Y.d=je.getUTCDate()+(Y.w+6)%7):(je=b2(hf(Y.y,0,1)),be=je.getDay(),je=be>4||be===0?Ux.ceil(je):Ux(je),je=pm.offset(je,(Y.V-1)*7),Y.y=je.getFullYear(),Y.m=je.getMonth(),Y.d=je.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),be="Z"in Y?w2(hf(Y.y,0,1)).getUTCDay():b2(hf(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(be+5)%7:Y.w+Y.U*7-(be+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,w2(Y)):b2(Y)}}function A($,oe,D,Y){for(var se=0,je=oe.length,be=D.length,_e,ne;se<je;){if(Y>=be)return-1;if(_e=oe.charCodeAt(se++),_e===37){if(_e=oe.charAt(se++),ne=w[_e in GT?oe.charAt(se++):_e],!ne||(Y=ne($,D,Y))<0)return-1}else if(_e!=D.charCodeAt(Y++))return-1}return Y}function C($,oe,D){var Y=u.exec(oe.slice(D));return Y?($.p=d.get(Y[0].toLowerCase()),D+Y[0].length):-1}function T($,oe,D){var Y=p.exec(oe.slice(D));return Y?($.w=m.get(Y[0].toLowerCase()),D+Y[0].length):-1}function k($,oe,D){var Y=f.exec(oe.slice(D));return Y?($.w=h.get(Y[0].toLowerCase()),D+Y[0].length):-1}function O($,oe,D){var Y=y.exec(oe.slice(D));return Y?($.m=v.get(Y[0].toLowerCase()),D+Y[0].length):-1}function I($,oe,D){var Y=g.exec(oe.slice(D));return Y?($.m=x.get(Y[0].toLowerCase()),D+Y[0].length):-1}function M($,oe,D){return A($,t,oe,D)}function E($,oe,D){return A($,n,oe,D)}function _($,oe,D){return A($,r,oe,D)}function L($){return o[$.getDay()]}function R($){return i[$.getDay()]}function F($){return c[$.getMonth()]}function W($){return l[$.getMonth()]}function q($){return s[+($.getHours()>=12)]}function G($){return 1+~~($.getMonth()/3)}function H($){return o[$.getUTCDay()]}function J($){return i[$.getUTCDay()]}function ce($){return c[$.getUTCMonth()]}function fe($){return l[$.getUTCMonth()]}function Z($){return s[+($.getUTCHours()>=12)]}function he($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var oe=S($+="",b);return oe.toString=function(){return $},oe},parse:function($){var oe=P($+="",!1);return oe.toString=function(){return $},oe},utcFormat:function($){var oe=S($+="",j);return oe.toString=function(){return $},oe},utcParse:function($){var oe=P($+="",!0);return oe.toString=function(){return $},oe}}}var GT={"-":"",_:" ",0:"0"},Bn=/^\s*\d+/,v4e=/^%/,b4e=/[\\^$*+?|[\]().{}]/g;function mt(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(t)+s:s)}function w4e(e){return e.replace(b4e,"\\$&")}function pf(e){return new RegExp("^(?:"+e.map(w4e).join("|")+")","i")}function mf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function j4e(e,t,n){var r=Bn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function N4e(e,t,n){var r=Bn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function S4e(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function P4e(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function A4e(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function YT(e,t,n){var r=Bn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function XT(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function C4e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function O4e(e,t,n){var r=Bn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function k4e(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function QT(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function _4e(e,t,n){var r=Bn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function JT(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function T4e(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function E4e(e,t,n){var r=Bn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function M4e(e,t,n){var r=Bn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function D4e(e,t,n){var r=Bn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function R4e(e,t,n){var r=v4e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function I4e(e,t,n){var r=Bn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function $4e(e,t,n){var r=Bn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ZT(e,t){return mt(e.getDate(),t,2)}function L4e(e,t){return mt(e.getHours(),t,2)}function F4e(e,t){return mt(e.getHours()%12||12,t,2)}function B4e(e,t){return mt(1+pm.count(Na(e),e),t,3)}function cB(e,t){return mt(e.getMilliseconds(),t,3)}function V4e(e,t){return cB(e,t)+"000"}function z4e(e,t){return mt(e.getMonth()+1,t,2)}function U4e(e,t){return mt(e.getMinutes(),t,2)}function H4e(e,t){return mt(e.getSeconds(),t,2)}function W4e(e){var t=e.getDay();return t===0?7:t}function q4e(e,t){return mt(eb.count(Na(e)-1,e),t,2)}function uB(e){var t=e.getDay();return t>=4||t===0?Qu(e):Qu.ceil(e)}function K4e(e,t){return e=uB(e),mt(Qu.count(Na(e),e)+(Na(e).getDay()===4),t,2)}function G4e(e){return e.getDay()}function Y4e(e,t){return mt(Ux.count(Na(e)-1,e),t,2)}function X4e(e,t){return mt(e.getFullYear()%100,t,2)}function Q4e(e,t){return e=uB(e),mt(e.getFullYear()%100,t,2)}function J4e(e,t){return mt(e.getFullYear()%1e4,t,4)}function Z4e(e,t){var n=e.getDay();return e=n>=4||n===0?Qu(e):Qu.ceil(e),mt(e.getFullYear()%1e4,t,4)}function e5e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mt(t/60|0,"0",2)+mt(t%60,"0",2)}function eE(e,t){return mt(e.getUTCDate(),t,2)}function t5e(e,t){return mt(e.getUTCHours(),t,2)}function n5e(e,t){return mt(e.getUTCHours()%12||12,t,2)}function r5e(e,t){return mt(1+Zv.count(Sa(e),e),t,3)}function dB(e,t){return mt(e.getUTCMilliseconds(),t,3)}function s5e(e,t){return dB(e,t)+"000"}function i5e(e,t){return mt(e.getUTCMonth()+1,t,2)}function a5e(e,t){return mt(e.getUTCMinutes(),t,2)}function o5e(e,t){return mt(e.getUTCSeconds(),t,2)}function l5e(e){var t=e.getUTCDay();return t===0?7:t}function c5e(e,t){return mt(tb.count(Sa(e)-1,e),t,2)}function fB(e){var t=e.getUTCDay();return t>=4||t===0?Ju(e):Ju.ceil(e)}function u5e(e,t){return e=fB(e),mt(Ju.count(Sa(e),e)+(Sa(e).getUTCDay()===4),t,2)}function d5e(e){return e.getUTCDay()}function f5e(e,t){return mt(Hx.count(Sa(e)-1,e),t,2)}function h5e(e,t){return mt(e.getUTCFullYear()%100,t,2)}function p5e(e,t){return e=fB(e),mt(e.getUTCFullYear()%100,t,2)}function m5e(e,t){return mt(e.getUTCFullYear()%1e4,t,4)}function g5e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ju(e):Ju.ceil(e),mt(e.getUTCFullYear()%1e4,t,4)}function x5e(){return"+0000"}function tE(){return"%"}function nE(e){return+e}function rE(e){return Math.floor(+e/1e3)}var Nc,hB,pB;y5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function y5e(e){return Nc=y4e(e),hB=Nc.format,Nc.parse,pB=Nc.utcFormat,Nc.utcParse,Nc}function v5e(e){return new Date(e)}function b5e(e){return e instanceof Date?+e:+new Date(+e)}function B3(e,t,n,r,s,i,o,l,c,u){var d=A3(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),j=u("%Y");function w(S){return(c(S)<S?p:l(S)<S?m:o(S)<S?g:i(S)<S?x:r(S)<S?s(S)<S?y:v:n(S)<S?b:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,b5e)):h().map(v5e)},d.ticks=function(S){var P=h();return e(P[0],P[P.length-1],S??10)},d.tickFormat=function(S,P){return P==null?w:u(P)},d.nice=function(S){var P=h();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S??10)),S?h(eB(P,S)):d},d.copy=function(){return hm(d,B3(e,t,n,r,s,i,o,l,c,u))},d}function w5e(){return Ls.apply(B3(g4e,x4e,Na,L3,eb,pm,I3,D3,vl,hB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function j5e(){return Ls.apply(B3(p4e,m4e,Sa,F3,tb,Zv,$3,R3,vl,pB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nb(){var e=0,t=1,n,r,s,i,o=Nr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),s=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=d(Ld),u.rangeRound=d(P3),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),u}}function Vo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mB(){var e=Bo(nb()(Nr));return e.copy=function(){return Vo(e,mB())},Ea.apply(e,arguments)}function gB(){var e=k3(nb()).domain([1,10]);return e.copy=function(){return Vo(e,gB()).base(e.base())},Ea.apply(e,arguments)}function xB(){var e=_3(nb());return e.copy=function(){return Vo(e,xB()).constant(e.constant())},Ea.apply(e,arguments)}function V3(){var e=T3(nb());return e.copy=function(){return Vo(e,V3()).exponent(e.exponent())},Ea.apply(e,arguments)}function N5e(){return V3.apply(null,arguments).exponent(.5)}function yB(){var e=[],t=Nr;function n(r){if(r!=null&&!isNaN(r=+r))return t((dm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Po),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>cSe(e,i/r))},n.copy=function(){return yB(t).domain(e)},Ea.apply(n,arguments)}function rb(){var e=0,t=.5,n=1,r=1,s,i,o,l,c,u=Nr,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(r*g<r*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,s=d(e=+e),i=d(t=+t),o=d(n=+n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(x){var y,v,b;return arguments.length?([y,v,b]=x,u=RSe(g,[y,v,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(Ld),p.rangeRound=m(P3),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,s=g(e),i=g(t),o=g(n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,p}}function vB(){var e=Bo(rb()(Nr));return e.copy=function(){return Vo(e,vB())},Ea.apply(e,arguments)}function bB(){var e=k3(rb()).domain([.1,1,10]);return e.copy=function(){return Vo(e,bB()).base(e.base())},Ea.apply(e,arguments)}function wB(){var e=_3(rb());return e.copy=function(){return Vo(e,wB()).constant(e.constant())},Ea.apply(e,arguments)}function z3(){var e=T3(rb());return e.copy=function(){return Vo(e,z3()).exponent(e.exponent())},Ea.apply(e,arguments)}function S5e(){return z3.apply(null,arguments).exponent(.5)}const sE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lp,scaleDiverging:vB,scaleDivergingLog:bB,scaleDivergingPow:z3,scaleDivergingSqrt:S5e,scaleDivergingSymlog:wB,scaleIdentity:ZF,scaleImplicit:bN,scaleLinear:Vx,scaleLog:tB,scaleOrdinal:j3,scalePoint:ch,scalePow:E3,scaleQuantile:sB,scaleQuantize:iB,scaleRadial:rB,scaleSequential:mB,scaleSequentialLog:gB,scaleSequentialPow:V3,scaleSequentialQuantile:yB,scaleSequentialSqrt:N5e,scaleSequentialSymlog:xB,scaleSqrt:s4e,scaleSymlog:nB,scaleThreshold:aB,scaleTime:w5e,scaleUtc:j5e,tickFormat:JF},Symbol.toStringTag,{value:"Module"}));var P5e=kd;function A5e(e,t,n){for(var r=-1,s=e.length;++r<s;){var i=e[r],o=t(i);if(o!=null&&(l===void 0?o===o&&!P5e(o):n(o,l)))var l=o,c=i}return c}var sb=A5e;function C5e(e,t){return e>t}var jB=C5e,O5e=sb,k5e=jB,_5e=$d;function T5e(e){return e&&e.length?O5e(e,_5e,k5e):void 0}var E5e=T5e;const ib=jt(E5e);function M5e(e,t){return e<t}var NB=M5e,D5e=sb,R5e=NB,I5e=$d;function $5e(e){return e&&e.length?D5e(e,I5e,R5e):void 0}var L5e=$5e;const ab=jt(L5e);var F5e=n3,B5e=Mi,V5e=EF,z5e=Hr;function U5e(e,t){var n=z5e(e)?F5e:V5e;return n(e,B5e(t))}var H5e=U5e,W5e=_F,q5e=H5e;function K5e(e,t){return W5e(q5e(e,t),1)}var G5e=K5e;const Y5e=jt(G5e);var X5e=x3;function Q5e(e,t){return X5e(e,t)}var J5e=Q5e;const mm=jt(J5e);var Fd=1e9,Z5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},H3,Kt=!0,Is="[DecimalError] ",$l=Is+"Invalid argument: ",U3=Is+"Exponent out of range: ",Bd=Math.floor,il=Math.pow,e3e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,es,Dn=1e7,Vt=7,SB=9007199254740991,Wx=Bd(SB/Vt),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,n,r,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Vt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(e){return da(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,n=t.constructor;return Tt(da(t,new n(e),0,1),n.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return wn(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,n=this,r=n.constructor,s=r.precision,i=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(es))throw Error(Is+"NaN");if(n.s<1)throw Error(Is+(n.s?"NaN":"-Infinity"));return n.eq(es)?new r(0):(Kt=!1,t=da(hp(n,i),hp(e,i),i),Kt=!0,Tt(t,s))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CB(t,e):PB(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Is+"NaN");return n.s?(Kt=!1,t=da(n,e,0,1).times(e),Kt=!0,n.minus(t)):Tt(new r(n),s)};Ee.naturalExponential=Ee.exp=function(){return AB(this)};Ee.naturalLogarithm=Ee.ln=function(){return hp(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PB(t,e):CB(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($l+e);if(t=wn(s)+1,r=s.d.length-1,n=r*Vt+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ee.squareRoot=Ee.sqrt=function(){var e,t,n,r,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Is+"NaN")}for(e=wn(l),Kt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=vi(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Bd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(i=r,r=i.plus(da(l,i,o+2)).times(.5),vi(i.d).slice(0,o)===(t=vi(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Tt(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return Kt=!0,Tt(r,n)};Ee.times=Ee.mul=function(e){var t,n,r,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,s=c+r;s>r;)l=i[s]+p[r]*h[s-r-1]+t,i[s--]=l%Dn|0,t=l/Dn|0;i[s]=(i[s]+t)%Dn|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Kt?Tt(e,f.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Oi(e,0,Fd),t===void 0?t=r.rounding:Oi(t,0,8),Tt(n,e+wn(n)+1,t))};Ee.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=rc(r,!0):(Oi(e,0,Fd),t===void 0?t=s.rounding:Oi(t,0,8),r=Tt(new s(r),e+1,t),n=rc(r,!0,e+1)),n};Ee.toFixed=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?rc(s):(Oi(e,0,Fd),t===void 0?t=i.rounding:Oi(t,0,8),r=Tt(new i(s),e+wn(s)+1,t),n=rc(r.abs(),!1,e+wn(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return Tt(new t(e),wn(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,n,r,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(es);if(l=new c(l),!l.s){if(e.s<1)throw Error(Is+"Infinity");return l}if(l.eq(es))return l;if(r=c.precision,e.eq(es))return Tt(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=d<0?-d:d)<=SB){for(s=new c(es),t=Math.ceil(r/Vt+4),Kt=!1;n%2&&(s=s.times(l),aE(s.d,t)),n=Bd(n/2),n!==0;)l=l.times(l),aE(l.d,t);return Kt=!0,e.s<0?new c(es).div(s):Tt(s,r)}}else if(i<0)throw Error(Is+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Kt=!1,s=e.times(hp(l,r+u)),Kt=!0,s=AB(s),s.s=i,s};Ee.toPrecision=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?(n=wn(s),r=rc(s,n<=i.toExpNeg||n>=i.toExpPos)):(Oi(e,1,Fd),t===void 0?t=i.rounding:Oi(t,0,8),s=Tt(new i(s),e,t),n=wn(s),r=rc(s,e<=n||n<=i.toExpNeg,e)),r};Ee.toSignificantDigits=Ee.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Oi(e,1,Fd),t===void 0?t=r.rounding:Oi(t,0,8)),Tt(new r(n),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wn(e),n=e.constructor;return rc(e,t<=n.toExpNeg||t>=n.toExpPos)};function PB(e,t){var n,r,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Kt?Tt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,s=o,l=c.length),o=Math.ceil(f/Vt),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Dn|0,c[i]%=Dn;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Kt?Tt(t,f):t}function Oi(e,t,n){if(e!==~~e||e<t||e>n)throw Error($l+e)}function vi(e){var t,n,r,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)r=e[t]+"",n=Vt-r.length,n&&(i+=za(n)),i+=r;o=e[t],r=o+"",n=Vt-r.length,n&&(i+=za(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var da=function(){function e(r,s){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*s+o,r[l]=i%Dn|0,o=i/Dn|0;return o&&r.unshift(o),r}function t(r,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,i){for(var o=0;i--;)r[i]-=o,o=r[i]<s[i]?1:0,r[i]=o*Dn+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,o){var l,c,u,d,f,h,p,m,g,x,y,v,b,j,w,S,P,A,C=r.constructor,T=r.s==s.s?1:-1,k=r.d,O=s.d;if(!r.s)return new C(r);if(!s.s)throw Error(Is+"Division by zero");for(c=r.e-s.e,P=O.length,w=k.length,p=new C(T),m=p.d=[],u=0;O[u]==(k[u]||0);)++u;if(O[u]>(k[u]||0)&&--c,i==null?v=i=C.precision:o?v=i+(wn(r)-wn(s))+1:v=i,v<0)return new C(0);if(v=v/Vt+2|0,u=0,P==1)for(d=0,O=O[0],v++;(u<w||d)&&v--;u++)b=d*Dn+(k[u]||0),m[u]=b/O|0,d=b%O|0;else{for(d=Dn/(O[0]+1)|0,d>1&&(O=e(O,d),k=e(k,d),P=O.length,w=k.length),j=P,g=k.slice(0,P),x=g.length;x<P;)g[x++]=0;A=O.slice(),A.unshift(0),S=O[0],O[1]>=Dn/2&&++S;do d=0,l=t(O,g,P,x),l<0?(y=g[0],P!=x&&(y=y*Dn+(g[1]||0)),d=y/S|0,d>1?(d>=Dn&&(d=Dn-1),f=e(O,d),h=f.length,x=g.length,l=t(f,g,h,x),l==1&&(d--,n(f,P<h?A:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<x&&f.unshift(0),n(g,f,x),l==-1&&(x=g.length,l=t(O,g,P,x),l<1&&(d++,n(g,P<x?A:O,x))),x=g.length):l===0&&(d++,g=[0]),m[u++]=d,l&&g[0]?g[x++]=k[j]||0:(g=[k[j]],x=1);while((j++<w||g[0]!==void 0)&&v--)}return m[0]||m.shift(),p.e=c,Tt(p,o?i+wn(p)+1:i)}}();function AB(e,t){var n,r,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(wn(e)>16)throw Error(U3+wn(e));if(!e.s)return new d(es);for(Kt=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(il(2,u))/Math.LN10*2+5|0,l+=r,n=s=i=new d(es),d.precision=l;;){if(s=Tt(s.times(e),l),n=n.times(++c),o=i.plus(da(s,n,l)),vi(o.d).slice(0,l)===vi(i.d).slice(0,l)){for(;u--;)i=Tt(i.times(i),l);return d.precision=f,t==null?(Kt=!0,Tt(i,f)):i}i=o}}function wn(e){for(var t=e.e*Vt,n=e.d[0];n>=10;n/=10)t++;return t}function j2(e,t,n){if(t>e.LN10.sd())throw Kt=!0,n&&(e.precision=n),Error(Is+"LN10 precision limit exceeded");return Tt(new e(e.LN10),t)}function za(e){for(var t="";e--;)t+="0";return t}function hp(e,t){var n,r,s,i,o,l,c,u,d,f=1,h=10,p=e,m=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(Is+(p.s?"NaN":"-Infinity"));if(p.eq(es))return new g(0);if(t==null?(Kt=!1,u=x):u=t,p.eq(10))return t==null&&(Kt=!0),j2(g,u);if(u+=h,g.precision=u,n=vi(m),r=n.charAt(0),i=wn(p),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=vi(p.d),r=n.charAt(0),f++;i=wn(p),r>1?(p=new g("0."+n),i++):p=new g(r+"."+n.slice(1))}else return c=j2(g,u+2,x).times(i+""),p=hp(new g(r+"."+n.slice(1)),u-h).plus(c),g.precision=x,t==null?(Kt=!0,Tt(p,x)):p;for(l=o=p=da(p.minus(es),p.plus(es),u),d=Tt(p.times(p),u),s=3;;){if(o=Tt(o.times(d),u),c=l.plus(da(o,new g(s),u)),vi(c.d).slice(0,u)===vi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(j2(g,u+2,x).times(i+""))),l=da(l,new g(f),u),g.precision=x,t==null?(Kt=!0,Tt(l,x)):l;l=c,s+=2}}function iE(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=Bd(n/Vt),e.d=[],r=(n+1)%Vt,n<0&&(r+=Vt),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=Vt;r<s;)e.d.push(+t.slice(r,r+=Vt));t=t.slice(r),r=Vt-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),Kt&&(e.e>Wx||e.e<-Wx))throw Error(U3+n)}else e.s=0,e.e=0,e.d=[0];return e}function Tt(e,t,n){var r,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Vt,s=t,u=f[d=0];else{if(d=Math.ceil((r+1)/Vt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=Vt,s=r-Vt+o}if(n!==void 0&&(i=il(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/il(10,o-s):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(i=wn(e),f.length=1,t=t-i-1,f[0]=il(10,(Vt-t%Vt)%Vt),e.e=Bd(-t/Vt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=il(10,Vt-r),f[d]=s>0?(u/il(10,o-s)%il(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Dn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Dn)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(Kt&&(e.e>Wx||e.e<-Wx))throw Error(U3+wn(e));return e}function CB(e,t){var n,r,s,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Kt?Tt(t,p):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),s=Math.max(Math.ceil(p/Vt),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Dn-1;--c[i],c[s]+=Dn}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Kt?Tt(t,p):t):new h(0)}function rc(e,t,n){var r,s=wn(e),i=vi(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+za(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+za(-s-1)+i,n&&(r=n-o)>0&&(i+=za(r))):s>=o?(i+=za(s+1-o),n&&(r=n-s-1)>0&&(i=i+"."+za(r))):((r=s+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(i+="."),i+=za(r))),e.s<0?"-"+i:i}function aE(e,t){if(e.length>t)return e.length=t,!0}function OB(e){var t,n,r;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error($l+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return iE(o,i.toString())}else if(typeof i!="string")throw Error($l+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,e3e.test(i))iE(o,i);else throw Error($l+i)}if(s.prototype=Ee,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=OB,s.config=s.set=t3e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function t3e(e){if(!e||typeof e!="object")throw Error(Is+"Object expected");var t,n,r,s=["precision",1,Fd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(Bd(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error($l+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($l+n+": "+r);return this}var H3=OB(Z5e);es=new H3(1);const _t=H3;function n3e(e){return a3e(e)||i3e(e)||s3e(e)||r3e()}function r3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s3e(e,t){if(e){if(typeof e=="string")return SN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SN(e,t)}}function i3e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function a3e(e){if(Array.isArray(e))return SN(e)}function SN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o3e=function(t){return t},kB={},_B=function(t){return t===kB},oE=function(t){return function n(){return arguments.length===0||arguments.length===1&&_B(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},l3e=function e(t,n){return t===1?n:oE(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==kB}).length;return o>=t?n.apply(void 0,s):e(t-o,oE(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return _B(f)?c.shift():f});return n.apply(void 0,n3e(d).concat(c))}))})},ob=function(t){return l3e(t.length,t)},PN=function(t,n){for(var r=[],s=t;s<n;++s)r[s-t]=s;return r},c3e=ob(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),u3e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return o3e;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},AN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},TB=function(t){var n=null,r=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function d3e(e){var t;return e===0?t=1:t=Math.floor(new _t(e).abs().log(10).toNumber())+1,t}function f3e(e,t,n){for(var r=new _t(e),s=0,i=[];r.lt(t)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var h3e=ob(function(e,t,n){var r=+e,s=+t;return r+n*(s-r)}),p3e=ob(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),m3e=ob(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const lb={rangeStep:f3e,getDigitCount:d3e,interpolateNumber:h3e,uninterpolateNumber:p3e,uninterpolateTruncation:m3e};function CN(e){return y3e(e)||x3e(e)||EB(e)||g3e()}function g3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x3e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function y3e(e){if(Array.isArray(e))return ON(e)}function pp(e,t){return w3e(e)||b3e(e,t)||EB(e,t)||v3e()}function v3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EB(e,t){if(e){if(typeof e=="string")return ON(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ON(e,t)}}function ON(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b3e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){s=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function w3e(e){if(Array.isArray(e))return e}function MB(e){var t=pp(e,2),n=t[0],r=t[1],s=n,i=r;return n>r&&(s=r,i=n),[s,i]}function DB(e,t,n){if(e.lte(0))return new _t(0);var r=lb.getDigitCount(e.toNumber()),s=new _t(10).pow(r),i=e.div(s),o=r!==1?.05:.1,l=new _t(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new _t(Math.ceil(c))}function j3e(e,t,n){var r=1,s=new _t(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(r=new _t(10).pow(lb.getDigitCount(e)-1),s=new _t(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new _t(Math.floor(e)))}else e===0?s=new _t(Math.floor((t-1)/2)):n||(s=new _t(Math.floor(e)));var o=Math.floor((t-1)/2),l=u3e(c3e(function(c){return s.add(new _t(c-o).mul(r)).toNumber()}),PN);return l(0,t)}function RB(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var i=DB(new _t(t).sub(e).div(n-1),r,s),o;e<=0&&t>=0?o=new _t(0):(o=new _t(e).add(t).div(2),o=o.sub(new _t(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new _t(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?RB(e,t,n,r,s+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new _t(l).mul(i)),tickMax:o.add(new _t(c).mul(i))})}function N3e(e){var t=pp(e,2),n=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=MB([n,r]),c=pp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(CN(PN(0,s-1).map(function(){return 1/0}))):[].concat(CN(PN(0,s-1).map(function(){return-1/0})),[d]);return n>r?AN(f):f}if(u===d)return j3e(u,s,i);var h=RB(u,d,o,i),p=h.step,m=h.tickMin,g=h.tickMax,x=lb.rangeStep(m,g.add(new _t(.1).mul(p)),p);return n>r?AN(x):x}function S3e(e,t){var n=pp(e,2),r=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=MB([r,s]),l=pp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,s];if(c===u)return[c];var d=Math.max(t,2),f=DB(new _t(u).sub(c).div(d-1),i,0),h=[].concat(CN(lb.rangeStep(new _t(c),new _t(u).sub(new _t(.99).mul(f)),f)),[u]);return r>s?AN(h):h}var P3e=TB(N3e),A3e=TB(S3e),C3e="Invariant failed";function sc(e,t){throw new Error(C3e)}var O3e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qx.apply(this,arguments)}function k3e(e,t){return M3e(e)||E3e(e,t)||T3e(e,t)||_3e()}function _3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T3e(e,t){if(e){if(typeof e=="string")return lE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lE(e,t)}}function lE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function M3e(e){if(Array.isArray(e))return e}function D3e(e,t){if(e==null)return{};var n=R3e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function R3e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function I3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $3e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LB(r.key),r)}}function L3e(e,t,n){return t&&$3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F3e(e,t,n){return t=Kx(t),B3e(e,IB()?Reflect.construct(t,n||[],Kx(e).constructor):t.apply(e,n))}function B3e(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V3e(e)}function V3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IB=function(){return!!e})()}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kx(e)}function z3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},kN(e,t)}function $B(e,t,n){return t=LB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LB(e){var t=U3e(e,"string");return Zu(t)=="symbol"?t:t+""}function U3e(e,t){if(Zu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gm=function(e){function t(){return I3e(this,t),F3e(this,t,arguments)}return z3e(t,e),L3e(t,[{key:"render",value:function(){var r=this.props,s=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=D3e(r,O3e),p=Ue(h,!1);this.props.direction==="x"&&d.type!=="number"&&sc();var m=c.map(function(g){var x=u(g,l),y=x.x,v=x.y,b=x.value,j=x.errorVal;if(!j)return null;var w=[],S,P;if(Array.isArray(j)){var A=k3e(j,2);S=A[0],P=A[1]}else S=P=j;if(i==="vertical"){var C=d.scale,T=v+s,k=T+o,O=T-o,I=C(b-S),M=C(b+P);w.push({x1:M,y1:k,x2:M,y2:O}),w.push({x1:I,y1:T,x2:M,y2:T}),w.push({x1:I,y1:k,x2:I,y2:O})}else if(i==="horizontal"){var E=f.scale,_=y+s,L=_-o,R=_+o,F=E(b-S),W=E(b+P);w.push({x1:L,y1:W,x2:R,y2:W}),w.push({x1:_,y1:F,x2:_,y2:W}),w.push({x1:L,y1:F,x2:R,y2:F})}return B.createElement(pt,qx({className:"recharts-errorBar",key:"bar-".concat(w.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},p),w.map(function(q){return B.createElement("line",qx({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return B.createElement(pt,{className:"recharts-errorBars"},m)}}])}(B.Component);$B(gm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$B(gm,"displayName","ErrorBar");function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function cE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(n),!0).forEach(function(r){H3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H3e(e,t,n){return t=W3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W3e(e){var t=q3e(e,"string");return mp(t)=="symbol"?t:t+""}function q3e(e,t){if(mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FB=function(t){var n=t.children,r=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Yr(n,So);if(!o)return null;var l=So.defaultProps,c=l!==void 0?Go(Go({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Go(Go({},h),f.props):{},m=p.dataKey,g=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:c.iconType||x||"square",color:W3(f),value:g||m,payload:p}}),Go(Go(Go({},c),So.getWithHeight(o,s)),{},{payload:u,item:o})};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function uE(e){return X3e(e)||Y3e(e)||G3e(e)||K3e()}function K3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G3e(e,t){if(e){if(typeof e=="string")return _N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _N(e,t)}}function Y3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X3e(e){if(Array.isArray(e))return _N(e)}function _N(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(r){fu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fu(e,t,n){return t=Q3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q3e(e){var t=J3e(e,"string");return gp(t)=="symbol"?t:t+""}function J3e(e,t){if(gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function On(e,t,n){return Ze(e)||Ze(t)?n:Tn(t)?is(e,t,n):Qe(t)?t(e):n}function uh(e,t,n,r){var s=Y5e(e,function(l){return On(l,t)});if(n==="number"){var i=s.filter(function(l){return Se(l)||parseFloat(l)});return i.length?[ab(i),ib(i)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!Ze(l)}):s;return o.map(function(l){return Tn(l)||l instanceof Date?l:""})}var Z3e=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(wr(f-d)!==wr(h-f)){var m=[];if(wr(h-f)===wr(c[1]-c[0])){p=h;var g=f+c[1]-c[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var x=h+c[1]-c[0];m[0]=Math.min(f,(x+f)/2),m[1]=Math.max(f,(x+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){o=s[u].index;break}}else{var v=Math.min(d,h),b=Math.max(d,h);if(t>(v+f)/2&&t<=(b+f)/2){o=s[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<l-1&&t>(r[j].coordinate+r[j-1].coordinate)/2&&t<=(r[j].coordinate+r[j+1].coordinate)/2||j===l-1&&t>(r[j].coordinate+r[j-1].coordinate)/2){o=r[j].index;break}return o},W3=function(t){var n,r=t,s=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},e6e=function(t){var n=t.barSize,r=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,x=m.cateAxisId,y=g.filter(function(P){return ua(P.type).indexOf("Bar")>=0});if(y&&y.length){var v=y[0].type.defaultProps,b=v!==void 0?sn(sn({},v),y[0].props):y[0].props,j=b.barSize,w=b[x];o[w]||(o[w]=[]);var S=Ze(j)?n:j;o[w].push({item:y[0],stackList:y.slice(1),barSize:Ze(S)?void 0:jr(S,r,0)})}}return o},t6e=function(t){var n=t.barGap,r=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=jr(n,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,m=o.reduce(function(j,w){return j+w.barSize||0},0);m+=(c-1)*u,m>=s&&(m-=(c-1)*u,u=0),m>=s&&p>0&&(h=!0,p*=.9,m=c*p);var g=(s-m)/2>>0,x={offset:g-u,size:0};d=o.reduce(function(j,w){var S={item:w.item,position:{offset:x.offset+x.size+u,size:h?p:w.barSize}},P=[].concat(uE(j),[S]);return x=P[P.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){P.push({item:A,position:x})}),P},f)}else{var y=jr(r,s,0,!0);s-2*y-(c-1)*u<=0&&(u=0);var v=(s-2*y-(c-1)*u)/c;v>1&&(v>>=0);var b=l===+l?Math.min(v,l):v;d=o.reduce(function(j,w,S){var P=[].concat(uE(j),[{item:w.item,position:{offset:y+(v+u)*S+(v-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){P.push({item:A,position:P[P.length-1].position})}),P},f)}return d},n6e=function(t,n,r,s){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=FB({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&Se(t[p]))return sn(sn({},t),{},fu({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&Se(t[m]))return sn(sn({},t),{},fu({},m,t[m]+(h||0)))}return t},r6e=function(t,n,r){return Ze(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},BB=function(t,n,r,s,i){var o=n.props.children,l=as(o,gm).filter(function(u){return r6e(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=On(d,r);if(Ze(f))return u;var h=Array.isArray(f)?[ab(f),ib(f)]:[f,f],p=c.reduce(function(m,g){var x=On(d,g,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),v=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,m[0]),Math.max(v,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},s6e=function(t,n,r,s,i){var o=n.map(function(l){return BB(t,l,r,i,s)}).filter(function(l){return!Ze(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},VB=function(t,n,r,s,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&BB(t,c,u,s)||uh(t,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},zB=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},UB=function(t,n,r,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},ia=function(t,n,r){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?wr(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!cm(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!r?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},N2=new WeakMap,Pg=function(t,n){if(typeof n!="function")return t;N2.has(t)||N2.set(t,new WeakMap);var r=N2.get(t);if(r.has(n))return r.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},HB=function(t,n,r){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:lp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Vx(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ch(),realScaleType:"point"}:i==="category"?{scale:lp(),realScaleType:"band"}:{scale:Vx(),realScaleType:"linear"};if(ec(s)){var c="scale".concat(Hv(s));return{scale:(sE[c]||ch)(),realScaleType:sE[c]?c:"point"}}return Qe(s)?{scale:s}:{scale:ch(),realScaleType:"point"}},fE=1e-4,WB=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,s=t.range(),i=Math.min(s[0],s[1])-fE,o=Math.max(s[0],s[1])+fE,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},i6e=function(t,n){if(!t)return null;for(var r=0,s=t.length;r<s;r++)if(t[r].item===n)return t[r].position;return null},a6e=function(t,n){if(!n||n.length!==2||!Se(n[0])||!Se(n[1]))return t;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Se(t[0])||t[0]<r)&&(i[0]=r),(!Se(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<r&&(i[1]=r),i},o6e=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,o=0,l=0;l<n;++l){var c=cm(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},l6e=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,o=0;o<n;++o){var l=cm(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},c6e={sign:o6e,expand:O0e,none:Wu,silhouette:k0e,wiggle:_0e,positive:l6e},u6e=function(t,n,r){var s=n.map(function(l){return l.props.dataKey}),i=c6e[r],o=C0e().keys(s).value(function(l,c){return+On(l,c,0)}).order(tN).offset(i);return o(t)},d6e=function(t,n,r,s,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?sn(sn({},h.type.defaultProps),h.props):h.props,g=m.stackId,x=m.hide;if(x)return f;var y=m[r],v=f[y]||{hasStack:!1,stackGroups:{}};if(Tn(g)){var b=v.stackGroups[g]||{numericAxisId:r,cateAxisId:s,items:[]};b.items.push(h),v.hasStack=!0,v.stackGroups[g]=b}else v.stackGroups[Dd("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[h]};return sn(sn({},f),{},fu({},y,v))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,x){var y=p.stackGroups[x];return sn(sn({},g),{},fu({},x,{numericAxisId:r,cateAxisId:s,items:y.items,stackedData:u6e(t,y.items,i)}))},m)}return sn(sn({},f),{},fu({},h,p))},d)},qB=function(t,n){var r=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=P3e(u,i,l);return t.domain([ab(d),ib(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=A3e(f,i,l);return{niceTicks:h}}return null};function hE(e){var t=e.axis,n=e.ticks,r=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ze(s[t.dataKey])){var l=vx(n,"value",s[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=On(s,Ze(o)?t.dataKey:o);return Ze(c)?null:t.scale(c)}var pE=function(t){var n=t.axis,r=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=On(o,n.dataKey,n.domain[l]);return Ze(c)?null:n.scale(c)-i/2+s},f6e=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return s<=0&&i>=0?0:i<0?i:s}return r[0]},h6e=function(t,n){var r,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Tn(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},p6e=function(t){return t.reduce(function(n,r){return[ab(r.concat([n[0]]).filter(Se)),ib(r.concat([n[1]]).filter(Se))]},[1/0,-1/0])},KB=function(t,n,r){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=p6e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},mE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TN=function(t,n,r){if(Qe(t))return t(n,r);if(!Array.isArray(t))return n;var s=[];if(Se(t[0]))s[0]=r?t[0]:Math.min(t[0],n[0]);else if(mE.test(t[0])){var i=+mE.exec(t[0])[1];s[0]=n[0]-i}else Qe(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(Se(t[1]))s[1]=r?t[1]:Math.max(t[1],n[1]);else if(gE.test(t[1])){var o=+gE.exec(t[1])[1];s[1]=n[1]+o}else Qe(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},Gx=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!r||s>0)return s}if(t&&n&&n.length>=2){for(var i=v3(n,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},xE=function(t,n,r){return!t||!t.length||mm(t,is(r,"type.defaultProps.domain"))?n:t},GB=function(t,n){var r=t.type.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,s=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return sn(sn({},Ue(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:W3(t),value:On(n,s),type:c,payload:n,chartType:u,hide:d})};function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Hi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(n),!0).forEach(function(r){YB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YB(e,t,n){return t=m6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m6e(e){var t=g6e(e,"string");return xp(t)=="symbol"?t:t+""}function g6e(e,t){if(xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x6e(e,t){return w6e(e)||b6e(e,t)||v6e(e,t)||y6e()}function y6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v6e(e,t){if(e){if(typeof e=="string")return vE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vE(e,t)}}function vE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b6e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function w6e(e){if(Array.isArray(e))return e}var Yx=Math.PI/180,j6e=function(t){return t*180/Math.PI},It=function(t,n,r,s){return{x:t+Math.cos(-Yx*s)*r,y:n+Math.sin(-Yx*s)*r}},XB=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},N6e=function(t,n,r,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=jr(t.cx,o,o/2),f=jr(t.cy,l,l/2),h=XB(o,l,r),p=jr(t.innerRadius,h,0),m=jr(t.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(x,y){var v=n[y],b=v.domain,j=v.reversed,w;if(Ze(v.range))s==="angleAxis"?w=[c,u]:s==="radiusAxis"&&(w=[p,m]),j&&(w=[w[1],w[0]]);else{w=v.range;var S=w,P=x6e(S,2);c=P[0],u=P[1]}var A=HB(v,i),C=A.realScaleType,T=A.scale;T.domain(b).range(w),WB(T);var k=qB(T,Hi(Hi({},v),{},{realScaleType:C})),O=Hi(Hi(Hi({},v),k),{},{range:w,radius:m,realScaleType:C,scale:T,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:c,endAngle:u});return Hi(Hi({},x),{},YB({},y,O))},{})},S6e=function(t,n){var r=t.x,s=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-o,2))},P6e=function(t,n){var r=t.x,s=t.y,i=n.cx,o=n.cy,l=S6e({x:r,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:j6e(u),angleInRadian:u}},A6e=function(t){var n=t.startAngle,r=t.endAngle,s=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:r-o*360}},C6e=function(t,n){var r=n.startAngle,s=n.endAngle,i=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},bE=function(t,n){var r=t.x,s=t.y,i=P6e({x:r,y:s},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=A6e(n),f=d.startAngle,h=d.endAngle,p=l,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Hi(Hi({},n),{},{radius:o,angle:C6e(p,n)}):null},QB=function(t){return!N.isValidElement(t)&&!Qe(t)&&typeof t!="boolean"?t.className:""};function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}var O6e=["offset"];function k6e(e){return M6e(e)||E6e(e)||T6e(e)||_6e()}function _6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T6e(e,t){if(e){if(typeof e=="string")return EN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EN(e,t)}}function E6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M6e(e){if(Array.isArray(e))return EN(e)}function EN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D6e(e,t){if(e==null)return{};var n=R6e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function R6e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(n),!0).forEach(function(r){I6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I6e(e,t,n){return t=$6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $6e(e){var t=L6e(e,"string");return yp(t)=="symbol"?t:t+""}function L6e(e,t){if(yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vp.apply(this,arguments)}var F6e=function(t){var n=t.value,r=t.formatter,s=Ze(t.children)?n:t.children;return Qe(r)?r(s):s},B6e=function(t,n){var r=wr(n-t),s=Math.min(Math.abs(n-t),360);return r*s},V6e=function(t,n,r){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,g=c.clockWise,x=(f+h)/2,y=B6e(p,m),v=y>=0?1:-1,b,j;s==="insideStart"?(b=p+v*o,j=g):s==="insideEnd"?(b=m-v*o,j=!g):s==="end"&&(b=m+v*o,j=g),j=y<=0?j:!j;var w=It(u,d,x,b),S=It(u,d,x,b+(j?1:-1)*359),P="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),A=Ze(t.id)?Dd("recharts-radial-line-"):t.id;return B.createElement("text",vp({},r,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",l)}),B.createElement("defs",null,B.createElement("path",{id:A,d:P})),B.createElement("textPath",{xlinkHref:"#".concat(A)},n))},z6e=function(t){var n=t.viewBox,r=t.offset,s=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var p=It(o,l,u+r,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,y=It(o,l,x,h),v=y.x,b=y.y;return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},U6e=function(t){var n=t.viewBox,r=t.parentViewBox,s=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,x=g*s,y=g>0?"end":"start",v=g>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return Nn(Nn({},b),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:m};return Nn(Nn({},j),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:l-x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Nn(Nn({},w),r?{width:Math.max(w.x-r.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Nn(Nn({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:d}:{})}var P=r?{width:u,height:d}:{};return i==="insideLeft"?Nn({x:l+x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},P):i==="insideRight"?Nn({x:l+u-x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},P):i==="insideTop"?Nn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},P):i==="insideBottom"?Nn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},P):i==="insideTopLeft"?Nn({x:l+x,y:c+h,textAnchor:v,verticalAnchor:m},P):i==="insideTopRight"?Nn({x:l+u-x,y:c+h,textAnchor:y,verticalAnchor:m},P):i==="insideBottomLeft"?Nn({x:l+x,y:c+d-h,textAnchor:v,verticalAnchor:p},P):i==="insideBottomRight"?Nn({x:l+u-x,y:c+d-h,textAnchor:y,verticalAnchor:p},P):_d(i)&&(Se(i.x)||xl(i.x))&&(Se(i.y)||xl(i.y))?Nn({x:l+jr(i.x,u),y:c+jr(i.y,d),textAnchor:"end",verticalAnchor:"end"},P):Nn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},H6e=function(t){return"cx"in t&&Se(t.cx)};function $n(e){var t=e.offset,n=t===void 0?5:t,r=D6e(e,O6e),s=Nn({offset:n},r),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||Ze(l)&&Ze(c)&&!N.isValidElement(u)&&!Qe(u))return null;if(N.isValidElement(u))return N.cloneElement(u,s);var p;if(Qe(u)){if(p=N.createElement(u,s),N.isValidElement(p))return p}else p=F6e(s);var m=H6e(i),g=Ue(s,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return V6e(s,p,g);var x=m?z6e(s):U6e(s);return B.createElement(nc,vp({className:nt("recharts-label",f)},g,x,{breakAll:h}),p)}$n.displayName="Label";var JB=function(t){var n=t.cx,r=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,g=t.width,x=t.height,y=t.clockWise,v=t.labelViewBox;if(v)return v;if(Se(g)&&Se(x)){if(Se(f)&&Se(h))return{x:f,y:h,width:g,height:x};if(Se(p)&&Se(m))return{x:p,y:m,width:g,height:x}}return Se(f)&&Se(h)?{x:f,y:h,width:0,height:0}:Se(n)&&Se(r)?{cx:n,cy:r,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},W6e=function(t,n){return t?t===!0?B.createElement($n,{key:"label-implicit",viewBox:n}):Tn(t)?B.createElement($n,{key:"label-implicit",viewBox:n,value:t}):N.isValidElement(t)?t.type===$n?N.cloneElement(t,{key:"label-implicit",viewBox:n}):B.createElement($n,{key:"label-implicit",content:t,viewBox:n}):Qe(t)?B.createElement($n,{key:"label-implicit",content:t,viewBox:n}):_d(t)?B.createElement($n,vp({viewBox:n},t,{key:"label-implicit"})):null:null},q6e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,i=JB(t),o=as(s,$n).map(function(c,u){return N.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=W6e(t.label,n||i);return[l].concat(k6e(o))};$n.parseViewBox=JB;$n.renderCallByParent=q6e;function K6e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var G6e=K6e;const Y6e=jt(G6e);function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}var X6e=["valueAccessor"],Q6e=["data","dataKey","clockWise","id","textBreakAll"];function J6e(e){return nPe(e)||tPe(e)||ePe(e)||Z6e()}function Z6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ePe(e,t){if(e){if(typeof e=="string")return MN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MN(e,t)}}function tPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nPe(e){if(Array.isArray(e))return MN(e)}function MN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xx.apply(this,arguments)}function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function NE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(r){rPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rPe(e,t,n){return t=sPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sPe(e){var t=iPe(e,"string");return bp(t)=="symbol"?t:t+""}function iPe(e,t){if(bp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SE(e,t){if(e==null)return{};var n=aPe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var oPe=function(t){return Array.isArray(t.value)?Y6e(t.value):t.value};function fa(e){var t=e.valueAccessor,n=t===void 0?oPe:t,r=SE(e,X6e),s=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=SE(r,Q6e);return!s||!s.length?null:B.createElement(pt,{className:"recharts-label-list"},s.map(function(d,f){var h=Ze(i)?n(d,f):On(d&&d.payload,i),p=Ze(l)?{}:{id:"".concat(l,"-").concat(f)};return B.createElement($n,Xx({},Ue(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:$n.parseViewBox(Ze(o)?d:NE(NE({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}fa.displayName="LabelList";function lPe(e,t){return e?e===!0?B.createElement(fa,{key:"labelList-implicit",data:t}):B.isValidElement(e)||Qe(e)?B.createElement(fa,{key:"labelList-implicit",data:t,content:e}):_d(e)?B.createElement(fa,Xx({data:t},e,{key:"labelList-implicit"})):null:null}function cPe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=as(r,fa).map(function(o,l){return N.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var i=lPe(e.label,t);return[i].concat(J6e(s))}fa.renderCallByParent=cPe;function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DN.apply(this,arguments)}function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function AE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(r){uPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uPe(e,t,n){return t=dPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dPe(e){var t=fPe(e,"string");return wp(t)=="symbol"?t:t+""}function fPe(e,t){if(wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hPe=function(t,n){var r=wr(n-t),s=Math.min(Math.abs(n-t),359.999);return r*s},Ag=function(t){var n=t.cx,r=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Yx,h=u?i:i+o*f,p=It(n,r,d,h),m=It(n,r,s,h),g=u?i-o*f:i,x=It(n,r,d*Math.cos(f*Yx),g);return{center:p,circleTangency:m,lineTangency:x,theta:f}},ZB=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=hPe(o,l),u=o+c,d=It(n,r,i,o),f=It(n,r,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=It(n,r,s,o),m=It(n,r,s,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},pPe=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=wr(d-u),h=Ag({cx:n,cy:r,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,m=h.lineTangency,g=h.theta,x=Ag({cx:n,cy:r,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=x.circleTangency,v=x.lineTangency,b=x.theta,j=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(j<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ZB({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var S=Ag({cx:n,cy:r,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=S.circleTangency,A=S.lineTangency,C=S.theta,T=Ag({cx:n,cy:r,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=T.circleTangency,O=T.lineTangency,I=T.theta,M=c?Math.abs(u-d):Math.abs(u-d)-C-I;if(M<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},mPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eV=function(t){var n=AE(AE({},mPe),t),r=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<i||d===f)return null;var p=nt("recharts-sector",h),m=o-i,g=jr(l,m,0,!0),x;return g>0&&Math.abs(d-f)<360?x=pPe({cx:r,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=ZB({cx:r,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),B.createElement("path",DN({},Ue(n,!0),{className:p,d:x,role:"img"}))};function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RN.apply(this,arguments)}function CE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function OE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(n),!0).forEach(function(r){gPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gPe(e,t,n){return t=xPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xPe(e){var t=yPe(e,"string");return jp(t)=="symbol"?t:t+""}function yPe(e,t){if(jp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kE={curveBasisClosed:g0e,curveBasisOpen:x0e,curveBasis:m0e,curveBumpX:t0e,curveBumpY:n0e,curveLinearClosed:y0e,curveLinear:qv,curveMonotoneX:v0e,curveMonotoneY:b0e,curveNatural:w0e,curveStep:j0e,curveStepAfter:S0e,curveStepBefore:N0e},Cg=function(t){return t.x===+t.x&&t.y===+t.y},gf=function(t){return t.x},xf=function(t){return t.y},vPe=function(t,n){if(Qe(t))return t;var r="curve".concat(Hv(t));return(r==="curveMonotone"||r==="curveBump")&&n?kE["".concat(r).concat(n==="vertical"?"Y":"X")]:kE[r]||qv},bPe=function(t){var n=t.type,r=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=vPe(r,l),f=u?i.filter(function(g){return Cg(g)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(g){return Cg(g)}):o,m=f.map(function(g,x){return OE(OE({},g),{},{base:p[x]})});return l==="vertical"?h=xg().y(xf).x1(gf).x0(function(g){return g.base.x}):h=xg().x(gf).y1(xf).y0(function(g){return g.base.y}),h.defined(Cg).curve(d),h(m)}return l==="vertical"&&Se(o)?h=xg().y(xf).x1(gf).x0(o):Se(o)?h=xg().x(gf).y1(xf).y0(o):h=Y9().x(gf).y(xf),h.defined(Cg).curve(d),h(f)},Qx=function(t){var n=t.className,r=t.points,s=t.path,i=t.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?bPe(t):s;return N.createElement("path",RN({},Ue(t,!1),bx(t),{className:nt("recharts-curve",n),d:o,ref:i}))},tV={exports:{}},wPe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jPe=wPe,NPe=jPe;function nV(){}function rV(){}rV.resetWarningCache=nV;var SPe=function(){function e(r,s,i,o,l,c){if(c!==NPe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:rV,resetWarningCache:nV};return n.PropTypes=n,n};tV.exports=SPe();var PPe=tV.exports;const vt=jt(PPe),{getOwnPropertyNames:APe,getOwnPropertySymbols:CPe}=Object,{hasOwnProperty:OPe}=Object.prototype;function S2(e,t){return function(r,s,i){return e(r,s,i)&&t(r,s,i)}}function Og(e){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,s);const{cache:i}=s,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);const c=e(n,r,s);return i.delete(n),i.delete(r),c}}function kPe(e){return e!=null?e[Symbol.toStringTag]:void 0}function _E(e){return APe(e).concat(CPe(e))}const _Pe=Object.hasOwn||((e,t)=>OPe.call(e,t));function pc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const TPe="__v",EPe="__o",MPe="_owner",{getOwnPropertyDescriptor:TE,keys:EE}=Object;function DPe(e,t){return e.byteLength===t.byteLength&&Jx(new Uint8Array(e),new Uint8Array(t))}function RPe(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function IPe(e,t){return e.byteLength===t.byteLength&&Jx(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function $Pe(e,t){return pc(e.getTime(),t.getTime())}function LPe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function FPe(e,t){return e===t}function ME(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const s=new Array(r),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,p=l.value;if(n.equals(h[0],p[0],c,f,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const BPe=pc;function VPe(e,t,n){const r=EE(e);let s=r.length;if(EE(t).length!==s)return!1;for(;s-- >0;)if(!sV(e,t,n,r[s]))return!1;return!0}function yf(e,t,n){const r=_E(e);let s=r.length;if(_E(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=r[s],!sV(e,t,n,i)||(o=TE(e,i),l=TE(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function zPe(e,t){return pc(e.valueOf(),t.valueOf())}function UPe(e,t){return e.source===t.source&&e.flags===t.flags}function DE(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const s=new Array(r),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Jx(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function HPe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function sV(e,t,n,r){return(r===MPe||r===EPe||r===TPe)&&(e.$$typeof||t.$$typeof)?!0:_Pe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const WPe="[object ArrayBuffer]",qPe="[object Arguments]",KPe="[object Boolean]",GPe="[object DataView]",YPe="[object Date]",XPe="[object Error]",QPe="[object Map]",JPe="[object Number]",ZPe="[object Object]",eAe="[object RegExp]",tAe="[object Set]",nAe="[object String]",rAe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},sAe="[object URL]",iAe=Object.prototype.toString;function aAe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(x,y,v){if(x===y)return!0;if(x==null||y==null)return!1;const b=typeof x;if(b!==typeof y)return!1;if(b!=="object")return b==="number"?l(x,y,v):b==="function"?i(x,y,v):!1;const j=x.constructor;if(j!==y.constructor)return!1;if(j===Object)return c(x,y,v);if(Array.isArray(x))return t(x,y,v);if(j===Date)return r(x,y,v);if(j===RegExp)return d(x,y,v);if(j===Map)return o(x,y,v);if(j===Set)return f(x,y,v);const w=iAe.call(x);if(w===YPe)return r(x,y,v);if(w===eAe)return d(x,y,v);if(w===QPe)return o(x,y,v);if(w===tAe)return f(x,y,v);if(w===ZPe)return typeof x.then!="function"&&typeof y.then!="function"&&c(x,y,v);if(w===sAe)return p(x,y,v);if(w===XPe)return s(x,y,v);if(w===qPe)return c(x,y,v);if(rAe[w])return h(x,y,v);if(w===WPe)return e(x,y,v);if(w===GPe)return n(x,y,v);if(w===KPe||w===JPe||w===nAe)return u(x,y,v);if(m){let S=m[w];if(!S){const P=kPe(x);P&&(S=m[P])}if(S)return S(x,y,v)}return!1}}function oAe({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:DPe,areArraysEqual:n?yf:RPe,areDataViewsEqual:IPe,areDatesEqual:$Pe,areErrorsEqual:LPe,areFunctionsEqual:FPe,areMapsEqual:n?S2(ME,yf):ME,areNumbersEqual:BPe,areObjectsEqual:n?yf:VPe,arePrimitiveWrappersEqual:zPe,areRegExpsEqual:UPe,areSetsEqual:n?S2(DE,yf):DE,areTypedArraysEqual:n?S2(Jx,yf):Jx,areUrlsEqual:HPe,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const s=Og(r.areArraysEqual),i=Og(r.areMapsEqual),o=Og(r.areObjectsEqual),l=Og(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return r}function lAe(e){return function(t,n,r,s,i,o,l){return e(t,n,l)}}function cAe({circular:e,comparator:t,createState:n,equals:r,strict:s}){if(n)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=n();return t(l,c,{cache:u,equals:r,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const uAe=zo();zo({strict:!0});zo({circular:!0});zo({circular:!0,strict:!0});zo({createInternalComparator:()=>pc});zo({strict:!0,createInternalComparator:()=>pc});zo({circular:!0,createInternalComparator:()=>pc});zo({circular:!0,createInternalComparator:()=>pc,strict:!0});function zo(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:s=!1}=e,i=oAe(e),o=aAe(i),l=n?n(o):lAe(o);return cAe({circular:t,comparator:o,createState:r,equals:l,strict:s})}function dAe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function RE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(i){n<0&&(n=i),i-n>t?(e(i),n=-1):dAe(s)};requestAnimationFrame(r)}function IN(e){"@babel/helpers - typeof";return IN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IN(e)}function fAe(e){return gAe(e)||mAe(e)||pAe(e)||hAe()}function hAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pAe(e,t){if(e){if(typeof e=="string")return IE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IE(e,t)}}function IE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gAe(e){if(Array.isArray(e))return e}function xAe(){var e={},t=function(){return null},n=!1,r=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=fAe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){RE(s.bind(null,u),c);return}s(c),RE(s.bind(null,u));return}IN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function LE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(r){iV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iV(e,t,n){return t=yAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yAe(e){var t=vAe(e,"string");return Np(t)==="symbol"?t:String(t)}function vAe(e,t){if(Np(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Np(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bAe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,s){return r.filter(function(i){return s.includes(i)})})},wAe=function(t){return t},jAe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},dh=function(t,n){return Object.keys(n).reduce(function(r,s){return LE(LE({},r),{},iV({},s,t(s,n[s])))},{})},FE=function(t,n,r){return t.map(function(s){return"".concat(jAe(s)," ").concat(n,"ms ").concat(r)}).join(",")};function NAe(e,t){return AAe(e)||PAe(e,t)||aV(e,t)||SAe()}function SAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PAe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function AAe(e){if(Array.isArray(e))return e}function CAe(e){return _Ae(e)||kAe(e)||aV(e)||OAe()}function OAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aV(e,t){if(e){if(typeof e=="string")return $N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $N(e,t)}}function kAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ae(e){if(Array.isArray(e))return $N(e)}function $N(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zx=1e-4,oV=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},lV=function(t,n){return t.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},BE=function(t,n){return function(r){var s=oV(t,n);return lV(s,r)}},TAe=function(t,n){return function(r){var s=oV(t,n),i=[].concat(CAe(s.map(function(o,l){return o*l}).slice(1)),[0]);return lV(i,r)}},VE=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=NAe(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=BE(s,o),h=BE(i,l),p=TAe(s,o),m=function(y){return y>1?1:y<0?0:y},g=function(y){for(var v=y>1?1:y,b=v,j=0;j<8;++j){var w=f(b)-v,S=p(b);if(Math.abs(w-v)<Zx||S<Zx)return h(b);b=m(b-w/S)}return h(b)};return g.isStepper=!1,g},EAe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*r,m=h*i,g=h+(p-m)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<Zx&&Math.abs(g)<Zx?[f,0]:[x,g]};return c.isStepper=!0,c.dt=l,c},MAe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VE(s);case"spring":return EAe();default:if(s.split("(")[0]==="cubic-bezier")return VE(s)}return typeof s=="function"?s:null};function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function zE(e){return IAe(e)||RAe(e)||cV(e)||DAe()}function DAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IAe(e){if(Array.isArray(e))return FN(e)}function UE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(n),!0).forEach(function(r){LN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LN(e,t,n){return t=$Ae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Ae(e){var t=LAe(e,"string");return Sp(t)==="symbol"?t:String(t)}function LAe(e,t){if(Sp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FAe(e,t){return zAe(e)||VAe(e,t)||cV(e,t)||BAe()}function BAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cV(e,t){if(e){if(typeof e=="string")return FN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FN(e,t)}}function FN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VAe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zAe(e){if(Array.isArray(e))return e}var ey=function(t,n,r){return t+(n-t)*r},BN=function(t){var n=t.from,r=t.to;return n!==r},UAe=function e(t,n,r){var s=dh(function(i,o){if(BN(o)){var l=t(o.from,o.to,o.velocity),c=FAe(l,2),u=c[0],d=c[1];return zn(zn({},o),{},{from:u,velocity:d})}return o},n);return r<1?dh(function(i,o){return BN(o)?zn(zn({},o),{},{velocity:ey(o.velocity,s[i].velocity,r),from:ey(o.from,s[i].from,r)}):o},n):e(t,s,r-1)};const HAe=function(e,t,n,r,s){var i=bAe(e,t),o=i.reduce(function(x,y){return zn(zn({},x),{},LN({},y,[e[y],t[y]]))},{}),l=i.reduce(function(x,y){return zn(zn({},x),{},LN({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return dh(function(y,v){return v.from},l)},p=function(){return!Object.values(l).filter(BN).length},m=function(y){u||(u=y);var v=y-u,b=v/n.dt;l=UAe(n,l,b),s(zn(zn(zn({},e),t),h())),u=y,p()||(c=requestAnimationFrame(f))},g=function(y){d||(d=y);var v=(y-d)/r,b=dh(function(w,S){return ey.apply(void 0,zE(S).concat([n(v)]))},o);if(s(zn(zn(zn({},e),t),b)),v<1)c=requestAnimationFrame(f);else{var j=dh(function(w,S){return ey.apply(void 0,zE(S).concat([n(1)]))},o);s(zn(zn(zn({},e),t),j))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}var WAe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qAe(e,t){if(e==null)return{};var n=KAe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function P2(e){return QAe(e)||XAe(e)||YAe(e)||GAe()}function GAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YAe(e,t){if(e){if(typeof e=="string")return VN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VN(e,t)}}function XAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QAe(e){if(Array.isArray(e))return VN(e)}function VN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(r){Vf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vf(e,t,n){return t=uV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uV(r.key),r)}}function eCe(e,t,n){return t&&ZAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uV(e){var t=tCe(e,"string");return ed(t)==="symbol"?t:String(t)}function tCe(e,t){if(ed(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ed(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zN(e,t)}function zN(e,t){return zN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},zN(e,t)}function rCe(e){var t=sCe();return function(){var r=ty(e),s;if(t){var i=ty(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return UN(this,s)}}function UN(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HN(e)}function HN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(e)}var ki=function(e){nCe(n,e);var t=rCe(n);function n(r,s){var i;JAe(this,n),i=t.call(this,r,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(HN(i)),i.changeStyle=i.changeStyle.bind(HN(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),UN(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},UN(i);i.state={style:c?Vf({},c,u):u}}else i.state={style:{}};return i}return eCe(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Vf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(uAe(s.to,d)&&s.canBegin&&s.isActive)){var m=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:s.to;if(this.state&&h){var x={style:c?Vf({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(x)}this.runAnimation(Vs(Vs({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=HAe(o,l,MAe(u),c,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,d,m,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,x,y){if(y===0)return g;var v=x.duration,b=x.easing,j=b===void 0?"ease":b,w=x.style,S=x.properties,P=x.onAnimationEnd,A=y>0?o[y-1]:x,C=S||Object.keys(w);if(typeof j=="function"||j==="spring")return[].concat(P2(g),[i.runJSAnimation.bind(i,{from:A.style,to:w,duration:v,easing:j}),v]);var T=FE(C,v,j),k=Vs(Vs(Vs({},A.style),w),{},{transition:T});return[].concat(P2(g),[k,v,P]).filter(wAe)};return this.manager.start([c].concat(P2(o.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=xAe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var g=l?Vf({},l,c):c,x=FE(Object.keys(g),o,u);m.start([d,i,Vs(Vs({},g),{},{transition:x}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=qAe(s,WAe),u=N.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var m=p.props,g=m.style,x=g===void 0?{}:g,y=m.className,v=N.cloneElement(p,Vs(Vs({},c),{},{style:Vs(Vs({},x),d),className:y}));return v};return u===1?f(N.Children.only(i)):B.createElement("div",null,N.Children.map(i,function(h){return f(h)}))}}]),n}(N.PureComponent);ki.displayName="Animate";ki.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ki.propTypes={from:vt.oneOfType([vt.object,vt.string]),to:vt.oneOfType([vt.object,vt.string]),attributeName:vt.string,duration:vt.number,begin:vt.number,easing:vt.oneOfType([vt.string,vt.func]),steps:vt.arrayOf(vt.shape({duration:vt.number.isRequired,style:vt.object.isRequired,easing:vt.oneOfType([vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vt.func]),properties:vt.arrayOf("string"),onAnimationEnd:vt.func})),children:vt.oneOfType([vt.node,vt.func]),isActive:vt.bool,canBegin:vt.bool,onAnimationEnd:vt.func,shouldReAnimate:vt.bool,onAnimationStart:vt.func,onAnimationReStart:vt.func};function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(this,arguments)}function iCe(e,t){return cCe(e)||lCe(e,t)||oCe(e,t)||aCe()}function aCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oCe(e,t){if(e){if(typeof e=="string")return WE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WE(e,t)}}function WE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function cCe(e){if(Array.isArray(e))return e}function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function KE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(n),!0).forEach(function(r){uCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uCe(e,t,n){return t=dCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dCe(e){var t=fCe(e,"string");return Pp(t)=="symbol"?t:t+""}function fCe(e,t){if(Pp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GE=function(t,n,r,s,i){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*f[1])),d+="L ".concat(t+r,",").concat(n+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-c*f[2],",").concat(n+s)),d+="L ".concat(t+c*f[3],",").concat(n+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var m=Math.min(o,i);d="M ".concat(t,",").concat(n+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+c*m,",").concat(n,`
            L `).concat(t+r-c*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*m,`
            L `).concat(t+r,",").concat(n+s-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r-c*m,",").concat(n+s,`
            L `).concat(t+c*m,",").concat(n+s,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(n+s-l*m," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return d},hCe=function(t,n){if(!t||!n)return!1;var r=t.x,s=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&s>=f&&s<=h}return!1},pCe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},q3=function(t){var n=KE(KE({},pCe),t),r=N.useRef(),s=N.useState(-1),i=iCe(s,2),o=i[0],l=i[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,v=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=nt("recharts-rectangle",p);return v?B.createElement(ki,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:m,isActive:v},function(j){var w=j.width,S=j.height,P=j.x,A=j.y;return B.createElement(ki,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:y,easing:m},B.createElement("path",ny({},Ue(n,!0),{className:b,d:GE(P,A,w,S,h),ref:r})))}):B.createElement("path",ny({},Ue(n,!0),{className:b,d:GE(c,u,d,f,h)}))},mCe=["points","className","baseLinePoints","connectNulls"];function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gc.apply(this,arguments)}function gCe(e,t){if(e==null)return{};var n=xCe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function YE(e){return wCe(e)||bCe(e)||vCe(e)||yCe()}function yCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vCe(e,t){if(e){if(typeof e=="string")return WN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WN(e,t)}}function bCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wCe(e){if(Array.isArray(e))return WN(e)}function WN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var XE=function(t){return t&&t.x===+t.x&&t.y===+t.y},jCe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){XE(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),XE(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},fh=function(t,n){var r=jCe(t);n&&(r=[r.reduce(function(i,o){return[].concat(YE(i),YE(o))},[])]);var s=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},NCe=function(t,n,r){var s=fh(t,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(fh(n.reverse(),r).slice(1))},SCe=function(t){var n=t.points,r=t.className,s=t.baseLinePoints,i=t.connectNulls,o=gCe(t,mCe);if(!n||!n.length)return null;var l=nt("recharts-polygon",r);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=NCe(n,s,i);return B.createElement("g",{className:l},B.createElement("path",Gc({},Ue(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?B.createElement("path",Gc({},Ue(o,!0),{fill:"none",d:fh(n,i)})):null,c?B.createElement("path",Gc({},Ue(o,!0),{fill:"none",d:fh(s,i)})):null)}var d=fh(n,i);return B.createElement("path",Gc({},Ue(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qN.apply(this,arguments)}var cb=function(t){var n=t.cx,r=t.cy,s=t.r,i=t.className,o=nt("recharts-dot",i);return n===+n&&r===+r&&s===+s?N.createElement("circle",qN({},Ue(t,!1),bx(t),{className:o,cx:n,cy:r,r:s})):null};function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}var PCe=["x","y","top","left","width","height","className"];function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KN.apply(this,arguments)}function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ACe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(n),!0).forEach(function(r){CCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CCe(e,t,n){return t=OCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OCe(e){var t=kCe(e,"string");return Ap(t)=="symbol"?t:t+""}function kCe(e,t){if(Ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Ce(e,t){if(e==null)return{};var n=TCe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ECe=function(t,n,r,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},MCe=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,g=_Ce(t,PCe),x=ACe({x:r,y:i,top:l,left:u,width:f,height:p},g);return!Se(r)||!Se(i)||!Se(f)||!Se(p)||!Se(l)||!Se(u)?null:B.createElement("path",KN({},Ue(x,!0),{className:nt("recharts-cross",m),d:ECe(r,i,f,p,l,u)}))},DCe=sb,RCe=jB,ICe=Mi;function $Ce(e,t){return e&&e.length?DCe(e,ICe(t),RCe):void 0}var LCe=$Ce;const FCe=jt(LCe);var BCe=sb,VCe=Mi,zCe=NB;function UCe(e,t){return e&&e.length?BCe(e,VCe(t),zCe):void 0}var HCe=UCe;const WCe=jt(HCe);var qCe=["cx","cy","angle","ticks","axisLine"],KCe=["ticks","tick","angle","tickFormatter","stroke"];function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hh.apply(this,arguments)}function JE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(n),!0).forEach(function(r){ub(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZE(e,t){if(e==null)return{};var n=GCe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function YCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fV(r.key),r)}}function XCe(e,t,n){return t&&e8(e.prototype,t),n&&e8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function QCe(e,t,n){return t=ry(t),JCe(e,dV()?Reflect.construct(t,n||[],ry(e).constructor):t.apply(e,n))}function JCe(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZCe(e)}function ZCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dV=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(e)}function eOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GN(e,t)}function GN(e,t){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},GN(e,t)}function ub(e,t,n){return t=fV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fV(e){var t=tOe(e,"string");return td(t)=="symbol"?t:t+""}function tOe(e,t){if(td(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var db=function(e){function t(){return YCe(this,t),QCe(this,t,arguments)}return eOe(t,e),XCe(t,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return It(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=FCe(l,function(d){return d.coordinate||0}),u=WCe(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=ZE(r,qCe),d=l.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=It(s,i,d[0],o),h=It(s,i,d[1],o),p=Yo(Yo(Yo({},Ue(u,!1)),{},{fill:"none"},Ue(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return B.createElement("line",hh({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=ZE(s,KCe),f=this.getTickTextAnchor(),h=Ue(d,!1),p=Ue(o,!1),m=i.map(function(g,x){var y=r.getTickValueCoord(g),v=Yo(Yo(Yo(Yo({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},y),{},{payload:g});return B.createElement(pt,hh({className:nt("recharts-polar-radius-axis-tick",QB(o)),key:"tick-".concat(g.coordinate)},tc(r.props,g,x)),t.renderTickItem(o,v,c?c(g.value,x):g.value))});return B.createElement(pt,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.axisLine,o=r.tick;return!s||!s.length?null:B.createElement(pt,{className:nt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),$n.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,i){var o;return B.isValidElement(r)?o=B.cloneElement(r,s):Qe(r)?o=r(s):o=B.createElement(nc,hh({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(N.PureComponent);ub(db,"displayName","PolarRadiusAxis");ub(db,"axisType","radiusAxis");ub(db,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},al.apply(this,arguments)}function t8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t8(Object(n),!0).forEach(function(r){fb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pV(r.key),r)}}function rOe(e,t,n){return t&&n8(e.prototype,t),n&&n8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sOe(e,t,n){return t=sy(t),iOe(e,hV()?Reflect.construct(t,n||[],sy(e).constructor):t.apply(e,n))}function iOe(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aOe(e)}function aOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hV=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(e)}function oOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YN(e,t)}function YN(e,t){return YN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},YN(e,t)}function fb(e,t,n){return t=pV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pV(e){var t=lOe(e,"string");return nd(t)=="symbol"?t:t+""}function lOe(e,t){if(nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cOe=Math.PI/180,r8=1e-5,hb=function(e){function t(){return nOe(this,t),sOe(this,t,arguments)}return oOe(t,e),rOe(t,[{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=It(i,o,l,r.coordinate),h=It(i,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,i=Math.cos(-r.coordinate*cOe),o;return i>r8?o=s==="outer"?"start":"end":i<-r8?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=Xo(Xo({},Ue(this.props,!1)),{},{fill:"none"},Ue(l,!1));if(c==="circle")return B.createElement(cb,al({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return It(s,i,o,h.coordinate)});return B.createElement(SCe,al({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Ue(this.props,!1),f=Ue(o,!1),h=Xo(Xo({},d),{},{fill:"none"},Ue(l,!1)),p=i.map(function(m,g){var x=r.getTickLineCoord(m),y=r.getTickTextAnchor(m),v=Xo(Xo(Xo({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:m,x:x.x2,y:x.y2});return B.createElement(pt,al({className:nt("recharts-polar-angle-axis-tick",QB(o)),key:"tick-".concat(m.coordinate)},tc(r.props,m,g)),l&&B.createElement("line",al({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,v,c?c(m.value,g):m.value))});return B.createElement(pt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!s||!s.length?null:B.createElement(pt,{className:nt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,i){var o;return B.isValidElement(r)?o=B.cloneElement(r,s):Qe(r)?o=r(s):o=B.createElement(nc,al({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(N.PureComponent);fb(hb,"displayName","PolarAngleAxis");fb(hb,"axisType","angleAxis");fb(hb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var uOe=vF,dOe=uOe(Object.getPrototypeOf,Object),fOe=dOe,hOe=_a,pOe=fOe,mOe=Ta,gOe="[object Object]",xOe=Function.prototype,yOe=Object.prototype,mV=xOe.toString,vOe=yOe.hasOwnProperty,bOe=mV.call(Object);function wOe(e){if(!mOe(e)||hOe(e)!=gOe)return!1;var t=pOe(e);if(t===null)return!0;var n=vOe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&mV.call(n)==bOe}var jOe=wOe;const NOe=jt(jOe);var SOe=_a,POe=Ta,AOe="[object Boolean]";function COe(e){return e===!0||e===!1||POe(e)&&SOe(e)==AOe}var OOe=COe;const kOe=jt(OOe);function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iy.apply(this,arguments)}function _Oe(e,t){return DOe(e)||MOe(e,t)||EOe(e,t)||TOe()}function TOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EOe(e,t){if(e){if(typeof e=="string")return s8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s8(e,t)}}function s8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function DOe(e){if(Array.isArray(e))return e}function i8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function a8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i8(Object(n),!0).forEach(function(r){ROe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ROe(e,t,n){return t=IOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IOe(e){var t=$Oe(e,"string");return Cp(t)=="symbol"?t:t+""}function $Oe(e,t){if(Cp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o8=function(t,n,r,s,i){var o=r-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-s,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},LOe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FOe=function(t){var n=a8(a8({},LOe),t),r=N.useRef(),s=N.useState(-1),i=_Oe(s,2),o=i[0],l=i[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=nt("recharts-trapezoid",p);return y?B.createElement(ki,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:m,isActive:y},function(b){var j=b.upperWidth,w=b.lowerWidth,S=b.height,P=b.x,A=b.y;return B.createElement(ki,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:m},B.createElement("path",iy({},Ue(n,!0),{className:v,d:o8(P,A,j,w,S),ref:r})))}):B.createElement("g",null,B.createElement("path",iy({},Ue(n,!0),{className:v,d:o8(c,u,d,f,h)})))},BOe=["option","shapeType","propTransformer","activeClassName","isActive"];function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function VOe(e,t){if(e==null)return{};var n=zOe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function l8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ay(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l8(Object(n),!0).forEach(function(r){UOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UOe(e,t,n){return t=HOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HOe(e){var t=WOe(e,"string");return Op(t)=="symbol"?t:t+""}function WOe(e,t){if(Op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qOe(e,t){return ay(ay({},t),e)}function KOe(e,t){return e==="symbols"}function c8(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return B.createElement(q3,n);case"trapezoid":return B.createElement(FOe,n);case"sector":return B.createElement(eV,n);case"symbols":if(KOe(t))return B.createElement(d3,n);break;default:return null}}function GOe(e){return N.isValidElement(e)?e.props:e}function gV(e){var t=e.option,n=e.shapeType,r=e.propTransformer,s=r===void 0?qOe:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=VOe(e,BOe),u;if(N.isValidElement(t))u=N.cloneElement(t,ay(ay({},c),GOe(t)));else if(Qe(t))u=t(c);else if(NOe(t)&&!kOe(t)){var d=s(t,c);u=B.createElement(c8,{shapeType:n,elementProps:d})}else{var f=c;u=B.createElement(c8,{shapeType:n,elementProps:f})}return l?B.createElement(pt,{className:o},u):u}function pb(e,t){return t!=null&&"trapezoids"in e.props}function mb(e,t){return t!=null&&"sectors"in e.props}function kp(e,t){return t!=null&&"points"in e.props}function YOe(e,t){var n,r,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return s&&i}function XOe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function QOe(e,t){var n=e.x===t.x,r=e.y===t.y,s=e.z===t.z;return n&&r&&s}function JOe(e,t){var n;return pb(e,t)?n=YOe:mb(e,t)?n=XOe:kp(e,t)&&(n=QOe),n}function ZOe(e,t){var n;return pb(e,t)?n="trapezoids":mb(e,t)?n="sectors":kp(e,t)&&(n="points"),n}function eke(e,t){if(pb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(mb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return kp(e,t)?t.payload:{}}function tke(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,s=ZOe(n,t),i=eke(n,t),o=r.filter(function(c,u){var d=mm(i,c),f=n.props[s].filter(function(m){var g=JOe(n,t);return g(m,t)}),h=n.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=r.indexOf(o[o.length-1]);return l}var o0;function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yc.apply(this,arguments)}function u8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(n),!0).forEach(function(r){Cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yV(r.key),r)}}function rke(e,t,n){return t&&d8(e.prototype,t),n&&d8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ske(e,t,n){return t=oy(t),ike(e,xV()?Reflect.construct(t,n||[],oy(e).constructor):t.apply(e,n))}function ike(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ake(e)}function ake(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xV=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oy(e)}function oke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XN(e,t)}function XN(e,t){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},XN(e,t)}function Cs(e,t,n){return t=yV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yV(e){var t=lke(e,"string");return rd(t)=="symbol"?t:t+""}function lke(e,t){if(rd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ma=function(e){function t(n){var r;return nke(this,t),r=ske(this,t,[n]),Cs(r,"pieRef",null),Cs(r,"sectorRefs",[]),Cs(r,"id",Dd("recharts-pie-")),Cs(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Qe(s)&&s()}),Cs(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Qe(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return oke(t,e),rke(t,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Ue(this.props,!1),f=Ue(o,!1),h=Ue(l,!1),p=o&&o.offsetRadius||20,m=r.map(function(g,x){var y=(g.startAngle+g.endAngle)/2,v=It(g.cx,g.cy,g.outerRadius+p,y),b=Mt(Mt(Mt(Mt({},d),g),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(v.x,g.cx)},v),j=Mt(Mt(Mt(Mt({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:x,points:[It(g.cx,g.cy,g.outerRadius,y),v]}),w=c;return Ze(c)&&Ze(u)?w="value":Ze(c)&&(w=u),B.createElement(pt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,b,On(g,w)))});return B.createElement(pt,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,p=f?o:h,m=Mt(Mt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return B.createElement(pt,Yc({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},tc(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),B.createElement(gV,Yc({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return B.createElement(ki,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,x=[],y=i&&i[0],v=y.startAngle;return i.forEach(function(b,j){var w=h&&h[j],S=j>0?is(b,"paddingAngle",0):0;if(w){var P=Jr(w.endAngle-w.startAngle,b.endAngle-b.startAngle),A=Mt(Mt({},b),{},{startAngle:v+S,endAngle:v+P(g)+S});x.push(A),v=A.endAngle}else{var C=b.endAngle,T=b.startAngle,k=Jr(0,C-T),O=k(g),I=Mt(Mt({},b),{},{startAngle:v+S,endAngle:v+O+S});x.push(I),v=I.endAngle}}),B.createElement(pt,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!mm(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,m=this.state.isAnimationFinished;if(i||!o||!o.length||!Se(u)||!Se(d)||!Se(f)||!Se(h))return null;var g=nt("recharts-pie",l);return B.createElement(pt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){r.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),$n.renderCallByParent(this.props,null,!1),(!p||m)&&fa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,i){if(B.isValidElement(r))return B.cloneElement(r,s);if(Qe(r))return r(s);var o=nt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(Qx,Yc({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,s,i){if(B.isValidElement(r))return B.cloneElement(r,s);var o=i;if(Qe(r)&&(o=r(s),B.isValidElement(o)))return o;var l=nt("recharts-pie-label-text",typeof r!="boolean"&&!Qe(r)?r.className:"");return B.createElement(nc,Yc({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(N.PureComponent);o0=Ma;Cs(Ma,"displayName","Pie");Cs(Ma,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!dc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Cs(Ma,"parseDeltaAngle",function(e,t){var n=wr(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Cs(Ma,"getRealPieData",function(e){var t=e.data,n=e.children,r=Ue(e,!1),s=as(n,Qv);return t&&t.length?t.map(function(i,o){return Mt(Mt(Mt({payload:i},r),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Mt(Mt({},r),i.props)}):[]});Cs(Ma,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,s=t.width,i=t.height,o=XB(s,i),l=r+jr(e.cx,s,s/2),c=n+jr(e.cy,i,i/2),u=jr(e.innerRadius,o,0),d=jr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Cs(Ma,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Mt(Mt({},t.type.defaultProps),t.props):t.props,s=o0.getRealPieData(r);if(!s||!s.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),m=o0.parseCoordinateOfPie(r,n),g=o0.parseDeltaAngle(o,l),x=Math.abs(g),y=u;Ze(u)&&Ze(f)?(ti(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Ze(u)&&(ti(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var v=s.filter(function(A){return On(A,y,0)!==0}).length,b=(x>=360?v:v-1)*c,j=x-v*p-b,w=s.reduce(function(A,C){var T=On(C,y,0);return A+(Se(T)?T:0)},0),S;if(w>0){var P;S=s.map(function(A,C){var T=On(A,y,0),k=On(A,d,C),O=(Se(T)?T:0)/w,I;C?I=P.endAngle+wr(g)*c*(T!==0?1:0):I=o;var M=I+wr(g)*((T!==0?p:0)+O*j),E=(I+M)/2,_=(m.innerRadius+m.outerRadius)/2,L=[{name:k,value:T,payload:A,dataKey:y,type:h}],R=It(m.cx,m.cy,_,E);return P=Mt(Mt(Mt({percent:O,cornerRadius:i,name:k,tooltipPayload:L,midAngle:E,middleRadius:_,tooltipPosition:R},A),m),{},{value:On(A,y),startAngle:I,endAngle:M,payload:A,paddingAngle:wr(g)*c}),P})}return Mt(Mt({},m),{},{sectors:S,data:s})});var cke=Math.ceil,uke=Math.max;function dke(e,t,n,r){for(var s=-1,i=uke(cke((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++s]=e,e+=n;return o}var fke=dke,hke=LF,f8=1/0,pke=17976931348623157e292;function mke(e){if(!e)return e===0?e:0;if(e=hke(e),e===f8||e===-f8){var t=e<0?-1:1;return t*pke}return e===e?e:0}var vV=mke,gke=fke,xke=Xv,A2=vV;function yke(e){return function(t,n,r){return r&&typeof r!="number"&&xke(t,n,r)&&(n=r=void 0),t=A2(t),n===void 0?(n=t,t=0):n=A2(n),r=r===void 0?t<n?1:-1:A2(r),gke(t,n,r,e)}}var vke=yke,bke=vke,wke=bke(),jke=wke;const ly=jt(jke);function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function h8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function p8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(n),!0).forEach(function(r){bV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bV(e,t,n){return t=Nke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nke(e){var t=Ske(e,"string");return _p(t)=="symbol"?t:t+""}function Ske(e,t){if(_p(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pke=["Webkit","Moz","O","ms"],Ake=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Pke.reduce(function(i,o){return p8(p8({},i),{},bV({},o+r,n))},{});return s[t]=n,s};function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cy.apply(this,arguments)}function m8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function C2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(n),!0).forEach(function(r){qr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jV(r.key),r)}}function Oke(e,t,n){return t&&g8(e.prototype,t),n&&g8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kke(e,t,n){return t=uy(t),_ke(e,wV()?Reflect.construct(t,n||[],uy(e).constructor):t.apply(e,n))}function _ke(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tke(e)}function Tke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wV=function(){return!!e})()}function uy(e){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uy(e)}function Eke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QN(e,t)}function QN(e,t){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},QN(e,t)}function qr(e,t,n){return t=jV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jV(e){var t=Mke(e,"string");return sd(t)=="symbol"?t:t+""}function Mke(e,t){if(sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dke=function(t){var n=t.data,r=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=ch().domain(ly(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(s),scale:u,scaleValues:d}},x8=function(t){return t.changedTouches&&!!t.changedTouches.length},id=function(e){function t(n){var r;return Cke(this,t),r=kke(this,t,[n]),qr(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),qr(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),qr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),qr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),qr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),qr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),qr(r,"handleSlideDragStart",function(s){var i=x8(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Eke(t,e),Oke(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,f),m=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=On(i[r],l,r);return Qe(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,m=c.onChange,g=r.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var x=this.getIndex({startX:o+g,endX:l+g});(x.startIndex!==h||x.endIndex!==p)&&m&&m(x),this.setState({startX:o+g,endX:l+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var i=x8(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,x=d.data,y={startX:this.state.startX,endX:this.state.endX},v=r.pageX-i;v>0?v=Math.min(v,f+h-p-u):v<0&&(v=Math.max(v,f-u)),y[o]=u+v;var b=this.getIndex(y),j=b.startIndex,w=b.endIndex,S=function(){var A=x.length-1;return o==="startX"&&(l>c?j%g===0:w%g===0)||l<c&&w===A||o==="endX"&&(l>c?w%g===0:j%g===0)||l>c&&w===A};this.setState(qr(qr({},o,u+v),"brushMoveStartX",r.pageX),function(){m&&S()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(qr({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return B.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=N.Children.only(u);return f?B.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,m=c.data,g=c.startIndex,x=c.endIndex,y=Math.max(r,this.props.x),v=C2(C2({},Ue(this.props,!1)),{},{x:y,y:u,width:d,height:f}),b=p||"Min value: ".concat((i=m[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=m[x])===null||o===void 0?void 0:o.name);return B.createElement(pt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(r,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,s)+u,f=Math.max(Math.abs(s-r)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return B.createElement(pt,{className:"recharts-brush-texts"},B.createElement(nc,cy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},m),this.getTextOfTick(s)),B.createElement(nc,cy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,s=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,v=h.isTravellerFocused;if(!s||!s.length||!Se(l)||!Se(c)||!Se(u)||!Se(d)||u<=0||d<=0)return null;var b=nt("recharts-brush",i),j=B.Children.count(o)===1,w=Ake("userSelect","none");return B.createElement(pt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||x||y||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),B.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var i;return B.isValidElement(r)?i=B.cloneElement(r,s):Qe(r)?i=r(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(r,s){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return C2({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Dke({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,s){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}])}(N.PureComponent);qr(id,"displayName","Brush");qr(id,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Rke=y3;function Ike(e,t){var n;return Rke(e,function(r,s,i){return n=t(r,s,i),!n}),!!n}var $ke=Ike,Lke=dF,Fke=Mi,Bke=$ke,Vke=Hr,zke=Xv;function Uke(e,t,n){var r=Vke(e)?Lke:Bke;return n&&zke(e,t,n)&&(t=void 0),r(e,Fke(t))}var Hke=Uke;const Wke=jt(Hke);var Ci=function(t,n){var r=t.alwaysShow,s=t.ifOverflow;return r&&(s="extendDomain"),s===n},y8=MF;function qke(e,t,n){t=="__proto__"&&y8?y8(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Kke=qke,Gke=Kke,Yke=TF,Xke=Mi;function Qke(e,t){var n={};return t=Xke(t),Yke(e,function(r,s,i){Gke(n,s,t(r,s,i))}),n}var Jke=Qke;const Zke=jt(Jke);function e_e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var t_e=e_e,n_e=y3;function r_e(e,t){var n=!0;return n_e(e,function(r,s,i){return n=!!t(r,s,i),n}),n}var s_e=r_e,i_e=t_e,a_e=s_e,o_e=Mi,l_e=Hr,c_e=Xv;function u_e(e,t,n){var r=l_e(e)?i_e:a_e;return n&&c_e(e,t,n)&&(t=void 0),r(e,o_e(t))}var d_e=u_e;const NV=jt(d_e);var f_e=["x","y"];function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JN.apply(this,arguments)}function v8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(n),!0).forEach(function(r){h_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h_e(e,t,n){return t=p_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p_e(e){var t=m_e(e,"string");return Tp(t)=="symbol"?t:t+""}function m_e(e,t){if(Tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g_e(e,t){if(e==null)return{};var n=x_e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function x_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function y_e(e,t){var n=e.x,r=e.y,s=g_e(e,f_e),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return vf(vf(vf(vf(vf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function b8(e){return B.createElement(gV,JN({shapeType:"rectangle",propTransformer:y_e,activeClassName:"recharts-active-bar"},e))}var v_e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof t=="number")return t;var i=Se(r)||Bme(r);return i?t(r,s):(i||sc(),n)}},b_e=["value","background"],SV;function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function w_e(e,t){if(e==null)return{};var n=j_e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function j_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dy.apply(this,arguments)}function w8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(n),!0).forEach(function(r){uo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AV(r.key),r)}}function S_e(e,t,n){return t&&j8(e.prototype,t),n&&j8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P_e(e,t,n){return t=fy(t),A_e(e,PV()?Reflect.construct(t,n||[],fy(e).constructor):t.apply(e,n))}function A_e(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C_e(e)}function C_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PV=function(){return!!e})()}function fy(e){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(e)}function O_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZN(e,t)}function ZN(e,t){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ZN(e,t)}function uo(e,t,n){return t=AV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AV(e){var t=k_e(e,"string");return ad(t)=="symbol"?t:t+""}function k_e(e,t){if(ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mc=function(e){function t(){var n;N_e(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=P_e(this,t,[].concat(s)),uo(n,"state",{isAnimationFinished:!1}),uo(n,"id",Dd("recharts-bar-")),uo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),uo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return O_e(t,e),S_e(t,[{key:"renderRectanglesStatically",value:function(r){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Ue(this.props,!1);return r&&r.map(function(f,h){var p=h===c,m=p?u:o,g=mn(mn(mn({},d),f),{},{isActive:p,option:m,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return B.createElement(pt,dy({className:"recharts-bar-rectangle"},tc(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),B.createElement(b8,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return B.createElement(ki,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=i.map(function(x,y){var v=h&&h[y];if(v){var b=Jr(v.x,x.x),j=Jr(v.y,x.y),w=Jr(v.width,x.width),S=Jr(v.height,x.height);return mn(mn({},x),{},{x:b(m),y:j(m),width:w(m),height:S(m)})}if(o==="horizontal"){var P=Jr(0,x.height),A=P(m);return mn(mn({},x),{},{y:x.y+x.height-A,height:A})}var C=Jr(0,x.width),T=C(m);return mn(mn({},x),{},{width:T})});return B.createElement(pt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!mm(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Ue(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=w_e(u,b_e);if(!f)return null;var p=mn(mn(mn(mn(mn({},h),{},{fill:"#eee"},f),c),tc(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return B.createElement(b8,dy({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=as(d,gm);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,y){var v=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:v,errorVal:On(x,y)}},m={clipPath:r?"url(#clipPath-".concat(s,")"):null};return B.createElement(pt,m,f.map(function(g){return B.cloneElement(g,{key:"error-bar-".concat(s,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,y=nt("recharts-bar",o),v=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,j=v||b,w=Ze(g)?this.id:g;return B.createElement(pt,{className:y},v||b?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(w)},B.createElement("rect",{x:v?u:u-f/2,y:b?d:d-h/2,width:v?f:f*2,height:b?h:h*2}))):null,B.createElement(pt,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,w),(!p||x)&&fa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(N.PureComponent);SV=mc;uo(mc,"displayName","Bar");uo(mc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!dc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});uo(mc,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=i6e(r,n);if(!p)return null;var m=t.layout,g=n.type.defaultProps,x=g!==void 0?mn(mn({},g),n.props):n.props,y=x.dataKey,v=x.children,b=x.minPointSize,j=m==="horizontal"?o:i,w=u?j.scale.domain():null,S=f6e({numericAxis:j}),P=as(v,Qv),A=f.map(function(C,T){var k,O,I,M,E,_;u?k=a6e(u[d+T],w):(k=On(C,y),Array.isArray(k)||(k=[S,k]));var L=v_e(b,SV.defaultProps.minPointSize)(k[1],T);if(m==="horizontal"){var R,F=[o.scale(k[0]),o.scale(k[1])],W=F[0],q=F[1];O=pE({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:C,index:T}),I=(R=q??W)!==null&&R!==void 0?R:void 0,M=p.size;var G=W-q;if(E=Number.isNaN(G)?0:G,_={x:O,y:o.y,width:M,height:o.height},Math.abs(L)>0&&Math.abs(E)<Math.abs(L)){var H=wr(E||L)*(Math.abs(L)-Math.abs(E));I-=H,E+=H}}else{var J=[i.scale(k[0]),i.scale(k[1])],ce=J[0],fe=J[1];if(O=ce,I=pE({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:C,index:T}),M=fe-ce,E=p.size,_={x:i.x,y:I,width:i.width,height:E},Math.abs(L)>0&&Math.abs(M)<Math.abs(L)){var Z=wr(M||L)*(Math.abs(L)-Math.abs(M));M+=Z}}return mn(mn(mn({},C),{},{x:O,y:I,width:M,height:E,value:u?k:k[1],payload:C,background:_},P&&P[T]&&P[T].props),{},{tooltipPayload:[GB(n,C)],tooltipPosition:{x:O+M/2,y:I+E/2}})});return mn({data:A,layout:m},h)});function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function __e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CV(r.key),r)}}function T_e(e,t,n){return t&&N8(e.prototype,t),n&&N8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(n),!0).forEach(function(r){gb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gb(e,t,n){return t=CV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CV(e){var t=E_e(e,"string");return Ep(t)=="symbol"?t:t+""}function E_e(e,t){if(Ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OV=function(t,n,r,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!Yr(u,mc);return d.reduce(function(p,m){var g=n[m],x=g.orientation,y=g.domain,v=g.padding,b=v===void 0?{}:v,j=g.mirror,w=g.reversed,S="".concat(x).concat(j?"Mirror":""),P,A,C,T,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=y[1]-y[0],I=1/0,M=g.categoricalDomain.sort(Ume);if(M.forEach(function(J,ce){ce>0&&(I=Math.min((J||0)-(M[ce-1]||0),I))}),Number.isFinite(I)){var E=I/O,_=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(P=E*_/2),g.padding==="no-gap"){var L=jr(t.barCategoryGap,E*_),R=E*_/2;P=R-L-(R-L)/_*L}}}s==="xAxis"?A=[r.left+(b.left||0)+(P||0),r.left+r.width-(b.right||0)-(P||0)]:s==="yAxis"?A=c==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(P||0),r.top+r.height-(b.bottom||0)-(P||0)]:A=g.range,w&&(A=[A[1],A[0]]);var F=HB(g,i,h),W=F.scale,q=F.realScaleType;W.domain(y).range(A),WB(W);var G=qB(W,Ks(Ks({},g),{},{realScaleType:q}));s==="xAxis"?(k=x==="top"&&!j||x==="bottom"&&j,C=r.left,T=f[S]-k*g.height):s==="yAxis"&&(k=x==="left"&&!j||x==="right"&&j,C=f[S]-k*g.width,T=r.top);var H=Ks(Ks(Ks({},g),G),{},{realScaleType:q,x:C,y:T,scale:W,width:s==="xAxis"?r.width:g.width,height:s==="yAxis"?r.height:g.height});return H.bandSize=Gx(H,G),!g.hide&&s==="xAxis"?f[S]+=(k?-1:1)*H.height:g.hide||(f[S]+=(k?-1:1)*H.width),Ks(Ks({},p),{},gb({},m,H))},{})},kV=function(t,n){var r=t.x,s=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(s,o),width:Math.abs(i-r),height:Math.abs(o-s)}},M_e=function(t){var n=t.x1,r=t.y1,s=t.x2,i=t.y2;return kV({x:n,y:r},{x:s,y:i})},_V=function(){function e(t){__e(this,e),this.scale=t}return T_e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],i=r[r.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();gb(_V,"EPS",1e-4);var K3=function(t){var n=Object.keys(t).reduce(function(r,s){return Ks(Ks({},r),{},gb({},s,_V.create(t[s])))},{});return Ks(Ks({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Zke(s,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return NV(s,function(i,o){return n[o].isInRange(i)})}})};function D_e(e){return(e%180+180)%180}var R_e=function(t){var n=t.width,r=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=D_e(s),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},I_e=Mi,$_e=um,L_e=Gv;function F_e(e){return function(t,n,r){var s=Object(t);if(!$_e(t)){var i=I_e(n);t=L_e(t),n=function(l){return i(s[l],l,s)}}var o=e(t,n,r);return o>-1?s[i?t[o]:o]:void 0}}var B_e=F_e,V_e=vV;function z_e(e){var t=V_e(e),n=t%1;return t===t?n?t-n:t:0}var U_e=z_e,H_e=PF,W_e=Mi,q_e=U_e,K_e=Math.max;function G_e(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:q_e(n);return s<0&&(s=K_e(r+s,0)),H_e(e,W_e(t),s)}var Y_e=G_e,X_e=B_e,Q_e=Y_e,J_e=X_e(Q_e),Z_e=J_e;const eTe=jt(Z_e);var tTe=qpe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),G3=N.createContext(void 0),Y3=N.createContext(void 0),TV=N.createContext(void 0),EV=N.createContext({}),MV=N.createContext(void 0),DV=N.createContext(0),RV=N.createContext(0),P8=function(t){var n=t.state,r=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=tTe(i);return B.createElement(G3.Provider,{value:r},B.createElement(Y3.Provider,{value:s},B.createElement(EV.Provider,{value:i},B.createElement(TV.Provider,{value:d},B.createElement(MV.Provider,{value:o},B.createElement(DV.Provider,{value:u},B.createElement(RV.Provider,{value:c},l)))))))},nTe=function(){return N.useContext(MV)},IV=function(t){var n=N.useContext(G3);n==null&&sc();var r=n[t];return r==null&&sc(),r},rTe=function(){var t=N.useContext(G3);return Ga(t)},sTe=function(){var t=N.useContext(Y3),n=eTe(t,function(r){return NV(r.domain,Number.isFinite)});return n||Ga(t)},$V=function(t){var n=N.useContext(Y3);n==null&&sc();var r=n[t];return r==null&&sc(),r},iTe=function(){var t=N.useContext(TV);return t},aTe=function(){return N.useContext(EV)},X3=function(){return N.useContext(RV)},Q3=function(){return N.useContext(DV)};function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function oTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FV(r.key),r)}}function cTe(e,t,n){return t&&lTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uTe(e,t,n){return t=hy(t),dTe(e,LV()?Reflect.construct(t,n||[],hy(e).constructor):t.apply(e,n))}function dTe(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fTe(e)}function fTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LV=function(){return!!e})()}function hy(e){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hy(e)}function hTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}function eS(e,t){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},eS(e,t)}function A8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function C8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(n),!0).forEach(function(r){J3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J3(e,t,n){return t=FV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FV(e){var t=pTe(e,"string");return od(t)=="symbol"?t:t+""}function pTe(e,t){if(od(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mTe(e,t){return vTe(e)||yTe(e,t)||xTe(e,t)||gTe()}function gTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xTe(e,t){if(e){if(typeof e=="string")return O8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O8(e,t)}}function O8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function vTe(e){if(Array.isArray(e))return e}function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tS.apply(this,arguments)}var bTe=function(t,n){var r;return B.isValidElement(t)?r=B.cloneElement(t,n):Qe(t)?r=t(n):r=B.createElement("line",tS({},n,{className:"recharts-reference-line-line"})),r},wTe=function(t,n,r,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(r){var m=u.y,g=t.y.apply(m,{position:o});if(Ci(u,"discard")&&!t.y.isInRange(g))return null;var x=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?x.reverse():x}if(n){var y=u.x,v=t.x.apply(y,{position:o});if(Ci(u,"discard")&&!t.x.isInRange(v))return null;var b=[{x:v,y:f+p},{x:v,y:f}];return l==="top"?b.reverse():b}if(s){var j=u.segment,w=j.map(function(S){return t.apply(S,{position:o})});return Ci(u,"discard")&&Wke(w,function(S){return!t.isInRange(S)})?null:w}return null};function jTe(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=nTe(),d=IV(s),f=$V(i),h=iTe();if(!u||!h)return null;ti(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=K3({x:d.scale,y:f.scale}),m=Tn(t),g=Tn(n),x=r&&r.length===2,y=wTe(p,m,g,x,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var v=mTe(y,2),b=v[0],j=b.x,w=b.y,S=v[1],P=S.x,A=S.y,C=Ci(e,"hidden")?"url(#".concat(u,")"):void 0,T=C8(C8({clipPath:C},Ue(e,!0)),{},{x1:j,y1:w,x2:P,y2:A});return B.createElement(pt,{className:nt("recharts-reference-line",l)},bTe(o,T),$n.renderCallByParent(e,M_e({x1:j,y1:w,x2:P,y2:A})))}var Z3=function(e){function t(){return oTe(this,t),uTe(this,t,arguments)}return hTe(t,e),cTe(t,[{key:"render",value:function(){return B.createElement(jTe,this.props)}}])}(B.Component);J3(Z3,"displayName","ReferenceLine");J3(Z3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nS.apply(this,arguments)}function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function k8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(n),!0).forEach(function(r){xb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function STe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VV(r.key),r)}}function PTe(e,t,n){return t&&STe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ATe(e,t,n){return t=py(t),CTe(e,BV()?Reflect.construct(t,n||[],py(e).constructor):t.apply(e,n))}function CTe(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OTe(e)}function OTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BV=function(){return!!e})()}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},py(e)}function kTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rS(e,t)}function rS(e,t){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},rS(e,t)}function xb(e,t,n){return t=VV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VV(e){var t=_Te(e,"string");return ld(t)=="symbol"?t:t+""}function _Te(e,t){if(ld(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TTe=function(t){var n=t.x,r=t.y,s=t.xAxis,i=t.yAxis,o=K3({x:s.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Ci(t,"discard")&&!o.isInRange(l)?null:l},yb=function(e){function t(){return NTe(this,t),ATe(this,t,arguments)}return kTe(t,e),PTe(t,[{key:"render",value:function(){var r=this.props,s=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Tn(s),d=Tn(i);if(ti(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=TTe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,x=m.className,y=Ci(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=_8(_8({clipPath:y},Ue(this.props,!0)),{},{cx:h,cy:p});return B.createElement(pt,{className:nt("recharts-reference-dot",x)},t.renderDot(g,v),$n.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(B.Component);xb(yb,"displayName","ReferenceDot");xb(yb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});xb(yb,"renderDot",function(e,t){var n;return B.isValidElement(e)?n=B.cloneElement(e,t):Qe(e)?n=e(t):n=B.createElement(cb,nS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function sS(){return sS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sS.apply(this,arguments)}function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function T8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function E8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(n),!0).forEach(function(r){vb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ETe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UV(r.key),r)}}function DTe(e,t,n){return t&&MTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RTe(e,t,n){return t=my(t),ITe(e,zV()?Reflect.construct(t,n||[],my(e).constructor):t.apply(e,n))}function ITe(e,t){if(t&&(cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Te(e)}function $Te(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zV=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},my(e)}function LTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}function iS(e,t){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},iS(e,t)}function vb(e,t,n){return t=UV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UV(e){var t=FTe(e,"string");return cd(t)=="symbol"?t:t+""}function FTe(e,t){if(cd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BTe=function(t,n,r,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=K3({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ci(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:kV(p,m)},bb=function(e){function t(){return ETe(this,t),RTe(this,t,arguments)}return LTe(t,e),DTe(t,[{key:"render",value:function(){var r=this.props,s=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;ti(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Tn(s),h=Tn(i),p=Tn(o),m=Tn(l),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var x=BTe(f,h,p,m,this.props);if(!x&&!g)return null;var y=Ci(this.props,"hidden")?"url(#".concat(d,")"):void 0;return B.createElement(pt,{className:nt("recharts-reference-area",c)},t.renderRect(g,E8(E8({clipPath:y},Ue(this.props,!0)),x)),$n.renderCallByParent(this.props,x))}}])}(B.Component);vb(bb,"displayName","ReferenceArea");vb(bb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vb(bb,"renderRect",function(e,t){var n;return B.isValidElement(e)?n=B.cloneElement(e,t):Qe(e)?n=e(t):n=B.createElement(q3,sS({},t,{className:"recharts-reference-area-rect"})),n});function HV(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function VTe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return R_e(r,n)}function zTe(e,t,n){var r=n==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?s:i,end:r?s+o:i+l}:{start:r?s+o:i+l,end:r?s:i}}function gy(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-s)<=0}function UTe(e,t){return HV(e,t+1)}function HTe(e,t,n,r,s){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var m=r==null?void 0:r[c];if(m===void 0)return{v:HV(r,u)};var g=c,x,y=function(){return x===void 0&&(x=n(m,g)),x},v=m.coordinate,b=c===0||gy(e,v,y,d,l);b||(c=0,d=o,u+=1),b&&(d=v+e*(y()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function M8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(n),!0).forEach(function(r){WTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WTe(e,t,n){return t=qTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qTe(e){var t=KTe(e,"string");return Mp(t)=="symbol"?t:t+""}function KTe(e,t){if(Mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GTe(e,t,n,r,s){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],m,g=function(){return m===void 0&&(m=n(p,h)),m};if(h===o-1){var x=e*(p.coordinate+e*g()/2-c);i[h]=p=ar(ar({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=ar(ar({},p),{},{tickCoord:p.coordinate});var y=gy(e,p.tickCoord,g,l,c);y&&(c=p.tickCoord-e*(g()/2+s),i[h]=ar(ar({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function YTe(e,t,n,r,s,i){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=r[l-1],f=n(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=ar(ar({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=gy(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=ar(ar({},d),{},{isShow:!0}))}for(var m=i?l-1:l,g=function(v){var b=o[v],j,w=function(){return j===void 0&&(j=n(b,v)),j};if(v===0){var S=e*(b.coordinate-e*w()/2-c);o[v]=b=ar(ar({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[v]=b=ar(ar({},b),{},{tickCoord:b.coordinate});var P=gy(e,b.tickCoord,w,c,u);P&&(c=b.tickCoord+e*(w()/2+s),o[v]=ar(ar({},b),{},{isShow:!0}))},x=0;x<m;x++)g(x);return o}function e6(e,t,n){var r=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!r)return[];if(Se(c)||dc.isSsr)return UTe(s,typeof c=="number"&&Se(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",m=d&&p==="width"?lh(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(b,j){var w=Qe(u)?u(b.value,j):b.value;return p==="width"?VTe(lh(w,{fontSize:t,letterSpacing:n}),m,f):lh(w,{fontSize:t,letterSpacing:n})[p]},x=s.length>=2?wr(s[1].coordinate-s[0].coordinate):1,y=zTe(i,x,p);return c==="equidistantPreserveStart"?HTe(x,y,g,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=YTe(x,y,g,s,o,c==="preserveStartEnd"):h=GTe(x,y,g,s,o),h.filter(function(v){return v.isShow}))}var XTe=["viewBox"],QTe=["viewBox"],JTe=["ticks"];function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xc.apply(this,arguments)}function D8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(n),!0).forEach(function(r){t6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O2(e,t){if(e==null)return{};var n=ZTe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function eEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qV(r.key),r)}}function tEe(e,t,n){return t&&R8(e.prototype,t),n&&R8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nEe(e,t,n){return t=xy(t),rEe(e,WV()?Reflect.construct(t,n||[],xy(e).constructor):t.apply(e,n))}function rEe(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sEe(e)}function sEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WV=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xy(e)}function iEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aS(e,t)}function aS(e,t){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},aS(e,t)}function t6(e,t,n){return t=qV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qV(e){var t=aEe(e,"string");return ud(t)=="symbol"?t:t+""}function aEe(e,t){if(ud(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vd=function(e){function t(n){var r;return eEe(this,t),r=nEe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return iEe(t,e),tEe(t,[{key:"shouldComponentUpdate",value:function(r,s){var i=r.viewBox,o=O2(r,XTe),l=this.props,c=l.viewBox,u=O2(l,QTe);return!uu(i,c)||!uu(o,u)||!uu(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,m,g,x,y,v,b=f?-1:1,j=r.tickSize||d,w=Se(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,x=o+ +!f*c,g=x-b*j,v=g-b*h,y=w;break;case"left":g=x=r.coordinate,m=i+ +!f*l,p=m-b*j,y=p-b*h,v=w;break;case"right":g=x=r.coordinate,m=i+ +f*l,p=m+b*j,y=p+b*h,v=w;break;default:p=m=r.coordinate,x=o+ +f*c,g=x+b*j,v=g+b*h,y=w;break}return{line:{x1:p,y1:g,x2:m,y2:x},tick:{x:y,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=jn(jn(jn({},Ue(this.props,!1)),Ue(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=jn(jn({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=jn(jn({},f),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return B.createElement("line",Xc({},f,{className:nt("recharts-cartesian-axis-line",is(d,"className"))}))}},{key:"renderTicks",value:function(r,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=e6(jn(jn({},this.props),{},{ticks:r}),s,i),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Ue(this.props,!1),y=Ue(d,!1),v=jn(jn({},x),{},{fill:"none"},Ue(c,!1)),b=p.map(function(j,w){var S=o.getTickLineCoord(j),P=S.line,A=S.tick,C=jn(jn(jn(jn({textAnchor:m,verticalAnchor:g},x),{},{stroke:"none",fill:u},y),A),{},{index:w,payload:j,visibleTicksCount:p.length,tickFormatter:f});return B.createElement(pt,Xc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},tc(o.props,j,w)),c&&B.createElement("line",Xc({},v,P,{className:nt("recharts-cartesian-axis-tick-line",is(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Qe(f)?f(j.value,w):j.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=O2(f,JTe),m=h;return Qe(c)&&(m=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!m||!m.length?null:B.createElement(pt,{className:nt("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),$n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,i){var o,l=nt(s.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(r)?o=B.cloneElement(r,jn(jn({},s),{},{className:l})):Qe(r)?o=r(jn(jn({},s),{},{className:l})):o=B.createElement(nc,Xc({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(N.Component);t6(Vd,"displayName","CartesianAxis");t6(Vd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var oEe=["x1","y1","x2","y2","key"],lEe=["offset"];function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function I8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(n),!0).forEach(function(r){cEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cEe(e,t,n){return t=uEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uEe(e){var t=dEe(e,"string");return ic(t)=="symbol"?t:t+""}function dEe(e,t){if(ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bl.apply(this,arguments)}function $8(e,t){if(e==null)return{};var n=fEe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var hEe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return B.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function KV(e,t){var n;if(B.isValidElement(e))n=B.cloneElement(e,t);else if(Qe(e))n=e(t);else{var r=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=$8(t,oEe),u=Ue(c,!1);u.offset;var d=$8(u,lEe);n=B.createElement("line",bl({},d,{x1:r,y1:s,x2:i,y2:o,fill:"none",key:l}))}return n}function pEe(e){var t=e.x,n=e.width,r=e.horizontal,s=r===void 0?!0:r,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=cr(cr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return KV(s,u)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function mEe(e){var t=e.y,n=e.height,r=e.vertical,s=r===void 0?!0:r,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=cr(cr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return KV(s,u)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function gEe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?s+o-h:d[p+1]-h;if(g<=0)return null;var x=p%t.length;return B.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:g,width:i,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function xEe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+l-h:d[p+1]-h;if(g<=0)return null;var x=p%r.length;return B.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:c,stroke:"none",fill:r[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var yEe=function(t,n){var r=t.xAxis,s=t.width,i=t.height,o=t.offset;return UB(e6(cr(cr(cr({},Vd.defaultProps),r),{},{ticks:ia(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},vEe=function(t,n){var r=t.yAxis,s=t.width,i=t.height,o=t.offset;return UB(e6(cr(cr(cr({},Vd.defaultProps),r),{},{ticks:ia(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},Sc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function oS(e){var t,n,r,s,i,o,l=X3(),c=Q3(),u=aTe(),d=cr(cr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Sc.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Sc.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Sc.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Sc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Sc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Sc.verticalFill,x:Se(e.x)?e.x:u.left,y:Se(e.y)?e.y:u.top,width:Se(e.width)?e.width:u.width,height:Se(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,x=d.horizontalValues,y=d.verticalValues,v=rTe(),b=sTe();if(!Se(p)||p<=0||!Se(m)||m<=0||!Se(f)||f!==+f||!Se(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||yEe,w=d.horizontalCoordinatesGenerator||vEe,S=d.horizontalPoints,P=d.verticalPoints;if((!S||!S.length)&&Qe(w)){var A=x&&x.length,C=w({yAxis:b?cr(cr({},b),{},{ticks:A?x:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:g);ti(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ic(C),"]")),Array.isArray(C)&&(S=C)}if((!P||!P.length)&&Qe(j)){var T=y&&y.length,k=j({xAxis:v?cr(cr({},v),{},{ticks:T?y:v.ticks}):void 0,width:l,height:c,offset:u},T?!0:g);ti(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ic(k),"]")),Array.isArray(k)&&(P=k)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(hEe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),B.createElement(pEe,bl({},d,{offset:u,horizontalPoints:S,xAxis:v,yAxis:b})),B.createElement(mEe,bl({},d,{offset:u,verticalPoints:P,xAxis:v,yAxis:b})),B.createElement(gEe,bl({},d,{horizontalPoints:S})),B.createElement(xEe,bl({},d,{verticalPoints:P})))}oS.displayName="CartesianGrid";var bEe=["type","layout","connectNulls","ref"],wEe=["key"];function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function L8(e,t){if(e==null)return{};var n=jEe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ph.apply(this,arguments)}function F8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(n),!0).forEach(function(r){Gs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pc(e){return AEe(e)||PEe(e)||SEe(e)||NEe()}function NEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SEe(e,t){if(e){if(typeof e=="string")return lS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lS(e,t)}}function PEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AEe(e){if(Array.isArray(e))return lS(e)}function lS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YV(r.key),r)}}function OEe(e,t,n){return t&&B8(e.prototype,t),n&&B8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kEe(e,t,n){return t=yy(t),_Ee(e,GV()?Reflect.construct(t,n||[],yy(e).constructor):t.apply(e,n))}function _Ee(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TEe(e)}function TEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GV=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yy(e)}function EEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cS(e,t)}function cS(e,t){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},cS(e,t)}function Gs(e,t,n){return t=YV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YV(e){var t=MEe(e,"string");return dd(t)=="symbol"?t:t+""}function MEe(e,t){if(dd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ll=function(e){function t(){var n;CEe(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=kEe(this,t,[].concat(s)),Gs(n,"state",{isAnimationFinished:!0,totalLength:0}),Gs(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Gs(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,v){return y+v});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],m=0,g=0;m<c.length;g+=c[m],++m)if(g+c[m]>f){p=[].concat(Pc(c.slice(0,m)),[f-g]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Pc(t.repeat(c,d)),Pc(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),Gs(n,"id",Dd("recharts-line-")),Gs(n,"pathRef",function(o){n.mainCurve=o}),Gs(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Gs(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return EEe(t,e),OEe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=as(d,gm);if(!f)return null;var h=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:On(g.payload,x)}},p={clipPath:r?"url(#clipPath-".concat(s,")"):null};return B.createElement(pt,p,f.map(function(m){return B.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Ue(this.props,!1),h=Ue(c,!0),p=u.map(function(g,x){var y=Wr(Wr(Wr({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,y)}),m={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return B.createElement(pt,ph({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,s,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=L8(l,bEe),h=Wr(Wr(Wr({},Ue(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return B.createElement(Qx,ph({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=o.animateNewValues,g=o.width,x=o.height,y=this.state,v=y.prevPoints,b=y.totalLength;return B.createElement(ki,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t;if(v){var S=v.length/l.length,P=l.map(function(O,I){var M=Math.floor(I*S);if(v[M]){var E=v[M],_=Jr(E.x,O.x),L=Jr(E.y,O.y);return Wr(Wr({},O),{},{x:_(w),y:L(w)})}if(m){var R=Jr(g*2,O.x),F=Jr(x/2,O.y);return Wr(Wr({},O),{},{x:R(w),y:F(w)})}return Wr(Wr({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(P,r,s)}var A=Jr(0,b),C=A(w),T;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});T=i.getStrokeDasharray(C,b,k)}else T=i.generateSimpleStrokeDasharray(b,C);return i.renderCurveStatically(l,r,s,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!mm(u,o))?this.renderCurveWithAnimation(r,s):this.renderCurveStatically(o,r,s)}},{key:"render",value:function(){var r,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,p=s.width,m=s.height,g=s.isAnimationActive,x=s.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,v=l.length===1,b=nt("recharts-line",c),j=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,S=j||w,P=Ze(x)?this.id:x,A=(r=Ue(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=A.r,T=C===void 0?3:C,k=A.strokeWidth,O=k===void 0?2:k,I=Jme(o)?o:{},M=I.clipDot,E=M===void 0?!0:M,_=T*2+O;return B.createElement(pt,{className:b},j||w?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(P)},B.createElement("rect",{x:j?h:h-p/2,y:w?f:f-m/2,width:j?p:p*2,height:w?m:m*2})),!E&&B.createElement("clipPath",{id:"clipPath-dots-".concat(P)},B.createElement("rect",{x:h-_/2,y:f-_/2,width:p+_,height:m+_}))):null,!v&&this.renderCurve(S,P),this.renderErrorBar(S,P),(v||o)&&this.renderDots(S,E,P),(!g||y)&&fa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:s.curPoints}:r.points!==s.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,s){for(var i=r.length%2!==0?[].concat(Pc(r),[0]):r,o=[],l=0;l<s;++l)o=[].concat(Pc(o),Pc(i));return o}},{key:"renderDotItem",value:function(r,s){var i;if(B.isValidElement(r))i=B.cloneElement(r,s);else if(Qe(r))i=r(s);else{var o=s.key,l=L8(s,wEe),c=nt("recharts-line-dot",typeof r!="boolean"?r.className:"");i=B.createElement(cb,ph({key:o},l,{className:c}))}return i}}])}(N.PureComponent);Gs(Ll,"displayName","Line");Gs(Ll,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!dc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Gs(Ll,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var m=On(h,o);return d==="horizontal"?{x:hE({axis:n,ticks:s,bandSize:l,entry:h,index:p}),y:Ze(m)?null:r.scale(m),value:m,payload:h}:{x:Ze(m)?null:n.scale(m),y:hE({axis:r,ticks:i,bandSize:l,entry:h,index:p}),value:m,payload:h}});return Wr({points:f,layout:d},u)});function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function DEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function REe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JV(r.key),r)}}function IEe(e,t,n){return t&&REe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ee(e,t,n){return t=vy(t),LEe(e,XV()?Reflect.construct(t,n||[],vy(e).constructor):t.apply(e,n))}function LEe(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FEe(e)}function FEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XV=function(){return!!e})()}function vy(e){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vy(e)}function BEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},uS(e,t)}function QV(e,t,n){return t=JV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JV(e){var t=VEe(e,"string");return fd(t)=="symbol"?t:t+""}function VEe(e,t){if(fd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dS.apply(this,arguments)}function zEe(e){var t=e.xAxisId,n=X3(),r=Q3(),s=IV(t);return s==null?null:N.createElement(Vd,dS({},s,{className:nt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return ia(o,!0)}}))}var hd=function(e){function t(){return DEe(this,t),$Ee(this,t,arguments)}return BEe(t,e),IEe(t,[{key:"render",value:function(){return N.createElement(zEe,this.props)}}])}(N.Component);QV(hd,"displayName","XAxis");QV(hd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function UEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tz(r.key),r)}}function WEe(e,t,n){return t&&HEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qEe(e,t,n){return t=by(t),KEe(e,ZV()?Reflect.construct(t,n||[],by(e).constructor):t.apply(e,n))}function KEe(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GEe(e)}function GEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZV=function(){return!!e})()}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},by(e)}function YEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},fS(e,t)}function ez(e,t,n){return t=tz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tz(e){var t=XEe(e,"string");return pd(t)=="symbol"?t:t+""}function XEe(e,t){if(pd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hS.apply(this,arguments)}var QEe=function(t){var n=t.yAxisId,r=X3(),s=Q3(),i=$V(n);return i==null?null:N.createElement(Vd,hS({},i,{className:nt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return ia(l,!0)}}))},md=function(e){function t(){return UEe(this,t),qEe(this,t,arguments)}return YEe(t,e),WEe(t,[{key:"render",value:function(){return N.createElement(QEe,this.props)}}])}(N.Component);ez(md,"displayName","YAxis");ez(md,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function V8(e){return t8e(e)||e8e(e)||ZEe(e)||JEe()}function JEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZEe(e,t){if(e){if(typeof e=="string")return pS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pS(e,t)}}function e8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t8e(e){if(Array.isArray(e))return pS(e)}function pS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mS=function(t,n,r,s,i){var o=as(t,Z3),l=as(t,yb),c=[].concat(V8(o),V8(l)),u=as(t,bb),d="".concat(s,"Id"),f=s[0],h=n;if(c.length&&(h=c.reduce(function(g,x){if(x.props[d]===r&&Ci(x.props,"extendDomain")&&Se(x.props[f])){var y=x.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,x){if(x.props[d]===r&&Ci(x.props,"extendDomain")&&Se(x.props[p])&&Se(x.props[m])){var y=x.props[p],v=x.props[m];return[Math.min(g[0],y,v),Math.max(g[1],y,v)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,x){return Se(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},h)),h},nz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),m=n?n+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var x=this._events[g],y=arguments.length,v,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,m),!0}for(b=1,v=new Array(y-1);b<y;b++)v[b-1]=arguments[b];x.fn.apply(x.context,v)}else{var j=x.length,w;for(b=0;b<j;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!v)for(w=1,v=new Array(y-1);w<y;w++)v[w-1]=arguments[w];x[b].fn.apply(x[b].context,v)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,x=[],y=m.length;g<y;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&x.push(m[g]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(nz);var n8e=nz.exports;const r8e=jt(n8e);var k2=new r8e,_2="recharts.syncMouseEvents";function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function s8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i8e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rz(r.key),r)}}function a8e(e,t,n){return t&&i8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T2(e,t,n){return t=rz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rz(e){var t=o8e(e,"string");return Dp(t)=="symbol"?t:t+""}function o8e(e,t){if(Dp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var l8e=function(){function e(){s8e(this,e),T2(this,"activeIndex",0),T2(this,"coordinateList",[]),T2(this,"layout","horizontal")}return a8e(e,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,i=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function c8e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],s=e==null?void 0:e[1];if(r&&s&&Se(r)&&Se(s))return!0}return!1}function u8e(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function sz(e){var t=e.cx,n=e.cy,r=e.radius,s=e.startAngle,i=e.endAngle,o=It(t,n,r,s),l=It(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:s,endAngle:i}}function d8e(e,t,n){var r,s,i,o;if(e==="horizontal")r=t.x,i=r,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=It(l,c,u,f),p=It(l,c,d,f);r=h.x,s=h.y,i=p.x,o=p.y}else return sz(t);return[{x:r,y:s},{x:i,y:o}]}function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function z8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function kg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z8(Object(n),!0).forEach(function(r){f8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f8e(e,t,n){return t=h8e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h8e(e){var t=p8e(e,"string");return Rp(t)=="symbol"?t:t+""}function p8e(e,t){if(Rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m8e(e){var t,n,r=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var m,g=Qx;if(h==="ScatterChart")m=o,g=MCe;else if(h==="BarChart")m=u8e(f,o,c,d),g=q3;else if(f==="radial"){var x=sz(o),y=x.cx,v=x.cy,b=x.radius,j=x.startAngle,w=x.endAngle;m={cx:y,cy:v,startAngle:j,endAngle:w,innerRadius:b,outerRadius:b},g=eV}else m={points:d8e(f,o,c)},g=Qx;var S=kg(kg(kg(kg({stroke:"#ccc",pointerEvents:"none"},c),m),Ue(p,!1)),{},{payload:l,payloadIndex:u,className:nt("recharts-tooltip-cursor",p.className)});return N.isValidElement(p)?N.cloneElement(p,S):N.createElement(g,S)}var g8e=["item"],x8e=["children","className","width","height","style","compact","title","desc"];function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qc.apply(this,arguments)}function U8(e,t){return b8e(e)||v8e(e,t)||az(e,t)||y8e()}function y8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v8e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function b8e(e){if(Array.isArray(e))return e}function H8(e,t){if(e==null)return{};var n=w8e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function w8e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function j8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N8e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oz(r.key),r)}}function S8e(e,t,n){return t&&N8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P8e(e,t,n){return t=wy(t),A8e(e,iz()?Reflect.construct(t,n||[],wy(e).constructor):t.apply(e,n))}function A8e(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C8e(e)}function C8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iz=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wy(e)}function O8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gS(e,t)}function gS(e,t){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},gS(e,t)}function xd(e){return T8e(e)||_8e(e)||az(e)||k8e()}function k8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function az(e,t){if(e){if(typeof e=="string")return xS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xS(e,t)}}function _8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T8e(e){if(Array.isArray(e))return xS(e)}function xS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qe(e,t,n){return t=oz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oz(e){var t=E8e(e,"string");return gd(t)=="symbol"?t:t+""}function E8e(e,t){if(gd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M8e={xAxis:["bottom","top"],yAxis:["left","right"]},D8e={width:"100%",height:"100%"},lz={x:0,y:0};function _g(e){return e}var R8e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},I8e=function(t,n,r,s){var i=n.find(function(d){return d&&d.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return pe(pe(pe({},s),It(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return pe(pe(pe({},s),It(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return lz},wb=function(t,n){var r=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(xd(l),xd(u)):l},[]);return o.length>0?o:t&&t.length&&Se(s)&&Se(i)?t.slice(s,i+1):[]};function cz(e){return e==="number"?[0,"auto"]:void 0}var yS=function(t,n,r,s){var i=t.graphicalItems,o=t.tooltipAxis,l=wb(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=vx(p,o.dataKey,s)}else h=f&&f[r]||l[r];return h?[].concat(xd(c),[GB(u,h)]):c},[])},q8=function(t,n,r,s){var i=s||{x:t.chartX,y:t.chartY},o=R8e(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Z3e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=yS(t,n,d,f),p=I8e(r,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},$8e=function(t,n){var r=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=zB(d,i);return r.reduce(function(m,g){var x,y=g.type.defaultProps!==void 0?pe(pe({},g.type.defaultProps),g.props):g.props,v=y.type,b=y.dataKey,j=y.allowDataOverflow,w=y.allowDuplicatedCategory,S=y.scale,P=y.ticks,A=y.includeHidden,C=y[o];if(m[C])return m;var T=wb(t.data,{graphicalItems:s.filter(function(G){var H,J=o in G.props?G.props[o]:(H=G.type.defaultProps)===null||H===void 0?void 0:H[o];return J===C}),dataStartIndex:c,dataEndIndex:u}),k=T.length,O,I,M;c8e(y.domain,j,v)&&(O=TN(y.domain,null,j),p&&(v==="number"||S!=="auto")&&(M=uh(T,b,"category")));var E=cz(v);if(!O||O.length===0){var _,L=(_=y.domain)!==null&&_!==void 0?_:E;if(b){if(O=uh(T,b,v),v==="category"&&p){var R=zme(O);w&&R?(I=O,O=ly(0,k)):w||(O=xE(L,O,g).reduce(function(G,H){return G.indexOf(H)>=0?G:[].concat(xd(G),[H])},[]))}else if(v==="category")w?O=O.filter(function(G){return G!==""&&!Ze(G)}):O=xE(L,O,g).reduce(function(G,H){return G.indexOf(H)>=0||H===""||Ze(H)?G:[].concat(xd(G),[H])},[]);else if(v==="number"){var F=s6e(T,s.filter(function(G){var H,J,ce=o in G.props?G.props[o]:(H=G.type.defaultProps)===null||H===void 0?void 0:H[o],fe="hide"in G.props?G.props.hide:(J=G.type.defaultProps)===null||J===void 0?void 0:J.hide;return ce===C&&(A||!fe)}),b,i,d);F&&(O=F)}p&&(v==="number"||S!=="auto")&&(M=uh(T,b,"category"))}else p?O=ly(0,k):l&&l[C]&&l[C].hasStack&&v==="number"?O=h==="expand"?[0,1]:KB(l[C].stackGroups,c,u):O=VB(T,s.filter(function(G){var H=o in G.props?G.props[o]:G.type.defaultProps[o],J="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return H===C&&(A||!J)}),v,d,!0);if(v==="number")O=mS(f,O,C,i,P),L&&(O=TN(L,O,j));else if(v==="category"&&L){var W=L,q=O.every(function(G){return W.indexOf(G)>=0});q&&(O=W)}}return pe(pe({},m),{},qe({},C,pe(pe({},y),{},{axisType:i,domain:O,categoricalDomain:M,duplicateDomain:I,originalDomain:(x=y.domain)!==null&&x!==void 0?x:E,isCategorical:p,layout:d})))},{})},L8e=function(t,n){var r=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,h=wb(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=h.length,m=zB(d,i),g=-1;return r.reduce(function(x,y){var v=y.type.defaultProps!==void 0?pe(pe({},y.type.defaultProps),y.props):y.props,b=v[o],j=cz("number");if(!x[b]){g++;var w;return m?w=ly(0,p):l&&l[b]&&l[b].hasStack?(w=KB(l[b].stackGroups,c,u),w=mS(f,w,b,i)):(w=TN(j,VB(h,r.filter(function(S){var P,A,C=o in S.props?S.props[o]:(P=S.type.defaultProps)===null||P===void 0?void 0:P[o],T="hide"in S.props?S.props.hide:(A=S.type.defaultProps)===null||A===void 0?void 0:A.hide;return C===b&&!T}),"number",d),s.defaultProps.allowDataOverflow),w=mS(f,w,b,i)),pe(pe({},x),{},qe({},b,pe(pe({axisType:i},s.defaultProps),{},{hide:!0,orientation:is(M8e,"".concat(i,".").concat(g%2),null),domain:w,originalDomain:j,isCategorical:m,layout:d})))}return x},{})},F8e=function(t,n){var r=n.axisType,s=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=as(d,i),p={};return h&&h.length?p=$8e(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=L8e(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},B8e=function(t){var n=Ga(t),r=ia(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:v3(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Gx(n,r)}},K8=function(t){var n=t.children,r=t.defaultShowTooltip,s=Yr(n,id),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},V8e=function(t){return!t||!t.length?!1:t.some(function(n){var r=ua(n&&n.type);return r&&r.indexOf("Bar")>=0})},G8=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},z8e=function(t,n){var r=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=Yr(f,id),m=Yr(f,So),g=Object.keys(c).reduce(function(w,S){var P=c[S],A=P.orientation;return!P.mirror&&!P.hide?pe(pe({},w),{},qe({},A,w[A]+P.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(w,S){var P=o[S],A=P.orientation;return!P.mirror&&!P.hide?pe(pe({},w),{},qe({},A,is(w,"".concat(A))+P.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=pe(pe({},x),g),v=y.bottom;p&&(y.bottom+=p.props.height||id.defaultProps.height),m&&n&&(y=n6e(y,s,r,n));var b=u-y.left-y.right,j=d-y.top-y.bottom;return pe(pe({brushBottom:v},y),{},{width:Math.max(b,0),height:Math.max(j,0)})},U8e=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},n6=function(t){var n=t.chartName,r=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,v){var b=v.graphicalItems,j=v.stackGroups,w=v.offset,S=v.updateId,P=v.dataStartIndex,A=v.dataEndIndex,C=y.barSize,T=y.layout,k=y.barGap,O=y.barCategoryGap,I=y.maxBarSize,M=G8(T),E=M.numericAxisName,_=M.cateAxisName,L=V8e(b),R=[];return b.forEach(function(F,W){var q=wb(y.data,{graphicalItems:[F],dataStartIndex:P,dataEndIndex:A}),G=F.type.defaultProps!==void 0?pe(pe({},F.type.defaultProps),F.props):F.props,H=G.dataKey,J=G.maxBarSize,ce=G["".concat(E,"Id")],fe=G["".concat(_,"Id")],Z={},he=c.reduce(function(U,X){var V=v["".concat(X.axisType,"Map")],le=G["".concat(X.axisType,"Id")];V&&V[le]||X.axisType==="zAxis"||sc();var re=V[le];return pe(pe({},U),{},qe(qe({},X.axisType,re),"".concat(X.axisType,"Ticks"),ia(re)))},Z),$=he[_],oe=he["".concat(_,"Ticks")],D=j&&j[ce]&&j[ce].hasStack&&h6e(F,j[ce].stackGroups),Y=ua(F.type).indexOf("Bar")>=0,se=Gx($,oe),je=[],be=L&&e6e({barSize:C,stackGroups:j,totalSize:U8e(he,_)});if(Y){var _e,ne,Ne=Ze(J)?I:J,Ce=(_e=(ne=Gx($,oe,!0))!==null&&ne!==void 0?ne:Ne)!==null&&_e!==void 0?_e:0;je=t6e({barGap:k,barCategoryGap:O,bandSize:Ce!==se?Ce:se,sizeList:be[fe],maxBarSize:Ne}),Ce!==se&&(je=je.map(function(U){return pe(pe({},U),{},{position:pe(pe({},U.position),{},{offset:U.position.offset-Ce/2})})}))}var ze=F&&F.type&&F.type.getComposedData;ze&&R.push({props:pe(pe({},ze(pe(pe({},he),{},{displayedData:q,props:y,dataKey:H,item:F,bandSize:se,barPosition:je,offset:w,stackedData:D,layout:T,dataStartIndex:P,dataEndIndex:A}))),{},qe(qe(qe({key:F.key||"item-".concat(W)},E,he[E]),_,he[_]),"animationId",S)),childIndex:tge(F,y.children),item:F})}),R},p=function(y,v){var b=y.props,j=y.dataStartIndex,w=y.dataEndIndex,S=y.updateId;if(!u_({props:b}))return null;var P=b.children,A=b.layout,C=b.stackOffset,T=b.data,k=b.reverseStackOrder,O=G8(A),I=O.numericAxisName,M=O.cateAxisName,E=as(P,r),_=d6e(T,E,"".concat(I,"Id"),"".concat(M,"Id"),C,k),L=c.reduce(function(G,H){var J="".concat(H.axisType,"Map");return pe(pe({},G),{},qe({},J,F8e(b,pe(pe({},H),{},{graphicalItems:E,stackGroups:H.axisType===I&&_,dataStartIndex:j,dataEndIndex:w}))))},{}),R=z8e(pe(pe({},L),{},{props:b,graphicalItems:E}),v==null?void 0:v.legendBBox);Object.keys(L).forEach(function(G){L[G]=d(b,L[G],R,G.replace("Map",""),n)});var F=L["".concat(M,"Map")],W=B8e(F),q=h(b,pe(pe({},L),{},{dataStartIndex:j,dataEndIndex:w,updateId:S,graphicalItems:E,stackGroups:_,offset:R}));return pe(pe({formattedGraphicalItems:q,graphicalItems:E,offset:R,stackGroups:_},W),L)},m=function(x){function y(v){var b,j,w;return j8e(this,y),w=P8e(this,y,[v]),qe(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),qe(w,"accessibilityManager",new l8e),qe(w,"handleLegendBBoxUpdate",function(S){if(S){var P=w.state,A=P.dataStartIndex,C=P.dataEndIndex,T=P.updateId;w.setState(pe({legendBBox:S},p({props:w.props,dataStartIndex:A,dataEndIndex:C,updateId:T},pe(pe({},w.state),{},{legendBBox:S}))))}}),qe(w,"handleReceiveSyncEvent",function(S,P,A){if(w.props.syncId===S){if(A===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(P)}}),qe(w,"handleBrushChange",function(S){var P=S.startIndex,A=S.endIndex;if(P!==w.state.dataStartIndex||A!==w.state.dataEndIndex){var C=w.state.updateId;w.setState(function(){return pe({dataStartIndex:P,dataEndIndex:A},p({props:w.props,dataStartIndex:P,dataEndIndex:A,updateId:C},w.state))}),w.triggerSyncEvent({dataStartIndex:P,dataEndIndex:A})}}),qe(w,"handleMouseEnter",function(S){var P=w.getMouseInfo(S);if(P){var A=pe(pe({},P),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var C=w.props.onMouseEnter;Qe(C)&&C(A,S)}}),qe(w,"triggeredAfterMouseMove",function(S){var P=w.getMouseInfo(S),A=P?pe(pe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var C=w.props.onMouseMove;Qe(C)&&C(A,S)}),qe(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),qe(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),qe(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),qe(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var A=w.props.onMouseLeave;Qe(A)&&A(P,S)}),qe(w,"handleOuterEvent",function(S){var P=ege(S),A=is(w.props,"".concat(P));if(P&&Qe(A)){var C,T;/.*touch.*/i.test(P)?T=w.getMouseInfo(S.changedTouches[0]):T=w.getMouseInfo(S),A((C=T)!==null&&C!==void 0?C:{},S)}}),qe(w,"handleClick",function(S){var P=w.getMouseInfo(S);if(P){var A=pe(pe({},P),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var C=w.props.onClick;Qe(C)&&C(A,S)}}),qe(w,"handleMouseDown",function(S){var P=w.props.onMouseDown;if(Qe(P)){var A=w.getMouseInfo(S);P(A,S)}}),qe(w,"handleMouseUp",function(S){var P=w.props.onMouseUp;if(Qe(P)){var A=w.getMouseInfo(S);P(A,S)}}),qe(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),qe(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),qe(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),qe(w,"handleDoubleClick",function(S){var P=w.props.onDoubleClick;if(Qe(P)){var A=w.getMouseInfo(S);P(A,S)}}),qe(w,"handleContextMenu",function(S){var P=w.props.onContextMenu;if(Qe(P)){var A=w.getMouseInfo(S);P(A,S)}}),qe(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&k2.emit(_2,w.props.syncId,S,w.eventEmitterSymbol)}),qe(w,"applySyncEvent",function(S){var P=w.props,A=P.layout,C=P.syncMethod,T=w.state.updateId,k=S.dataStartIndex,O=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(pe({dataStartIndex:k,dataEndIndex:O},p({props:w.props,dataStartIndex:k,dataEndIndex:O,updateId:T},w.state)));else if(S.activeTooltipIndex!==void 0){var I=S.chartX,M=S.chartY,E=S.activeTooltipIndex,_=w.state,L=_.offset,R=_.tooltipTicks;if(!L)return;if(typeof C=="function")E=C(R,S);else if(C==="value"){E=-1;for(var F=0;F<R.length;F++)if(R[F].value===S.activeLabel){E=F;break}}var W=pe(pe({},L),{},{x:L.left,y:L.top}),q=Math.min(I,W.x+W.width),G=Math.min(M,W.y+W.height),H=R[E]&&R[E].value,J=yS(w.state,w.props.data,E),ce=R[E]?{x:A==="horizontal"?R[E].coordinate:q,y:A==="horizontal"?G:R[E].coordinate}:lz;w.setState(pe(pe({},S),{},{activeLabel:H,activeCoordinate:ce,activePayload:J,activeTooltipIndex:E}))}else w.setState(S)}),qe(w,"renderCursor",function(S){var P,A=w.state,C=A.isTooltipActive,T=A.activeCoordinate,k=A.activePayload,O=A.offset,I=A.activeTooltipIndex,M=A.tooltipAxisBandSize,E=w.getTooltipEventType(),_=(P=S.props.active)!==null&&P!==void 0?P:C,L=w.props.layout,R=S.key||"_recharts-cursor";return B.createElement(m8e,{key:R,activeCoordinate:T,activePayload:k,activeTooltipIndex:I,chartName:n,element:S,isActive:_,layout:L,offset:O,tooltipAxisBandSize:M,tooltipEventType:E})}),qe(w,"renderPolarAxis",function(S,P,A){var C=is(S,"type.axisType"),T=is(w.state,"".concat(C,"Map")),k=S.type.defaultProps,O=k!==void 0?pe(pe({},k),S.props):S.props,I=T&&T[O["".concat(C,"Id")]];return N.cloneElement(S,pe(pe({},I),{},{className:nt(C,I.className),key:S.key||"".concat(P,"-").concat(A),ticks:ia(I,!0)}))}),qe(w,"renderPolarGrid",function(S){var P=S.props,A=P.radialLines,C=P.polarAngles,T=P.polarRadius,k=w.state,O=k.radiusAxisMap,I=k.angleAxisMap,M=Ga(O),E=Ga(I),_=E.cx,L=E.cy,R=E.innerRadius,F=E.outerRadius;return N.cloneElement(S,{polarAngles:Array.isArray(C)?C:ia(E,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(T)?T:ia(M,!0).map(function(W){return W.coordinate}),cx:_,cy:L,innerRadius:R,outerRadius:F,key:S.key||"polar-grid",radialLines:A})}),qe(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,P=w.props,A=P.children,C=P.width,T=P.height,k=w.props.margin||{},O=C-(k.left||0)-(k.right||0),I=FB({children:A,formattedGraphicalItems:S,legendWidth:O,legendContent:u});if(!I)return null;var M=I.item,E=H8(I,g8e);return N.cloneElement(M,pe(pe({},E),{},{chartWidth:C,chartHeight:T,margin:k,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),qe(w,"renderTooltip",function(){var S,P=w.props,A=P.children,C=P.accessibilityLayer,T=Yr(A,js);if(!T)return null;var k=w.state,O=k.isTooltipActive,I=k.activeCoordinate,M=k.activePayload,E=k.activeLabel,_=k.offset,L=(S=T.props.active)!==null&&S!==void 0?S:O;return N.cloneElement(T,{viewBox:pe(pe({},_),{},{x:_.left,y:_.top}),active:L,label:E,payload:L?M:[],coordinate:I,accessibilityLayer:C})}),qe(w,"renderBrush",function(S){var P=w.props,A=P.margin,C=P.data,T=w.state,k=T.offset,O=T.dataStartIndex,I=T.dataEndIndex,M=T.updateId;return N.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Pg(w.handleBrushChange,S.props.onChange),data:C,x:Se(S.props.x)?S.props.x:k.left,y:Se(S.props.y)?S.props.y:k.top+k.height+k.brushBottom-(A.bottom||0),width:Se(S.props.width)?S.props.width:k.width,startIndex:O,endIndex:I,updateId:"brush-".concat(M)})}),qe(w,"renderReferenceElement",function(S,P,A){if(!S)return null;var C=w,T=C.clipPathId,k=w.state,O=k.xAxisMap,I=k.yAxisMap,M=k.offset,E=S.type.defaultProps||{},_=S.props,L=_.xAxisId,R=L===void 0?E.xAxisId:L,F=_.yAxisId,W=F===void 0?E.yAxisId:F;return N.cloneElement(S,{key:S.key||"".concat(P,"-").concat(A),xAxis:O[R],yAxis:I[W],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:T})}),qe(w,"renderActivePoints",function(S){var P=S.item,A=S.activePoint,C=S.basePoint,T=S.childIndex,k=S.isRange,O=[],I=P.props.key,M=P.item.type.defaultProps!==void 0?pe(pe({},P.item.type.defaultProps),P.item.props):P.item.props,E=M.activeDot,_=M.dataKey,L=pe(pe({index:T,dataKey:_,cx:A.x,cy:A.y,r:4,fill:W3(P.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ue(E,!1)),bx(E));return O.push(y.renderActiveDot(E,L,"".concat(I,"-activePoint-").concat(T))),C?O.push(y.renderActiveDot(E,pe(pe({},L),{},{cx:C.x,cy:C.y}),"".concat(I,"-basePoint-").concat(T))):k&&O.push(null),O}),qe(w,"renderGraphicChild",function(S,P,A){var C=w.filterFormatItem(S,P,A);if(!C)return null;var T=w.getTooltipEventType(),k=w.state,O=k.isTooltipActive,I=k.tooltipAxis,M=k.activeTooltipIndex,E=k.activeLabel,_=w.props.children,L=Yr(_,js),R=C.props,F=R.points,W=R.isRange,q=R.baseLine,G=C.item.type.defaultProps!==void 0?pe(pe({},C.item.type.defaultProps),C.item.props):C.item.props,H=G.activeDot,J=G.hide,ce=G.activeBar,fe=G.activeShape,Z=!!(!J&&O&&L&&(H||ce||fe)),he={};T!=="axis"&&L&&L.props.trigger==="click"?he={onClick:Pg(w.handleItemMouseEnter,S.props.onClick)}:T!=="axis"&&(he={onMouseLeave:Pg(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Pg(w.handleItemMouseEnter,S.props.onMouseEnter)});var $=N.cloneElement(S,pe(pe({},C.props),he));function oe(X){return typeof I.dataKey=="function"?I.dataKey(X.payload):null}if(Z)if(M>=0){var D,Y;if(I.dataKey&&!I.allowDuplicatedCategory){var se=typeof I.dataKey=="function"?oe:"payload.".concat(I.dataKey.toString());D=vx(F,se,E),Y=W&&q&&vx(q,se,E)}else D=F==null?void 0:F[M],Y=W&&q&&q[M];if(fe||ce){var je=S.props.activeIndex!==void 0?S.props.activeIndex:M;return[N.cloneElement(S,pe(pe(pe({},C.props),he),{},{activeIndex:je})),null,null]}if(!Ze(D))return[$].concat(xd(w.renderActivePoints({item:C,activePoint:D,basePoint:Y,childIndex:M,isRange:W})))}else{var be,_e=(be=w.getItemByXY(w.state.activeCoordinate))!==null&&be!==void 0?be:{graphicalItem:$},ne=_e.graphicalItem,Ne=ne.item,Ce=Ne===void 0?S:Ne,ze=ne.childIndex,U=pe(pe(pe({},C.props),he),{},{activeIndex:ze});return[N.cloneElement(Ce,U),null,null]}return W?[$,null,null]:[$,null]}),qe(w,"renderCustomized",function(S,P,A){return N.cloneElement(S,pe(pe({key:"recharts-customized-".concat(A)},w.props),w.state))}),qe(w,"renderMap",{CartesianGrid:{handler:_g,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:_g},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:_g},YAxis:{handler:_g},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=v.id)!==null&&b!==void 0?b:Dd("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=FF(w.triggeredAfterMouseMove,(j=v.throttleDelay)!==null&&j!==void 0?j:1e3/60),w.state={},w}return O8e(y,x),S8e(y,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,w=b.data,S=b.height,P=b.layout,A=Yr(j,js);if(A){var C=A.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,k=yS(this.state,w,C,T),O=this.state.tooltipTicks[C].coordinate,I=(this.state.offset.top+S)/2,M=P==="horizontal",E=M?{x:O,y:I}:{y:O,x:I},_=this.state.formattedGraphicalItems.find(function(R){var F=R.item;return F.type.name==="Scatter"});_&&(E=pe(pe({},E),_.props.points[C].tooltipPosition),k=_.props.points[C].tooltipPayload);var L={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:T,activePayload:k,activeCoordinate:E};this.setState(L),this.renderCursor(A),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){qj([Yr(b.children,js)],[Yr(this.props.children,js)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Yr(this.props.children,js);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,w=j.getBoundingClientRect(),S=CNe(w),P={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},A=w.width/j.offsetWidth||1,C=this.inRange(P.chartX,P.chartY,A);if(!C)return null;var T=this.state,k=T.xAxisMap,O=T.yAxisMap,I=this.getTooltipEventType(),M=q8(this.state,this.props.data,this.props.layout,C);if(I!=="axis"&&k&&O){var E=Ga(k).scale,_=Ga(O).scale,L=E&&E.invert?E.invert(P.chartX):null,R=_&&_.invert?_.invert(P.chartY):null;return pe(pe({},P),{},{xValue:L,yValue:R},M)}return M?pe(pe({},P),M):null}},{key:"inRange",value:function(b,j){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,P=b/w,A=j/w;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,T=P>=C.left&&P<=C.left+C.width&&A>=C.top&&A<=C.top+C.height;return T?{x:P,y:A}:null}var k=this.state,O=k.angleAxisMap,I=k.radiusAxisMap;if(O&&I){var M=Ga(O);return bE({x:P,y:A},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),w=Yr(b,js),S={};w&&j==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=bx(this.props,this.handleOuterEvent);return pe(pe({},P),S)}},{key:"addListener",value:function(){k2.on(_2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){k2.removeListener(_2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,w){for(var S=this.state.formattedGraphicalItems,P=0,A=S.length;P<A;P++){var C=S[P];if(C.item===b||C.props.key===b.key||j===ua(C.item.type)&&w===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,w=j.left,S=j.top,P=j.height,A=j.width;return B.createElement("defs",null,B.createElement("clipPath",{id:b},B.createElement("rect",{x:w,y:S,height:P,width:A})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,w){var S=U8(w,2),P=S[0],A=S[1];return pe(pe({},j),{},qe({},P,A.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,w){var S=U8(w,2),P=S[0],A=S[1];return pe(pe({},j),{},qe({},P,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,w=j.formattedGraphicalItems,S=j.activeItem;if(w&&w.length)for(var P=0,A=w.length;P<A;P++){var C=w[P],T=C.props,k=C.item,O=k.type.defaultProps!==void 0?pe(pe({},k.type.defaultProps),k.props):k.props,I=ua(k.type);if(I==="Bar"){var M=(T.data||[]).find(function(R){return hCe(b,R)});if(M)return{graphicalItem:C,payload:M}}else if(I==="RadialBar"){var E=(T.data||[]).find(function(R){return bE(b,R)});if(E)return{graphicalItem:C,payload:E}}else if(pb(C,S)||mb(C,S)||kp(C,S)){var _=tke({graphicalItem:C,activeTooltipItem:S,itemData:O.data}),L=O.activeIndex===void 0?_:O.activeIndex;return{graphicalItem:pe(pe({},C),{},{childIndex:L}),payload:kp(C,S)?O.data[_]:C.props.data[_]}}}return null}},{key:"render",value:function(){var b=this;if(!u_(this))return null;var j=this.props,w=j.children,S=j.className,P=j.width,A=j.height,C=j.style,T=j.compact,k=j.title,O=j.desc,I=H8(j,x8e),M=Ue(I,!1);if(T)return B.createElement(P8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(Gj,Qc({},M,{width:P,height:A,title:k,desc:O}),this.renderClipPath(),f_(w,this.renderMap)));if(this.props.accessibilityLayer){var E,_;M.tabIndex=(E=this.props.tabIndex)!==null&&E!==void 0?E:0,M.role=(_=this.props.role)!==null&&_!==void 0?_:"application",M.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},M.onFocus=function(){b.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return B.createElement(P8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",Qc({className:nt("recharts-wrapper",S),style:pe({position:"relative",cursor:"default",width:P,height:A},C)},L,{ref:function(F){b.container=F}}),B.createElement(Gj,Qc({},M,{width:P,height:A,title:k,desc:O,style:D8e}),this.renderClipPath(),f_(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);qe(m,"displayName",n),qe(m,"defaultProps",pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),qe(m,"getDerivedStateFromProps",function(x,y){var v=x.dataKey,b=x.data,j=x.children,w=x.width,S=x.height,P=x.layout,A=x.stackOffset,C=x.margin,T=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var O=K8(x);return pe(pe(pe({},O),{},{updateId:0},p(pe(pe({props:x},O),{},{updateId:0}),y)),{},{prevDataKey:v,prevData:b,prevWidth:w,prevHeight:S,prevLayout:P,prevStackOffset:A,prevMargin:C,prevChildren:j})}if(v!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||S!==y.prevHeight||P!==y.prevLayout||A!==y.prevStackOffset||!uu(C,y.prevMargin)){var I=K8(x),M={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},E=pe(pe({},q8(y,b,P)),{},{updateId:y.updateId+1}),_=pe(pe(pe({},I),M),E);return pe(pe(pe({},_),p(pe({props:x},_),y)),{},{prevDataKey:v,prevData:b,prevWidth:w,prevHeight:S,prevLayout:P,prevStackOffset:A,prevMargin:C,prevChildren:j})}if(!qj(j,y.prevChildren)){var L,R,F,W,q=Yr(j,id),G=q&&(L=(R=q.props)===null||R===void 0?void 0:R.startIndex)!==null&&L!==void 0?L:T,H=q&&(F=(W=q.props)===null||W===void 0?void 0:W.endIndex)!==null&&F!==void 0?F:k,J=G!==T||H!==k,ce=!Ze(b),fe=ce&&!J?y.updateId:y.updateId+1;return pe(pe({updateId:fe},p(pe(pe({props:x},y),{},{updateId:fe,dataStartIndex:G,dataEndIndex:H}),y)),{},{prevChildren:j,dataStartIndex:G,dataEndIndex:H})}return null}),qe(m,"renderActiveDot",function(x,y,v){var b;return N.isValidElement(x)?b=N.cloneElement(x,y):Qe(x)?b=x(y):b=B.createElement(cb,y),B.createElement(pt,{className:"recharts-active-dot",key:v},b)});var g=N.forwardRef(function(y,v){return B.createElement(m,Qc({},y,{ref:v}))});return g.displayName=m.displayName,g},H8e=n6({chartName:"LineChart",GraphicalChild:Ll,axisComponents:[{axisType:"xAxis",AxisComp:hd},{axisType:"yAxis",AxisComp:md}],formatAxisMap:OV}),W8e=n6({chartName:"BarChart",GraphicalChild:mc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hd},{axisType:"yAxis",AxisComp:md}],formatAxisMap:OV}),q8e=n6({chartName:"PieChart",GraphicalChild:Ma,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:hb},{axisType:"radiusAxis",AxisComp:db}],formatAxisMap:N6e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const gn={getDashboard:async()=>{var n,r,s,i,o,l,c,u,d,f,h,p,m,g,x,y;const t=((n=(await ee.get("/admin/dashboard")).data)==null?void 0:n.data)||{};return{totalClinics:((r=t.stats)==null?void 0:r.totalClinics)||0,activeClinics:((s=t.stats)==null?void 0:s.activeClinics)||0,inactiveClinics:((i=t.stats)==null?void 0:i.inactiveClinics)||0,totalUsers:((o=t.stats)==null?void 0:o.totalUsers)||0,totalPatients:((l=t.stats)==null?void 0:l.totalPatients)||0,activeUsers:((c=t.stats)==null?void 0:c.activeUsers)||0,todayAppointments:((u=t.stats)==null?void 0:u.todayAppointments)||0,monthlyRevenue:((d=t.stats)==null?void 0:d.monthlyRevenue)||0,lastMonthRevenue:((f=t.stats)==null?void 0:f.lastMonthRevenue)||0,newClinicsThisMonth:((h=t.stats)==null?void 0:h.newClinicsThisMonth)||0,newClinicsLastMonth:((p=t.stats)==null?void 0:p.newClinicsLastMonth)||0,newUsersThisMonth:((m=t.stats)==null?void 0:m.newUsersThisMonth)||0,newPatientsThisMonth:((g=t.stats)==null?void 0:g.newPatientsThisMonth)||0,failedUploads24h:((x=t.stats)==null?void 0:x.failedUploads24h)||0,draftPurchasesCount:((y=t.stats)==null?void 0:y.draftPurchasesCount)||0,monthlyGrowth:t.monthlyGrowth||[],recentClinics:t.recentClinics||[],infrastructure:t.infrastructure||null}},getClinics:async(e={})=>{var n,r,s,i,o,l,c;const t=await ee.get("/admin/clinics",{params:e});return{clinics:((n=t.data)==null?void 0:n.data)||[],total:((s=(r=t.data)==null?void 0:r.pagination)==null?void 0:s.total)||0,page:((o=(i=t.data)==null?void 0:i.pagination)==null?void 0:o.page)||1,totalPages:((c=(l=t.data)==null?void 0:l.pagination)==null?void 0:c.totalPages)||1}},getClinic:async e=>{var n;return((n=(await ee.get(`/admin/clinics/${e}`)).data)==null?void 0:n.data)||null},createClinic:async e=>(await ee.post("/admin/clinics",e)).data,updateClinic:async(e,t)=>(await ee.put(`/admin/clinics/${e}`,t)).data,deleteClinic:async e=>(await ee.delete(`/admin/clinics/${e}`)).data,activateClinic:async e=>(await ee.post(`/admin/clinics/${e}/activate`)).data,blockClinic:async e=>(await ee.post(`/admin/clinics/${e}/block`)).data,unblockClinic:async e=>(await ee.post(`/admin/clinics/${e}/unblock`)).data,getClinicAccessControls:async e=>{var n;return((n=(await ee.get(`/admin/clinics/${e}/access-controls`)).data)==null?void 0:n.data)||null},updateClinicAccessControls:async(e,t)=>(await ee.put(`/admin/clinics/${e}/access-controls`,t)).data,importClinicSetup:async(e,t,n={})=>(await ee.post(`/admin/clinics/${e}/setup-import`,t,{params:n,headers:{"Content-Type":"multipart/form-data"}})).data,downloadSetupTemplate:async()=>(await ee.get("/admin/clinic-setup/template",{responseType:"blob"})).data,addStaffToClinic:async(e,t)=>(await ee.post(`/admin/clinics/${e}/staff`,t)).data,removeStaffFromClinic:async(e,t)=>(await ee.delete(`/admin/clinics/${e}/staff/${t}`)).data,getUsers:async(e={})=>{var n,r,s,i,o,l,c;const t=await ee.get("/admin/users",{params:e});return{users:((n=t.data)==null?void 0:n.data)||[],total:((s=(r=t.data)==null?void 0:r.pagination)==null?void 0:s.total)||0,page:((o=(i=t.data)==null?void 0:i.pagination)==null?void 0:o.page)||1,totalPages:((c=(l=t.data)==null?void 0:l.pagination)==null?void 0:c.totalPages)||1}},toggleUserStatus:async e=>(await ee.post(`/admin/users/${e}/toggle-status`)).data,resetUserPassword:async(e,t)=>(await ee.post(`/admin/users/${e}/reset-password`,{newPassword:t})).data},Fi=({title:e,value:t,icon:n,color:r,trend:s,trendValue:i,subtitle:o})=>{const l={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600",orange:"bg-orange-50 text-orange-600",red:"bg-red-50 text-red-600",indigo:"bg-indigo-50 text-indigo-600"};return a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:e}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),o&&a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:o}),s&&a.jsxs("div",{className:`flex items-center mt-2 text-sm ${s==="up"?"text-green-600":"text-red-600"}`,children:[s==="up"?a.jsx(Kie,{className:"mr-1"}):a.jsx(qie,{className:"mr-1"}),a.jsx("span",{children:i})]})]}),a.jsx("div",{className:`p-3 rounded-lg ${l[r]}`,children:a.jsx(n,{className:"h-6 w-6"})})]})})},K8e=()=>{var d,f,h,p,m,g,x,y;const[e,t]=N.useState(null),[n,r]=N.useState(!0);N.useEffect(()=>{s()},[]);const s=async()=>{try{const v=await gn.getDashboard();t(v)}catch(v){console.error("Failed to fetch admin dashboard:",v)}finally{r(!1)}},i=v=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(v),o=["#10B981","#EF4444"];if(n)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})});const l=[{name:"Active",value:(e==null?void 0:e.activeClinics)||0},{name:"Inactive",value:(e==null?void 0:e.inactiveClinics)||0}],c=(e==null?void 0:e.lastMonthRevenue)>0?(((e==null?void 0:e.monthlyRevenue)-(e==null?void 0:e.lastMonthRevenue))/(e==null?void 0:e.lastMonthRevenue)*100).toFixed(1):0,u=(e==null?void 0:e.newClinicsLastMonth)>0?(((e==null?void 0:e.newClinicsThisMonth)-(e==null?void 0:e.newClinicsLastMonth))/(e==null?void 0:e.newClinicsLastMonth)*100).toFixed(1):(e==null?void 0:e.newClinicsThisMonth)>0?100:0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Super Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Platform overview and growth analytics"})]}),a.jsx("div",{className:"flex space-x-3",children:a.jsxs(Be,{to:"/admin/clinics",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center",children:[a.jsx($1,{className:"mr-2"})," Manage Clinics"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Fi,{title:"Total Clinics",value:(e==null?void 0:e.totalClinics)||0,icon:$1,color:"blue",trend:u>0?"up":u<0?"down":void 0,trendValue:`${Math.abs(u)}% vs last month`,subtitle:`${(e==null?void 0:e.newClinicsThisMonth)||0} new this month`}),a.jsx(Fi,{title:"Active Clinics",value:(e==null?void 0:e.activeClinics)||0,icon:Die,color:"green",subtitle:`${(e==null?void 0:e.inactiveClinics)||0} inactive`}),a.jsx(Fi,{title:"Total Users",value:(e==null?void 0:e.totalUsers)||0,icon:ox,color:"purple",subtitle:`${(e==null?void 0:e.newUsersThisMonth)||0} new this month`}),a.jsx(Fi,{title:"Total Patients",value:(e==null?void 0:e.totalPatients)||0,icon:yL,color:"orange",subtitle:`${(e==null?void 0:e.newPatientsThisMonth)||0} new this month`})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(Fi,{title:"Monthly Revenue",value:i((e==null?void 0:e.monthlyRevenue)||0),icon:pL,color:"indigo",trend:c>0?"up":c<0?"down":void 0,trendValue:`${Math.abs(c)}% vs last month`,subtitle:`Last month: ${i((e==null?void 0:e.lastMonthRevenue)||0)}`}),a.jsx(Fi,{title:"Today's Appointments",value:(e==null?void 0:e.todayAppointments)||0,icon:hL,color:"blue",subtitle:"Across all clinics"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Platform Growth"}),((d=e==null?void 0:e.monthlyGrowth)==null?void 0:d.length)>0?a.jsx(h2,{width:"100%",height:300,children:a.jsxs(H8e,{data:e.monthlyGrowth,children:[a.jsx(oS,{strokeDasharray:"3 3"}),a.jsx(hd,{dataKey:"month"}),a.jsx(md,{}),a.jsx(js,{}),a.jsx(So,{}),a.jsx(Ll,{type:"monotone",dataKey:"clinics",stroke:"#3B82F6",strokeWidth:2,name:"Clinics"}),a.jsx(Ll,{type:"monotone",dataKey:"users",stroke:"#10B981",strokeWidth:2,name:"Users"}),a.jsx(Ll,{type:"monotone",dataKey:"patients",stroke:"#F59E0B",strokeWidth:2,name:"Patients"})]})}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No growth data available"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Clinic Status"}),(e==null?void 0:e.activeClinics)>0||(e==null?void 0:e.inactiveClinics)>0?a.jsx(h2,{width:"100%",height:250,children:a.jsxs(q8e,{children:[a.jsx(Ma,{data:l,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",children:l.map((v,b)=>a.jsx(Qv,{fill:o[b]},`cell-${b}`))}),a.jsx(js,{}),a.jsx(So,{})]})}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No clinic data"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Revenue Trend"}),((f=e==null?void 0:e.monthlyGrowth)==null?void 0:f.length)>0?a.jsx(h2,{width:"100%",height:300,children:a.jsxs(W8e,{data:e.monthlyGrowth,children:[a.jsx(oS,{strokeDasharray:"3 3"}),a.jsx(hd,{dataKey:"month"}),a.jsx(md,{tickFormatter:v=>`${(v/1e3).toFixed(0)}k`}),a.jsx(js,{formatter:v=>i(v)}),a.jsx(mc,{dataKey:"revenue",fill:"#8B5CF6",name:"Revenue",radius:[4,4,0,0]})]})}):a.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"No revenue data available"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Fi,{title:"AWS Critical Alerts",value:((h=e==null?void 0:e.infrastructure)==null?void 0:h.awsCriticalAlerts)||0,icon:Rie,color:(((p=e==null?void 0:e.infrastructure)==null?void 0:p.awsCriticalAlerts)||0)>0?"red":"green",subtitle:"Based on failed ingestion signals"}),a.jsx(Fi,{title:"Instance Uptime",value:`${Math.floor((((m=e==null?void 0:e.infrastructure)==null?void 0:m.instanceUptimeSec)||0)/3600)}h`,icon:Lie,color:"blue",subtitle:((g=e==null?void 0:e.infrastructure)==null?void 0:g.platform)||"Runtime info"}),a.jsx(Fi,{title:"Memory Used",value:`${((x=e==null?void 0:e.infrastructure)==null?void 0:x.memoryUsedMb)||0} MB`,icon:Bie,color:"indigo",subtitle:`Draft purchases: ${(e==null?void 0:e.draftPurchasesCount)||0}`})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(Be,{to:"/admin/clinics",className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow flex items-center justify-between group",children:[a.jsxs("div",{children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg w-fit mb-3",children:a.jsx($1,{className:"text-blue-600 text-xl"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Manage Clinics"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Add, block, or manage clinics"})]}),a.jsx(I1,{className:"text-gray-400 group-hover:text-purple-600 text-xl transition-colors"})]}),a.jsxs(Be,{to:"/admin/users",className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow flex items-center justify-between group",children:[a.jsxs("div",{children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg w-fit mb-3",children:a.jsx(ox,{className:"text-green-600 text-xl"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Manage Users"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"View users across all clinics"})]}),a.jsx(I1,{className:"text-gray-400 group-hover:text-purple-600 text-xl transition-colors"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 rounded-xl shadow-sm p-6 text-white",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg w-fit mb-3",children:a.jsx(Hie,{className:"text-white text-xl"})}),a.jsx("h3",{className:"text-lg font-semibold",children:"Platform Health"}),a.jsxs("p",{className:"text-purple-100 text-sm mt-1",children:[(e==null?void 0:e.activeUsers)||0," active users"]}),a.jsxs("p",{className:"text-purple-100 text-sm",children:[(e==null?void 0:e.activeClinics)||0," active clinics"]})]})]}),((y=e==null?void 0:e.recentClinics)==null?void 0:y.length)>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recently Added Clinics"}),a.jsxs(Be,{to:"/admin/clinics",className:"text-purple-600 hover:text-purple-700 text-sm flex items-center",children:["View All ",a.jsx(I1,{className:"ml-1"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clinic Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Users"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patients"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.recentClinics.map(v=>{var b;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx(Be,{to:`/admin/clinics/${v.id}`,className:"text-purple-600 hover:text-purple-700 font-medium",children:v.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:((b=v.owner)==null?void 0:b.name)||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:v.usersCount||0}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:v.patientsCount||0}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:new Date(v.createdAt).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${v.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.isActive?"Active":"Blocked"})})]},v.id)})})]})})]})]})},G8e=()=>{const[e,t]=N.useState([]),[n,r]=N.useState(!0),[s,i]=N.useState(""),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[d,f]=N.useState(!1),[h,p]=N.useState(null),[m,g]=N.useState({clinicName:"",ownerName:"",ownerEmail:"",ownerPassword:"",phone:"",address:""}),[x,y]=N.useState({page:1,limit:10,total:0});N.useEffect(()=>{v()},[x.page,s]);const v=async()=>{try{r(!0);const k=await gn.getClinics({page:x.page,limit:x.limit,search:s});t(k.clinics),y(O=>({...O,total:k.total}))}catch(k){console.error("Failed to fetch clinics:",k)}finally{r(!1)}},b=async k=>{var O,I;k.preventDefault();try{await gn.createClinic(m),l(!1),C(),v()}catch(M){console.error("Failed to create clinic:",M),alert(((I=(O=M.response)==null?void 0:O.data)==null?void 0:I.message)||"Failed to create clinic")}},j=async k=>{var O,I;k.preventDefault();try{await gn.updateClinic(h.id,{name:m.clinicName,phone:m.phone,address:m.address}),u(!1),C(),v()}catch(M){console.error("Failed to update clinic:",M),alert(((I=(O=M.response)==null?void 0:O.data)==null?void 0:I.message)||"Failed to update clinic")}},w=async()=>{var k,O;try{await gn.blockClinic(h.id),f(!1),p(null),v()}catch(I){console.error("Failed to block clinic:",I),alert(((O=(k=I.response)==null?void 0:k.data)==null?void 0:O.message)||"Failed to block clinic")}},S=async k=>{var O,I;try{await gn.unblockClinic(k.id),v()}catch(M){console.error("Failed to unblock clinic:",M),alert(((I=(O=M.response)==null?void 0:O.data)==null?void 0:I.message)||"Failed to unblock clinic")}},P=k=>{p(k),g({clinicName:k.name,phone:k.phone||"",address:k.address||""}),u(!0)},A=k=>{p(k),f(!0)},C=()=>{g({clinicName:"",ownerName:"",ownerEmail:"",ownerPassword:"",phone:"",address:""}),p(null)},T=Math.ceil(x.total/x.limit);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Clinics"}),a.jsx("p",{className:"text-gray-600",children:"Manage all clinics on the platform"})]}),a.jsxs(Je,{onClick:()=>l(!0),children:[a.jsx(zie,{className:"mr-2"})," Add Clinic"]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(xL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search clinics...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:s,onChange:k=>{i(k.target.value),y(O=>({...O,page:1}))}})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clinic"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Limits"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500",children:"No clinics found"})}):e.map(k=>{var O,I,M,E,_,L,R;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"font-medium text-gray-900",children:k.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Created ",new Date(k.createdAt).toLocaleDateString()]})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-gray-900",children:((O=k.owner)==null?void 0:O.name)||"N/A"}),a.jsx("div",{className:"text-sm text-gray-500",children:((I=k.owner)==null?void 0:I.email)||"N/A"})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-gray-900",children:k.phone||"-"}),a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-[200px]",children:k.address||"-"})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[a.jsxs("div",{className:"text-gray-900",children:[((M=k._count)==null?void 0:M.users)||0," users"]}),a.jsxs("div",{className:"text-gray-500",children:[((E=k._count)==null?void 0:E.patients)||0," patients"]})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-xs",children:[a.jsxs("div",{className:"text-gray-900",children:["Staff: ",((_=k==null?void 0:k.accessControls)==null?void 0:_.staffLimit)??"No limit"]}),a.jsxs("div",{className:"text-gray-500",children:["Upload/month: ",((R=(L=k==null?void 0:k.accessControls)==null?void 0:L.invoiceUploadLimit)==null?void 0:R.monthly)??"No limit"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${k.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.isActive?"Active":"Blocked"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(Be,{to:`/admin/clinics/${k.id}`,className:"text-purple-600 hover:text-purple-900 p-1",title:"View Details",children:a.jsx(Fie,{})}),a.jsx("button",{onClick:()=>P(k),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit",children:a.jsx(mL,{})}),k.isActive?a.jsx("button",{onClick:()=>A(k),className:"text-red-600 hover:text-red-900 p-1",title:"Block Clinic",children:a.jsx(ix,{})}):a.jsx("button",{onClick:()=>S(k),className:"text-green-600 hover:text-green-900 p-1",title:"Unblock Clinic",children:a.jsx(ax,{})})]})})]},k.id)})})]})}),T>1&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(x.page-1)*x.limit+1," to"," ",Math.min(x.page*x.limit,x.total)," of"," ",x.total," clinics"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Je,{variant:"outline",size:"sm",disabled:x.page===1,onClick:()=>y(k=>({...k,page:k.page-1})),children:"Previous"}),a.jsx(Je,{variant:"outline",size:"sm",disabled:x.page===T,onClick:()=>y(k=>({...k,page:k.page+1})),children:"Next"})]})]})]})}),a.jsx(ft,{isOpen:o,onClose:()=>{l(!1),C()},title:"Create New Clinic",children:a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsx(dt,{label:"Clinic Name",value:m.clinicName,onChange:k=>g({...m,clinicName:k.target.value}),required:!0}),a.jsx(dt,{label:"Owner Name",value:m.ownerName,onChange:k=>g({...m,ownerName:k.target.value}),required:!0}),a.jsx(dt,{label:"Owner Email",type:"email",value:m.ownerEmail,onChange:k=>g({...m,ownerEmail:k.target.value}),required:!0}),a.jsx(dt,{label:"Owner Password",type:"password",value:m.ownerPassword,onChange:k=>g({...m,ownerPassword:k.target.value}),required:!0}),a.jsx(dt,{label:"Phone",value:m.phone,onChange:k=>g({...m,phone:k.target.value})}),a.jsx(dt,{label:"Address",value:m.address,onChange:k=>g({...m,address:k.target.value})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(Je,{type:"button",variant:"outline",onClick:()=>{l(!1),C()},children:"Cancel"}),a.jsx(Je,{type:"submit",children:"Create Clinic"})]})]})}),a.jsx(ft,{isOpen:c,onClose:()=>{u(!1),C()},title:"Edit Clinic",children:a.jsxs("form",{onSubmit:j,className:"space-y-4",children:[a.jsx(dt,{label:"Clinic Name",value:m.clinicName,onChange:k=>g({...m,clinicName:k.target.value}),required:!0}),a.jsx(dt,{label:"Phone",value:m.phone,onChange:k=>g({...m,phone:k.target.value})}),a.jsx(dt,{label:"Address",value:m.address,onChange:k=>g({...m,address:k.target.value})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(Je,{type:"button",variant:"outline",onClick:()=>{u(!1),C()},children:"Cancel"}),a.jsx(Je,{type:"submit",children:"Update Clinic"})]})]})}),a.jsx(ft,{isOpen:d,onClose:()=>{f(!1),p(null)},title:"Block Clinic",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to block ",a.jsx("strong",{children:h==null?void 0:h.name}),"? All users will be deactivated and unable to access the clinic until it is unblocked."]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(Je,{variant:"outline",onClick:()=>{f(!1),p(null)},children:"Cancel"}),a.jsx(Je,{variant:"danger",onClick:w,children:"Block Clinic"})]})]})})]})},Y8e=()=>{var ce,fe,Z,he,$,oe,D,Y,se,je,be,_e,ne,Ne,Ce,ze,U,X;const{id:e}=qp(),t=Qn(),[n,r]=N.useState(null),[s,i]=N.useState(!0),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[d,f]=N.useState(!1),[h,p]=N.useState(!1),[m,g]=N.useState(null),[x,y]=N.useState({name:"",phone:"",address:""}),[v,b]=N.useState({name:"",email:"",phone:"",role:"RECEPTIONIST",password:""}),[j,w]=N.useState({invoiceUploadLimit:{monthly:"",yearly:""},staffLimit:"",disabledPermissionsText:""}),[S,P]=N.useState(!1),[A,C]=N.useState(null),[T,k]=N.useState(!1),[O,I]=N.useState(null),M=[{value:"DOCTOR",label:"Doctor"},{value:"RECEPTIONIST",label:"Receptionist"},{value:"NURSE",label:"Nurse"},{value:"PHARMACIST",label:"Pharmacist"},{value:"LAB_TECHNICIAN",label:"Lab Technician"},{value:"ACCOUNTANT",label:"Accountant"}];N.useEffect(()=>{E()},[e]);const E=async()=>{var V,le;try{i(!0);const re=await gn.getClinic(e);r(re);const K=re.accessControls||{};w({invoiceUploadLimit:{monthly:((V=K==null?void 0:K.invoiceUploadLimit)==null?void 0:V.monthly)??"",yearly:((le=K==null?void 0:K.invoiceUploadLimit)==null?void 0:le.yearly)??""},staffLimit:(K==null?void 0:K.staffLimit)??"",disabledPermissionsText:Array.isArray(K==null?void 0:K.disabledPermissions)?K.disabledPermissions.join(`
`):""}),y({name:re.name,phone:re.phone||"",address:re.address||""})}catch(re){console.error("Failed to fetch clinic:",re),t("/admin/clinics")}finally{i(!1)}},_=async V=>{var le,re;V.preventDefault();try{await gn.updateClinic(e,x),l(!1),E()}catch(K){console.error("Failed to update clinic:",K),alert(((re=(le=K.response)==null?void 0:le.data)==null?void 0:re.message)||"Failed to update clinic")}},L=async V=>{var le,re;V.preventDefault();try{const K=await gn.addStaffToClinic(e,v);u(!1),b({name:"",email:"",phone:"",role:"RECEPTIONIST",password:""}),E(),K.tempPassword?alert(`Staff added successfully! Temporary password: ${K.tempPassword}`):alert("Staff added successfully!")}catch(K){console.error("Failed to add staff:",K),alert(((re=(le=K.response)==null?void 0:le.data)==null?void 0:re.message)||"Failed to add staff member")}},R=async()=>{var V,le;if(m)try{await gn.removeStaffFromClinic(e,m.id),f(!1),g(null),E()}catch(re){console.error("Failed to remove staff:",re),alert(((le=(V=re.response)==null?void 0:V.data)==null?void 0:le.message)||"Failed to remove staff member")}},F=async V=>{var le,re;try{await gn.toggleUserStatus(V.id),E()}catch(K){console.error("Failed to toggle staff status:",K),alert(((re=(le=K.response)==null?void 0:le.data)==null?void 0:re.message)||"Failed to update staff status")}},W=async()=>{var V,le;try{n.isActive?await gn.blockClinic(e):await gn.unblockClinic(e),p(!1),E()}catch(re){console.error("Failed to update clinic status:",re),alert(((le=(V=re.response)==null?void 0:V.data)==null?void 0:le.message)||"Failed to update clinic status")}},q=async V=>{var le,re;if(confirm(`Reset password for ${V.name}? A new password will be set.`))try{const K=await gn.resetUserPassword(V.id);alert(`Password reset successfully! ${K.tempPassword?`New password: ${K.tempPassword}`:""}`)}catch(K){console.error("Failed to reset password:",K),alert(((re=(le=K.response)==null?void 0:le.data)==null?void 0:re.message)||"Failed to reset password")}},G=async()=>{var V,le;try{P(!0);const re=j.disabledPermissionsText.split(/[\n,]+/).map(K=>K.trim()).filter(Boolean);await gn.updateClinicAccessControls(e,{invoiceUploadLimit:{monthly:j.invoiceUploadLimit.monthly===""?null:Number(j.invoiceUploadLimit.monthly),yearly:j.invoiceUploadLimit.yearly===""?null:Number(j.invoiceUploadLimit.yearly)},staffLimit:j.staffLimit===""?null:Number(j.staffLimit),disabledPermissions:re}),alert("Access controls updated"),E()}catch(re){console.error("Failed to save controls:",re),alert(((le=(V=re.response)==null?void 0:V.data)==null?void 0:le.message)||"Failed to update controls")}finally{P(!1)}},H=async(V=!1)=>{var le,re;if(!A){alert("Please select a CSV or XLSX file");return}try{k(!0);const K=new FormData;K.append("file",A);const de=await gn.importClinicSetup(e,K,{dryRun:V});I((de==null?void 0:de.data)||null),alert(V?"Dry run completed":"Clinic setup import completed"),E()}catch(K){console.error("Failed to import setup:",K),alert(((re=(le=K.response)==null?void 0:le.data)==null?void 0:re.message)||"Failed to import setup")}finally{k(!1)}},J=async()=>{var V,le;try{const re=await gn.downloadSetupTemplate(),K=window.URL.createObjectURL(new Blob([re],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),de=document.createElement("a");de.href=K,de.setAttribute("download","clinic_setup_template.xlsx"),document.body.appendChild(de),de.click(),de.remove(),window.URL.revokeObjectURL(K)}catch(re){console.error("Template download failed:",re),alert(((le=(V=re.response)==null?void 0:V.data)==null?void 0:le.message)||"Failed to download template")}};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):n?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>t("/admin/clinics"),className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(Iie,{className:"text-xl"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.name}),a.jsxs("p",{className:"text-gray-600",children:["Created on ",new Date(n.createdAt).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${n.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.isActive?"Active":"Blocked"}),a.jsx(Je,{variant:n.isActive?"danger":"primary",onClick:()=>p(!0),children:n.isActive?a.jsxs(a.Fragment,{children:[a.jsx(ix,{className:"mr-2"})," Block"]}):a.jsxs(a.Fragment,{children:[a.jsx(ax,{className:"mr-2"})," Unblock"]})}),a.jsxs(Je,{onClick:()=>l(!0),children:[a.jsx(mL,{className:"mr-2"})," Edit"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(_f,{title:"Total Users",value:((ce=n.users)==null?void 0:ce.length)||((fe=n._count)==null?void 0:fe.users)||0,icon:ox,color:"blue"}),a.jsx(_f,{title:"Total Patients",value:((Z=n.stats)==null?void 0:Z.totalPatients)||((he=n._count)==null?void 0:he.patients)||0,icon:ox,color:"green"}),a.jsx(_f,{title:"Total Appointments",value:(($=n.stats)==null?void 0:$.totalAppointments)||((oe=n._count)==null?void 0:oe.appointments)||0,icon:hL,color:"purple"}),a.jsx(_f,{title:"Total Revenue",value:`${(((D=n.stats)==null?void 0:D.totalRevenue)||0).toLocaleString()}`,icon:pL,color:"orange"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Clinic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Phone"}),a.jsx("p",{className:"mt-1 text-gray-900",children:n.phone||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),a.jsx("p",{className:"mt-1 text-gray-900",children:n.email||"-"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Address"}),a.jsx("p",{className:"mt-1 text-gray-900",children:[n.address,n.city,n.state,n.pincode].filter(Boolean).join(", ")||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"GST Number"}),a.jsx("p",{className:"mt-1 text-gray-900",children:n.gstNumber||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"License Number"}),a.jsx("p",{className:"mt-1 text-gray-900",children:n.licenseNumber||"-"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Uie,{className:"text-purple-600"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Clinic Access Controls"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(dt,{type:"number",min:"0",label:"Monthly Invoice Upload Limit",value:j.invoiceUploadLimit.monthly,onChange:V=>w(le=>({...le,invoiceUploadLimit:{...le.invoiceUploadLimit,monthly:V.target.value}}))}),a.jsx(dt,{type:"number",min:"0",label:"Yearly Invoice Upload Limit",value:j.invoiceUploadLimit.yearly,onChange:V=>w(le=>({...le,invoiceUploadLimit:{...le.invoiceUploadLimit,yearly:V.target.value}}))}),a.jsx(dt,{type:"number",min:"0",label:"Staff Limit",value:j.staffLimit,onChange:V=>w(le=>({...le,staffLimit:V.target.value}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disabled Permissions (one per line or comma separated)"}),a.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 p-3 text-sm",rows:4,placeholder:"Example: billing:create",value:j.disabledPermissionsText,onChange:V=>w(le=>({...le,disabledPermissionsText:V.target.value}))})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Je,{onClick:G,loading:S,children:"Save Controls"}),a.jsx("button",{type:"button",onClick:J,className:"inline-flex items-center px-4 py-2 border rounded-lg text-sm hover:bg-gray-50",children:"Download Setup Template"})]}),a.jsxs("div",{className:"border-t pt-5",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"One-click Clinic Setup Import"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Upload the template spreadsheet (XLSX) to create staff, pharmacy products, agents, labs, and lab tests."}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[a.jsx("input",{type:"file",accept:".csv,text/csv,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:V=>{var le;return C(((le=V.target.files)==null?void 0:le[0])||null)}}),a.jsx(Je,{variant:"outline",onClick:()=>H(!0),loading:T,children:"Dry Run"}),a.jsxs(Je,{onClick:()=>H(!1),loading:T,children:[a.jsx(Gie,{className:"mr-2"})," Import Setup"]})]}),(O==null?void 0:O.summary)&&a.jsxs("div",{className:"mt-4 text-sm bg-gray-50 border rounded-lg p-3 space-y-1",children:[a.jsxs("p",{children:["Rows: ",O.summary.rows]}),a.jsxs("p",{children:["Staff created/updated: ",((Y=O.summary.staff)==null?void 0:Y.created)||0,"/",((se=O.summary.staff)==null?void 0:se.updated)||0]}),a.jsxs("p",{children:["Pharmacy created/updated: ",((je=O.summary.pharmacy)==null?void 0:je.created)||0,"/",((be=O.summary.pharmacy)==null?void 0:be.updated)||0]}),a.jsxs("p",{children:["Labs created/updated: ",((_e=O.summary.labs)==null?void 0:_e.created)||0,"/",((ne=O.summary.labs)==null?void 0:ne.updated)||0]}),a.jsxs("p",{children:["Lab tests created/updated: ",((Ne=O.summary.labTests)==null?void 0:Ne.created)||0,"/",((Ce=O.summary.labTests)==null?void 0:Ce.updated)||0]}),a.jsxs("p",{children:["Agents created/updated: ",((ze=O.summary.agents)==null?void 0:ze.created)||0,"/",((U=O.summary.agents)==null?void 0:U.updated)||0]}),(O.summary.errors||[]).length>0&&a.jsxs("p",{className:"text-red-600",children:["Errors: ",(O.summary.errors||[]).slice(0,3).join(" | ")]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Staff Members"}),a.jsxs(Je,{onClick:()=>u(!0),children:[a.jsx(yL,{className:"mr-2"})," Add Staff"]})]}),((X=n.users)==null?void 0:X.length)>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.users.map(V=>{var le;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-100 flex items-center justify-center",children:a.jsx("span",{className:"text-purple-600 font-medium text-sm",children:((le=V.name)==null?void 0:le.charAt(0))||"?"})}),a.jsx("span",{className:"ml-3 font-medium text-gray-900",children:V.name})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:V.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:V.phone||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${V.role==="DOCTOR"?"bg-blue-100 text-blue-800":V.role==="ADMIN"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:V.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${V.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:V.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>q(V),className:"text-blue-600 hover:text-blue-800 p-1",title:"Reset Password",children:a.jsx(gL,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>F(V),className:`p-1 ${V.isActive?"text-orange-600 hover:text-orange-800":"text-green-600 hover:text-green-800"}`,title:V.isActive?"Deactivate":"Activate",children:V.isActive?a.jsx(ix,{className:"h-4 w-4"}):a.jsx(ax,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>{g(V),f(!0)},className:"text-red-600 hover:text-red-800 p-1",title:"Remove Staff",children:a.jsx(Wie,{className:"h-4 w-4"})})]})})]},V.id)})})]})}):a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No staff members found"})]}),a.jsx(ft,{isOpen:o,onClose:()=>l(!1),title:"Edit Clinic",children:a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a.jsx(dt,{label:"Clinic Name",value:x.name,onChange:V=>y({...x,name:V.target.value}),required:!0}),a.jsx(dt,{label:"Phone",value:x.phone,onChange:V=>y({...x,phone:V.target.value})}),a.jsx(dt,{label:"Address",value:x.address,onChange:V=>y({...x,address:V.target.value})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(Je,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),a.jsx(Je,{type:"submit",children:"Update Clinic"})]})]})}),a.jsx(ft,{isOpen:c,onClose:()=>u(!1),title:"Add Staff Member",children:a.jsxs("form",{onSubmit:L,className:"space-y-4",children:[a.jsx(dt,{label:"Full Name",value:v.name,onChange:V=>b({...v,name:V.target.value}),required:!0}),a.jsx(dt,{label:"Email",type:"email",value:v.email,onChange:V=>b({...v,email:V.target.value}),required:!0}),a.jsx(dt,{label:"Phone",value:v.phone,onChange:V=>b({...v,phone:V.target.value}),required:!0}),a.jsx(As,{label:"Role",options:M,value:v.role,onChange:V=>b({...v,role:V.target.value})}),a.jsx(dt,{label:"Password (leave empty for auto-generated)",type:"password",value:v.password,onChange:V=>b({...v,password:V.target.value}),placeholder:"Leave empty for default: password123"}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(Je,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),a.jsx(Je,{type:"submit",children:"Add Staff"})]})]})}),a.jsx(ft,{isOpen:d,onClose:()=>{f(!1),g(null)},title:"Remove Staff Member",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-600",children:["Are you sure you want to remove ",a.jsx("strong",{children:m==null?void 0:m.name})," from this clinic? They will be deactivated and unable to access the system."]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(Je,{variant:"outline",onClick:()=>{f(!1),g(null)},children:"Cancel"}),a.jsx(Je,{variant:"danger",onClick:R,children:"Remove Staff"})]})]})}),a.jsx(ft,{isOpen:h,onClose:()=>p(!1),title:n.isActive?"Block Clinic":"Unblock Clinic",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600",children:n.isActive?`Are you sure you want to block "${n.name}"? All users will be deactivated and unable to access the system.`:`Are you sure you want to unblock "${n.name}"? All users will be reactivated and able to access the system.`}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(Je,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),a.jsx(Je,{variant:n.isActive?"danger":"primary",onClick:W,children:n.isActive?"Block Clinic":"Unblock Clinic"})]})]})})]}):null},X8e=()=>{const[e,t]=N.useState([]),[n,r]=N.useState(!0),[s,i]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(!1),[d,f]=N.useState(null),[h,p]=N.useState(""),[m,g]=N.useState({page:1,limit:10,total:0});N.useEffect(()=>{x()},[m.page,s,o]);const x=async()=>{try{r(!0);const S=await gn.getUsers({page:m.page,limit:m.limit,search:s,role:o||void 0});t(S.users),g(P=>({...P,total:S.total}))}catch(S){console.error("Failed to fetch users:",S)}finally{r(!1)}},y=async S=>{var P,A;try{await gn.toggleUserStatus(S.id),x()}catch(C){console.error("Failed to toggle user status:",C),alert(((A=(P=C.response)==null?void 0:P.data)==null?void 0:A.message)||"Failed to update user status")}},v=async S=>{var P,A;S.preventDefault();try{await gn.resetUserPassword(d.id,h),u(!1),f(null),p(""),alert("Password reset successfully")}catch(C){console.error("Failed to reset password:",C),alert(((A=(P=C.response)==null?void 0:P.data)==null?void 0:A.message)||"Failed to reset password")}},b=S=>{f(S),p(""),u(!0)},j=[{value:"",label:"All Roles"},{value:"SUPER_ADMIN",label:"Super Admin"},{value:"ADMIN",label:"Admin"},{value:"DOCTOR",label:"Doctor"},{value:"NURSE",label:"Nurse"},{value:"RECEPTIONIST",label:"Receptionist"},{value:"PHARMACIST",label:"Pharmacist"},{value:"LAB_TECHNICIAN",label:"Lab Technician"},{value:"ACCOUNTANT",label:"Accountant"}],w=Math.ceil(m.total/m.limit);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Users"}),a.jsx("p",{className:"text-gray-600",children:"Manage all users across all clinics"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(xL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:s,onChange:S=>{i(S.target.value),g(P=>({...P,page:1}))}})]}),a.jsx("div",{className:"w-full md:w-48",children:a.jsx(As,{options:j,value:o,onChange:S=>{l(S.target.value),g(P=>({...P,page:1}))}})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clinic"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:"No users found"})}):e.map(S=>{var P;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:a.jsx("span",{className:"text-primary-600 font-medium",children:((P=S.name)==null?void 0:P.charAt(0))||"?"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900",children:S.name}),a.jsx("div",{className:"text-sm text-gray-500",children:S.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.clinic?a.jsx(Be,{to:`/admin/clinics/${S.clinic.id}`,className:"text-primary-600 hover:text-primary-700",children:S.clinic.name}):a.jsx("span",{className:"text-gray-400",children:"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S.role==="SUPER_ADMIN"?"bg-purple-100 text-purple-800":S.role==="ADMIN"?"bg-blue-100 text-blue-800":S.role==="DOCTOR"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>b(S),className:"text-blue-600 hover:text-blue-900 p-1",title:"Reset Password",children:a.jsx(gL,{})}),S.role!=="SUPER_ADMIN"&&a.jsx("button",{onClick:()=>y(S),className:`p-1 ${S.isActive?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,title:S.isActive?"Deactivate":"Activate",children:S.isActive?a.jsx(ix,{}):a.jsx(ax,{})})]})})]},S.id)})})]})}),w>1&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(m.page-1)*m.limit+1," to"," ",Math.min(m.page*m.limit,m.total)," of"," ",m.total," users"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Je,{variant:"outline",size:"sm",disabled:m.page===1,onClick:()=>g(S=>({...S,page:S.page-1})),children:"Previous"}),a.jsx(Je,{variant:"outline",size:"sm",disabled:m.page===w,onClick:()=>g(S=>({...S,page:S.page+1})),children:"Next"})]})]})]})}),a.jsx(ft,{isOpen:c,onClose:()=>{u(!1),f(null),p("")},title:"Reset Password",children:a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-600",children:["Reset password for ",a.jsx("strong",{children:d==null?void 0:d.name})," (",d==null?void 0:d.email,")"]}),a.jsx(dt,{label:"New Password",type:"password",value:h,onChange:S=>p(S.target.value),required:!0,minLength:6}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(Je,{type:"button",variant:"outline",onClick:()=>{u(!1),f(null),p("")},children:"Cancel"}),a.jsx(Je,{type:"submit",children:"Reset Password"})]})]})})]})};function bf(e,t,n){if(!n)return;let r=document.head.querySelector(`meta[${e}="${t}"]`);r||(r=document.createElement("meta"),r.setAttribute(e,t),document.head.appendChild(r)),r.setAttribute("content",n)}function Q8e(e){if(!e)return;let t=document.head.querySelector('link[rel="canonical"]');t||(t=document.createElement("link"),t.setAttribute("rel","canonical"),document.head.appendChild(t)),t.setAttribute("href",e)}function r6({title:e,description:t,path:n="/",schema:r=null}){return N.useEffect(()=>{e&&(document.title=e),bf("name","description",t),bf("property","og:title",e),bf("property","og:description",t),bf("property","og:type","website");const i=`${window.location.origin||"https://docsyerp.in"}${n}`;bf("property","og:url",i),Q8e(i);const o="docsy-seo-schema",l=document.getElementById(o);if(l&&l.remove(),r){const c=document.createElement("script");c.id=o,c.type="application/ld+json",c.textContent=JSON.stringify(r),document.head.appendChild(c)}return()=>{const c=document.getElementById(o);c&&c.remove()}},[e,t,n,r]),null}const J8e=[{icon:Ql,title:"Patient Management",description:"Complete patient records, medical history, and appointment tracking in one place."},{icon:jv,title:"Smart Prescriptions",description:"AI-powered prescription suggestions with drug interaction alerts and dosage guidance."},{icon:Cae,title:"Pharmacy Inventory",description:"Real-time stock tracking, expiry alerts, and automated reorder notifications."},{icon:fae,title:"Billing & GST",description:"Generate GST-compliant invoices, track payments, and manage financial reports."},{icon:Gl,title:"WhatsApp Integration",description:"Send appointment reminders, prescriptions, and bills directly via WhatsApp."},{icon:ou,title:"Detailed Reports",description:"Comprehensive analytics and insights to grow your practice efficiently."}],Z8e=[{icon:wa,text:"Save hours daily on administrative work"},{icon:wae,text:"HIPAA compliant data security and routine security audits"},{icon:Xl,text:"Startup-friendly - built for growing clinics"}],eMe=[{icon:mae,title:"One flow from appointment to billing",description:"Appointments, prescriptions, pharmacy, billing, and reports are connected so staff never re-enter the same data."},{icon:rae,title:"Built for fast OPD operations",description:"Faster front-desk workflow, smart templates, and quick updates during rush hours."},{icon:vae,title:"AI-powered daily assistance",description:"Smart suggestions for prescription, notes, and follow-up handling to reduce repetitive clinical work."}],tMe=[{path:"/features/patient-management-system-for-clinics",label:"Patient Management System for Clinics"},{path:"/features/pharmacy-management-software-tricity",label:"Pharmacy Management Software"},{path:"/features/online-report-dashboard-software-for-clinics-hospitals",label:"Online Report Dashboard Software"},{path:"/features/smart-prescription-software-for-doctors",label:"Smart Prescription Software for Doctors"}];function nMe(){const[e,t]=N.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(r6,{title:"Docsy ERP | Clinic Management Software for Doctors, Pharmacy, Billing & Reports",description:"Docsy ERP is a cloud clinic management software for doctors and healthcare teams. Manage patient records, smart prescriptions, pharmacy, billing, and live performance reports in one secure platform.",path:"/",schema:[{"@context":"https://schema.org","@type":"Organization",name:"Docsy ERP",url:"https://docsyerp.in"},{"@context":"https://schema.org","@type":"WebSite",name:"Docsy ERP",url:"https://docsyerp.in"}]}),a.jsx("nav",{className:"bg-white shadow-sm sticky top-0 z-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xl,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Docsy"})]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[a.jsx("a",{href:"#features",className:"text-gray-600 hover:text-blue-600 transition",children:"Features"}),a.jsx("a",{href:"#why-choose",className:"text-gray-600 hover:text-blue-600 transition",children:"Why Choose Us"}),a.jsx("a",{href:"#reports",className:"text-gray-600 hover:text-blue-600 transition",children:"Reports"}),a.jsx(Be,{to:"/login",className:"text-gray-600 hover:text-blue-600 transition",children:"Login"})]})]})})}),a.jsxs("section",{className:"relative bg-gradient-to-br from-blue-50 via-white to-indigo-50 pt-16 pb-32 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"inline-flex items-center bg-blue-100 text-blue-700 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[a.jsx(jae,{className:"mr-2"})," Built for startups & growing clinics"]}),a.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight mb-6",children:["Smart Healthcare Management for"," ",a.jsx("span",{className:"text-blue-600",children:"Modern Clinics"})]}),a.jsx("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"Streamline your practice with intelligent patient management, smart prescriptions, and seamless billing. Everything you need to run a successful clinic."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:a.jsx("button",{onClick:()=>t(!0),className:"inline-flex items-center justify-center border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-lg text-lg font-semibold hover:border-blue-600 hover:text-blue-600 transition",children:"Book a Demo"})}),a.jsx("div",{className:"mt-8 flex items-center gap-8",children:Z8e.map((n,r)=>a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(n.icon,{className:"text-green-500 mr-2"}),n.text]},r))})]}),a.jsx("div",{className:"hidden lg:block",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl blur-2xl opacity-20"}),a.jsx("img",{src:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=800",alt:"Doctor using tablet",className:"relative rounded-2xl shadow-2xl"})]})})]})})]}),a.jsx("section",{id:"features",className:"py-24 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything You Need to Run Your Clinic"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Powerful features designed specifically for Indian healthcare providers"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:J8e.map((n,r)=>a.jsxs("div",{className:"group p-8 rounded-2xl border border-gray-100 hover:border-blue-100 hover:shadow-xl hover:shadow-blue-600/5 transition-all duration-300",children:[a.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-xl flex items-center justify-center mb-6 group-hover:bg-blue-600 transition-colors",children:a.jsx(n.icon,{className:"text-2xl text-blue-600 group-hover:text-white transition-colors"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:n.title}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]},r))})]})}),a.jsx("section",{className:"py-14 bg-gray-50 border-y border-gray-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:"Specialized Solutions by Department"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Explore detailed feature pages designed around high-intent clinic management keywords."}),a.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:tMe.map(n=>a.jsxs(Be,{to:n.path,className:"group flex items-center justify-between bg-white rounded-xl border border-gray-200 px-5 py-4 hover:border-blue-200 hover:shadow-sm transition",children:[a.jsx("span",{className:"font-medium text-gray-800 group-hover:text-blue-700",children:n.label}),a.jsx(k5,{className:"text-gray-400 group-hover:text-blue-600"})]},n.path))})]})}),a.jsx("section",{className:"py-24 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"What Makes Docsy ERP Different"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Focused on connected clinic workflows, practical automation, and faster staff execution."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:eMe.map(n=>a.jsxs("div",{className:"rounded-2xl border border-gray-100 p-7 bg-white shadow-sm",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center mb-5",children:a.jsx(n.icon,{className:"text-blue-700 text-xl"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:n.title}),a.jsx("p",{className:"text-gray-600",children:n.description})]},n.title))})]})}),a.jsx("section",{className:"py-24 bg-gradient-to-br from-slate-50 to-blue-50 border-y border-blue-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-14",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Invoice Upload Review & Smart Ledger"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto",children:"Two powerful features that remove tedious manual work and keep your clinic accounts accurate."})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-7",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-11 h-11 rounded-lg bg-blue-100 flex items-center justify-center",children:a.jsx(pO,{className:"text-blue-700"})}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:"Invoice Upload & Review"})]}),a.jsx("p",{className:"text-gray-600 mb-5",children:"Upload supplier invoices, review extracted values, and confirm in minutes instead of entering line-by-line manually."}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[a.jsxs("div",{className:"rounded-lg bg-blue-50 border border-blue-100 p-3 text-center",children:[a.jsx(pO,{className:"mx-auto mb-2 text-blue-600"}),"Upload"]}),a.jsxs("div",{className:"rounded-lg bg-indigo-50 border border-indigo-100 p-3 text-center",children:[a.jsx(Nae,{className:"mx-auto mb-2 text-indigo-600"}),"Review"]}),a.jsxs("div",{className:"rounded-lg bg-emerald-50 border border-emerald-100 p-3 text-center",children:[a.jsx(Lo,{className:"mx-auto mb-2 text-emerald-600"}),"Finalize"]})]}),a.jsxs("ul",{className:"mt-6 space-y-3 text-gray-700",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Wn,{className:"text-green-500 mt-1"}),"Reduces data-entry effort for pharmacy purchase bills."]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Wn,{className:"text-green-500 mt-1"}),"Cuts human mistakes by adding a review step before final save."]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Wn,{className:"text-green-500 mt-1"}),"Saves staff time during high-volume billing days."]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-7",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-11 h-11 rounded-lg bg-amber-100 flex items-center justify-center",children:a.jsx(sae,{className:"text-amber-700"})}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:"Ledger That Stays Updated"})]}),a.jsx("p",{className:"text-gray-600 mb-5",children:"Automatically connected ledger entries help clinics track payable/receivable flow and make better cash decisions every day."}),a.jsxs("div",{className:"rounded-xl bg-slate-50 border border-slate-200 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-200",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Purchase Entry"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Posted to Ledger"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-200",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Sales Collection"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Auto Reconciled"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Daily Summary"}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Ready for Review"})]})]}),a.jsxs("ul",{className:"mt-6 space-y-3 text-gray-700",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Wn,{className:"text-green-500 mt-1"}),"Reduces bookkeeping confusion across counter, billing, and pharmacy."]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Wn,{className:"text-green-500 mt-1"}),"Makes audit and month-end reconciliation faster."]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Wn,{className:"text-green-500 mt-1"}),"Improves visibility of clinic financial health in real time."]})]})]})]})]})}),a.jsx("section",{id:"why-choose",className:"py-24 bg-gradient-to-br from-blue-600 to-indigo-700",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Why Doctors Choose Docsy ERP"}),a.jsx("p",{className:"text-blue-100 text-lg mb-8",children:"Built to improve consultation speed, reduce billing leakages, and increase repeat patient retention through better follow-up and service quality."}),a.jsx("ul",{className:"space-y-4",children:["Faster front desk and OPD execution with fewer manual errors","Higher patient trust with clear digital prescriptions and records","Follow-up tracking helps improve revisit conversion","Revenue visibility by doctor, service, and billing category","Cloud access for owners to monitor clinic performance anywhere","Dedicated onboarding and support for clinic teams"].map((n,r)=>a.jsxs("li",{className:"flex items-center text-white",children:[a.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:a.jsx(Wn,{className:"text-white text-xs"})}),n]},r))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"Startup"}),a.jsx("div",{className:"text-blue-100",children:"Friendly Pricing"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"HIPAA"}),a.jsx("div",{className:"text-blue-100",children:"Compliant"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"Custom"}),a.jsx("div",{className:"text-blue-100",children:"Dashboard & Reports"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"24/7"}),a.jsx("div",{className:"text-blue-100",children:"Support"})]})]})]})})}),a.jsx("section",{id:"reports",className:"py-24 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Beautiful, Actionable Reports"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Export-ready, presentation-grade reports that help you understand your clinic performance at a glance."})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[a.jsx("div",{children:a.jsxs("ul",{className:"space-y-4",children:[a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx(Wn,{className:"text-green-500 mt-1"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:"Attractive pre-built report templates"}),a.jsx("div",{className:"text-gray-600",children:"Charts, tables, and downloadable PDFs for stakeholders and auditors."})]})]}),a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx(Wn,{className:"text-green-500 mt-1"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:"Custom report builder"}),a.jsx("div",{className:"text-gray-600",children:"Create tailored reports with your clinic metrics without extra cost."})]})]}),a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx(Wn,{className:"text-green-500 mt-1"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:"Schedule & share"}),a.jsx("div",{className:"text-gray-600",children:"Automatically email or send reports via WhatsApp to your team."})]})]})]})}),a.jsx("div",{children:a.jsx("img",{src:"https://images.unsplash.com/photo-1559526324-593bc073d938?w=900",alt:"Reports preview",className:"rounded-2xl shadow-lg"})})]})]})}),a.jsx("section",{id:"customization",className:"py-24 bg-gradient-to-br from-blue-50 to-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How Docsy ERP Makes Daily Work Awesome"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From reception to doctor to pharmacy, every step is faster, clearer, and easier to manage."})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Custom Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Choose widgets, arrange KPIs, and create role-based screens for doctors, reception, and accountants."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Prescription & Billing"}),a.jsx("p",{className:"text-gray-600",children:"Generate prescriptions and invoices quickly, then share by WhatsApp or print in one click."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"WhatsApp Bot (Upcoming)"}),a.jsx("p",{className:"text-gray-600",children:"Operate key clinic actions through WhatsApp commands like reminders, summaries, and updates."})]})]})]})}),a.jsx("section",{id:"ai-mobile",className:"py-24 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How AI Makes Clinic Life Easier"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto mb-8",children:"Docsy ERP uses practical AI support for prescription drafting, consultation note structuring, and smart operational suggestions so doctors and staff can finish routine tasks faster with confidence."}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-left",children:[a.jsxs("div",{className:"border border-gray-100 rounded-xl p-5",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Smarter Documentation"}),a.jsx("p",{className:"text-gray-600",children:"AI helps standardize notes and avoid missing important consultation details."})]}),a.jsxs("div",{className:"border border-gray-100 rounded-xl p-5",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Prescription Support"}),a.jsx("p",{className:"text-gray-600",children:"Assistive suggestions reduce repetitive typing and improve clarity for patients."})]}),a.jsxs("div",{className:"border border-gray-100 rounded-xl p-5",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Operational Guidance"}),a.jsx("p",{className:"text-gray-600",children:"AI-backed signals highlight pending follow-ups and bottlenecks before they grow."})]})]})]})}),a.jsx("section",{id:"g-a-ai",className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"G&A AI"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-6",children:"G&A AI provides intelligent assistance for clinical notes, prescriptions, and business insights - multilingual support and contextual suggestions to speed up your workflow."}),a.jsx("p",{className:"text-sm text-gray-400",children:"Copyright (c) G&A AI"})]})}),a.jsx("section",{className:"py-24 bg-gradient-to-br from-gray-900 to-gray-800",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Practice?"}),a.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Join 500+ clinics already using Docsy to deliver better patient care."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:a.jsx("button",{onClick:()=>t(!0),className:"inline-flex items-center justify-center border-2 border-gray-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:border-white transition",children:"Schedule Demo"})})]})}),e&&a.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Book a Demo"}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Contact us to schedule your demo."})]}),a.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700 text-sm font-medium",children:"Close"})]}),a.jsxs("div",{className:"mt-5 space-y-3",children:[a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Email"}),a.jsx("a",{href:"mailto:docsy360@gmail.com",className:"text-blue-700 font-medium",children:"docsy360@gmail.com"})]}),a.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Phone"}),a.jsx("a",{href:"tel:8284073790",className:"block text-blue-700 font-medium",children:"8284073790"}),a.jsx("a",{href:"tel:9306845764",className:"block text-blue-700 font-medium",children:"9306845764"})]})]})]})}),a.jsx("footer",{className:"bg-gray-900 pt-16 pb-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Xl,{className:"h-8 w-8 text-blue-500"}),a.jsx("span",{className:"text-xl font-bold text-white",children:"Docsy"})]}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Smart healthcare management for modern clinics across India."}),a.jsx("p",{className:"text-gray-400 mb-2",children:"Get this application: 9306845764"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white transition",children:"Features"})}),a.jsx("li",{children:a.jsx(Be,{to:"/features/patient-management-system-for-clinics",className:"text-gray-400 hover:text-white transition",children:"Patient Management"})}),a.jsx("li",{children:a.jsx(Be,{to:"/features/pharmacy-management-software-tricity",className:"text-gray-400 hover:text-white transition",children:"Pharmacy Software"})}),a.jsx("li",{children:a.jsx(Be,{to:"/features/smart-prescription-software-for-doctors",className:"text-gray-400 hover:text-white transition",children:"Smart Prescription"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Be,{to:"/features/patient-management-system-for-clinics",className:"text-gray-400 hover:text-white transition",children:"Patient Management"})}),a.jsx("li",{children:a.jsx(Be,{to:"/features/pharmacy-management-software-tricity",className:"text-gray-400 hover:text-white transition",children:"Pharmacy Software"})}),a.jsx("li",{children:a.jsx(Be,{to:"/login",className:"text-gray-400 hover:text-white transition",children:"Login"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Legal"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Be,{to:"/privacy",className:"text-gray-400 hover:text-white transition",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx(Be,{to:"/terms",className:"text-gray-400 hover:text-white transition",children:"Terms of Service"})}),a.jsx("li",{children:a.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white transition",children:"Features"})}),a.jsx("li",{children:a.jsx("a",{href:"#reports",className:"text-gray-400 hover:text-white transition",children:"Reports"})})]})]})]}),a.jsx("div",{className:"border-t border-gray-800 pt-8 text-center",children:a.jsxs("p",{className:"text-gray-400",children:["(c) ",new Date().getFullYear()," Docsy. All rights reserved."]})})]})})]})}function rMe(){return a.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy  DocsyERP Patient App"}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Last updated: 2026-02-17"}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"1. Overview"}),a.jsx("p",{children:'The DocsyERP Patient App ("the App") allows patients to request appointments, view prescriptions and billing information. This Privacy Policy explains how the App and clinic backend collect, use, store, and share personal information.'})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"2. Data Controller / Contact"}),a.jsx("p",{children:"The data controller is the clinic running the DocsyERP service. For privacy questions, contact your clinic administrator or the email provided in the Play Store listing."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"3. Data We Collect"}),a.jsxs("ul",{className:"list-disc pl-5",children:[a.jsx("li",{children:"Account & authentication: phone number, email (used for OTP delivery), user name."}),a.jsx("li",{children:"Patient records: patient name, age, gender (if provided), patient ID."}),a.jsx("li",{children:"Appointments: requested dates/times, doctor ID, appointment type, symptoms, notes, status."}),a.jsx("li",{children:"Prescriptions & billing: prescription items, medicine names/dosage, bill amounts, payment status."}),a.jsx("li",{children:"Device & usage: device model, OS version, crash reports, basic analytics for app performance (if enabled)."})]})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"4. How We Use Data"}),a.jsx("p",{children:"We use data to provide core app functionality (booking, showing prescriptions and bills), send OTP codes and notifications, and improve the app through logs and crash reports."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"5. Data Sharing"}),a.jsx("p",{children:"Data is shared only with the clinic and authorized clinic staff. We do not sell personal data to third parties."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"6. Data Storage & Security"}),a.jsx("p",{children:"Patient data is stored on the clinic's backend servers. Clinics should secure servers appropriately (TLS in transit, encryption at rest, access controls). Access is role-based."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"7. User Rights"}),a.jsx("p",{children:"You can request access to, correction of, or deletion of your personal data by contacting your clinic."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"8. Children's Data"}),a.jsx("p",{children:"The app is not designed for children under 13. If the app collects data about minors, parental consent procedures must be followed by the clinic."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"9. International Transfers"}),a.jsx("p",{children:"Data may be stored and processed in the clinic's hosting region. Clinics operating across borders should ensure compliance with local laws."})]}),a.jsxs("section",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"10. Changes to this Policy"}),a.jsx("p",{children:"Clinics may update this notice. Users will be notified via app or clinic communication."})]})]})}function sMe(){return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(r6,{title:"Terms of Service | Docsy ERP",description:"Terms of Service for Docsy ERP, including account access, acceptable use, billing, data handling, and support policies.",path:"/terms"}),a.jsx("header",{className:"border-b border-gray-100",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Terms of Service"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Last updated: 2026-02-22"})]}),a.jsx(Be,{to:"/",className:"text-blue-600 hover:text-blue-700 text-sm",children:"Back to Home"})]})}),a.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-10",children:[a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"1. Overview"}),a.jsx("p",{className:"text-gray-700",children:"These Terms govern your use of Docsy ERP, including web and mobile experiences, features, and support services. By accessing the platform, you agree to these Terms on behalf of your clinic or organization."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"2. Account Access"}),a.jsx("p",{className:"text-gray-700",children:"Access is provided by clinic administrators. You are responsible for safeguarding credentials and for activity performed under your account. Notify your administrator if you suspect unauthorized use."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"3. Acceptable Use"}),a.jsxs("ul",{className:"list-disc pl-5 text-gray-700 space-y-1",children:[a.jsx("li",{children:"Use the platform only for lawful clinical and administrative purposes."}),a.jsx("li",{children:"Do not attempt to bypass access controls or interfere with service availability."}),a.jsx("li",{children:"Do not upload malicious files or share protected data outside authorized workflows."})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"4. Data and Privacy"}),a.jsx("p",{className:"text-gray-700",children:"Clinics remain responsible for patient data they upload and manage. We process data to deliver core functionality, audit trails, and system security. Refer to the Privacy Policy for details."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"5. Billing and Plans"}),a.jsx("p",{className:"text-gray-700",children:"Paid plans are billed as agreed with the clinic owner or administrator. Usage limits and add-ons may apply. Non-payment may result in access restrictions after notice."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"6. Service Availability"}),a.jsx("p",{className:"text-gray-700",children:"We strive for high availability but do not guarantee uninterrupted access. Planned maintenance and emergency fixes may cause temporary downtime."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"7. Support"}),a.jsx("p",{className:"text-gray-700",children:"Support is provided through designated clinic contacts. Response times may vary by plan."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"8. Termination"}),a.jsx("p",{className:"text-gray-700",children:"We may suspend or terminate access for violations of these Terms or for security reasons. Clinics may request deactivation through their account owner."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"9. Changes to Terms"}),a.jsx("p",{className:"text-gray-700",children:"We may update these Terms as the platform evolves. Continued use after changes constitutes acceptance."})]}),a.jsxs("section",{className:"rounded-xl border border-gray-200 bg-gray-50 p-5",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Questions?"}),a.jsx("p",{className:"text-gray-700",children:"Please contact your clinic administrator or reach out via the support contact shared by your clinic."})]})]})]})}function jb({path:e,title:t,subtitle:n,description:r,points:s=[]}){return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(r6,{title:`${t} | Docsy ERP`,description:r,path:e,schema:{"@context":"https://schema.org","@type":"WebPage",name:t,description:r,url:`https://docsyerp.in${e}`}}),a.jsx("header",{className:"border-b border-gray-100 bg-white",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[a.jsxs(Be,{to:"/",className:"flex items-center gap-2 text-gray-900 font-semibold",children:[a.jsx(Xl,{className:"text-blue-600"}),"Docsy ERP"]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx(Be,{to:"/login",className:"text-sm text-gray-600 hover:text-blue-600",children:"Login"})})]})}),a.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-14",children:[a.jsxs("section",{className:"mb-10",children:[a.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 leading-tight",children:t}),a.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-4xl",children:n})]}),a.jsxs("section",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-100 rounded-2xl p-7 mb-10",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"How It Helps Your Clinic"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:r})]}),a.jsx("section",{className:"grid md:grid-cols-2 gap-4",children:s.map(i=>a.jsx("div",{className:"border border-gray-100 rounded-xl p-5 bg-white",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Lo,{className:"text-green-500 mt-1"}),a.jsx("p",{className:"text-gray-700",children:i})]})},i))}),a.jsxs("section",{className:"mt-12 bg-gray-900 text-white rounded-2xl p-8 text-center",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Ready to See It in Action?"}),a.jsx("p",{className:"text-gray-300 mb-5",children:"Contact us to schedule a demo and explore how Docsy ERP fits your clinic."}),a.jsx(Be,{to:"/login",className:"inline-block bg-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-blue-700",children:"Login"})]})]})]})}function iMe(){return a.jsx(jb,{path:"/features/patient-management-system-for-clinics",title:"Patient Management System for Clinics",subtitle:"Smart & Secure Clinic Patient Management with Appointment, E-Prescription & Billing Integration",description:"Docsy ERP helps clinics manage complete patient records, appointment history, e-prescriptions, and billing in one secure cloud workflow. Teams spend less time on manual coordination and more time on patient care.",points:["Centralized patient profile with visit history, prescriptions, and billing timeline.","Faster OPD flow with appointment scheduling, reminders, and queue visibility.","Integrated e-prescription and billing reduces duplicate data entry.","Role-based access keeps patient data secure for doctors and staff.","Actionable reports to track follow-ups, returning patients, and clinic growth.","Works across desktop and mobile for front desk and doctors."]})}function aMe(){return a.jsx(jb,{path:"/features/pharmacy-management-software-tricity",title:"Pharmacy Management Software",subtitle:"Smart, cloud-based pharmacy software for Chandigarh, Mohali & Panchkula  manage billing, inventory, GST, and prescriptions with complete accuracy and speed.",description:"Built for fast-moving clinic pharmacies in Tricity, Docsy ERP simplifies medicine billing, stock control, GST-ready invoices, and prescription-linked dispensing. Reduce stockouts, billing errors, and manual reconciliation.",points:["Real-time inventory with expiry alerts and low-stock notifications.","Prescription-to-dispense workflow avoids medicine mismatch issues.","GST-compliant billing with accurate tax breakup and reports.","Purchase and supplier tracking for better margin control.","Daily sales and product performance dashboards for smarter decisions.","Suitable for single-clinic and multi-branch pharmacy operations."]})}function oMe(){return a.jsx(jb,{path:"/features/online-report-dashboard-software-for-clinics-hospitals",title:"Online Report Dashboard Software for Clinics & Hospitals",subtitle:"Docsy ERPs Online Report Dashboard Software helps healthcare providers track clinic performance in real-time. From revenue analytics and appointment reports to doctor-wise productivity and billing summaries  everything is available in one centralized, cloud-based dashboard.",description:"Docsy ERP converts operational data into clear dashboards so clinic owners and hospital teams can monitor growth, productivity, and financial performance in real time. No spreadsheet dependency for daily decisions.",points:["Track appointments, billing, pharmacy, and collections in one dashboard.","Doctor-wise productivity and contribution visibility for management.","Revenue trend analysis with daily, weekly, and monthly breakdown.","Filter reports by date, doctor, and department for faster reviews.","Cloud access enables owners to monitor performance from anywhere.","Export-ready reports for internal review and compliance workflows."]})}function lMe(){return a.jsx(jb,{path:"/features/smart-prescription-software-for-doctors",title:"Smart Prescription Software for Doctors",subtitle:"Docsy ERPs Smart Prescription Software helps doctors generate clear, digital, and error-free prescriptions within seconds. Designed to reduce handwriting errors and save consultation time, the system allows easy medicine selection, dosage automation, and secure prescription sharing with patients.",description:"Docsy ERP makes prescription writing faster and safer by guiding medicine entry, dosage consistency, and patient-friendly output. Doctors spend more time on diagnosis while staff handles fewer clarification calls.",points:["Digital prescriptions improve readability and reduce handwriting errors.","Quick medicine and dosage selection speeds up consultation workflow.","Standardized prescription templates for consistent clinical practice.","Instant sharing with patients through print, PDF, and digital channels.","Integrated with patient history for better follow-up continuity.","Works alongside billing and pharmacy modules for complete clinic flow."]})}function Ac({children:e,allowedRoles:t}){const{user:n,isLoading:r}=ri();if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!n)return a.jsx(qi,{to:"/login",replace:!0});if(t){const s=((n==null?void 0:n.role)||"").toString().toUpperCase();if(!t.map(o=>o.toString().toUpperCase()).includes(s))return a.jsx(qi,{to:"/dashboard",replace:!0})}return e}function cMe(){const{user:e}=ri();return a.jsxs(a.Fragment,{children:[e&&a.jsx(Yie,{}),a.jsxs(DW,{children:[a.jsx(We,{path:"/",element:e?a.jsx(qi,{to:"/dashboard"}):a.jsx(nMe,{})}),a.jsx(We,{path:"/privacy",element:a.jsx(rMe,{})}),a.jsx(We,{path:"/terms",element:a.jsx(sMe,{})}),a.jsx(We,{path:"/features/patient-management-system-for-clinics",element:a.jsx(iMe,{})}),a.jsx(We,{path:"/features/pharmacy-management-software-tricity",element:a.jsx(aMe,{})}),a.jsx(We,{path:"/features/online-report-dashboard-software-for-clinics-hospitals",element:a.jsx(oMe,{})}),a.jsx(We,{path:"/features/smart-prescription-software-for-doctors",element:a.jsx(lMe,{})}),a.jsxs(We,{element:a.jsx(Xie,{}),children:[a.jsx(We,{path:"/login",element:e?a.jsx(qi,{to:"/dashboard"}):a.jsx(Oae,{})}),a.jsx(We,{path:"/register",element:e?a.jsx(qi,{to:"/dashboard"}):a.jsx(kae,{})}),a.jsx(We,{path:"/forgot-password",element:a.jsx(_ae,{})})]}),a.jsxs(We,{element:a.jsx(Ac,{children:a.jsx(fO,{})}),children:[a.jsx(We,{path:"/dashboard",element:a.jsx(mde,{})}),a.jsx(We,{path:"/patients",element:a.jsx(gde,{})}),a.jsx(We,{path:"/patients/:id",element:a.jsx(yde,{})}),a.jsx(We,{path:"/appointments",element:a.jsx(Fk,{})}),a.jsx(We,{path:"/appointments/new",element:a.jsx(Fk,{})}),a.jsx(We,{path:"/appointments/calendar",element:a.jsx(Nde,{})}),a.jsx(We,{path:"/prescriptions",element:a.jsx(Sde,{})}),a.jsx(We,{path:"/prescriptions/:id",element:a.jsx(Pde,{})}),a.jsx(We,{path:"/prescriptions/new",element:a.jsx(zk,{})}),a.jsx(We,{path:"/prescriptions/new/:appointmentId",element:a.jsx(zk,{})}),a.jsx(We,{path:"/pharmacy",element:a.jsx(_de,{})}),a.jsx(We,{path:"/pharmacy/suppliers",element:a.jsx(Rde,{})}),a.jsx(We,{path:"/pharmacy/purchases",element:a.jsx($de,{})}),a.jsx(We,{path:"/pharmacy/upload",element:a.jsx(Tde,{})}),a.jsx(We,{path:"/pharmacy/ledger",element:a.jsx(qi,{to:"/ledger",replace:!0})}),a.jsx(We,{path:"/pharmacy/ledger/manual",element:a.jsx(qi,{to:"/ledger/manual",replace:!0})}),a.jsx(We,{path:"/ledger",element:a.jsx(Ede,{})}),a.jsx(We,{path:"/ledger/manual",element:a.jsx(Dde,{})}),a.jsx(We,{path:"/billing",element:a.jsx(Fde,{})}),a.jsx(We,{path:"/billing/new",element:a.jsx(qk,{})}),a.jsx(We,{path:"/billing/:id/edit",element:a.jsx(qk,{})}),a.jsx(We,{path:"/staff",element:a.jsx(Ude,{})}),a.jsx(We,{path:"/staff/attendance",element:a.jsx(Wde,{})}),a.jsx(We,{path:"/staff/leave",element:a.jsx(Kde,{})}),a.jsx(We,{path:"/reports",element:a.jsx(uMe,{})}),a.jsx(We,{path:"/labs-agents",element:a.jsx(Ac,{allowedRoles:["SUPER_ADMIN","DOCTOR","ACCOUNTANT","ADMIN"],children:a.jsx(t2,{})})}),a.jsx(We,{path:"/labs",element:a.jsx(Ac,{allowedRoles:["SUPER_ADMIN","DOCTOR","ACCOUNTANT","ADMIN"],children:a.jsx(t2,{})})}),a.jsx(We,{path:"/labs-agents/:labId/tests",element:a.jsx(Ac,{allowedRoles:["SUPER_ADMIN","DOCTOR","ACCOUNTANT","ADMIN"],children:a.jsx(Xde,{})})}),a.jsx(We,{path:"/agents",element:a.jsx(Ac,{allowedRoles:["SUPER_ADMIN","DOCTOR","ACCOUNTANT","ADMIN"],children:a.jsx(t2,{})})}),a.jsx(We,{path:"/settings",element:a.jsx(cfe,{})}),a.jsx(We,{path:"/profile",element:a.jsx(qi,{to:"/settings",replace:!0})})]}),a.jsxs(We,{element:a.jsx(Ac,{allowedRoles:["SUPER_ADMIN"],children:a.jsx(fO,{})}),children:[a.jsx(We,{path:"/admin",element:a.jsx(K8e,{})}),a.jsx(We,{path:"/admin/clinics",element:a.jsx(G8e,{})}),a.jsx(We,{path:"/admin/clinics/:id",element:a.jsx(Y8e,{})}),a.jsx(We,{path:"/admin/users",element:a.jsx(X8e,{})})]}),a.jsx(We,{path:"*",element:a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-300",children:"404"}),a.jsx("p",{className:"text-gray-600 mt-4",children:"Page not found"}),a.jsx("a",{href:"/",className:"btn-primary mt-6 inline-block",children:"Go Home"})]})})})]})]})}function uMe(){return tt("reports:opd")||tt("reports:sales")||tt("reports:pharmacy")||tt("reports:commissions")||tt("reports:view",["SUPER_ADMIN","DOCTOR","ACCOUNTANT"])?a.jsx(Yde,{}):a.jsx(qi,{to:"/dashboard",replace:!0})}const dMe=new yq({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});D2.createRoot(document.getElementById("root")).render(a.jsx(B.StrictMode,{children:a.jsx(vq,{client:dMe,children:a.jsx(UW,{children:a.jsxs(CY,{children:[a.jsx(cMe,{}),a.jsx(yK,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})}));
