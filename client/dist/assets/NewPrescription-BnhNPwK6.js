import{u as we,a as Se,J as Ie,j as e,I as Pe,r as h,b as Fe,ac as se,p as N,l as Te,q as De,a2 as j,ad as I,$ as Ae,a3 as g,a8 as qe,a9 as ae,K as te,ae as le,aa as re,a0 as ne,a5 as Ce,af as Ee,z,G as $e}from"./index-DmpGw-cD.js";import{u as Re}from"./useMutation-CgmD7JKz.js";import{a as ie}from"./appointmentService-DcPq9jDX.js";import{b as ke}from"./billingService-C5dX1OJV.js";import{p as P}from"./prescriptionService-xA6H5iXx.js";const Me=[{value:"1-0-0",label:"1-0-0 (Morning)"},{value:"0-1-0",label:"0-1-0 (Afternoon)"},{value:"0-0-1",label:"0-0-1 (Night)"},{value:"1-1-0",label:"1-1-0 (Morning, Afternoon)"},{value:"1-0-1",label:"1-0-1 (Morning, Night)"},{value:"0-1-1",label:"0-1-1 (Afternoon, Night)"},{value:"1-1-1",label:"1-1-1 (Thrice a day)"},{value:"1-1-1-1",label:"1-1-1-1 (Four times)"},{value:"sos",label:"SOS (As needed)"},{value:"stat",label:"STAT (Immediately)"}],Le=[{value:"3",label:"3 Days"},{value:"5",label:"5 Days"},{value:"7",label:"7 Days"},{value:"10",label:"10 Days"},{value:"14",label:"14 Days"},{value:"15",label:"15 Days"},{value:"21",label:"21 Days"},{value:"30",label:"30 Days"},{value:"60",label:"60 Days"},{value:"90",label:"90 Days"}],Oe=[{value:"before",label:"Before Food"},{value:"after",label:"After Food"},{value:"with",label:"With Food"},{value:"any",label:"Any Time"}];function Ye(){var _,Y,J;const F=we(),{user:r}=Se();if(!Ie("prescriptions:create",["DOCTOR","ADMIN","SUPER_ADMIN"]))return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Access denied"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"You do not have permission to create prescriptions."})]})})});const T=`${(r==null?void 0:r.role)||""} ${(r==null?void 0:r.effectiveRole)||""} ${(r==null?void 0:r.clinicRole)||""}`.toUpperCase().split(/[^A-Z0-9]+/i).map(s=>s.trim()).filter(Boolean),m=T.includes("SUPER_ADMIN")||T.includes("ADMIN"),oe=T.includes("DOCTOR"),K=Pe(),[p,D]=h.useState(""),[c,A]=h.useState(""),[ce,w]=h.useState(!1),[de,S]=h.useState(!1),B=h.useRef(null),[Ke,Be]=h.useState(!1),[Ue,ue]=h.useState(null),{register:n,handleSubmit:me,control:d,watch:q,setValue:He,formState:{errors:f}}=Fe({defaultValues:{doctor:null,patient:null,vitals:{bloodPressureSystolic:"",bloodPressureDiastolic:"",heartRate:"",temperature:"",weight:"",height:"",oxygenSaturation:""},diagnosis:"",notes:"",medicines:[],labTests:[]}}),{fields:U,append:H,remove:pe}=se({control:d,name:"medicines"}),{fields:Q,append:G,remove:xe}=se({control:d,name:"labTests"}),{data:C}=N({queryKey:["patients-list"],queryFn:()=>$e.getPatients({limit:100})}),be=((C==null?void 0:C.data)||[]).map(s=>({value:s.id,label:`${s.name} (${s.patientId||`P${String(s.id).padStart(5,"0")}`})`,patient:s})),{data:E}=N({queryKey:["prescription-doctors-list"],queryFn:()=>ie.getDoctors(),enabled:m}),he=((E==null?void 0:E.data)||[]).map(s=>({value:s.id,label:s.name})),y=q("doctor"),$=m?y==null?void 0:y.value:oe?r==null?void 0:r.id:void 0,ge=m?y==null?void 0:y.label:(r==null?void 0:r.name)||"You",R=()=>{var s;return(s=q("patient"))==null?void 0:s.value},{data:x}=N({queryKey:["patient-appointments",R(),$],queryFn:()=>ie.getAppointments({patientId:R(),status:"SCHEDULED",doctorId:$,limit:50}),enabled:!!R()&&(!!$||!m)}),V=((x==null?void 0:x.data)||[]).map(s=>({value:s.id,label:`${s.appointmentNo||""} ${s.date?`- ${new Date(s.date).toLocaleDateString()}`:""}`,appt:s})),{data:k}=N({queryKey:["medicines-search",p],queryFn:()=>P.searchMedicines(p,10),enabled:p.length>=2}),W=(k==null?void 0:k.data)||[],{data:M}=N({queryKey:["lab-tests-search",c],queryFn:()=>P.searchLabTests(c),enabled:c.length>=2}),L=(M==null?void 0:M.data)||[],O=Re({mutationFn:P.createPrescription,onSuccess:async s=>{z.success("Prescription saved successfully");const l=s.data||s;try{const t=B.current||{},i=[];let o=0,v="Consultation";if(t.appointmentId&&Array.isArray(x==null?void 0:x.data)){const a=(x.data||[]).find(b=>b.id===t.appointmentId);a&&(o=a.consultationFee||0,v=`Consultation (${a.appointmentNo||""})`)}if(i.push({description:v,quantity:1,unitPrice:o,type:"consultation"}),(t.medicines||[]).forEach(a=>{i.push({description:a.medicineName||a.name||a.medicine||"",quantity:a.quantity||1,unitPrice:a.price||a.unitPrice||0,type:"medicine",productId:a.productId||a.productId})}),(t.labTests||[]).forEach(a=>{i.push({description:a.testName||a.name||"",quantity:1,unitPrice:a.price||0,type:"lab",labId:a.labId||null})}),i.length>0){const a={patientId:l.patientId||t.patientId,type:"MIXED",items:i,notes:`Draft bill for prescription ${l.prescriptionNo||""}`,doctorId:t.doctorId||(r==null?void 0:r.id)};try{await ke.createBill(a);try{K.invalidateQueries({queryKey:["bills"]})}catch{}}catch(b){console.error("Failed creating draft bill:",b)}}}catch(t){console.error("Failed to create draft bill for prescription:",t)}try{const t=await P.getPrescriptionPdf(l.id),i=window.URL.createObjectURL(t),o=window.open(i,"_blank");o&&(o.onload=()=>{o.print()})}catch{console.log("PDF not available, navigating to prescriptions")}try{K.setQueriesData({queryKey:["prescriptions"]},t=>t&&(t&&typeof t=="object"&&Array.isArray(t.data)?{...t,data:[l,...t.data]}:Array.isArray(t)?[l,...t]:t))}catch(t){console.error("Failed to update prescriptions cache optimistically",t)}F("/prescriptions")},onError:s=>{var l,t;z.error(((t=(l=s.response)==null?void 0:l.data)==null?void 0:t.message)||"Failed to save prescription"),console.error("Failed to create prescription:",s)}}),ye=s=>{var t,i,o,v;if(m&&!((t=s.doctor)!=null&&t.value)){z.error("Please select doctor");return}const l={appointmentId:(i=s.appointment)==null?void 0:i.value,doctorId:m?(o=s.doctor)==null?void 0:o.value:void 0,patientId:(v=s.patient)==null?void 0:v.value,vitalsSnapshot:{bloodPressureSystolic:s.vitals.bloodPressureSystolic?parseInt(s.vitals.bloodPressureSystolic):null,bloodPressureDiastolic:s.vitals.bloodPressureDiastolic?parseInt(s.vitals.bloodPressureDiastolic):null,heartRate:s.vitals.heartRate?parseInt(s.vitals.heartRate):null,temperature:s.vitals.temperature?parseFloat(s.vitals.temperature):null,weight:s.vitals.weight?parseFloat(s.vitals.weight):null,height:s.vitals.height?parseFloat(s.vitals.height):null,oxygenSaturation:s.vitals.oxygenSaturation?parseInt(s.vitals.oxygenSaturation):null},diagnosis:s.diagnosis,clinicalNotes:s.notes,medicines:s.medicines.map(a=>{var b,X,Z,ee;return{productId:a.medicineId,medicineName:a.name,dosage:((b=a.dosage)==null?void 0:b.value)||a.dosage,duration:((X=a.duration)==null?void 0:X.value)||a.duration,timing:((Z=a.mealTiming)==null?void 0:Z.value)||a.mealTiming,frequency:((ee=a.dosage)==null?void 0:ee.value)||a.dosage,instructions:a.instructions,quantity:a.quantity?parseInt(a.quantity):1,isExternal:!!a.isExternal}}),labTests:s.labTests.map(a=>({testName:a.name,instructions:a.instructions,isExternal:!!a.isExternal,labId:a.labId||null}))};B.current=l,O.mutate(l)},je=s=>{H({medicineId:s.id,name:s.name,dosage:null,duration:null,mealTiming:null,instructions:"",quantity:"",isExternal:!1}),D(""),w(!1)},fe=s=>{H({medicineId:null,name:s,dosage:null,duration:null,mealTiming:null,instructions:"",quantity:1,isExternal:!0}),D(""),w(!1)},ve=s=>{G({testId:s.id||null,labId:s.labId||null,name:s.name,price:s.price||null,labName:s.labName||null,instructions:"",isExternal:(s.isCatalog,!1)}),A(""),S(!1)},Ne=s=>{G({testId:null,labId:null,name:s,price:null,labName:null,instructions:"",isExternal:!0}),A(""),S(!1)},u=(_=q("patient"))==null?void 0:_.patient;return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("button",{onClick:()=>F(-1),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:e.jsx(Te,{className:"text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"New Prescription"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Create a new prescription for a patient"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Doctor: ",e.jsx("strong",{className:"text-gray-900",children:ge||"Select doctor"})]})]})]}),e.jsxs("form",{onSubmit:me(ye),className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(De,{className:"text-blue-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patient Information"})]}),m&&e.jsx("div",{className:"mb-4",children:e.jsx(j,{label:"Select Doctor",name:"doctor",control:d,options:he,placeholder:"Search and select doctor...",rules:{required:"Doctor is required"},error:(Y=f.doctor)==null?void 0:Y.message,isSearchable:!0})}),e.jsx(j,{label:"Select Patient",name:"patient",control:d,options:be,placeholder:"Search and select patient...",rules:{required:"Patient is required"},error:(J=f.patient)==null?void 0:J.message,isSearchable:!0}),u&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Age:"}),e.jsx("span",{className:"ml-2 font-medium",children:u.age?`${u.age} yrs`:"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Gender:"}),e.jsx("span",{className:"ml-2 font-medium capitalize",children:u.gender||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Phone:"}),e.jsx("span",{className:"ml-2 font-medium",children:u.phone||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Blood Group:"}),e.jsx("span",{className:"ml-2 font-medium",children:u.bloodGroup||"-"})]})]}),u.allergies&&e.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("span",{className:"text-red-700 text-sm font-medium",children:"Allergies: "}),e.jsx("span",{className:"text-red-600 text-sm",children:u.allergies})]})]}),V.length>0&&e.jsx("div",{className:"mt-4",children:e.jsx(I,{name:"appointment",control:d,render:({field:s})=>e.jsx(j,{...s,label:"Select Appointment (optional)",options:V,placeholder:"Select appointment...",isClearable:!0,isSearchable:!0,onChange:l=>{s.onChange(l),ue(l)}})})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(Ae,{className:"text-red-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Vitals"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Blood Pressure"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{...n("vitals.bloodPressureSystolic"),type:"number",placeholder:"Sys",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-400",children:"/"}),e.jsx("input",{...n("vitals.bloodPressureDiastolic"),type:"number",placeholder:"Dia",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:"mmHg"})]})]}),e.jsx(g,{label:"Heart Rate",type:"number",placeholder:"72",...n("vitals.heartRate"),helperText:"bpm"}),e.jsx(g,{label:"Temperature",type:"number",step:"0.1",placeholder:"98.6",...n("vitals.temperature"),helperText:"°F"}),e.jsx(g,{label:"SpO2",type:"number",placeholder:"98",...n("vitals.oxygenSaturation"),helperText:"%"}),e.jsx(g,{label:"Weight",type:"number",step:"0.1",placeholder:"70",...n("vitals.weight"),helperText:"kg"}),e.jsx(g,{label:"Height",type:"number",placeholder:"170",...n("vitals.height"),helperText:"cm"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(qe,{className:"text-purple-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Diagnosis"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Diagnosis ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{...n("diagnosis",{required:"Diagnosis is required"}),rows:2,placeholder:"Enter diagnosis...",className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 resize-none ${f.diagnosis?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),f.diagnosis&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.diagnosis.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Additional Notes"}),e.jsx("textarea",{...n("notes"),rows:2,placeholder:"Any additional notes or advice...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ae,{className:"text-green-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Medicines"})]})}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:p,onChange:s=>{D(s.target.value),w(!0)},onFocus:()=>w(!0),placeholder:"Search medicines from pharmacy...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),ce&&p.length>=2&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:W.length===0?e.jsxs("div",{children:[e.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No medicines found"}),e.jsx("div",{className:"px-4 py-3 border-t border-gray-100",children:e.jsxs("button",{type:"button",onClick:()=>fe(p),className:"w-full text-left px-3 py-2 bg-yellow-50 text-yellow-900 rounded-md",children:['Add "',p,'" as external medicine']})})]}):W.map(s=>e.jsxs("button",{type:"button",onClick:()=>je(s),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0",children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.category&&`${s.category} • `,"Stock: ",s.stock||0," • ₹",s.price]})]},s.id))})]}),U.length>0?e.jsx("div",{className:"space-y-4",children:U.map((s,l)=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{children:e.jsx("p",{className:"font-medium text-gray-900",children:s.name})}),e.jsx("button",{type:"button",onClick:()=>pe(l),className:"p-1.5 text-red-500 hover:bg-red-50 rounded transition-colors",children:e.jsx(le,{size:14})})]}),e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsxs("label",{className:"inline-flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",...n(`medicines.${l}.isExternal`),className:"form-checkbox h-4 w-4 text-blue-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Patient will buy externally"})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[e.jsx(I,{name:`medicines.${l}.dosage`,control:d,render:({field:t})=>e.jsx(j,{...t,label:"Dosage",options:Me,placeholder:"Select...",menuPlacement:"auto"})}),e.jsx(I,{name:`medicines.${l}.duration`,control:d,render:({field:t})=>e.jsx(j,{...t,label:"Duration",options:Le,placeholder:"Select...",menuPlacement:"auto"})}),e.jsx(I,{name:`medicines.${l}.mealTiming`,control:d,render:({field:t})=>e.jsx(j,{...t,label:"Timing",options:Oe,placeholder:"Select...",menuPlacement:"auto"})}),e.jsx(g,{label:"Quantity",type:"number",placeholder:"10",...n(`medicines.${l}.quantity`)}),e.jsx(g,{label:"Instructions",placeholder:"Special instructions...",...n(`medicines.${l}.instructions`)})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ae,{className:"text-3xl text-gray-300 mx-auto mb-2"}),e.jsx("p",{children:"No medicines added. Search above to add medicines."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(re,{className:"text-orange-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lab Tests"})]})}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(te,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:c,onChange:s=>{A(s.target.value),S(!0)},onFocus:()=>S(!0),placeholder:"Search lab tests...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),de&&c.length>=2&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[L.length===0?e.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No lab tests found"}):L.map(s=>e.jsx("button",{type:"button",onClick:()=>ve(s),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),s.category&&e.jsx("p",{className:"text-sm text-gray-500",children:s.category}),s.labName&&e.jsxs("p",{className:"text-xs text-gray-400",children:["From: ",s.labName]})]}),s.price!=null&&e.jsxs("div",{className:"text-sm font-medium text-gray-800",children:[s.price," ",s.currency||"INR"]})]})},s.id||s.name)),L.length===0&&c.length>=2&&e.jsx("div",{className:"px-4 py-3 border-t border-gray-100",children:e.jsxs("button",{type:"button",onClick:()=>Ne(c),className:"w-full text-left px-3 py-2 bg-yellow-50 text-yellow-900 rounded-md",children:['Add "',c,'" as external lab test']})})]})]}),Q.length>0?e.jsx("div",{className:"space-y-3",children:Q.map((s,l)=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"font-medium text-gray-900",children:s.name})}),e.jsx("input",{...n(`labTests.${l}.instructions`),placeholder:"Special instructions...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsxs("label",{className:"inline-flex items-center ml-3",children:[e.jsx("input",{type:"checkbox",...n(`labTests.${l}.isExternal`),className:"form-checkbox h-4 w-4 text-blue-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Patient will buy externally"})]}),e.jsx("button",{type:"button",onClick:()=>xe(l),className:"p-2 text-red-500 hover:bg-red-50 rounded transition-colors",children:e.jsx(le,{size:14})})]},s.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(re,{className:"text-3xl text-gray-300 mx-auto mb-2"}),e.jsx("p",{children:"No lab tests added. Search above to add tests."})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsx(ne,{type:"button",variant:"secondary",onClick:()=>F(-1),children:"Cancel"}),e.jsx(ne,{type:"submit",iconLeft:Ee,iconRight:Ce,loading:O.isPending,children:"Save & Print"})]}),O.isError&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700",children:"Failed to create prescription. Please try again."})})]})]})})}export{Ye as default};
