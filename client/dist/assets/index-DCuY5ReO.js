const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminDashboard-QMwhlzfZ.js","assets/adminService-CSODHGn5.js","assets/Clinics-fzYowwWo.js","assets/ClinicDetail-BhU5RuEE.js","assets/Users-BO4LkST-.js","assets/PatientManagementClinics-PriznNqt.js","assets/FeaturePageTemplate-DoTzN4sf.js","assets/PharmacyManagementTricity-CX6397a1.js","assets/OnlineReportDashboardClinicsHospitals-DjxXXQnP.js","assets/SmartPrescriptionDoctors-S7kqfYAG.js"])))=>i.map(i=>d[i]);
var yk=Object.defineProperty;var F1=e=>{throw TypeError(e)};var bk=(e,t,s)=>t in e?yk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ve=(e,t,s)=>bk(e,typeof t!="symbol"?t+"":t,s),fp=(e,t,s)=>t.has(e)||F1("Cannot "+s);var H=(e,t,s)=>(fp(e,t,"read from private field"),s?s.call(e):t.get(e)),qe=(e,t,s)=>t.has(e)?F1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Oe=(e,t,s,n)=>(fp(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),rt=(e,t,s)=>(fp(e,t,"access private method"),s);var wu=(e,t,s,n)=>({set _(i){Oe(e,t,i,s)},get _(){return H(e,t,n)}});function vk(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var lY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ON(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RN={exports:{}},rf={},IN={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eu=Symbol.for("react.element"),jk=Symbol.for("react.portal"),wk=Symbol.for("react.fragment"),Nk=Symbol.for("react.strict_mode"),Sk=Symbol.for("react.profiler"),Ck=Symbol.for("react.provider"),Pk=Symbol.for("react.context"),kk=Symbol.for("react.forward_ref"),Ak=Symbol.for("react.suspense"),Tk=Symbol.for("react.memo"),Ek=Symbol.for("react.lazy"),V1=Symbol.iterator;function _k(e){return e===null||typeof e!="object"?null:(e=V1&&e[V1]||e["@@iterator"],typeof e=="function"?e:null)}var LN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FN=Object.assign,VN={};function $l(e,t,s){this.props=e,this.context=t,this.refs=VN,this.updater=s||LN}$l.prototype.isReactComponent={};$l.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$l.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function BN(){}BN.prototype=$l.prototype;function oy(e,t,s){this.props=e,this.context=t,this.refs=VN,this.updater=s||LN}var ly=oy.prototype=new BN;ly.constructor=oy;FN(ly,$l.prototype);ly.isPureReactComponent=!0;var B1=Array.isArray,$N=Object.prototype.hasOwnProperty,cy={current:null},zN={key:!0,ref:!0,__self:!0,__source:!0};function UN(e,t,s){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)$N.call(t,n)&&!zN.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:eu,type:e,key:a,ref:o,props:i,_owner:cy.current}}function Mk(e,t){return{$$typeof:eu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dy(e){return typeof e=="object"&&e!==null&&e.$$typeof===eu}function Dk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var $1=/\/+/g;function pp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dk(""+e.key):t.toString(36)}function bh(e,t,s,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case eu:case jk:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+pp(o,0):n,B1(i)?(s="",e!=null&&(s=e.replace($1,"$&/")+"/"),bh(i,t,s,"",function(d){return d})):i!=null&&(dy(i)&&(i=Mk(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($1,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",B1(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+pp(a,l);o+=bh(a,t,s,c,i)}else if(c=_k(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+pp(a,l++),o+=bh(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Nu(e,t,s){if(e==null)return e;var n=[],i=0;return bh(e,n,"","",function(a){return t.call(s,a,i++)}),n}function Ok(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zs={current:null},vh={transition:null},Rk={ReactCurrentDispatcher:Zs,ReactCurrentBatchConfig:vh,ReactCurrentOwner:cy};function HN(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:Nu,forEach:function(e,t,s){Nu(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Nu(e,function(){t++}),t},toArray:function(e){return Nu(e,function(t){return t})||[]},only:function(e){if(!dy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lt.Component=$l;lt.Fragment=wk;lt.Profiler=Sk;lt.PureComponent=oy;lt.StrictMode=Nk;lt.Suspense=Ak;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rk;lt.act=HN;lt.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=FN({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=cy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$N.call(t,c)&&!zN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:eu,type:e.type,key:i,ref:a,props:n,_owner:o}};lt.createContext=function(e){return e={$$typeof:Pk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ck,_context:e},e.Consumer=e};lt.createElement=UN;lt.createFactory=function(e){var t=UN.bind(null,e);return t.type=e,t};lt.createRef=function(){return{current:null}};lt.forwardRef=function(e){return{$$typeof:kk,render:e}};lt.isValidElement=dy;lt.lazy=function(e){return{$$typeof:Ek,_payload:{_status:-1,_result:e},_init:Ok}};lt.memo=function(e,t){return{$$typeof:Tk,type:e,compare:t===void 0?null:t}};lt.startTransition=function(e){var t=vh.transition;vh.transition={};try{e()}finally{vh.transition=t}};lt.unstable_act=HN;lt.useCallback=function(e,t){return Zs.current.useCallback(e,t)};lt.useContext=function(e){return Zs.current.useContext(e)};lt.useDebugValue=function(){};lt.useDeferredValue=function(e){return Zs.current.useDeferredValue(e)};lt.useEffect=function(e,t){return Zs.current.useEffect(e,t)};lt.useId=function(){return Zs.current.useId()};lt.useImperativeHandle=function(e,t,s){return Zs.current.useImperativeHandle(e,t,s)};lt.useInsertionEffect=function(e,t){return Zs.current.useInsertionEffect(e,t)};lt.useLayoutEffect=function(e,t){return Zs.current.useLayoutEffect(e,t)};lt.useMemo=function(e,t){return Zs.current.useMemo(e,t)};lt.useReducer=function(e,t,s){return Zs.current.useReducer(e,t,s)};lt.useRef=function(e){return Zs.current.useRef(e)};lt.useState=function(e){return Zs.current.useState(e)};lt.useSyncExternalStore=function(e,t,s){return Zs.current.useSyncExternalStore(e,t,s)};lt.useTransition=function(){return Zs.current.useTransition()};lt.version="18.3.1";IN.exports=lt;var x=IN.exports;const Re=ON(x),$0=vk({__proto__:null,default:Re},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ik=x,Lk=Symbol.for("react.element"),Fk=Symbol.for("react.fragment"),Vk=Object.prototype.hasOwnProperty,Bk=Ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$k={key:!0,ref:!0,__self:!0,__source:!0};function qN(e,t,s){var n,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Vk.call(t,n)&&!$k.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Lk,type:e,key:a,ref:o,props:i,_owner:Bk.current}}rf.Fragment=Fk;rf.jsx=qN;rf.jsxs=qN;RN.exports=rf;var r=RN.exports,z0={},WN={exports:{}},Mn={},GN={exports:{}},KN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,D){var J=M.length;M.push(D);e:for(;0<J;){var K=J-1>>>1,ce=M[K];if(0<i(ce,D))M[K]=D,M[J]=ce,J=K;else break e}}function s(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var D=M[0],J=M.pop();if(J!==D){M[0]=J;e:for(var K=0,ce=M.length,U=ce>>>1;K<U;){var le=2*(K+1)-1,re=M[le],ie=le+1,Y=M[ie];if(0>i(re,J))ie<ce&&0>i(Y,re)?(M[K]=Y,M[ie]=J,K=ie):(M[K]=re,M[le]=J,K=le);else if(ie<ce&&0>i(Y,J))M[K]=Y,M[ie]=J,K=ie;else break e}}return D}function i(M,D){var J=M.sortIndex-D.sortIndex;return J!==0?J:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var D=s(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=M)n(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=s(d)}}function j(M){if(p=!1,w(M),!g)if(s(c)!==null)g=!0,_(N);else{var D=s(d);D!==null&&$(j,D.startTime-M)}}function N(M,D){g=!1,p&&(p=!1,b(C),C=-1),f=!0;var J=m;try{for(w(D),h=s(c);h!==null&&(!(h.expirationTime>D)||M&&!te());){var K=h.callback;if(typeof K=="function"){h.callback=null,m=h.priorityLevel;var ce=K(h.expirationTime<=D);D=e.unstable_now(),typeof ce=="function"?h.callback=ce:h===s(c)&&n(c),w(D)}else n(c);h=s(c)}if(h!==null)var U=!0;else{var le=s(d);le!==null&&$(j,le.startTime-D),U=!1}return U}finally{h=null,m=J,f=!1}}var S=!1,P=null,C=-1,F=5,T=-1;function te(){return!(e.unstable_now()-T<F)}function A(){if(P!==null){var M=e.unstable_now();T=M;var D=!0;try{D=P(!0,M)}finally{D?q():(S=!1,P=null)}}else S=!1}var q;if(typeof y=="function")q=function(){y(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,B=z.port2;z.port1.onmessage=A,q=function(){B.postMessage(null)}}else q=function(){v(A,0)};function _(M){P=M,S||(S=!0,q())}function $(M,D){C=v(function(){M(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,_(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var J=m;m=D;try{return M()}finally{m=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var J=m;m=M;try{return D()}finally{m=J}},e.unstable_scheduleCallback=function(M,D,J){var K=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?K+J:K):J=K,M){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=J+ce,M={id:u++,callback:D,priorityLevel:M,startTime:J,expirationTime:ce,sortIndex:-1},J>K?(M.sortIndex=J,t(d,M),s(c)===null&&M===s(d)&&(p?(b(C),C=-1):p=!0,$(j,J-K))):(M.sortIndex=ce,t(c,M),g||f||(g=!0,_(N))),M},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(M){var D=m;return function(){var J=m;m=D;try{return M.apply(this,arguments)}finally{m=J}}}})(KN);GN.exports=KN;var zk=GN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uk=x,En=zk;function Pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QN=new Set,ld={};function vo(e,t){wl(e,t),wl(e+"Capture",t)}function wl(e,t){for(ld[e]=t,e=0;e<t.length;e++)QN.add(t[e])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),U0=Object.prototype.hasOwnProperty,Hk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z1={},U1={};function qk(e){return U0.call(U1,e)?!0:U0.call(z1,e)?!1:Hk.test(e)?U1[e]=!0:(z1[e]=!0,!1)}function Wk(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gk(e,t,s,n){if(t===null||typeof t>"u"||Wk(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function en(e,t,s,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ns={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ns[e]=new en(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ns[t]=new en(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ns[e]=new en(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ns[e]=new en(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ns[e]=new en(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ns[e]=new en(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ns[e]=new en(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ns[e]=new en(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ns[e]=new en(e,5,!1,e.toLowerCase(),null,!1,!1)});var uy=/[\-:]([a-z])/g;function hy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uy,hy);Ns[t]=new en(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uy,hy);Ns[t]=new en(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uy,hy);Ns[t]=new en(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ns[e]=new en(e,1,!1,e.toLowerCase(),null,!1,!1)});Ns.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ns[e]=new en(e,1,!1,e.toLowerCase(),null,!0,!0)});function my(e,t,s,n){var i=Ns.hasOwnProperty(t)?Ns[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gk(t,s,i,n)&&(s=null),n||i===null?qk(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,n=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var gi=Uk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),fy=Symbol.for("react.strict_mode"),H0=Symbol.for("react.profiler"),YN=Symbol.for("react.provider"),XN=Symbol.for("react.context"),py=Symbol.for("react.forward_ref"),q0=Symbol.for("react.suspense"),W0=Symbol.for("react.suspense_list"),gy=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),JN=Symbol.for("react.offscreen"),H1=Symbol.iterator;function ec(e){return e===null||typeof e!="object"?null:(e=H1&&e[H1]||e["@@iterator"],typeof e=="function"?e:null)}var Ut=Object.assign,gp;function jc(e){if(gp===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);gp=t&&t[1]||""}return`
`+gp+e}var xp=!1;function yp(e,t){if(!e||xp)return"";xp=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{xp=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?jc(e):""}function Kk(e){switch(e.tag){case 5:return jc(e.type);case 16:return jc("Lazy");case 13:return jc("Suspense");case 19:return jc("SuspenseList");case 0:case 2:case 15:return e=yp(e.type,!1),e;case 11:return e=yp(e.type.render,!1),e;case 1:return e=yp(e.type,!0),e;default:return""}}function G0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oo:return"Fragment";case Do:return"Portal";case H0:return"Profiler";case fy:return"StrictMode";case q0:return"Suspense";case W0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case XN:return(e.displayName||"Context")+".Consumer";case YN:return(e._context.displayName||"Context")+".Provider";case py:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gy:return t=e.displayName||null,t!==null?t:G0(e.type)||"Memo";case Ti:t=e._payload,e=e._init;try{return G0(e(t))}catch{}}return null}function Qk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G0(t);case 8:return t===fy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ca(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ZN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yk(e){var t=ZN(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cu(e){e._valueTracker||(e._valueTracker=Yk(e))}function e5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=ZN(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Yh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function K0(e,t){var s=t.checked;return Ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function q1(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=ca(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function t5(e,t){t=t.checked,t!=null&&my(e,"checked",t,!1)}function Q0(e,t){t5(e,t);var s=ca(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Y0(e,t.type,s):t.hasOwnProperty("defaultValue")&&Y0(e,t.type,ca(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function W1(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Y0(e,t,s){(t!=="number"||Yh(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var wc=Array.isArray;function Jo(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+ca(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function X0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return Ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G1(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Pe(92));if(wc(s)){if(1<s.length)throw Error(Pe(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ca(s)}}function s5(e,t){var s=ca(t.value),n=ca(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function K1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function n5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?n5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pu,r5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pu=Pu||document.createElement("div"),Pu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cd(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xk=["Webkit","ms","Moz","O"];Object.keys(Bc).forEach(function(e){Xk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bc[t]=Bc[e]})});function i5(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Bc.hasOwnProperty(e)&&Bc[e]?(""+t).trim():t+"px"}function a5(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=i5(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,i):e[s]=i}}var Jk=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z0(e,t){if(t){if(Jk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pe(62))}}function eg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=null;function xy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sg=null,Zo=null,el=null;function Q1(e){if(e=nu(e)){if(typeof sg!="function")throw Error(Pe(280));var t=e.stateNode;t&&(t=df(t),sg(e.stateNode,e.type,t))}}function o5(e){Zo?el?el.push(e):el=[e]:Zo=e}function l5(){if(Zo){var e=Zo,t=el;if(el=Zo=null,Q1(e),t)for(e=0;e<t.length;e++)Q1(t[e])}}function c5(e,t){return e(t)}function d5(){}var bp=!1;function u5(e,t,s){if(bp)return e(t,s);bp=!0;try{return c5(e,t,s)}finally{bp=!1,(Zo!==null||el!==null)&&(d5(),l5())}}function dd(e,t){var s=e.stateNode;if(s===null)return null;var n=df(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Pe(231,t,typeof s));return s}var ng=!1;if(ci)try{var tc={};Object.defineProperty(tc,"passive",{get:function(){ng=!0}}),window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{ng=!1}function Zk(e,t,s,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var $c=!1,Xh=null,Jh=!1,rg=null,eA={onError:function(e){$c=!0,Xh=e}};function tA(e,t,s,n,i,a,o,l,c){$c=!1,Xh=null,Zk.apply(eA,arguments)}function sA(e,t,s,n,i,a,o,l,c){if(tA.apply(this,arguments),$c){if($c){var d=Xh;$c=!1,Xh=null}else throw Error(Pe(198));Jh||(Jh=!0,rg=d)}}function jo(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function h5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Y1(e){if(jo(e)!==e)throw Error(Pe(188))}function nA(e){var t=e.alternate;if(!t){if(t=jo(e),t===null)throw Error(Pe(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return Y1(i),e;if(a===n)return Y1(i),t;a=a.sibling}throw Error(Pe(188))}if(s.return!==n.return)s=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o)throw Error(Pe(189))}}if(s.alternate!==n)throw Error(Pe(190))}if(s.tag!==3)throw Error(Pe(188));return s.stateNode.current===s?e:t}function m5(e){return e=nA(e),e!==null?f5(e):null}function f5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f5(e);if(t!==null)return t;e=e.sibling}return null}var p5=En.unstable_scheduleCallback,X1=En.unstable_cancelCallback,rA=En.unstable_shouldYield,iA=En.unstable_requestPaint,Zt=En.unstable_now,aA=En.unstable_getCurrentPriorityLevel,yy=En.unstable_ImmediatePriority,g5=En.unstable_UserBlockingPriority,Zh=En.unstable_NormalPriority,oA=En.unstable_LowPriority,x5=En.unstable_IdlePriority,af=null,Tr=null;function lA(e){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(af,e,void 0,(e.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:uA,cA=Math.log,dA=Math.LN2;function uA(e){return e>>>=0,e===0?32:31-(cA(e)/dA|0)|0}var ku=64,Au=4194304;function Nc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function em(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?n=Nc(l):(a&=o,a!==0&&(n=Nc(a)))}else o=s&~i,o!==0?n=Nc(o):a!==0&&(n=Nc(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-or(t),i=1<<s,n|=e[s],t&=~i;return n}function hA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mA(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-or(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&n)&&(i[o]=hA(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function ig(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function y5(){var e=ku;return ku<<=1,!(ku&4194240)&&(ku=64),e}function vp(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function tu(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-or(t),e[t]=s}function fA(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-or(s),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,s&=~a}}function by(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-or(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}var wt=0;function b5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var v5,vy,j5,w5,N5,ag=!1,Tu=[],Ji=null,Zi=null,ea=null,ud=new Map,hd=new Map,Mi=[],pA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J1(e,t){switch(e){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":ud.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hd.delete(t.pointerId)}}function sc(e,t,s,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=nu(t),t!==null&&vy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gA(e,t,s,n,i){switch(t){case"focusin":return Ji=sc(Ji,e,t,s,n,i),!0;case"dragenter":return Zi=sc(Zi,e,t,s,n,i),!0;case"mouseover":return ea=sc(ea,e,t,s,n,i),!0;case"pointerover":var a=i.pointerId;return ud.set(a,sc(ud.get(a)||null,e,t,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,hd.set(a,sc(hd.get(a)||null,e,t,s,n,i)),!0}return!1}function S5(e){var t=Oa(e.target);if(t!==null){var s=jo(t);if(s!==null){if(t=s.tag,t===13){if(t=h5(s),t!==null){e.blockedOn=t,N5(e.priority,function(){j5(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=og(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);tg=n,s.target.dispatchEvent(n),tg=null}else return t=nu(s),t!==null&&vy(t),e.blockedOn=s,!1;t.shift()}return!0}function Z1(e,t,s){jh(e)&&s.delete(t)}function xA(){ag=!1,Ji!==null&&jh(Ji)&&(Ji=null),Zi!==null&&jh(Zi)&&(Zi=null),ea!==null&&jh(ea)&&(ea=null),ud.forEach(Z1),hd.forEach(Z1)}function nc(e,t){e.blockedOn===t&&(e.blockedOn=null,ag||(ag=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,xA)))}function md(e){function t(i){return nc(i,e)}if(0<Tu.length){nc(Tu[0],e);for(var s=1;s<Tu.length;s++){var n=Tu[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Ji!==null&&nc(Ji,e),Zi!==null&&nc(Zi,e),ea!==null&&nc(ea,e),ud.forEach(t),hd.forEach(t),s=0;s<Mi.length;s++)n=Mi[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mi.length&&(s=Mi[0],s.blockedOn===null);)S5(s),s.blockedOn===null&&Mi.shift()}var tl=gi.ReactCurrentBatchConfig,tm=!0;function yA(e,t,s,n){var i=wt,a=tl.transition;tl.transition=null;try{wt=1,jy(e,t,s,n)}finally{wt=i,tl.transition=a}}function bA(e,t,s,n){var i=wt,a=tl.transition;tl.transition=null;try{wt=4,jy(e,t,s,n)}finally{wt=i,tl.transition=a}}function jy(e,t,s,n){if(tm){var i=og(e,t,s,n);if(i===null)Ep(e,t,n,sm,s),J1(e,n);else if(gA(i,e,t,s,n))n.stopPropagation();else if(J1(e,n),t&4&&-1<pA.indexOf(e)){for(;i!==null;){var a=nu(i);if(a!==null&&v5(a),a=og(e,t,s,n),a===null&&Ep(e,t,n,sm,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else Ep(e,t,n,null,s)}}var sm=null;function og(e,t,s,n){if(sm=null,e=xy(n),e=Oa(e),e!==null)if(t=jo(e),t===null)e=null;else if(s=t.tag,s===13){if(e=h5(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sm=e,null}function C5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aA()){case yy:return 1;case g5:return 4;case Zh:case oA:return 16;case x5:return 536870912;default:return 16}default:return 16}}var qi=null,wy=null,wh=null;function P5(){if(wh)return wh;var e,t=wy,s=t.length,n,i="value"in qi?qi.value:qi.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===i[a-n];n++);return wh=i.slice(e,1<n?1-n:void 0)}function Nh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eu(){return!0}function ev(){return!1}function Dn(e){function t(s,n,i,a,o){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Eu:ev,this.isPropagationStopped=ev,this}return Ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),t}var zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ny=Dn(zl),su=Ut({},zl,{view:0,detail:0}),vA=Dn(su),jp,wp,rc,of=Ut({},su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rc&&(rc&&e.type==="mousemove"?(jp=e.screenX-rc.screenX,wp=e.screenY-rc.screenY):wp=jp=0,rc=e),jp)},movementY:function(e){return"movementY"in e?e.movementY:wp}}),tv=Dn(of),jA=Ut({},of,{dataTransfer:0}),wA=Dn(jA),NA=Ut({},su,{relatedTarget:0}),Np=Dn(NA),SA=Ut({},zl,{animationName:0,elapsedTime:0,pseudoElement:0}),CA=Dn(SA),PA=Ut({},zl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kA=Dn(PA),AA=Ut({},zl,{data:0}),sv=Dn(AA),TA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_A={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_A[e])?!!t[e]:!1}function Sy(){return MA}var DA=Ut({},su,{key:function(e){if(e.key){var t=TA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sy,charCode:function(e){return e.type==="keypress"?Nh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OA=Dn(DA),RA=Ut({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nv=Dn(RA),IA=Ut({},su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sy}),LA=Dn(IA),FA=Ut({},zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),VA=Dn(FA),BA=Ut({},of,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$A=Dn(BA),zA=[9,13,27,32],Cy=ci&&"CompositionEvent"in window,zc=null;ci&&"documentMode"in document&&(zc=document.documentMode);var UA=ci&&"TextEvent"in window&&!zc,k5=ci&&(!Cy||zc&&8<zc&&11>=zc),rv=" ",iv=!1;function A5(e,t){switch(e){case"keyup":return zA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ro=!1;function HA(e,t){switch(e){case"compositionend":return T5(t);case"keypress":return t.which!==32?null:(iv=!0,rv);case"textInput":return e=t.data,e===rv&&iv?null:e;default:return null}}function qA(e,t){if(Ro)return e==="compositionend"||!Cy&&A5(e,t)?(e=P5(),wh=wy=qi=null,Ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return k5&&t.locale!=="ko"?null:t.data;default:return null}}var WA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function av(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WA[e.type]:t==="textarea"}function E5(e,t,s,n){o5(n),t=nm(t,"onChange"),0<t.length&&(s=new Ny("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Uc=null,fd=null;function GA(e){$5(e,0)}function lf(e){var t=Fo(e);if(e5(t))return e}function KA(e,t){if(e==="change")return t}var _5=!1;if(ci){var Sp;if(ci){var Cp="oninput"in document;if(!Cp){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),Cp=typeof ov.oninput=="function"}Sp=Cp}else Sp=!1;_5=Sp&&(!document.documentMode||9<document.documentMode)}function lv(){Uc&&(Uc.detachEvent("onpropertychange",M5),fd=Uc=null)}function M5(e){if(e.propertyName==="value"&&lf(fd)){var t=[];E5(t,fd,e,xy(e)),u5(GA,t)}}function QA(e,t,s){e==="focusin"?(lv(),Uc=t,fd=s,Uc.attachEvent("onpropertychange",M5)):e==="focusout"&&lv()}function YA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lf(fd)}function XA(e,t){if(e==="click")return lf(t)}function JA(e,t){if(e==="input"||e==="change")return lf(t)}function ZA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cr=typeof Object.is=="function"?Object.is:ZA;function pd(e,t){if(cr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!U0.call(t,i)||!cr(e[i],t[i]))return!1}return!0}function cv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dv(e,t){var s=cv(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cv(s)}}function D5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function O5(){for(var e=window,t=Yh();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Yh(e.document)}return t}function Py(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e7(e){var t=O5(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&D5(s.ownerDocument.documentElement,s)){if(n!==null&&Py(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=dv(s,a);var o=dv(s,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t7=ci&&"documentMode"in document&&11>=document.documentMode,Io=null,lg=null,Hc=null,cg=!1;function uv(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;cg||Io==null||Io!==Yh(n)||(n=Io,"selectionStart"in n&&Py(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hc&&pd(Hc,n)||(Hc=n,n=nm(lg,"onSelect"),0<n.length&&(t=new Ny("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Io)))}function _u(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Lo={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},Pp={},R5={};ci&&(R5=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function cf(e){if(Pp[e])return Pp[e];if(!Lo[e])return e;var t=Lo[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in R5)return Pp[e]=t[s];return e}var I5=cf("animationend"),L5=cf("animationiteration"),F5=cf("animationstart"),V5=cf("transitionend"),B5=new Map,hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(e,t){B5.set(e,t),vo(t,[e])}for(var kp=0;kp<hv.length;kp++){var Ap=hv[kp],s7=Ap.toLowerCase(),n7=Ap[0].toUpperCase()+Ap.slice(1);ga(s7,"on"+n7)}ga(I5,"onAnimationEnd");ga(L5,"onAnimationIteration");ga(F5,"onAnimationStart");ga("dblclick","onDoubleClick");ga("focusin","onFocus");ga("focusout","onBlur");ga(V5,"onTransitionEnd");wl("onMouseEnter",["mouseout","mouseover"]);wl("onMouseLeave",["mouseout","mouseover"]);wl("onPointerEnter",["pointerout","pointerover"]);wl("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sc));function mv(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,sA(n,t,void 0,e),e.currentTarget=null}function $5(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;mv(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;mv(i,l,d),a=c}}}if(Jh)throw e=rg,Jh=!1,rg=null,e}function Mt(e,t){var s=t[fg];s===void 0&&(s=t[fg]=new Set);var n=e+"__bubble";s.has(n)||(z5(t,e,2,!1),s.add(n))}function Tp(e,t,s){var n=0;t&&(n|=4),z5(s,e,n,t)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[Mu]){e[Mu]=!0,QN.forEach(function(s){s!=="selectionchange"&&(r7.has(s)||Tp(s,!1,e),Tp(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mu]||(t[Mu]=!0,Tp("selectionchange",!1,t))}}function z5(e,t,s,n){switch(C5(t)){case 1:var i=yA;break;case 4:i=bA;break;default:i=jy}s=i.bind(null,t,s,e),i=void 0,!ng||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function Ep(e,t,s,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Oa(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}u5(function(){var d=a,u=xy(s),h=[];e:{var m=B5.get(e);if(m!==void 0){var f=Ny,g=e;switch(e){case"keypress":if(Nh(s)===0)break e;case"keydown":case"keyup":f=OA;break;case"focusin":g="focus",f=Np;break;case"focusout":g="blur",f=Np;break;case"beforeblur":case"afterblur":f=Np;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=wA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=LA;break;case I5:case L5:case F5:f=CA;break;case V5:f=VA;break;case"scroll":f=vA;break;case"wheel":f=$A;break;case"copy":case"cut":case"paste":f=kA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=nv}var p=(t&4)!==0,v=!p&&e==="scroll",b=p?m!==null?m+"Capture":null:m;p=[];for(var y=d,w;y!==null;){w=y;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,b!==null&&(j=dd(y,b),j!=null&&p.push(xd(y,j,w)))),v)break;y=y.return}0<p.length&&(m=new f(m,g,null,s,u),h.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&s!==tg&&(g=s.relatedTarget||s.fromElement)&&(Oa(g)||g[di]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(g=s.relatedTarget||s.toElement,f=d,g=g?Oa(g):null,g!==null&&(v=jo(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=d),f!==g)){if(p=tv,j="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=nv,j="onPointerLeave",b="onPointerEnter",y="pointer"),v=f==null?m:Fo(f),w=g==null?m:Fo(g),m=new p(j,y+"leave",f,s,u),m.target=v,m.relatedTarget=w,j=null,Oa(u)===d&&(p=new p(b,y+"enter",g,s,u),p.target=w,p.relatedTarget=v,j=p),v=j,f&&g)t:{for(p=f,b=g,y=0,w=p;w;w=Po(w))y++;for(w=0,j=b;j;j=Po(j))w++;for(;0<y-w;)p=Po(p),y--;for(;0<w-y;)b=Po(b),w--;for(;y--;){if(p===b||b!==null&&p===b.alternate)break t;p=Po(p),b=Po(b)}p=null}else p=null;f!==null&&fv(h,m,f,p,!1),g!==null&&v!==null&&fv(h,v,g,p,!0)}}e:{if(m=d?Fo(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var N=KA;else if(av(m))if(_5)N=JA;else{N=YA;var S=QA}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=XA);if(N&&(N=N(e,d))){E5(h,N,s,u);break e}S&&S(e,m,d),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Y0(m,"number",m.value)}switch(S=d?Fo(d):window,e){case"focusin":(av(S)||S.contentEditable==="true")&&(Io=S,lg=d,Hc=null);break;case"focusout":Hc=lg=Io=null;break;case"mousedown":cg=!0;break;case"contextmenu":case"mouseup":case"dragend":cg=!1,uv(h,s,u);break;case"selectionchange":if(t7)break;case"keydown":case"keyup":uv(h,s,u)}var P;if(Cy)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ro?A5(e,s)&&(C="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(C="onCompositionStart");C&&(k5&&s.locale!=="ko"&&(Ro||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ro&&(P=P5()):(qi=u,wy="value"in qi?qi.value:qi.textContent,Ro=!0)),S=nm(d,C),0<S.length&&(C=new sv(C,e,null,s,u),h.push({event:C,listeners:S}),P?C.data=P:(P=T5(s),P!==null&&(C.data=P)))),(P=UA?HA(e,s):qA(e,s))&&(d=nm(d,"onBeforeInput"),0<d.length&&(u=new sv("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=P))}$5(h,t)})}function xd(e,t,s){return{instance:e,listener:t,currentTarget:s}}function nm(e,t){for(var s=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=dd(e,s),a!=null&&n.unshift(xd(e,a,i)),a=dd(e,t),a!=null&&n.push(xd(e,a,i))),e=e.return}return n}function Po(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fv(e,t,s,n,i){for(var a=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=dd(s,a),c!=null&&o.unshift(xd(s,c,l))):i||(c=dd(s,a),c!=null&&o.push(xd(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var i7=/\r\n?/g,a7=/\u0000|\uFFFD/g;function pv(e){return(typeof e=="string"?e:""+e).replace(i7,`
`).replace(a7,"")}function Du(e,t,s){if(t=pv(t),pv(e)!==t&&s)throw Error(Pe(425))}function rm(){}var dg=null,ug=null;function hg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,o7=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,l7=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(e){return gv.resolve(null).then(e).catch(c7)}:mg;function c7(e){setTimeout(function(){throw e})}function _p(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){e.removeChild(i),md(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);md(t)}function ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Ul=Math.random().toString(36).slice(2),Pr="__reactFiber$"+Ul,yd="__reactProps$"+Ul,di="__reactContainer$"+Ul,fg="__reactEvents$"+Ul,d7="__reactListeners$"+Ul,u7="__reactHandles$"+Ul;function Oa(e){var t=e[Pr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[di]||s[Pr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=xv(e);e!==null;){if(s=e[Pr])return s;e=xv(e)}return t}e=s,s=e.parentNode}return null}function nu(e){return e=e[Pr]||e[di],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pe(33))}function df(e){return e[yd]||null}var pg=[],Vo=-1;function xa(e){return{current:e}}function Ot(e){0>Vo||(e.current=pg[Vo],pg[Vo]=null,Vo--)}function Et(e,t){Vo++,pg[Vo]=e.current,e.current=t}var da={},zs=xa(da),dn=xa(!1),ro=da;function Nl(e,t){var s=e.type.contextTypes;if(!s)return da;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function un(e){return e=e.childContextTypes,e!=null}function im(){Ot(dn),Ot(zs)}function yv(e,t,s){if(zs.current!==da)throw Error(Pe(168));Et(zs,t),Et(dn,s)}function U5(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Pe(108,Qk(e)||"Unknown",i));return Ut({},s,n)}function am(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||da,ro=zs.current,Et(zs,e),Et(dn,dn.current),!0}function bv(e,t,s){var n=e.stateNode;if(!n)throw Error(Pe(169));s?(e=U5(e,t,ro),n.__reactInternalMemoizedMergedChildContext=e,Ot(dn),Ot(zs),Et(zs,e)):Ot(dn),Et(dn,s)}var Wr=null,uf=!1,Mp=!1;function H5(e){Wr===null?Wr=[e]:Wr.push(e)}function h7(e){uf=!0,H5(e)}function ya(){if(!Mp&&Wr!==null){Mp=!0;var e=0,t=wt;try{var s=Wr;for(wt=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Wr=null,uf=!1}catch(i){throw Wr!==null&&(Wr=Wr.slice(e+1)),p5(yy,ya),i}finally{wt=t,Mp=!1}}return null}var Bo=[],$o=0,om=null,lm=0,$n=[],zn=0,io=null,Jr=1,Zr="";function Aa(e,t){Bo[$o++]=lm,Bo[$o++]=om,om=e,lm=t}function q5(e,t,s){$n[zn++]=Jr,$n[zn++]=Zr,$n[zn++]=io,io=e;var n=Jr;e=Zr;var i=32-or(n)-1;n&=~(1<<i),s+=1;var a=32-or(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Jr=1<<32-or(t)+i|s<<i|n,Zr=a+e}else Jr=1<<a|s<<i|n,Zr=e}function ky(e){e.return!==null&&(Aa(e,1),q5(e,1,0))}function Ay(e){for(;e===om;)om=Bo[--$o],Bo[$o]=null,lm=Bo[--$o],Bo[$o]=null;for(;e===io;)io=$n[--zn],$n[zn]=null,Zr=$n[--zn],$n[zn]=null,Jr=$n[--zn],$n[zn]=null}var kn=null,Pn=null,It=!1,rr=null;function W5(e,t){var s=qn(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function vv(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kn=e,Pn=ta(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kn=e,Pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=io!==null?{id:Jr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=qn(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,kn=e,Pn=null,!0):!1;default:return!1}}function gg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xg(e){if(It){var t=Pn;if(t){var s=t;if(!vv(e,t)){if(gg(e))throw Error(Pe(418));t=ta(s.nextSibling);var n=kn;t&&vv(e,t)?W5(n,s):(e.flags=e.flags&-4097|2,It=!1,kn=e)}}else{if(gg(e))throw Error(Pe(418));e.flags=e.flags&-4097|2,It=!1,kn=e}}}function jv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kn=e}function Ou(e){if(e!==kn)return!1;if(!It)return jv(e),It=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hg(e.type,e.memoizedProps)),t&&(t=Pn)){if(gg(e))throw G5(),Error(Pe(418));for(;t;)W5(e,t),t=ta(t.nextSibling)}if(jv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Pn=ta(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Pn=null}}else Pn=kn?ta(e.stateNode.nextSibling):null;return!0}function G5(){for(var e=Pn;e;)e=ta(e.nextSibling)}function Sl(){Pn=kn=null,It=!1}function Ty(e){rr===null?rr=[e]:rr.push(e)}var m7=gi.ReactCurrentBatchConfig;function ic(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Pe(309));var n=s.stateNode}if(!n)throw Error(Pe(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Pe(284));if(!s._owner)throw Error(Pe(290,e))}return e}function Ru(e,t){throw e=Object.prototype.toString.call(t),Error(Pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wv(e){var t=e._init;return t(e._payload)}function K5(e){function t(b,y){if(e){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function s(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=ia(b,y),b.index=0,b.sibling=null,b}function a(b,y,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,w,j){return y===null||y.tag!==6?(y=Vp(w,b.mode,j),y.return=b,y):(y=i(y,w),y.return=b,y)}function c(b,y,w,j){var N=w.type;return N===Oo?u(b,y,w.props.children,j,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ti&&wv(N)===y.type)?(j=i(y,w.props),j.ref=ic(b,y,w),j.return=b,j):(j=Eh(w.type,w.key,w.props,null,b.mode,j),j.ref=ic(b,y,w),j.return=b,j)}function d(b,y,w,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Bp(w,b.mode,j),y.return=b,y):(y=i(y,w.children||[]),y.return=b,y)}function u(b,y,w,j,N){return y===null||y.tag!==7?(y=Za(w,b.mode,j,N),y.return=b,y):(y=i(y,w),y.return=b,y)}function h(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Vp(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Su:return w=Eh(y.type,y.key,y.props,null,b.mode,w),w.ref=ic(b,null,y),w.return=b,w;case Do:return y=Bp(y,b.mode,w),y.return=b,y;case Ti:var j=y._init;return h(b,j(y._payload),w)}if(wc(y)||ec(y))return y=Za(y,b.mode,w,null),y.return=b,y;Ru(b,y)}return null}function m(b,y,w,j){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(b,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Su:return w.key===N?c(b,y,w,j):null;case Do:return w.key===N?d(b,y,w,j):null;case Ti:return N=w._init,m(b,y,N(w._payload),j)}if(wc(w)||ec(w))return N!==null?null:u(b,y,w,j,null);Ru(b,w)}return null}function f(b,y,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(w)||null,l(y,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Su:return b=b.get(j.key===null?w:j.key)||null,c(y,b,j,N);case Do:return b=b.get(j.key===null?w:j.key)||null,d(y,b,j,N);case Ti:var S=j._init;return f(b,y,w,S(j._payload),N)}if(wc(j)||ec(j))return b=b.get(w)||null,u(y,b,j,N,null);Ru(y,j)}return null}function g(b,y,w,j){for(var N=null,S=null,P=y,C=y=0,F=null;P!==null&&C<w.length;C++){P.index>C?(F=P,P=null):F=P.sibling;var T=m(b,P,w[C],j);if(T===null){P===null&&(P=F);break}e&&P&&T.alternate===null&&t(b,P),y=a(T,y,C),S===null?N=T:S.sibling=T,S=T,P=F}if(C===w.length)return s(b,P),It&&Aa(b,C),N;if(P===null){for(;C<w.length;C++)P=h(b,w[C],j),P!==null&&(y=a(P,y,C),S===null?N=P:S.sibling=P,S=P);return It&&Aa(b,C),N}for(P=n(b,P);C<w.length;C++)F=f(P,b,C,w[C],j),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?C:F.key),y=a(F,y,C),S===null?N=F:S.sibling=F,S=F);return e&&P.forEach(function(te){return t(b,te)}),It&&Aa(b,C),N}function p(b,y,w,j){var N=ec(w);if(typeof N!="function")throw Error(Pe(150));if(w=N.call(w),w==null)throw Error(Pe(151));for(var S=N=null,P=y,C=y=0,F=null,T=w.next();P!==null&&!T.done;C++,T=w.next()){P.index>C?(F=P,P=null):F=P.sibling;var te=m(b,P,T.value,j);if(te===null){P===null&&(P=F);break}e&&P&&te.alternate===null&&t(b,P),y=a(te,y,C),S===null?N=te:S.sibling=te,S=te,P=F}if(T.done)return s(b,P),It&&Aa(b,C),N;if(P===null){for(;!T.done;C++,T=w.next())T=h(b,T.value,j),T!==null&&(y=a(T,y,C),S===null?N=T:S.sibling=T,S=T);return It&&Aa(b,C),N}for(P=n(b,P);!T.done;C++,T=w.next())T=f(P,b,C,T.value,j),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?C:T.key),y=a(T,y,C),S===null?N=T:S.sibling=T,S=T);return e&&P.forEach(function(A){return t(b,A)}),It&&Aa(b,C),N}function v(b,y,w,j){if(typeof w=="object"&&w!==null&&w.type===Oo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Su:e:{for(var N=w.key,S=y;S!==null;){if(S.key===N){if(N=w.type,N===Oo){if(S.tag===7){s(b,S.sibling),y=i(S,w.props.children),y.return=b,b=y;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ti&&wv(N)===S.type){s(b,S.sibling),y=i(S,w.props),y.ref=ic(b,S,w),y.return=b,b=y;break e}s(b,S);break}else t(b,S);S=S.sibling}w.type===Oo?(y=Za(w.props.children,b.mode,j,w.key),y.return=b,b=y):(j=Eh(w.type,w.key,w.props,null,b.mode,j),j.ref=ic(b,y,w),j.return=b,b=j)}return o(b);case Do:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){s(b,y.sibling),y=i(y,w.children||[]),y.return=b,b=y;break e}else{s(b,y);break}else t(b,y);y=y.sibling}y=Bp(w,b.mode,j),y.return=b,b=y}return o(b);case Ti:return S=w._init,v(b,y,S(w._payload),j)}if(wc(w))return g(b,y,w,j);if(ec(w))return p(b,y,w,j);Ru(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(s(b,y.sibling),y=i(y,w),y.return=b,b=y):(s(b,y),y=Vp(w,b.mode,j),y.return=b,b=y),o(b)):s(b,y)}return v}var Cl=K5(!0),Q5=K5(!1),cm=xa(null),dm=null,zo=null,Ey=null;function _y(){Ey=zo=dm=null}function My(e){var t=cm.current;Ot(cm),e._currentValue=t}function yg(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function sl(e,t){dm=e,Ey=zo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ln=!0),e.firstContext=null)}function Kn(e){var t=e._currentValue;if(Ey!==e)if(e={context:e,memoizedValue:t,next:null},zo===null){if(dm===null)throw Error(Pe(308));zo=e,dm.dependencies={lanes:0,firstContext:e}}else zo=zo.next=e;return t}var Ra=null;function Dy(e){Ra===null?Ra=[e]:Ra.push(e)}function Y5(e,t,s,n){var i=t.interleaved;return i===null?(s.next=s,Dy(t)):(s.next=i.next,i.next=s),t.interleaved=s,ui(e,n)}function ui(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ei=!1;function Oy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sa(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ht&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ui(e,s)}return i=n.interleaved,i===null?(t.next=t,Dy(n)):(t.next=i.next,i.next=t),n.interleaved=t,ui(e,s)}function Sh(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,by(e,s)}}function Nv(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function um(e,t,s,n){var i=e.updateQueue;Ei=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,f=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(m=t,f=s,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(f,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,m=typeof g=="function"?g.call(f,h,m):g,m==null)break e;h=Ut({},h,m);break e;case 2:Ei=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=h):u=u.next=f,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);oo|=o,e.lanes=o,e.memoizedState=h}}function Sv(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(Pe(191,i));i.call(n)}}}var ru={},Er=xa(ru),bd=xa(ru),vd=xa(ru);function Ia(e){if(e===ru)throw Error(Pe(174));return e}function Ry(e,t){switch(Et(vd,t),Et(bd,e),Et(Er,ru),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:J0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=J0(t,e)}Ot(Er),Et(Er,t)}function Pl(){Ot(Er),Ot(bd),Ot(vd)}function J5(e){Ia(vd.current);var t=Ia(Er.current),s=J0(t,e.type);t!==s&&(Et(bd,e),Et(Er,s))}function Iy(e){bd.current===e&&(Ot(Er),Ot(bd))}var Lt=xa(0);function hm(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dp=[];function Ly(){for(var e=0;e<Dp.length;e++)Dp[e]._workInProgressVersionPrimary=null;Dp.length=0}var Ch=gi.ReactCurrentDispatcher,Op=gi.ReactCurrentBatchConfig,ao=0,$t=null,os=null,fs=null,mm=!1,qc=!1,jd=0,f7=0;function Ps(){throw Error(Pe(321))}function Fy(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!cr(e[s],t[s]))return!1;return!0}function Vy(e,t,s,n,i,a){if(ao=a,$t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ch.current=e===null||e.memoizedState===null?y7:b7,e=s(n,i),qc){a=0;do{if(qc=!1,jd=0,25<=a)throw Error(Pe(301));a+=1,fs=os=null,t.updateQueue=null,Ch.current=v7,e=s(n,i)}while(qc)}if(Ch.current=fm,t=os!==null&&os.next!==null,ao=0,fs=os=$t=null,mm=!1,t)throw Error(Pe(300));return e}function By(){var e=jd!==0;return jd=0,e}function xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?$t.memoizedState=fs=e:fs=fs.next=e,fs}function Qn(){if(os===null){var e=$t.alternate;e=e!==null?e.memoizedState:null}else e=os.next;var t=fs===null?$t.memoizedState:fs.next;if(t!==null)fs=t,os=e;else{if(e===null)throw Error(Pe(310));os=e,e={memoizedState:os.memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},fs===null?$t.memoizedState=fs=e:fs=fs.next=e}return fs}function wd(e,t){return typeof t=="function"?t(e):t}function Rp(e){var t=Qn(),s=t.queue;if(s===null)throw Error(Pe(311));s.lastRenderedReducer=e;var n=os,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((ao&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,$t.lanes|=u,oo|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,cr(n,t.memoizedState)||(ln=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){i=e;do a=i.lane,$t.lanes|=a,oo|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Ip(e){var t=Qn(),s=t.queue;if(s===null)throw Error(Pe(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);cr(a,t.memoizedState)||(ln=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function Z5(){}function e3(e,t){var s=$t,n=Qn(),i=t(),a=!cr(n.memoizedState,i);if(a&&(n.memoizedState=i,ln=!0),n=n.queue,$y(n3.bind(null,s,n,e),[e]),n.getSnapshot!==t||a||fs!==null&&fs.memoizedState.tag&1){if(s.flags|=2048,Nd(9,s3.bind(null,s,n,i,t),void 0,null),gs===null)throw Error(Pe(349));ao&30||t3(s,t,i)}return i}function t3(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function s3(e,t,s,n){t.value=s,t.getSnapshot=n,r3(t)&&i3(e)}function n3(e,t,s){return s(function(){r3(t)&&i3(e)})}function r3(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!cr(e,s)}catch{return!0}}function i3(e){var t=ui(e,1);t!==null&&lr(t,e,1,-1)}function Cv(e){var t=xr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wd,lastRenderedState:e},t.queue=e,e=e.dispatch=x7.bind(null,$t,e),[t.memoizedState,e]}function Nd(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function a3(){return Qn().memoizedState}function Ph(e,t,s,n){var i=xr();$t.flags|=e,i.memoizedState=Nd(1|t,s,void 0,n===void 0?null:n)}function hf(e,t,s,n){var i=Qn();n=n===void 0?null:n;var a=void 0;if(os!==null){var o=os.memoizedState;if(a=o.destroy,n!==null&&Fy(n,o.deps)){i.memoizedState=Nd(t,s,a,n);return}}$t.flags|=e,i.memoizedState=Nd(1|t,s,a,n)}function Pv(e,t){return Ph(8390656,8,e,t)}function $y(e,t){return hf(2048,8,e,t)}function o3(e,t){return hf(4,2,e,t)}function l3(e,t){return hf(4,4,e,t)}function c3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function d3(e,t,s){return s=s!=null?s.concat([e]):null,hf(4,4,c3.bind(null,t,e),s)}function zy(){}function u3(e,t){var s=Qn();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Fy(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function h3(e,t){var s=Qn();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Fy(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function m3(e,t,s){return ao&21?(cr(s,t)||(s=y5(),$t.lanes|=s,oo|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ln=!0),e.memoizedState=s)}function p7(e,t){var s=wt;wt=s!==0&&4>s?s:4,e(!0);var n=Op.transition;Op.transition={};try{e(!1),t()}finally{wt=s,Op.transition=n}}function f3(){return Qn().memoizedState}function g7(e,t,s){var n=ra(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},p3(e))g3(t,s);else if(s=Y5(e,t,s,n),s!==null){var i=Xs();lr(s,e,n,i),x3(s,t,n)}}function x7(e,t,s){var n=ra(e),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(p3(e))g3(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,cr(l,o)){var c=t.interleaved;c===null?(i.next=i,Dy(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=Y5(e,t,i,n),s!==null&&(i=Xs(),lr(s,e,n,i),x3(s,t,n))}}function p3(e){var t=e.alternate;return e===$t||t!==null&&t===$t}function g3(e,t){qc=mm=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function x3(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,by(e,s)}}var fm={readContext:Kn,useCallback:Ps,useContext:Ps,useEffect:Ps,useImperativeHandle:Ps,useInsertionEffect:Ps,useLayoutEffect:Ps,useMemo:Ps,useReducer:Ps,useRef:Ps,useState:Ps,useDebugValue:Ps,useDeferredValue:Ps,useTransition:Ps,useMutableSource:Ps,useSyncExternalStore:Ps,useId:Ps,unstable_isNewReconciler:!1},y7={readContext:Kn,useCallback:function(e,t){return xr().memoizedState=[e,t===void 0?null:t],e},useContext:Kn,useEffect:Pv,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ph(4194308,4,c3.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ph(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ph(4,2,e,t)},useMemo:function(e,t){var s=xr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=xr();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=g7.bind(null,$t,e),[n.memoizedState,e]},useRef:function(e){var t=xr();return e={current:e},t.memoizedState=e},useState:Cv,useDebugValue:zy,useDeferredValue:function(e){return xr().memoizedState=e},useTransition:function(){var e=Cv(!1),t=e[0];return e=p7.bind(null,e[1]),xr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=$t,i=xr();if(It){if(s===void 0)throw Error(Pe(407));s=s()}else{if(s=t(),gs===null)throw Error(Pe(349));ao&30||t3(n,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,Pv(n3.bind(null,n,a,e),[e]),n.flags|=2048,Nd(9,s3.bind(null,n,a,s,t),void 0,null),s},useId:function(){var e=xr(),t=gs.identifierPrefix;if(It){var s=Zr,n=Jr;s=(n&~(1<<32-or(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=jd++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=f7++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},b7={readContext:Kn,useCallback:u3,useContext:Kn,useEffect:$y,useImperativeHandle:d3,useInsertionEffect:o3,useLayoutEffect:l3,useMemo:h3,useReducer:Rp,useRef:a3,useState:function(){return Rp(wd)},useDebugValue:zy,useDeferredValue:function(e){var t=Qn();return m3(t,os.memoizedState,e)},useTransition:function(){var e=Rp(wd)[0],t=Qn().memoizedState;return[e,t]},useMutableSource:Z5,useSyncExternalStore:e3,useId:f3,unstable_isNewReconciler:!1},v7={readContext:Kn,useCallback:u3,useContext:Kn,useEffect:$y,useImperativeHandle:d3,useInsertionEffect:o3,useLayoutEffect:l3,useMemo:h3,useReducer:Ip,useRef:a3,useState:function(){return Ip(wd)},useDebugValue:zy,useDeferredValue:function(e){var t=Qn();return os===null?t.memoizedState=e:m3(t,os.memoizedState,e)},useTransition:function(){var e=Ip(wd)[0],t=Qn().memoizedState;return[e,t]},useMutableSource:Z5,useSyncExternalStore:e3,useId:f3,unstable_isNewReconciler:!1};function er(e,t){if(e&&e.defaultProps){t=Ut({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function bg(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Ut({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var mf={isMounted:function(e){return(e=e._reactInternals)?jo(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Xs(),i=ra(e),a=ri(n,i);a.payload=t,s!=null&&(a.callback=s),t=sa(e,a,i),t!==null&&(lr(t,e,i,n),Sh(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Xs(),i=ra(e),a=ri(n,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=sa(e,a,i),t!==null&&(lr(t,e,i,n),Sh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Xs(),n=ra(e),i=ri(s,n);i.tag=2,t!=null&&(i.callback=t),t=sa(e,i,n),t!==null&&(lr(t,e,n,s),Sh(t,e,n))}};function kv(e,t,s,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!pd(s,n)||!pd(i,a):!0}function y3(e,t,s){var n=!1,i=da,a=t.contextType;return typeof a=="object"&&a!==null?a=Kn(a):(i=un(t)?ro:zs.current,n=t.contextTypes,a=(n=n!=null)?Nl(e,i):da),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Av(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&mf.enqueueReplaceState(t,t.state,null)}function vg(e,t,s,n){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},Oy(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Kn(a):(a=un(t)?ro:zs.current,i.context=Nl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(bg(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&mf.enqueueReplaceState(i,i.state,null),um(e,s,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function kl(e,t){try{var s="",n=t;do s+=Kk(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Lp(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function jg(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var j7=typeof WeakMap=="function"?WeakMap:Map;function b3(e,t,s){s=ri(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){gm||(gm=!0,_g=n),jg(e,t)},s}function v3(e,t,s){s=ri(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;s.payload=function(){return n(i)},s.callback=function(){jg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){jg(e,t),typeof n!="function"&&(na===null?na=new Set([this]):na.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function Tv(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new j7;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(s)||(i.add(s),e=R7.bind(null,e,t,s),t.then(e,e))}function Ev(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _v(e,t,s,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=ri(-1,1),t.tag=2,sa(s,t,1))),s.lanes|=1),e)}var w7=gi.ReactCurrentOwner,ln=!1;function Ws(e,t,s,n){t.child=e===null?Q5(t,null,s,n):Cl(t,e.child,s,n)}function Mv(e,t,s,n,i){s=s.render;var a=t.ref;return sl(t,i),n=Vy(e,t,s,n,a,i),s=By(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hi(e,t,i)):(It&&s&&ky(t),t.flags|=1,Ws(e,t,n,i),t.child)}function Dv(e,t,s,n,i){if(e===null){var a=s.type;return typeof a=="function"&&!Yy(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,j3(e,t,a,n,i)):(e=Eh(s.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:pd,s(o,n)&&e.ref===t.ref)return hi(e,t,i)}return t.flags|=1,e=ia(a,n),e.ref=t.ref,e.return=t,t.child=e}function j3(e,t,s,n,i){if(e!==null){var a=e.memoizedProps;if(pd(a,n)&&e.ref===t.ref)if(ln=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(ln=!0);else return t.lanes=e.lanes,hi(e,t,i)}return wg(e,t,s,n,i)}function w3(e,t,s){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Ho,vn),vn|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Et(Ho,vn),vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,Et(Ho,vn),vn|=n}else a!==null?(n=a.baseLanes|s,t.memoizedState=null):n=s,Et(Ho,vn),vn|=n;return Ws(e,t,i,s),t.child}function N3(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function wg(e,t,s,n,i){var a=un(s)?ro:zs.current;return a=Nl(t,a),sl(t,i),s=Vy(e,t,s,n,a,i),n=By(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hi(e,t,i)):(It&&n&&ky(t),t.flags|=1,Ws(e,t,s,i),t.child)}function Ov(e,t,s,n,i){if(un(s)){var a=!0;am(t)}else a=!1;if(sl(t,i),t.stateNode===null)kh(e,t),y3(t,s,n),vg(t,s,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Kn(d):(d=un(s)?ro:zs.current,d=Nl(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Av(t,o,n,d),Ei=!1;var m=t.memoizedState;o.state=m,um(t,n,o,i),c=t.memoizedState,l!==n||m!==c||dn.current||Ei?(typeof u=="function"&&(bg(t,s,u,n),c=t.memoizedState),(l=Ei||kv(t,s,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,X5(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:er(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Kn(c):(c=un(s)?ro:zs.current,c=Nl(t,c));var f=s.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Av(t,o,n,c),Ei=!1,m=t.memoizedState,o.state=m,um(t,n,o,i);var g=t.memoizedState;l!==h||m!==g||dn.current||Ei?(typeof f=="function"&&(bg(t,s,f,n),g=t.memoizedState),(d=Ei||kv(t,s,d,n,m,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Ng(e,t,s,n,a,i)}function Ng(e,t,s,n,i,a){N3(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&bv(t,s,!1),hi(e,t,a);n=t.stateNode,w7.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Cl(t,e.child,null,a),t.child=Cl(t,null,l,a)):Ws(e,t,l,a),t.memoizedState=n.state,i&&bv(t,s,!0),t.child}function S3(e){var t=e.stateNode;t.pendingContext?yv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yv(e,t.context,!1),Ry(e,t.containerInfo)}function Rv(e,t,s,n,i){return Sl(),Ty(i),t.flags|=256,Ws(e,t,s,n),t.child}var Sg={dehydrated:null,treeContext:null,retryLane:0};function Cg(e){return{baseLanes:e,cachePool:null,transitions:null}}function C3(e,t,s){var n=t.pendingProps,i=Lt.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Et(Lt,i&1),e===null)return xg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=gf(o,n,0,null),e=Za(e,n,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Cg(s),t.memoizedState=Sg,e):Uy(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return N7(e,t,o,n,l,i,s);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ia(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=ia(l,a):(a=Za(a,o,s,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Cg(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=Sg,n}return a=e.child,e=a.sibling,n=ia(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Uy(e,t){return t=gf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Iu(e,t,s,n){return n!==null&&Ty(n),Cl(t,e.child,null,s),e=Uy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N7(e,t,s,n,i,a,o){if(s)return t.flags&256?(t.flags&=-257,n=Lp(Error(Pe(422))),Iu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=gf({mode:"visible",children:n.children},i,0,null),a=Za(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Cl(t,e.child,null,o),t.child.memoizedState=Cg(o),t.memoizedState=Sg,a);if(!(t.mode&1))return Iu(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Pe(419)),n=Lp(a,n,void 0),Iu(e,t,o,n)}if(l=(o&e.childLanes)!==0,ln||l){if(n=gs,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ui(e,i),lr(n,e,i,-1))}return Qy(),n=Lp(Error(Pe(421))),Iu(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=I7.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Pn=ta(i.nextSibling),kn=t,It=!0,rr=null,e!==null&&($n[zn++]=Jr,$n[zn++]=Zr,$n[zn++]=io,Jr=e.id,Zr=e.overflow,io=t),t=Uy(t,n.children),t.flags|=4096,t)}function Iv(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),yg(e.return,t,s)}function Fp(e,t,s,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function P3(e,t,s){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ws(e,t,n.children,s),n=Lt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iv(e,s,t);else if(e.tag===19)Iv(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Et(Lt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&hm(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),Fp(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hm(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}Fp(t,!0,s,null,a);break;case"together":Fp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hi(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),oo|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Pe(153));if(t.child!==null){for(e=t.child,s=ia(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ia(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function S7(e,t,s){switch(t.tag){case 3:S3(t),Sl();break;case 5:J5(t);break;case 1:un(t.type)&&am(t);break;case 4:Ry(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Et(cm,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Et(Lt,Lt.current&1),t.flags|=128,null):s&t.child.childLanes?C3(e,t,s):(Et(Lt,Lt.current&1),e=hi(e,t,s),e!==null?e.sibling:null);Et(Lt,Lt.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return P3(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Et(Lt,Lt.current),n)break;return null;case 22:case 23:return t.lanes=0,w3(e,t,s)}return hi(e,t,s)}var k3,Pg,A3,T3;k3=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Pg=function(){};A3=function(e,t,s,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ia(Er.current);var a=null;switch(s){case"input":i=K0(e,i),n=K0(e,n),a=[];break;case"select":i=Ut({},i,{value:void 0}),n=Ut({},n,{value:void 0}),a=[];break;case"textarea":i=X0(e,i),n=X0(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=rm)}Z0(s,n);var o;s=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ld.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ld.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Mt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};T3=function(e,t,s,n){s!==n&&(t.flags|=4)};function ac(e,t){if(!It)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ks(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function C7(e,t,s){var n=t.pendingProps;switch(Ay(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ks(t),null;case 1:return un(t.type)&&im(),ks(t),null;case 3:return n=t.stateNode,Pl(),Ot(dn),Ot(zs),Ly(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rr!==null&&(Og(rr),rr=null))),Pg(e,t),ks(t),null;case 5:Iy(t);var i=Ia(vd.current);if(s=t.type,e!==null&&t.stateNode!=null)A3(e,t,s,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Pe(166));return ks(t),null}if(e=Ia(Er.current),Ou(t)){n=t.stateNode,s=t.type;var a=t.memoizedProps;switch(n[Pr]=t,n[yd]=a,e=(t.mode&1)!==0,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(i=0;i<Sc.length;i++)Mt(Sc[i],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":q1(n,a),Mt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Mt("invalid",n);break;case"textarea":G1(n,a),Mt("invalid",n)}Z0(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Du(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Du(n.textContent,l,e),i=["children",""+l]):ld.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Mt("scroll",n)}switch(s){case"input":Cu(n),W1(n,a,!0);break;case"textarea":Cu(n),K1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=rm)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=n5(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[Pr]=t,e[yd]=n,k3(e,t,!1,!1),t.stateNode=e;e:{switch(o=eg(s,n),s){case"dialog":Mt("cancel",e),Mt("close",e),i=n;break;case"iframe":case"object":case"embed":Mt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Sc.length;i++)Mt(Sc[i],e);i=n;break;case"source":Mt("error",e),i=n;break;case"img":case"image":case"link":Mt("error",e),Mt("load",e),i=n;break;case"details":Mt("toggle",e),i=n;break;case"input":q1(e,n),i=K0(e,n),Mt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ut({},n,{value:void 0}),Mt("invalid",e);break;case"textarea":G1(e,n),i=X0(e,n),Mt("invalid",e);break;default:i=n}Z0(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?a5(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&r5(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&cd(e,c):typeof c=="number"&&cd(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ld.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Mt("scroll",e):c!=null&&my(e,a,c,o))}switch(s){case"input":Cu(e),W1(e,n,!1);break;case"textarea":Cu(e),K1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ca(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Jo(e,!!n.multiple,a,!1):n.defaultValue!=null&&Jo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=rm)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ks(t),null;case 6:if(e&&t.stateNode!=null)T3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Pe(166));if(s=Ia(vd.current),Ia(Er.current),Ou(t)){if(n=t.stateNode,s=t.memoizedProps,n[Pr]=t,(a=n.nodeValue!==s)&&(e=kn,e!==null))switch(e.tag){case 3:Du(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Du(n.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Pr]=t,t.stateNode=n}return ks(t),null;case 13:if(Ot(Lt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(It&&Pn!==null&&t.mode&1&&!(t.flags&128))G5(),Sl(),t.flags|=98560,a=!1;else if(a=Ou(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Pe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Pe(317));a[Pr]=t}else Sl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ks(t),a=!1}else rr!==null&&(Og(rr),rr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Lt.current&1?us===0&&(us=3):Qy())),t.updateQueue!==null&&(t.flags|=4),ks(t),null);case 4:return Pl(),Pg(e,t),e===null&&gd(t.stateNode.containerInfo),ks(t),null;case 10:return My(t.type._context),ks(t),null;case 17:return un(t.type)&&im(),ks(t),null;case 19:if(Ot(Lt),a=t.memoizedState,a===null)return ks(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)ac(a,!1);else{if(us!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hm(e),o!==null){for(t.flags|=128,ac(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)a=s,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Et(Lt,Lt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Zt()>Al&&(t.flags|=128,n=!0,ac(a,!1),t.lanes=4194304)}else{if(!n)if(e=hm(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),ac(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!It)return ks(t),null}else 2*Zt()-a.renderingStartTime>Al&&s!==1073741824&&(t.flags|=128,n=!0,ac(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Zt(),t.sibling=null,s=Lt.current,Et(Lt,n?s&1|2:s&1),t):(ks(t),null);case 22:case 23:return Ky(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vn&1073741824&&(ks(t),t.subtreeFlags&6&&(t.flags|=8192)):ks(t),null;case 24:return null;case 25:return null}throw Error(Pe(156,t.tag))}function P7(e,t){switch(Ay(t),t.tag){case 1:return un(t.type)&&im(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pl(),Ot(dn),Ot(zs),Ly(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Iy(t),null;case 13:if(Ot(Lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Pe(340));Sl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ot(Lt),null;case 4:return Pl(),null;case 10:return My(t.type._context),null;case 22:case 23:return Ky(),null;case 24:return null;default:return null}}var Lu=!1,Is=!1,k7=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Uo(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Gt(e,t,n)}else s.current=null}function kg(e,t,s){try{s()}catch(n){Gt(e,t,n)}}var Lv=!1;function A7(e,t){if(dg=tm,e=O5(),Py(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===s&&++d===i&&(l=o),m===a&&++u===n&&(c=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(ug={focusedElem:e,selectionRange:s},tm=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:er(t.type,p),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(j){Gt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return g=Lv,Lv=!1,g}function Wc(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&kg(t,s,a)}i=i.next}while(i!==n)}}function ff(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Ag(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function E3(e){var t=e.alternate;t!==null&&(e.alternate=null,E3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pr],delete t[yd],delete t[fg],delete t[d7],delete t[u7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _3(e){return e.tag===5||e.tag===3||e.tag===4}function Fv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tg(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=rm));else if(n!==4&&(e=e.child,e!==null))for(Tg(e,t,s),e=e.sibling;e!==null;)Tg(e,t,s),e=e.sibling}function Eg(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Eg(e,t,s),e=e.sibling;e!==null;)Eg(e,t,s),e=e.sibling}var ys=null,nr=!1;function Ni(e,t,s){for(s=s.child;s!==null;)M3(e,t,s),s=s.sibling}function M3(e,t,s){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(af,s)}catch{}switch(s.tag){case 5:Is||Uo(s,t);case 6:var n=ys,i=nr;ys=null,Ni(e,t,s),ys=n,nr=i,ys!==null&&(nr?(e=ys,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ys.removeChild(s.stateNode));break;case 18:ys!==null&&(nr?(e=ys,s=s.stateNode,e.nodeType===8?_p(e.parentNode,s):e.nodeType===1&&_p(e,s),md(e)):_p(ys,s.stateNode));break;case 4:n=ys,i=nr,ys=s.stateNode.containerInfo,nr=!0,Ni(e,t,s),ys=n,nr=i;break;case 0:case 11:case 14:case 15:if(!Is&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&kg(s,t,o),i=i.next}while(i!==n)}Ni(e,t,s);break;case 1:if(!Is&&(Uo(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){Gt(s,t,l)}Ni(e,t,s);break;case 21:Ni(e,t,s);break;case 22:s.mode&1?(Is=(n=Is)||s.memoizedState!==null,Ni(e,t,s),Is=n):Ni(e,t,s);break;default:Ni(e,t,s)}}function Vv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new k7),t.forEach(function(n){var i=L7.bind(null,e,n);s.has(n)||(s.add(n),n.then(i,i))})}}function Jn(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ys=l.stateNode,nr=!1;break e;case 3:ys=l.stateNode.containerInfo,nr=!0;break e;case 4:ys=l.stateNode.containerInfo,nr=!0;break e}l=l.return}if(ys===null)throw Error(Pe(160));M3(a,o,i),ys=null,nr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Gt(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)D3(t,e),t=t.sibling}function D3(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jn(t,e),fr(e),n&4){try{Wc(3,e,e.return),ff(3,e)}catch(p){Gt(e,e.return,p)}try{Wc(5,e,e.return)}catch(p){Gt(e,e.return,p)}}break;case 1:Jn(t,e),fr(e),n&512&&s!==null&&Uo(s,s.return);break;case 5:if(Jn(t,e),fr(e),n&512&&s!==null&&Uo(s,s.return),e.flags&32){var i=e.stateNode;try{cd(i,"")}catch(p){Gt(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&t5(i,a),eg(l,o);var d=eg(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?a5(i,h):u==="dangerouslySetInnerHTML"?r5(i,h):u==="children"?cd(i,h):my(i,u,h,d)}switch(l){case"input":Q0(i,a);break;case"textarea":s5(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Jo(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?Jo(i,!!a.multiple,a.defaultValue,!0):Jo(i,!!a.multiple,a.multiple?[]:"",!1))}i[yd]=a}catch(p){Gt(e,e.return,p)}}break;case 6:if(Jn(t,e),fr(e),n&4){if(e.stateNode===null)throw Error(Pe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){Gt(e,e.return,p)}}break;case 3:if(Jn(t,e),fr(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{md(t.containerInfo)}catch(p){Gt(e,e.return,p)}break;case 4:Jn(t,e),fr(e);break;case 13:Jn(t,e),fr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Wy=Zt())),n&4&&Vv(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Is=(d=Is)||u,Jn(t,e),Is=d):Jn(t,e),fr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Le=e,u=e.child;u!==null;){for(h=Le=u;Le!==null;){switch(m=Le,f=m.child,m.tag){case 0:case 11:case 14:case 15:Wc(4,m,m.return);break;case 1:Uo(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,s=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Gt(n,s,p)}}break;case 5:Uo(m,m.return);break;case 22:if(m.memoizedState!==null){$v(h);continue}}f!==null?(f.return=m,Le=f):$v(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=i5("display",o))}catch(p){Gt(e,e.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){Gt(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jn(t,e),fr(e),n&4&&Vv(e);break;case 21:break;default:Jn(t,e),fr(e)}}function fr(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(_3(s)){var n=s;break e}s=s.return}throw Error(Pe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(cd(i,""),n.flags&=-33);var a=Fv(e);Eg(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Fv(e);Tg(e,l,o);break;default:throw Error(Pe(161))}}catch(c){Gt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function T7(e,t,s){Le=e,O3(e)}function O3(e,t,s){for(var n=(e.mode&1)!==0;Le!==null;){var i=Le,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Lu;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Is;l=Lu;var d=Is;if(Lu=o,(Is=c)&&!d)for(Le=i;Le!==null;)o=Le,c=o.child,o.tag===22&&o.memoizedState!==null?zv(i):c!==null?(c.return=o,Le=c):zv(i);for(;a!==null;)Le=a,O3(a),a=a.sibling;Le=i,Lu=l,Is=d}Bv(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Le=a):Bv(e)}}function Bv(e){for(;Le!==null;){var t=Le;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Is||ff(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Is)if(s===null)n.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:er(t.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Sv(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Sv(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&md(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Is||t.flags&512&&Ag(t)}catch(m){Gt(t,t.return,m)}}if(t===e){Le=null;break}if(s=t.sibling,s!==null){s.return=t.return,Le=s;break}Le=t.return}}function $v(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Le=s;break}Le=t.return}}function zv(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{ff(4,t)}catch(c){Gt(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Gt(t,i,c)}}var a=t.return;try{Ag(t)}catch(c){Gt(t,a,c)}break;case 5:var o=t.return;try{Ag(t)}catch(c){Gt(t,o,c)}}}catch(c){Gt(t,t.return,c)}if(t===e){Le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Le=l;break}Le=t.return}}var E7=Math.ceil,pm=gi.ReactCurrentDispatcher,Hy=gi.ReactCurrentOwner,Gn=gi.ReactCurrentBatchConfig,ht=0,gs=null,ns=null,ws=0,vn=0,Ho=xa(0),us=0,Sd=null,oo=0,pf=0,qy=0,Gc=null,an=null,Wy=0,Al=1/0,qr=null,gm=!1,_g=null,na=null,Fu=!1,Wi=null,xm=0,Kc=0,Mg=null,Ah=-1,Th=0;function Xs(){return ht&6?Zt():Ah!==-1?Ah:Ah=Zt()}function ra(e){return e.mode&1?ht&2&&ws!==0?ws&-ws:m7.transition!==null?(Th===0&&(Th=y5()),Th):(e=wt,e!==0||(e=window.event,e=e===void 0?16:C5(e.type)),e):1}function lr(e,t,s,n){if(50<Kc)throw Kc=0,Mg=null,Error(Pe(185));tu(e,s,n),(!(ht&2)||e!==gs)&&(e===gs&&(!(ht&2)&&(pf|=s),us===4&&Di(e,ws)),hn(e,n),s===1&&ht===0&&!(t.mode&1)&&(Al=Zt()+500,uf&&ya()))}function hn(e,t){var s=e.callbackNode;mA(e,t);var n=em(e,e===gs?ws:0);if(n===0)s!==null&&X1(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&X1(s),t===1)e.tag===0?h7(Uv.bind(null,e)):H5(Uv.bind(null,e)),l7(function(){!(ht&6)&&ya()}),s=null;else{switch(b5(n)){case 1:s=yy;break;case 4:s=g5;break;case 16:s=Zh;break;case 536870912:s=x5;break;default:s=Zh}s=z3(s,R3.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function R3(e,t){if(Ah=-1,Th=0,ht&6)throw Error(Pe(327));var s=e.callbackNode;if(nl()&&e.callbackNode!==s)return null;var n=em(e,e===gs?ws:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ym(e,n);else{t=n;var i=ht;ht|=2;var a=L3();(gs!==e||ws!==t)&&(qr=null,Al=Zt()+500,Ja(e,t));do try{D7();break}catch(l){I3(e,l)}while(!0);_y(),pm.current=a,ht=i,ns!==null?t=0:(gs=null,ws=0,t=us)}if(t!==0){if(t===2&&(i=ig(e),i!==0&&(n=i,t=Dg(e,i))),t===1)throw s=Sd,Ja(e,0),Di(e,n),hn(e,Zt()),s;if(t===6)Di(e,n);else{if(i=e.current.alternate,!(n&30)&&!_7(i)&&(t=ym(e,n),t===2&&(a=ig(e),a!==0&&(n=a,t=Dg(e,a))),t===1))throw s=Sd,Ja(e,0),Di(e,n),hn(e,Zt()),s;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Pe(345));case 2:Ta(e,an,qr);break;case 3:if(Di(e,n),(n&130023424)===n&&(t=Wy+500-Zt(),10<t)){if(em(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Xs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mg(Ta.bind(null,e,an,qr),t);break}Ta(e,an,qr);break;case 4:if(Di(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-or(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Zt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E7(n/1960))-n,10<n){e.timeoutHandle=mg(Ta.bind(null,e,an,qr),n);break}Ta(e,an,qr);break;case 5:Ta(e,an,qr);break;default:throw Error(Pe(329))}}}return hn(e,Zt()),e.callbackNode===s?R3.bind(null,e):null}function Dg(e,t){var s=Gc;return e.current.memoizedState.isDehydrated&&(Ja(e,t).flags|=256),e=ym(e,t),e!==2&&(t=an,an=s,t!==null&&Og(t)),e}function Og(e){an===null?an=e:an.push.apply(an,e)}function _7(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!cr(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Di(e,t){for(t&=~qy,t&=~pf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-or(t),n=1<<s;e[s]=-1,t&=~n}}function Uv(e){if(ht&6)throw Error(Pe(327));nl();var t=em(e,0);if(!(t&1))return hn(e,Zt()),null;var s=ym(e,t);if(e.tag!==0&&s===2){var n=ig(e);n!==0&&(t=n,s=Dg(e,n))}if(s===1)throw s=Sd,Ja(e,0),Di(e,t),hn(e,Zt()),s;if(s===6)throw Error(Pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ta(e,an,qr),hn(e,Zt()),null}function Gy(e,t){var s=ht;ht|=1;try{return e(t)}finally{ht=s,ht===0&&(Al=Zt()+500,uf&&ya())}}function lo(e){Wi!==null&&Wi.tag===0&&!(ht&6)&&nl();var t=ht;ht|=1;var s=Gn.transition,n=wt;try{if(Gn.transition=null,wt=1,e)return e()}finally{wt=n,Gn.transition=s,ht=t,!(ht&6)&&ya()}}function Ky(){vn=Ho.current,Ot(Ho)}function Ja(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,o7(s)),ns!==null)for(s=ns.return;s!==null;){var n=s;switch(Ay(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&im();break;case 3:Pl(),Ot(dn),Ot(zs),Ly();break;case 5:Iy(n);break;case 4:Pl();break;case 13:Ot(Lt);break;case 19:Ot(Lt);break;case 10:My(n.type._context);break;case 22:case 23:Ky()}s=s.return}if(gs=e,ns=e=ia(e.current,null),ws=vn=t,us=0,Sd=null,qy=pf=oo=0,an=Gc=null,Ra!==null){for(t=0;t<Ra.length;t++)if(s=Ra[t],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}s.pending=n}Ra=null}return e}function I3(e,t){do{var s=ns;try{if(_y(),Ch.current=fm,mm){for(var n=$t.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}mm=!1}if(ao=0,fs=os=$t=null,qc=!1,jd=0,Hy.current=null,s===null||s.return===null){us=1,Sd=t,ns=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=ws,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Ev(o);if(f!==null){f.flags&=-257,_v(f,o,l,a,t),f.mode&1&&Tv(a,d,t),t=f,c=d;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){Tv(a,d,t),Qy();break e}c=Error(Pe(426))}}else if(It&&l.mode&1){var v=Ev(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),_v(v,o,l,a,t),Ty(kl(c,l));break e}}a=c=kl(c,l),us!==4&&(us=2),Gc===null?Gc=[a]:Gc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=b3(a,c,t);Nv(a,b);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(na===null||!na.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=v3(a,l,t);Nv(a,j);break e}}a=a.return}while(a!==null)}V3(s)}catch(N){t=N,ns===s&&s!==null&&(ns=s=s.return);continue}break}while(!0)}function L3(){var e=pm.current;return pm.current=fm,e===null?fm:e}function Qy(){(us===0||us===3||us===2)&&(us=4),gs===null||!(oo&268435455)&&!(pf&268435455)||Di(gs,ws)}function ym(e,t){var s=ht;ht|=2;var n=L3();(gs!==e||ws!==t)&&(qr=null,Ja(e,t));do try{M7();break}catch(i){I3(e,i)}while(!0);if(_y(),ht=s,pm.current=n,ns!==null)throw Error(Pe(261));return gs=null,ws=0,us}function M7(){for(;ns!==null;)F3(ns)}function D7(){for(;ns!==null&&!rA();)F3(ns)}function F3(e){var t=$3(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?V3(e):ns=t,Hy.current=null}function V3(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=P7(s,t),s!==null){s.flags&=32767,ns=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{us=6,ns=null;return}}else if(s=C7(s,t,vn),s!==null){ns=s;return}if(t=t.sibling,t!==null){ns=t;return}ns=t=e}while(t!==null);us===0&&(us=5)}function Ta(e,t,s){var n=wt,i=Gn.transition;try{Gn.transition=null,wt=1,O7(e,t,s,n)}finally{Gn.transition=i,wt=n}return null}function O7(e,t,s,n){do nl();while(Wi!==null);if(ht&6)throw Error(Pe(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Pe(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(fA(e,a),e===gs&&(ns=gs=null,ws=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Fu||(Fu=!0,z3(Zh,function(){return nl(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Gn.transition,Gn.transition=null;var o=wt;wt=1;var l=ht;ht|=4,Hy.current=null,A7(e,s),D3(s,e),e7(ug),tm=!!dg,ug=dg=null,e.current=s,T7(s),iA(),ht=l,wt=o,Gn.transition=a}else e.current=s;if(Fu&&(Fu=!1,Wi=e,xm=i),a=e.pendingLanes,a===0&&(na=null),lA(s.stateNode),hn(e,Zt()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(gm)throw gm=!1,e=_g,_g=null,e;return xm&1&&e.tag!==0&&nl(),a=e.pendingLanes,a&1?e===Mg?Kc++:(Kc=0,Mg=e):Kc=0,ya(),null}function nl(){if(Wi!==null){var e=b5(xm),t=Gn.transition,s=wt;try{if(Gn.transition=null,wt=16>e?16:e,Wi===null)var n=!1;else{if(e=Wi,Wi=null,xm=0,ht&6)throw Error(Pe(331));var i=ht;for(ht|=4,Le=e.current;Le!==null;){var a=Le,o=a.child;if(Le.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Le=d;Le!==null;){var u=Le;switch(u.tag){case 0:case 11:case 15:Wc(8,u,a)}var h=u.child;if(h!==null)h.return=u,Le=h;else for(;Le!==null;){u=Le;var m=u.sibling,f=u.return;if(E3(u),u===d){Le=null;break}if(m!==null){m.return=f,Le=m;break}Le=f}}}var g=a.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Le=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Le=o;else e:for(;Le!==null;){if(a=Le,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wc(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Le=b;break e}Le=a.return}}var y=e.current;for(Le=y;Le!==null;){o=Le;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Le=w;else e:for(o=y;Le!==null;){if(l=Le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ff(9,l)}}catch(N){Gt(l,l.return,N)}if(l===o){Le=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Le=j;break e}Le=l.return}}if(ht=i,ya(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(af,e)}catch{}n=!0}return n}finally{wt=s,Gn.transition=t}}return!1}function Hv(e,t,s){t=kl(s,t),t=b3(e,t,1),e=sa(e,t,1),t=Xs(),e!==null&&(tu(e,1,t),hn(e,t))}function Gt(e,t,s){if(e.tag===3)Hv(e,e,s);else for(;t!==null;){if(t.tag===3){Hv(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(na===null||!na.has(n))){e=kl(s,e),e=v3(t,e,1),t=sa(t,e,1),e=Xs(),t!==null&&(tu(t,1,e),hn(t,e));break}}t=t.return}}function R7(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Xs(),e.pingedLanes|=e.suspendedLanes&s,gs===e&&(ws&s)===s&&(us===4||us===3&&(ws&130023424)===ws&&500>Zt()-Wy?Ja(e,0):qy|=s),hn(e,t)}function B3(e,t){t===0&&(e.mode&1?(t=Au,Au<<=1,!(Au&130023424)&&(Au=4194304)):t=1);var s=Xs();e=ui(e,t),e!==null&&(tu(e,t,s),hn(e,s))}function I7(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),B3(e,s)}function L7(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Pe(314))}n!==null&&n.delete(t),B3(e,s)}var $3;$3=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||dn.current)ln=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return ln=!1,S7(e,t,s);ln=!!(e.flags&131072)}else ln=!1,It&&t.flags&1048576&&q5(t,lm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;kh(e,t),e=t.pendingProps;var i=Nl(t,zs.current);sl(t,s),i=Vy(null,t,n,e,i,s);var a=By();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(n)?(a=!0,am(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Oy(t),i.updater=mf,t.stateNode=i,i._reactInternals=t,vg(t,n,e,s),t=Ng(null,t,n,!0,a,s)):(t.tag=0,It&&a&&ky(t),Ws(null,t,i,s),t=t.child),t;case 16:n=t.elementType;e:{switch(kh(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=V7(n),e=er(n,e),i){case 0:t=wg(null,t,n,e,s);break e;case 1:t=Ov(null,t,n,e,s);break e;case 11:t=Mv(null,t,n,e,s);break e;case 14:t=Dv(null,t,n,er(n.type,e),s);break e}throw Error(Pe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:er(n,i),wg(e,t,n,i,s);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:er(n,i),Ov(e,t,n,i,s);case 3:e:{if(S3(t),e===null)throw Error(Pe(387));n=t.pendingProps,a=t.memoizedState,i=a.element,X5(e,t),um(t,n,null,s);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=kl(Error(Pe(423)),t),t=Rv(e,t,n,s,i);break e}else if(n!==i){i=kl(Error(Pe(424)),t),t=Rv(e,t,n,s,i);break e}else for(Pn=ta(t.stateNode.containerInfo.firstChild),kn=t,It=!0,rr=null,s=Q5(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Sl(),n===i){t=hi(e,t,s);break e}Ws(e,t,n,s)}t=t.child}return t;case 5:return J5(t),e===null&&xg(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,hg(n,i)?o=null:a!==null&&hg(n,a)&&(t.flags|=32),N3(e,t),Ws(e,t,o,s),t.child;case 6:return e===null&&xg(t),null;case 13:return C3(e,t,s);case 4:return Ry(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Cl(t,null,n,s):Ws(e,t,n,s),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:er(n,i),Mv(e,t,n,i,s);case 7:return Ws(e,t,t.pendingProps,s),t.child;case 8:return Ws(e,t,t.pendingProps.children,s),t.child;case 12:return Ws(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Et(cm,n._currentValue),n._currentValue=o,a!==null)if(cr(a.value,o)){if(a.children===i.children&&!dn.current){t=hi(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ri(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),yg(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Pe(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),yg(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ws(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,sl(t,s),i=Kn(i),n=n(i),t.flags|=1,Ws(e,t,n,s),t.child;case 14:return n=t.type,i=er(n,t.pendingProps),i=er(n.type,i),Dv(e,t,n,i,s);case 15:return j3(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:er(n,i),kh(e,t),t.tag=1,un(n)?(e=!0,am(t)):e=!1,sl(t,s),y3(t,n,i),vg(t,n,i,s),Ng(null,t,n,!0,e,s);case 19:return P3(e,t,s);case 22:return w3(e,t,s)}throw Error(Pe(156,t.tag))};function z3(e,t){return p5(e,t)}function F7(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,t,s,n){return new F7(e,t,s,n)}function Yy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function V7(e){if(typeof e=="function")return Yy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===py)return 11;if(e===gy)return 14}return 2}function ia(e,t){var s=e.alternate;return s===null?(s=qn(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Eh(e,t,s,n,i,a){var o=2;if(n=e,typeof e=="function")Yy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Oo:return Za(s.children,i,a,t);case fy:o=8,i|=8;break;case H0:return e=qn(12,s,t,i|2),e.elementType=H0,e.lanes=a,e;case q0:return e=qn(13,s,t,i),e.elementType=q0,e.lanes=a,e;case W0:return e=qn(19,s,t,i),e.elementType=W0,e.lanes=a,e;case JN:return gf(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case YN:o=10;break e;case XN:o=9;break e;case py:o=11;break e;case gy:o=14;break e;case Ti:o=16,n=null;break e}throw Error(Pe(130,e==null?e:typeof e,""))}return t=qn(o,s,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Za(e,t,s,n){return e=qn(7,e,n,t),e.lanes=s,e}function gf(e,t,s,n){return e=qn(22,e,n,t),e.elementType=JN,e.lanes=s,e.stateNode={isHidden:!1},e}function Vp(e,t,s){return e=qn(6,e,null,t),e.lanes=s,e}function Bp(e,t,s){return t=qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function B7(e,t,s,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xy(e,t,s,n,i,a,o,l,c){return e=new B7(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=qn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(a),e}function $7(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function U3(e){if(!e)return da;e=e._reactInternals;e:{if(jo(e)!==e||e.tag!==1)throw Error(Pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Pe(171))}if(e.tag===1){var s=e.type;if(un(s))return U5(e,s,t)}return t}function H3(e,t,s,n,i,a,o,l,c){return e=Xy(s,n,!0,e,i,a,o,l,c),e.context=U3(null),s=e.current,n=Xs(),i=ra(s),a=ri(n,i),a.callback=t??null,sa(s,a,i),e.current.lanes=i,tu(e,i,n),hn(e,n),e}function xf(e,t,s,n){var i=t.current,a=Xs(),o=ra(i);return s=U3(s),t.context===null?t.context=s:t.pendingContext=s,t=ri(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=sa(i,t,o),e!==null&&(lr(e,i,o,a),Sh(e,i,o)),o}function bm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Jy(e,t){qv(e,t),(e=e.alternate)&&qv(e,t)}function z7(){return null}var q3=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zy(e){this._internalRoot=e}yf.prototype.render=Zy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Pe(409));xf(e,t,null,null)};yf.prototype.unmount=Zy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lo(function(){xf(null,e,null,null)}),t[di]=null}};function yf(e){this._internalRoot=e}yf.prototype.unstable_scheduleHydration=function(e){if(e){var t=w5();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Mi.length&&t!==0&&t<Mi[s].priority;s++);Mi.splice(s,0,e),s===0&&S5(e)}};function eb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wv(){}function U7(e,t,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=bm(o);a.call(d)}}var o=H3(t,n,e,0,null,!1,!1,"",Wv);return e._reactRootContainer=o,e[di]=o.current,gd(e.nodeType===8?e.parentNode:e),lo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=bm(c);l.call(d)}}var c=Xy(e,0,!1,null,null,!1,!1,"",Wv);return e._reactRootContainer=c,e[di]=c.current,gd(e.nodeType===8?e.parentNode:e),lo(function(){xf(t,c,s,n)}),c}function vf(e,t,s,n,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=bm(o);l.call(c)}}xf(t,o,e,i)}else o=U7(s,t,e,i,n);return bm(o)}v5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Nc(t.pendingLanes);s!==0&&(by(t,s|1),hn(t,Zt()),!(ht&6)&&(Al=Zt()+500,ya()))}break;case 13:lo(function(){var n=ui(e,1);if(n!==null){var i=Xs();lr(n,e,1,i)}}),Jy(e,1)}};vy=function(e){if(e.tag===13){var t=ui(e,134217728);if(t!==null){var s=Xs();lr(t,e,134217728,s)}Jy(e,134217728)}};j5=function(e){if(e.tag===13){var t=ra(e),s=ui(e,t);if(s!==null){var n=Xs();lr(s,e,t,n)}Jy(e,t)}};w5=function(){return wt};N5=function(e,t){var s=wt;try{return wt=e,t()}finally{wt=s}};sg=function(e,t,s){switch(t){case"input":if(Q0(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=df(n);if(!i)throw Error(Pe(90));e5(n),Q0(n,i)}}}break;case"textarea":s5(e,s);break;case"select":t=s.value,t!=null&&Jo(e,!!s.multiple,t,!1)}};c5=Gy;d5=lo;var H7={usingClientEntryPoint:!1,Events:[nu,Fo,df,o5,l5,Gy]},oc={findFiberByHostInstance:Oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q7={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=m5(e),e===null?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||z7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{af=Vu.inject(q7),Tr=Vu}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H7;Mn.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eb(t))throw Error(Pe(200));return $7(e,t,null,s)};Mn.createRoot=function(e,t){if(!eb(e))throw Error(Pe(299));var s=!1,n="",i=q3;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Xy(e,1,!1,null,null,s,!1,n,i),e[di]=t.current,gd(e.nodeType===8?e.parentNode:e),new Zy(t)};Mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pe(188)):(e=Object.keys(e).join(","),Error(Pe(268,e)));return e=m5(t),e=e===null?null:e.stateNode,e};Mn.flushSync=function(e){return lo(e)};Mn.hydrate=function(e,t,s){if(!bf(t))throw Error(Pe(200));return vf(null,e,t,!0,s)};Mn.hydrateRoot=function(e,t,s){if(!eb(e))throw Error(Pe(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",o=q3;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=H3(t,null,e,1,s??null,i,!1,a,o),e[di]=t.current,gd(e),n)for(e=0;e<n.length;e++)s=n[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new yf(t)};Mn.render=function(e,t,s){if(!bf(t))throw Error(Pe(200));return vf(null,e,t,!1,s)};Mn.unmountComponentAtNode=function(e){if(!bf(e))throw Error(Pe(40));return e._reactRootContainer?(lo(function(){vf(null,null,e,!1,function(){e._reactRootContainer=null,e[di]=null})}),!0):!1};Mn.unstable_batchedUpdates=Gy;Mn.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!bf(s))throw Error(Pe(200));if(e==null||e._reactInternals===void 0)throw Error(Pe(38));return vf(e,t,s,!1,n)};Mn.version="18.3.1-next-f1338f8080-20240426";function W3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W3)}catch(e){console.error(e)}}W3(),WN.exports=Mn;var tb=WN.exports,Gv=tb;z0.createRoot=Gv.createRoot,z0.hydrateRoot=Gv.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Cd.apply(this,arguments)}var Gi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gi||(Gi={}));const Kv="popstate";function W7(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return Rg("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:vm(i)}return K7(t,s,null,e)}function zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function G7(){return Math.random().toString(36).substr(2,8)}function Qv(e,t){return{usr:e.state,key:e.key,idx:t}}function Rg(e,t,s,n){return s===void 0&&(s=null),Cd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hl(t):t,{state:s,key:t&&t.key||n||G7()})}function vm(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Hl(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function K7(e,t,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Gi.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Cd({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Gi.Pop;let v=u(),b=v==null?null:v-d;d=v,c&&c({action:l,location:p.location,delta:b})}function m(v,b){l=Gi.Push;let y=Rg(p.location,v,b);d=u()+1;let w=Qv(y,d),j=p.createHref(y);try{o.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(j)}a&&c&&c({action:l,location:p.location,delta:1})}function f(v,b){l=Gi.Replace;let y=Rg(p.location,v,b);d=u();let w=Qv(y,d),j=p.createHref(y);o.replaceState(w,"",j),a&&c&&c({action:l,location:p.location,delta:0})}function g(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:vm(v);return y=y.replace(/ $/,"%20"),zt(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let p={get action(){return l},get location(){return e(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Kv,h),c=v,()=>{i.removeEventListener(Kv,h),c=null}},createHref(v){return t(i,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:f,go(v){return o.go(v)}};return p}var Yv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yv||(Yv={}));function Q7(e,t,s){return s===void 0&&(s="/"),Y7(e,t,s)}function Y7(e,t,s,n){let i=typeof t=="string"?Hl(t):t,a=Tl(i.pathname||"/",s);if(a==null)return null;let o=G3(e);X7(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=lT(a);l=aT(o[c],d)}return l}function G3(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(zt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=aa([n,c.relativePath]),u=s.concat(c);a.children&&a.children.length>0&&(zt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),G3(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:rT(d,a.index),routesMeta:u})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of K3(a.path))i(a,o,c)}),t}function K3(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=K3(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function X7(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:iT(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const J7=/^:[\w-]+$/,Z7=3,eT=2,tT=1,sT=10,nT=-2,Xv=e=>e==="*";function rT(e,t){let s=e.split("/"),n=s.length;return s.some(Xv)&&(n+=nT),t&&(n+=eT),s.filter(i=>!Xv(i)).reduce((i,a)=>i+(J7.test(a)?Z7:a===""?tT:sT),n)}function iT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function aT(e,t,s){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=Ig({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:aa([a,h.pathname]),pathnameBase:mT(aa([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=aa([a,h.pathnameBase]))}return o}function Ig(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=oT(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let p=l[h]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[h];return f&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function oT(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),sb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function lT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}const cT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dT=e=>cT.test(e);function uT(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?Hl(e):e,a;if(s)if(dT(s))a=s;else{if(s.includes("//")){let o=s;s=s.replace(/\/\/+/g,"/"),sb(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+s))}s.startsWith("/")?a=Jv(s.substring(1),"/"):a=Jv(s,t)}else a=t;return{pathname:a,search:fT(n),hash:pT(i)}}function Jv(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function $p(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hT(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function nb(e,t){let s=hT(e);return t?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function rb(e,t,s,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Hl(e):(i=Cd({},e),zt(!i.pathname||!i.pathname.includes("?"),$p("?","pathname","search",i)),zt(!i.pathname||!i.pathname.includes("#"),$p("#","pathname","hash",i)),zt(!i.search||!i.search.includes("#"),$p("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=s;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=uT(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const aa=e=>e.join("/").replace(/\/\/+/g,"/"),mT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Q3=["post","put","patch","delete"];new Set(Q3);const xT=["get",...Q3];new Set(xT);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Pd.apply(this,arguments)}const jf=x.createContext(null),Y3=x.createContext(null),xi=x.createContext(null),wf=x.createContext(null),Ir=x.createContext({outlet:null,matches:[],isDataRoute:!1}),X3=x.createContext(null);function yT(e,t){let{relative:s}=t===void 0?{}:t;ql()||zt(!1);let{basename:n,navigator:i}=x.useContext(xi),{hash:a,pathname:o,search:l}=Nf(e,{relative:s}),c=o;return n!=="/"&&(c=o==="/"?n:aa([n,o])),i.createHref({pathname:c,search:l,hash:a})}function ql(){return x.useContext(wf)!=null}function xn(){return ql()||zt(!1),x.useContext(wf).location}function J3(e){x.useContext(xi).static||x.useLayoutEffect(e)}function yn(){let{isDataRoute:e}=x.useContext(Ir);return e?DT():bT()}function bT(){ql()||zt(!1);let e=x.useContext(jf),{basename:t,future:s,navigator:n}=x.useContext(xi),{matches:i}=x.useContext(Ir),{pathname:a}=xn(),o=JSON.stringify(nb(i,s.v7_relativeSplatPath)),l=x.useRef(!1);return J3(()=>{l.current=!0}),x.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=rb(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:aa([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,a,e])}const vT=x.createContext(null);function jT(e){let t=x.useContext(Ir).outlet;return t&&x.createElement(vT.Provider,{value:e},t)}function iu(){let{matches:e}=x.useContext(Ir),t=e[e.length-1];return t?t.params:{}}function Nf(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=x.useContext(xi),{matches:i}=x.useContext(Ir),{pathname:a}=xn(),o=JSON.stringify(nb(i,n.v7_relativeSplatPath));return x.useMemo(()=>rb(e,JSON.parse(o),a,s==="path"),[e,o,a,s])}function wT(e,t){return NT(e,t)}function NT(e,t,s,n){ql()||zt(!1);let{navigator:i}=x.useContext(xi),{matches:a}=x.useContext(Ir),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=xn(),u;if(t){var h;let v=typeof t=="string"?Hl(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||zt(!1),u=v}else u=d;let m=u.pathname||"/",f=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Q7(e,{pathname:f}),p=AT(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:aa([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:aa([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,s,n);return t&&p?x.createElement(wf.Provider,{value:{location:Pd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Gi.Pop}},p):p}function ST(){let e=MT(),t=gT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),s?x.createElement("pre",{style:i},s):null,null)}const CT=x.createElement(ST,null);class PT extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?x.createElement(Ir.Provider,{value:this.props.routeContext},x.createElement(X3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kT(e){let{routeContext:t,match:s,children:n}=e,i=x.useContext(jf);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),x.createElement(Ir.Provider,{value:t},n)}function AT(e,t,s,n){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(i=s)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||zt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:f}=s,g=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let f,g=!1,p=null,v=null;s&&(f=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||CT,c&&(d<0&&m===0?(OT("route-fallback"),g=!0,v=null):d===m&&(g=!0,v=h.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,m+1)),y=()=>{let w;return f?w=p:g?w=v:h.route.Component?w=x.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,x.createElement(kT,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:s!=null},children:w})};return s&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?x.createElement(PT,{location:s.location,revalidation:s.revalidation,component:p,error:f,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var Z3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Z3||{}),e6=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(e6||{});function TT(e){let t=x.useContext(jf);return t||zt(!1),t}function ET(e){let t=x.useContext(Y3);return t||zt(!1),t}function _T(e){let t=x.useContext(Ir);return t||zt(!1),t}function t6(e){let t=_T(),s=t.matches[t.matches.length-1];return s.route.id||zt(!1),s.route.id}function MT(){var e;let t=x.useContext(X3),s=ET(),n=t6();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function DT(){let{router:e}=TT(Z3.UseNavigateStable),t=t6(e6.UseNavigateStable),s=x.useRef(!1);return J3(()=>{s.current=!0}),x.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Pd({fromRouteId:t},a)))},[e,t])}const Zv={};function OT(e,t,s){Zv[e]||(Zv[e]=!0)}function RT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function br(e){let{to:t,replace:s,state:n,relative:i}=e;ql()||zt(!1);let{future:a,static:o}=x.useContext(xi),{matches:l}=x.useContext(Ir),{pathname:c}=xn(),d=yn(),u=rb(t,nb(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return x.useEffect(()=>d(JSON.parse(h),{replace:s,state:n,relative:i}),[d,h,i,s,n]),null}function s6(e){return jT(e.context)}function ze(e){zt(!1)}function IT(e){let{basename:t="/",children:s=null,location:n,navigationType:i=Gi.Pop,navigator:a,static:o=!1,future:l}=e;ql()&&zt(!1);let c=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:a,static:o,future:Pd({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Hl(n));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:g="default"}=n,p=x.useMemo(()=>{let v=Tl(u,c);return v==null?null:{location:{pathname:v,search:h,hash:m,state:f,key:g},navigationType:i}},[c,u,h,m,f,g,i]);return p==null?null:x.createElement(xi.Provider,{value:d},x.createElement(wf.Provider,{children:s,value:p}))}function LT(e){let{children:t,location:s}=e;return wT(Lg(t),s)}new Promise(()=>{});function Lg(e,t){t===void 0&&(t=[]);let s=[];return x.Children.forEach(e,(n,i)=>{if(!x.isValidElement(n))return;let a=[...t,i];if(n.type===x.Fragment){s.push.apply(s,Lg(n.props.children,a));return}n.type!==ze&&zt(!1),!n.props.index||!n.props.children||zt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Lg(n.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},jm.apply(this,arguments)}function n6(e,t){if(e==null)return{};var s={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function FT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VT(e,t){return e.button===0&&(!t||t==="_self")&&!FT(e)}function Fg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(i=>[s,i]):[[s,n]])},[]))}function BT(e,t){let s=Fg(e);return t&&t.forEach((n,i)=>{s.has(i)||t.getAll(i).forEach(a=>{s.append(i,a)})}),s}const $T=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],UT="6";try{window.__reactRouterVersion=UT}catch{}const HT=x.createContext({isTransitioning:!1}),qT="startTransition",e2=$0[qT];function WT(e){let{basename:t,children:s,future:n,window:i}=e,a=x.useRef();a.current==null&&(a.current=W7({window:i,v5Compat:!0}));let o=a.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=x.useCallback(h=>{d&&e2?e2(()=>c(h)):c(h)},[c,d]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>RT(n),[n]),x.createElement(IT,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}const GT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=x.forwardRef(function(t,s){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=n6(t,$T),{basename:f}=x.useContext(xi),g,p=!1;if(typeof d=="string"&&KT.test(d)&&(g=d,GT))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=Tl(j.pathname,f);j.origin===w.origin&&N!=null?d=N+j.search+j.hash:p=!0}catch{}let v=yT(d,{relative:i}),b=YT(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function y(w){n&&n(w),w.defaultPrevented||b(w)}return x.createElement("a",jm({},m,{href:g||v,onClick:p||a?n:y,ref:s,target:c}))}),Bu=x.forwardRef(function(t,s){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,h=n6(t,zT),m=Nf(c,{relative:h.relative}),f=xn(),g=x.useContext(Y3),{navigator:p,basename:v}=x.useContext(xi),b=g!=null&&XT(m)&&d===!0,y=p.encodeLocation?p.encodeLocation(m).pathname:m.pathname,w=f.pathname,j=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(w=w.toLowerCase(),j=j?j.toLowerCase():null,y=y.toLowerCase()),j&&v&&(j=Tl(j,v)||j);const N=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=w===y||!o&&w.startsWith(y)&&w.charAt(N)==="/",P=j!=null&&(j===y||!o&&j.startsWith(y)&&j.charAt(y.length)==="/"),C={isActive:S,isPending:P,isTransitioning:b},F=S?n:void 0,T;typeof a=="function"?T=a(C):T=[a,S?"active":null,P?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let te=typeof l=="function"?l(C):l;return x.createElement(Ke,jm({},h,{"aria-current":F,className:T,ref:s,style:te,to:c,viewTransition:d}),typeof u=="function"?u(C):u)});var Vg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vg||(Vg={}));var t2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(t2||(t2={}));function QT(e){let t=x.useContext(jf);return t||zt(!1),t}function YT(e,t){let{target:s,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=yn(),d=xn(),u=Nf(e,{relative:o});return x.useCallback(h=>{if(VT(h,s)){h.preventDefault();let m=n!==void 0?n:vm(d)===vm(u);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,n,i,s,e,a,o,l])}function r6(e){let t=x.useRef(Fg(e)),s=x.useRef(!1),n=xn(),i=x.useMemo(()=>BT(n.search,s.current?null:t.current),[n.search]),a=yn(),o=x.useCallback((l,c)=>{const d=Fg(typeof l=="function"?l(i):l);s.current=!0,a("?"+d,c)},[a,i]);return[i,o]}function XT(e,t){t===void 0&&(t={});let s=x.useContext(HT);s==null&&zt(!1);let{basename:n}=QT(Vg.useViewTransitionState),i=Nf(e,{relative:t.relative});if(!s.isTransitioning)return!1;let a=Tl(s.currentLocation.pathname,n)||s.currentLocation.pathname,o=Tl(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Ig(i.pathname,o)!=null||Ig(i.pathname,a)!=null}var Wl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},JT={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ii,ay,NN,ZT=(NN=class{constructor(){qe(this,Ii,JT);qe(this,ay,!1)}setTimeoutProvider(e){Oe(this,Ii,e)}setTimeout(e,t){return H(this,Ii).setTimeout(e,t)}clearTimeout(e){H(this,Ii).clearTimeout(e)}setInterval(e,t){return H(this,Ii).setInterval(e,t)}clearInterval(e){H(this,Ii).clearInterval(e)}},Ii=new WeakMap,ay=new WeakMap,NN),La=new ZT;function eE(e){setTimeout(e,0)}var co=typeof window>"u"||"Deno"in globalThis;function Gs(){}function tE(e,t){return typeof e=="function"?e(t):e}function Bg(e){return typeof e=="number"&&e>=0&&e!==1/0}function i6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function oa(e,t){return typeof e=="function"?e(t):e}function Bn(e,t){return typeof e=="function"?e(t):e}function s2(e,t){const{type:s="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==ib(o,t.options))return!1}else if(!kd(t.queryKey,o))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function n2(e,t){const{exact:s,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(uo(t.options.mutationKey)!==uo(a))return!1}else if(!kd(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function ib(e,t){return((t==null?void 0:t.queryKeyHashFn)||uo)(e)}function uo(e){return JSON.stringify(e,(t,s)=>$g(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function kd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>kd(e[s],t[s])):!1}var sE=Object.prototype.hasOwnProperty;function a6(e,t,s=0){if(e===t)return e;if(s>500)return t;const n=r2(e)&&r2(t);if(!n&&!($g(e)&&$g(t)))return t;const a=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let d=0;for(let u=0;u<l;u++){const h=n?u:o[u],m=e[h],f=t[h];if(m===f){c[h]=m,(n?u<a:sE.call(e,h))&&d++;continue}if(m===null||f===null||typeof m!="object"||typeof f!="object"){c[h]=f;continue}const g=a6(m,f,s+1);c[h]=g,g===m&&d++}return a===l&&d===a?e:c}function wm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function r2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $g(e){if(!i2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!i2(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function i2(e){return Object.prototype.toString.call(e)==="[object Object]"}function nE(e){return new Promise(t=>{La.setTimeout(t,e)})}function zg(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?a6(e,t):t}function rE(e,t,s=0){const n=[...e,t];return s&&n.length>s?n.slice(1):n}function iE(e,t,s=0){const n=[t,...e];return s&&n.length>s?n.slice(0,-1):n}var ab=Symbol();function o6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ab?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ob(e,t){return typeof e=="function"?e(...t):!!e}function aE(e,t,s){let n=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),n||(n=!0,i.aborted?s():i.addEventListener("abort",s,{once:!0})),i)}),e}var Ua,Li,dl,SN,oE=(SN=class extends Wl{constructor(){super();qe(this,Ua);qe(this,Li);qe(this,dl);Oe(this,dl,t=>{if(!co&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){H(this,Li)||this.setEventListener(H(this,dl))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Li))==null||t.call(this),Oe(this,Li,void 0))}setEventListener(t){var s;Oe(this,dl,t),(s=H(this,Li))==null||s.call(this),Oe(this,Li,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){H(this,Ua)!==t&&(Oe(this,Ua,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof H(this,Ua)=="boolean"?H(this,Ua):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ua=new WeakMap,Li=new WeakMap,dl=new WeakMap,SN),lb=new oE;function Ug(){let e,t;const s=new Promise((i,a)=>{e=i,t=a});s.status="pending",s.catch(()=>{});function n(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},s.reject=i=>{n({status:"rejected",reason:i}),t(i)},s}var lE=eE;function cE(){let e=[],t=0,s=l=>{l()},n=l=>{l()},i=lE;const a=l=>{t?e.push(l):i(()=>{s(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var cs=cE(),ul,Fi,hl,CN,dE=(CN=class extends Wl{constructor(){super();qe(this,ul,!0);qe(this,Fi);qe(this,hl);Oe(this,hl,t=>{if(!co&&window.addEventListener){const s=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){H(this,Fi)||this.setEventListener(H(this,hl))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Fi))==null||t.call(this),Oe(this,Fi,void 0))}setEventListener(t){var s;Oe(this,hl,t),(s=H(this,Fi))==null||s.call(this),Oe(this,Fi,t(this.setOnline.bind(this)))}setOnline(t){H(this,ul)!==t&&(Oe(this,ul,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return H(this,ul)}},ul=new WeakMap,Fi=new WeakMap,hl=new WeakMap,CN),Nm=new dE;function uE(e){return Math.min(1e3*2**e,3e4)}function l6(e){return(e??"online")==="online"?Nm.isOnline():!0}var Hg=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function c6(e){let t=!1,s=0,n;const i=Ug(),a=()=>i.status!=="pending",o=p=>{var v;if(!a()){const b=new Hg(p);m(b),(v=e.onCancel)==null||v.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>lb.isFocused()&&(e.networkMode==="always"||Nm.isOnline())&&e.canRun(),u=()=>l6(e.networkMode)&&e.canRun(),h=p=>{a()||(n==null||n(),i.resolve(p))},m=p=>{a()||(n==null||n(),i.reject(p))},f=()=>new Promise(p=>{var v;n=b=>{(a()||d())&&p(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;n=void 0,a()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(a())return;let p;const v=s===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(h).catch(b=>{var S;if(a())return;const y=e.retry??(co?0:3),w=e.retryDelay??uE,j=typeof w=="function"?w(s,b):w,N=y===!0||typeof y=="number"&&s<y||typeof y=="function"&&y(s,b);if(t||!N){m(b);return}s++,(S=e.onFail)==null||S.call(e,s,b),nE(j).then(()=>d()?void 0:f()).then(()=>{t?m(b):g()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():f().then(g),i)}}var Ha,PN,d6=(PN=class{constructor(){qe(this,Ha)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bg(this.gcTime)&&Oe(this,Ha,La.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(co?1/0:5*60*1e3))}clearGcTimeout(){H(this,Ha)&&(La.clearTimeout(H(this,Ha)),Oe(this,Ha,void 0))}},Ha=new WeakMap,PN),qa,ml,Vn,Wa,ms,Qd,Ga,tr,zr,kN,hE=(kN=class extends d6{constructor(t){super();qe(this,tr);qe(this,qa);qe(this,ml);qe(this,Vn);qe(this,Wa);qe(this,ms);qe(this,Qd);qe(this,Ga);Oe(this,Ga,!1),Oe(this,Qd,t.defaultOptions),this.setOptions(t.options),this.observers=[],Oe(this,Wa,t.client),Oe(this,Vn,H(this,Wa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Oe(this,qa,o2(this.options)),this.state=t.state??H(this,qa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,ms))==null?void 0:t.promise}setOptions(t){if(this.options={...H(this,Qd),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=o2(this.options);s.data!==void 0&&(this.setState(a2(s.data,s.dataUpdatedAt)),Oe(this,qa,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Vn).remove(this)}setData(t,s){const n=zg(this.state.data,t,this.options);return rt(this,tr,zr).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(t,s){rt(this,tr,zr).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var n,i;const s=(n=H(this,ms))==null?void 0:n.promise;return(i=H(this,ms))==null||i.cancel(t),s?s.then(Gs).catch(Gs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,qa))}isActive(){return this.observers.some(t=>Bn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ab||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>oa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!i6(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=H(this,ms))==null||s.continue()}onOnline(){var s;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=H(this,ms))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,Vn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(H(this,ms)&&(H(this,Ga)?H(this,ms).cancel({revert:!0}):H(this,ms).cancelRetry()),this.scheduleGc()),H(this,Vn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,tr,zr).call(this,{type:"invalidate"})}async fetch(t,s){var c,d,u,h,m,f,g,p,v,b,y,w;if(this.state.fetchStatus!=="idle"&&((c=H(this,ms))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(H(this,ms))return H(this,ms).continueRetry(),H(this,ms).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,i=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Oe(this,Ga,!0),n.signal)})},a=()=>{const j=o6(this.options,s),S=(()=>{const P={client:H(this,Wa),queryKey:this.queryKey,meta:this.meta};return i(P),P})();return Oe(this,Ga,!1),this.options.persister?this.options.persister(j,S,this):j(S)},l=(()=>{const j={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:H(this,Wa),state:this.state,fetchFn:a};return i(j),j})();(d=this.options.behavior)==null||d.onFetch(l,this),Oe(this,ml,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&rt(this,tr,zr).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),Oe(this,ms,c6({initialPromise:s==null?void 0:s.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Hg&&j.revert&&this.setState({...H(this,ml),fetchStatus:"idle"}),n.abort()},onFail:(j,N)=>{rt(this,tr,zr).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{rt(this,tr,zr).call(this,{type:"pause"})},onContinue:()=>{rt(this,tr,zr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await H(this,ms).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(f=(m=H(this,Vn).config).onSuccess)==null||f.call(m,j,this),(p=(g=H(this,Vn).config).onSettled)==null||p.call(g,j,this.state.error,this),j}catch(j){if(j instanceof Hg){if(j.silent)return H(this,ms).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw rt(this,tr,zr).call(this,{type:"error",error:j}),(b=(v=H(this,Vn).config).onError)==null||b.call(v,j,this),(w=(y=H(this,Vn).config).onSettled)==null||w.call(y,this.state.data,j,this),j}finally{this.scheduleGc()}}},qa=new WeakMap,ml=new WeakMap,Vn=new WeakMap,Wa=new WeakMap,ms=new WeakMap,Qd=new WeakMap,Ga=new WeakMap,tr=new WeakSet,zr=function(t){const s=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...u6(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...a2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Oe(this,ml,t.manual?i:void 0),i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=s(this.state),cs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),H(this,Vn).notify({query:this,type:"updated",action:t})})},kN);function u6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:l6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function a2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function o2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,n=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var sn,dt,Yd,qs,Ka,fl,Kr,Vi,Xd,pl,gl,Qa,Ya,Bi,xl,bt,Cc,qg,Wg,Gg,Kg,Qg,Yg,Xg,h6,AN,mE=(AN=class extends Wl{constructor(t,s){super();qe(this,bt);qe(this,sn);qe(this,dt);qe(this,Yd);qe(this,qs);qe(this,Ka);qe(this,fl);qe(this,Kr);qe(this,Vi);qe(this,Xd);qe(this,pl);qe(this,gl);qe(this,Qa);qe(this,Ya);qe(this,Bi);qe(this,xl,new Set);this.options=s,Oe(this,sn,t),Oe(this,Vi,null),Oe(this,Kr,Ug()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,dt).addObserver(this),l2(H(this,dt),this.options)?rt(this,bt,Cc).call(this):this.updateResult(),rt(this,bt,Kg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jg(H(this,dt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jg(H(this,dt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,rt(this,bt,Qg).call(this),rt(this,bt,Yg).call(this),H(this,dt).removeObserver(this)}setOptions(t){const s=this.options,n=H(this,dt);if(this.options=H(this,sn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bn(this.options.enabled,H(this,dt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");rt(this,bt,Xg).call(this),H(this,dt).setOptions(this.options),s._defaulted&&!wm(this.options,s)&&H(this,sn).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,dt),observer:this});const i=this.hasListeners();i&&c2(H(this,dt),n,this.options,s)&&rt(this,bt,Cc).call(this),this.updateResult(),i&&(H(this,dt)!==n||Bn(this.options.enabled,H(this,dt))!==Bn(s.enabled,H(this,dt))||oa(this.options.staleTime,H(this,dt))!==oa(s.staleTime,H(this,dt)))&&rt(this,bt,qg).call(this);const a=rt(this,bt,Wg).call(this);i&&(H(this,dt)!==n||Bn(this.options.enabled,H(this,dt))!==Bn(s.enabled,H(this,dt))||a!==H(this,Bi))&&rt(this,bt,Gg).call(this,a)}getOptimisticResult(t){const s=H(this,sn).getQueryCache().build(H(this,sn),t),n=this.createResult(s,t);return pE(this,n)&&(Oe(this,qs,n),Oe(this,fl,this.options),Oe(this,Ka,H(this,dt).state)),n}getCurrentResult(){return H(this,qs)}trackResult(t,s){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),s==null||s(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&H(this,Kr).status==="pending"&&H(this,Kr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){H(this,xl).add(t)}getCurrentQuery(){return H(this,dt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=H(this,sn).defaultQueryOptions(t),n=H(this,sn).getQueryCache().build(H(this,sn),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(t){return rt(this,bt,Cc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,qs)))}createResult(t,s){var F;const n=H(this,dt),i=this.options,a=H(this,qs),o=H(this,Ka),l=H(this,fl),d=t!==n?t.state:H(this,Yd),{state:u}=t;let h={...u},m=!1,f;if(s._optimisticResults){const T=this.hasListeners(),te=!T&&l2(t,s),A=T&&c2(t,n,s,i);(te||A)&&(h={...h,...u6(u.data,t.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=h;f=h.data;let b=!1;if(s.placeholderData!==void 0&&f===void 0&&v==="pending"){let T;a!=null&&a.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData)?(T=a.data,b=!0):T=typeof s.placeholderData=="function"?s.placeholderData((F=H(this,gl))==null?void 0:F.state.data,H(this,gl)):s.placeholderData,T!==void 0&&(v="success",f=zg(a==null?void 0:a.data,T,s),m=!0)}if(s.select&&f!==void 0&&!b)if(a&&f===(o==null?void 0:o.data)&&s.select===H(this,Xd))f=H(this,pl);else try{Oe(this,Xd,s.select),f=s.select(f),f=zg(a==null?void 0:a.data,f,s),Oe(this,pl,f),Oe(this,Vi,null)}catch(T){Oe(this,Vi,T)}H(this,Vi)&&(g=H(this,Vi),f=H(this,pl),p=Date.now(),v="error");const y=h.fetchStatus==="fetching",w=v==="pending",j=v==="error",N=w&&y,S=f!==void 0,C={status:v,fetchStatus:h.fetchStatus,isPending:w,isSuccess:v==="success",isError:j,isInitialLoading:N,isLoading:N,data:f,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:j&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&S,isStale:cb(t,s),refetch:this.refetch,promise:H(this,Kr),isEnabled:Bn(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=C.data!==void 0,te=C.status==="error"&&!T,A=B=>{te?B.reject(C.error):T&&B.resolve(C.data)},q=()=>{const B=Oe(this,Kr,C.promise=Ug());A(B)},z=H(this,Kr);switch(z.status){case"pending":t.queryHash===n.queryHash&&A(z);break;case"fulfilled":(te||C.data!==z.value)&&q();break;case"rejected":(!te||C.error!==z.reason)&&q();break}}return C}updateResult(){const t=H(this,qs),s=this.createResult(H(this,dt),this.options);if(Oe(this,Ka,H(this,dt).state),Oe(this,fl,this.options),H(this,Ka).data!==void 0&&Oe(this,gl,H(this,dt)),wm(s,t))return;Oe(this,qs,s);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!H(this,xl).size)return!0;const o=new Set(a??H(this,xl));return this.options.throwOnError&&o.add("error"),Object.keys(H(this,qs)).some(l=>{const c=l;return H(this,qs)[c]!==t[c]&&o.has(c)})};rt(this,bt,h6).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&rt(this,bt,Kg).call(this)}},sn=new WeakMap,dt=new WeakMap,Yd=new WeakMap,qs=new WeakMap,Ka=new WeakMap,fl=new WeakMap,Kr=new WeakMap,Vi=new WeakMap,Xd=new WeakMap,pl=new WeakMap,gl=new WeakMap,Qa=new WeakMap,Ya=new WeakMap,Bi=new WeakMap,xl=new WeakMap,bt=new WeakSet,Cc=function(t){rt(this,bt,Xg).call(this);let s=H(this,dt).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(Gs)),s},qg=function(){rt(this,bt,Qg).call(this);const t=oa(this.options.staleTime,H(this,dt));if(co||H(this,qs).isStale||!Bg(t))return;const n=i6(H(this,qs).dataUpdatedAt,t)+1;Oe(this,Qa,La.setTimeout(()=>{H(this,qs).isStale||this.updateResult()},n))},Wg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,dt)):this.options.refetchInterval)??!1},Gg=function(t){rt(this,bt,Yg).call(this),Oe(this,Bi,t),!(co||Bn(this.options.enabled,H(this,dt))===!1||!Bg(H(this,Bi))||H(this,Bi)===0)&&Oe(this,Ya,La.setInterval(()=>{(this.options.refetchIntervalInBackground||lb.isFocused())&&rt(this,bt,Cc).call(this)},H(this,Bi)))},Kg=function(){rt(this,bt,qg).call(this),rt(this,bt,Gg).call(this,rt(this,bt,Wg).call(this))},Qg=function(){H(this,Qa)&&(La.clearTimeout(H(this,Qa)),Oe(this,Qa,void 0))},Yg=function(){H(this,Ya)&&(La.clearInterval(H(this,Ya)),Oe(this,Ya,void 0))},Xg=function(){const t=H(this,sn).getQueryCache().build(H(this,sn),this.options);if(t===H(this,dt))return;const s=H(this,dt);Oe(this,dt,t),Oe(this,Yd,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},h6=function(t){cs.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(H(this,qs))}),H(this,sn).getQueryCache().notify({query:H(this,dt),type:"observerResultsUpdated"})})},AN);function fE(e,t){return Bn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function l2(e,t){return fE(e,t)||e.state.data!==void 0&&Jg(e,t,t.refetchOnMount)}function Jg(e,t,s){if(Bn(t.enabled,e)!==!1&&oa(t.staleTime,e)!=="static"){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&cb(e,t)}return!1}function c2(e,t,s,n){return(e!==t||Bn(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&cb(e,s)}function cb(e,t){return Bn(t.enabled,e)!==!1&&e.isStaleByTime(oa(t.staleTime,e))}function pE(e,t){return!wm(e.getCurrentResult(),t)}function d2(e){return{onFetch:(t,s)=>{var u,h,m,f,g;const n=t.options,i=(m=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((f=t.state.data)==null?void 0:f.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const v=w=>{aE(w,()=>t.signal,()=>p=!0)},b=o6(t.options,t.fetchOptions),y=async(w,j,N)=>{if(p)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const P=(()=>{const te={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return v(te),te})(),C=await b(P),{maxPages:F}=t.options,T=N?iE:rE;return{pages:T(w.pages,C,F),pageParams:T(w.pageParams,j,F)}};if(i&&a.length){const w=i==="backward",j=w?gE:u2,N={pages:a,pageParams:o},S=j(n,N);l=await y(N,S,w)}else{const w=e??a.length;do{const j=c===0?o[0]??n.initialPageParam:u2(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function u2(e,{pages:t,pageParams:s}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,s[n],s):void 0}function gE(e,{pages:t,pageParams:s}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,s[0],s):void 0}var Jd,vr,Es,Xa,jr,ki,TN,xE=(TN=class extends d6{constructor(t){super();qe(this,jr);qe(this,Jd);qe(this,vr);qe(this,Es);qe(this,Xa);Oe(this,Jd,t.client),this.mutationId=t.mutationId,Oe(this,Es,t.mutationCache),Oe(this,vr,[]),this.state=t.state||m6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,vr).includes(t)||(H(this,vr).push(t),this.clearGcTimeout(),H(this,Es).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Oe(this,vr,H(this,vr).filter(s=>s!==t)),this.scheduleGc(),H(this,Es).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,vr).length||(this.state.status==="pending"?this.scheduleGc():H(this,Es).remove(this))}continue(){var t;return((t=H(this,Xa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,u,h,m,f,g,p,v,b,y,w,j,N,S,P;const s=()=>{rt(this,jr,ki).call(this,{type:"continue"})},n={client:H(this,Jd),meta:this.options.meta,mutationKey:this.options.mutationKey};Oe(this,Xa,c6({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,F)=>{rt(this,jr,ki).call(this,{type:"failed",failureCount:C,error:F})},onPause:()=>{rt(this,jr,ki).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Es).canRun(this)}));const i=this.state.status==="pending",a=!H(this,Xa).canStart();try{if(i)s();else{rt(this,jr,ki).call(this,{type:"pending",variables:t,isPaused:a}),H(this,Es).config.onMutate&&await H(this,Es).config.onMutate(t,this,n);const F=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));F!==this.state.context&&rt(this,jr,ki).call(this,{type:"pending",context:F,variables:t,isPaused:a})}const C=await H(this,Xa).start();return await((d=(c=H(this,Es).config).onSuccess)==null?void 0:d.call(c,C,t,this.state.context,this,n)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,C,t,this.state.context,n)),await((f=(m=H(this,Es).config).onSettled)==null?void 0:f.call(m,C,null,this.state.variables,this.state.context,this,n)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,C,null,t,this.state.context,n)),rt(this,jr,ki).call(this,{type:"success",data:C}),C}catch(C){try{await((b=(v=H(this,Es).config).onError)==null?void 0:b.call(v,C,t,this.state.context,this,n))}catch(F){Promise.reject(F)}try{await((w=(y=this.options).onError)==null?void 0:w.call(y,C,t,this.state.context,n))}catch(F){Promise.reject(F)}try{await((N=(j=H(this,Es).config).onSettled)==null?void 0:N.call(j,void 0,C,this.state.variables,this.state.context,this,n))}catch(F){Promise.reject(F)}try{await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,C,t,this.state.context,n))}catch(F){Promise.reject(F)}throw rt(this,jr,ki).call(this,{type:"error",error:C}),C}finally{H(this,Es).runNext(this)}}},Jd=new WeakMap,vr=new WeakMap,Es=new WeakMap,Xa=new WeakMap,jr=new WeakSet,ki=function(t){const s=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),cs.batch(()=>{H(this,vr).forEach(n=>{n.onMutationUpdate(t)}),H(this,Es).notify({mutation:this,type:"updated",action:t})})},TN);function m6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qr,sr,Zd,EN,yE=(EN=class extends Wl{constructor(t={}){super();qe(this,Qr);qe(this,sr);qe(this,Zd);this.config=t,Oe(this,Qr,new Set),Oe(this,sr,new Map),Oe(this,Zd,0)}build(t,s,n){const i=new xE({client:t,mutationCache:this,mutationId:++wu(this,Zd)._,options:t.defaultMutationOptions(s),state:n});return this.add(i),i}add(t){H(this,Qr).add(t);const s=$u(t);if(typeof s=="string"){const n=H(this,sr).get(s);n?n.push(t):H(this,sr).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(H(this,Qr).delete(t)){const s=$u(t);if(typeof s=="string"){const n=H(this,sr).get(s);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&H(this,sr).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=$u(t);if(typeof s=="string"){const n=H(this,sr).get(s),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const s=$u(t);if(typeof s=="string"){const i=(n=H(this,sr).get(s))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cs.batch(()=>{H(this,Qr).forEach(t=>{this.notify({type:"removed",mutation:t})}),H(this,Qr).clear(),H(this,sr).clear()})}getAll(){return Array.from(H(this,Qr))}find(t){const s={exact:!0,...t};return this.getAll().find(n=>n2(s,n))}findAll(t={}){return this.getAll().filter(s=>n2(t,s))}notify(t){cs.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return cs.batch(()=>Promise.all(t.map(s=>s.continue().catch(Gs))))}},Qr=new WeakMap,sr=new WeakMap,Zd=new WeakMap,EN);function $u(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Yr,$i,nn,Xr,li,_h,Zg,_N,bE=(_N=class extends Wl{constructor(s,n){super();qe(this,li);qe(this,Yr);qe(this,$i);qe(this,nn);qe(this,Xr);Oe(this,Yr,s),this.setOptions(n),this.bindMethods(),rt(this,li,_h).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const n=this.options;this.options=H(this,Yr).defaultMutationOptions(s),wm(this.options,n)||H(this,Yr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,nn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&uo(n.mutationKey)!==uo(this.options.mutationKey)?this.reset():((i=H(this,nn))==null?void 0:i.state.status)==="pending"&&H(this,nn).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=H(this,nn))==null||s.removeObserver(this)}onMutationUpdate(s){rt(this,li,_h).call(this),rt(this,li,Zg).call(this,s)}getCurrentResult(){return H(this,$i)}reset(){var s;(s=H(this,nn))==null||s.removeObserver(this),Oe(this,nn,void 0),rt(this,li,_h).call(this),rt(this,li,Zg).call(this)}mutate(s,n){var i;return Oe(this,Xr,n),(i=H(this,nn))==null||i.removeObserver(this),Oe(this,nn,H(this,Yr).getMutationCache().build(H(this,Yr),this.options)),H(this,nn).addObserver(this),H(this,nn).execute(s)}},Yr=new WeakMap,$i=new WeakMap,nn=new WeakMap,Xr=new WeakMap,li=new WeakSet,_h=function(){var n;const s=((n=H(this,nn))==null?void 0:n.state)??m6();Oe(this,$i,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Zg=function(s){cs.batch(()=>{var n,i,a,o,l,c,d,u;if(H(this,Xr)&&this.hasListeners()){const h=H(this,$i).variables,m=H(this,$i).context,f={client:H(this,Yr),meta:this.options.meta,mutationKey:this.options.mutationKey};if((s==null?void 0:s.type)==="success"){try{(i=(n=H(this,Xr)).onSuccess)==null||i.call(n,s.data,h,m,f)}catch(g){Promise.reject(g)}try{(o=(a=H(this,Xr)).onSettled)==null||o.call(a,s.data,null,h,m,f)}catch(g){Promise.reject(g)}}else if((s==null?void 0:s.type)==="error"){try{(c=(l=H(this,Xr)).onError)==null||c.call(l,s.error,h,m,f)}catch(g){Promise.reject(g)}try{(u=(d=H(this,Xr)).onSettled)==null||u.call(d,void 0,s.error,h,m,f)}catch(g){Promise.reject(g)}}}this.listeners.forEach(h=>{h(H(this,$i))})})},_N),wr,MN,vE=(MN=class extends Wl{constructor(t={}){super();qe(this,wr);this.config=t,Oe(this,wr,new Map)}build(t,s,n){const i=s.queryKey,a=s.queryHash??ib(i,s);let o=this.get(a);return o||(o=new hE({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(s),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){H(this,wr).has(t.queryHash)||(H(this,wr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=H(this,wr).get(t.queryHash);s&&(t.destroy(),s===t&&H(this,wr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,wr).get(t)}getAll(){return[...H(this,wr).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(n=>s2(s,n))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(n=>s2(t,n)):s}notify(t){cs.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){cs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wr=new WeakMap,MN),qt,zi,Ui,yl,bl,Hi,vl,jl,DN,jE=(DN=class{constructor(e={}){qe(this,qt);qe(this,zi);qe(this,Ui);qe(this,yl);qe(this,bl);qe(this,Hi);qe(this,vl);qe(this,jl);Oe(this,qt,e.queryCache||new vE),Oe(this,zi,e.mutationCache||new yE),Oe(this,Ui,e.defaultOptions||{}),Oe(this,yl,new Map),Oe(this,bl,new Map),Oe(this,Hi,0)}mount(){wu(this,Hi)._++,H(this,Hi)===1&&(Oe(this,vl,lb.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,qt).onFocus())})),Oe(this,jl,Nm.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,qt).onOnline())})))}unmount(){var e,t;wu(this,Hi)._--,H(this,Hi)===0&&((e=H(this,vl))==null||e.call(this),Oe(this,vl,void 0),(t=H(this,jl))==null||t.call(this),Oe(this,jl,void 0))}isFetching(e){return H(this,qt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,zi).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=H(this,qt).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=H(this,qt).build(this,t),n=s.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(oa(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return H(this,qt).findAll(e).map(({queryKey:t,state:s})=>{const n=s.data;return[t,n]})}setQueryData(e,t,s){const n=this.defaultQueryOptions({queryKey:e}),i=H(this,qt).get(n.queryHash),a=i==null?void 0:i.state.data,o=tE(t,a);if(o!==void 0)return H(this,qt).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return cs.batch(()=>H(this,qt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=H(this,qt).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=H(this,qt);cs.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=H(this,qt);return cs.batch(()=>(s.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},n=cs.batch(()=>H(this,qt).findAll(e).map(i=>i.cancel(s)));return Promise.all(n).then(Gs).catch(Gs)}invalidateQueries(e,t={}){return cs.batch(()=>(H(this,qt).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},n=cs.batch(()=>H(this,qt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(Gs)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Gs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=H(this,qt).build(this,t);return s.isStaleByTime(oa(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Gs).catch(Gs)}fetchInfiniteQuery(e){return e.behavior=d2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Gs).catch(Gs)}ensureInfiniteQueryData(e){return e.behavior=d2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nm.isOnline()?H(this,zi).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,qt)}getMutationCache(){return H(this,zi)}getDefaultOptions(){return H(this,Ui)}setDefaultOptions(e){Oe(this,Ui,e)}setQueryDefaults(e,t){H(this,yl).set(uo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,yl).values()],s={};return t.forEach(n=>{kd(e,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(e,t){H(this,bl).set(uo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,bl).values()],s={};return t.forEach(n=>{kd(e,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,Ui).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ib(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ab&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,Ui).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,qt).clear(),H(this,zi).clear()}},qt=new WeakMap,zi=new WeakMap,Ui=new WeakMap,yl=new WeakMap,bl=new WeakMap,Hi=new WeakMap,vl=new WeakMap,jl=new WeakMap,DN),f6=x.createContext(void 0),Ht=e=>{const t=x.useContext(f6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wE=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(f6.Provider,{value:e,children:t})),p6=x.createContext(!1),NE=()=>x.useContext(p6);p6.Provider;function SE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var CE=x.createContext(SE()),PE=()=>x.useContext(CE),kE=(e,t,s)=>{const n=s!=null&&s.state.error&&typeof e.throwOnError=="function"?ob(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},AE=e=>{x.useEffect(()=>{e.clearReset()},[e])},TE=({result:e,errorResetBoundary:t,throwOnError:s,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||ob(s,[e.error,n])),EE=e=>{if(e.suspense){const s=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>s(n(...i)):s(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},_E=(e,t)=>e.isLoading&&e.isFetching&&!t,ME=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,h2=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function DE(e,t,s){var m,f,g,p;const n=NE(),i=PE(),a=Ht(),o=a.defaultQueryOptions(e);(f=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||f.call(m,o);const l=a.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",EE(o),kE(o,i,l),AE(i);const c=!a.getQueryCache().get(o.queryHash),[d]=x.useState(()=>new t(a,o)),u=d.getOptimisticResult(o),h=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const b=h?d.subscribe(cs.batchCalls(v)):Gs;return d.updateResult(),b},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),x.useEffect(()=>{d.setOptions(o)},[o,d]),ME(o,u))throw h2(o,d,i);if(TE({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw u.error;if((p=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||p.call(g,o,u),o.experimental_prefetchInRender&&!co&&_E(u,n)){const v=c?h2(o,d,i):l==null?void 0:l.promise;v==null||v.catch(Gs).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?u:d.trackResult(u)}function Te(e,t){return DE(e,mE)}function We(e,t){const s=Ht(),[n]=x.useState(()=>new bE(s,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const i=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(cs.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=x.useCallback((o,l)=>{n.mutate(o,l).catch(Gs)},[n]);if(i.error&&ob(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}let OE={data:""},RE=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||OE},IE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LE=/\/\*[^]*?\*\/|  +/g,m2=/\n+/g,Oi=(e,t)=>{let s="",n="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?s=a+" "+o+";":n+=a[1]=="f"?Oi(o,a):a+"{"+Oi(o,a[1]=="k"?"":t)+"}":typeof o=="object"?n+=Oi(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Oi.p?Oi.p(a,o):a+":"+o+";")}return s+(t&&i?t+"{"+i+"}":i)+n},Fr={},g6=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+g6(e[s]);return t}return e},FE=(e,t,s,n,i)=>{let a=g6(e),o=Fr[a]||(Fr[a]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(a));if(!Fr[o]){let c=a!==e?e:(d=>{let u,h,m=[{}];for(;u=IE.exec(d.replace(LE,""));)u[4]?m.shift():u[3]?(h=u[3].replace(m2," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][u[1]]=u[2].replace(m2," ").trim();return m[0]})(e);Fr[o]=Oi(i?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&Fr.g?Fr.g:null;return s&&(Fr.g=Fr[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Fr[o],t,n,l),o},VE=(e,t,s)=>e.reduce((n,i,a)=>{let o=t[a];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Oi(l,""):l===!1?"":l}return n+i+(o??"")},"");function Sf(e){let t=this||{},s=e.call?e(t.p):e;return FE(s.unshift?s.raw?VE(s,[].slice.call(arguments,1),t.p):s.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):s,RE(t.target),t.g,t.o,t.k)}let x6,ex,tx;Sf.bind({g:1});let mi=Sf.bind({k:1});function BE(e,t,s,n){Oi.p=t,x6=e,ex=s,tx=n}function ba(e,t){let s=this||{};return function(){let n=arguments;function i(a,o){let l=Object.assign({},a),c=l.className||i.className;s.p=Object.assign({theme:ex&&ex()},l),s.o=/ *go\d+/.test(c),l.className=Sf.apply(s,n)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),tx&&d[0]&&tx(l),x6(d,l)}return i}}var $E=e=>typeof e=="function",Sm=(e,t)=>$E(e)?e(t):e,zE=(()=>{let e=0;return()=>(++e).toString()})(),y6=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),UE=20,db="default",b6=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return b6(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Mh=[],v6={toasts:[],pausedAt:void 0,settings:{toastLimit:UE}},kr={},j6=(e,t=db)=>{kr[t]=b6(kr[t]||v6,e),Mh.forEach(([s,n])=>{s===t&&n(kr[t])})},w6=e=>Object.keys(kr).forEach(t=>j6(e,t)),HE=e=>Object.keys(kr).find(t=>kr[t].toasts.some(s=>s.id===e)),Cf=(e=db)=>t=>{j6(t,e)},qE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},WE=(e={},t=db)=>{let[s,n]=x.useState(kr[t]||v6),i=x.useRef(kr[t]);x.useEffect(()=>(i.current!==kr[t]&&n(kr[t]),Mh.push([t,n]),()=>{let o=Mh.findIndex(([l])=>l===t);o>-1&&Mh.splice(o,1)}),[t]);let a=s.toasts.map(o=>{var l,c,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||qE[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...s,toasts:a}},GE=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||zE()}),au=e=>(t,s)=>{let n=GE(t,e,s);return Cf(n.toasterId||HE(n.id))({type:2,toast:n}),n.id},ds=(e,t)=>au("blank")(e,t);ds.error=au("error");ds.success=au("success");ds.loading=au("loading");ds.custom=au("custom");ds.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Cf(t)(s):w6(s)};ds.dismissAll=e=>ds.dismiss(void 0,e);ds.remove=(e,t)=>{let s={type:4,toastId:e};t?Cf(t)(s):w6(s)};ds.removeAll=e=>ds.remove(void 0,e);ds.promise=(e,t,s)=>{let n=ds.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Sm(t.success,i):void 0;return a?ds.success(a,{id:n,...s,...s==null?void 0:s.success}):ds.dismiss(n),i}).catch(i=>{let a=t.error?Sm(t.error,i):void 0;a?ds.error(a,{id:n,...s,...s==null?void 0:s.error}):ds.dismiss(n)}),e};var KE=1e3,QE=(e,t="default")=>{let{toasts:s,pausedAt:n}=WE(e,t),i=x.useRef(new Map).current,a=x.useCallback((h,m=KE)=>{if(i.has(h))return;let f=setTimeout(()=>{i.delete(h),o({type:4,toastId:h})},m);i.set(h,f)},[]);x.useEffect(()=>{if(n)return;let h=Date.now(),m=s.map(f=>{if(f.duration===1/0)return;let g=(f.duration||0)+f.pauseDuration-(h-f.createdAt);if(g<0){f.visible&&ds.dismiss(f.id);return}return setTimeout(()=>ds.dismiss(f.id,t),g)});return()=>{m.forEach(f=>f&&clearTimeout(f))}},[s,n,t]);let o=x.useCallback(Cf(t),[t]),l=x.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=x.useCallback((h,m)=>{o({type:1,toast:{id:h,height:m}})},[o]),d=x.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),u=x.useCallback((h,m)=>{let{reverseOrder:f=!1,gutter:g=8,defaultPosition:p}=m||{},v=s.filter(w=>(w.position||p)===(h.position||p)&&w.height),b=v.findIndex(w=>w.id===h.id),y=v.filter((w,j)=>j<b&&w.visible).length;return v.filter(w=>w.visible).slice(...f?[y+1]:[0,y]).reduce((w,j)=>w+(j.height||0)+g,0)},[s]);return x.useEffect(()=>{s.forEach(h=>{if(h.dismissed)a(h.id,h.removeDelay);else{let m=i.get(h.id);m&&(clearTimeout(m),i.delete(h.id))}})},[s,a]),{toasts:s,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},YE=mi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,XE=mi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JE=mi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ZE=ba("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${XE} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${JE} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,e_=mi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,t_=ba("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${e_} 1s linear infinite;
`,s_=mi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,n_=mi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,r_=ba("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${s_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${n_} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,i_=ba("div")`
  position: absolute;
`,a_=ba("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,o_=mi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,l_=ba("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${o_} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,c_=({toast:e})=>{let{icon:t,type:s,iconTheme:n}=e;return t!==void 0?typeof t=="string"?x.createElement(l_,null,t):t:s==="blank"?null:x.createElement(a_,null,x.createElement(t_,{...n}),s!=="loading"&&x.createElement(i_,null,s==="error"?x.createElement(ZE,{...n}):x.createElement(r_,{...n})))},d_=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,u_=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,h_="0%{opacity:0;} 100%{opacity:1;}",m_="0%{opacity:1;} 100%{opacity:0;}",f_=ba("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,p_=ba("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,g_=(e,t)=>{let s=e.includes("top")?1:-1,[n,i]=y6()?[h_,m_]:[d_(s),u_(s)];return{animation:t?`${mi(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${mi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},x_=x.memo(({toast:e,position:t,style:s,children:n})=>{let i=e.height?g_(e.position||t||"top-center",e.visible):{opacity:0},a=x.createElement(c_,{toast:e}),o=x.createElement(p_,{...e.ariaProps},Sm(e.message,e));return x.createElement(f_,{className:e.className,style:{...i,...s,...e.style}},typeof n=="function"?n({icon:a,message:o}):x.createElement(x.Fragment,null,a,o))});BE(x.createElement);var y_=({id:e,className:t,style:s,onHeightUpdate:n,children:i})=>{let a=x.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return x.createElement("div",{ref:a,className:t,style:s},i)},b_=(e,t)=>{let s=e.includes("top"),n=s?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:y6()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...n,...i}},v_=Sf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zu=16,j_=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:n,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=QE(s,a);return x.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:zu,left:zu,right:zu,bottom:zu,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let h=u.position||t,m=d.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),f=b_(h,m);return x.createElement(y_,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?v_:"",style:f},u.type==="custom"?Sm(u.message,u):i?i(u):x.createElement(x_,{toast:u,position:h}))}))},X=ds;const w_="modulepreload",N_=function(e){return"/"+e},f2={},it=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=N_(c),c in f2)return;f2[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":w_,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},S_={},p2=e=>{let t;const s=new Set,n=(u,h)=>{const m=typeof u=="function"?u(t):u;if(!Object.is(m,t)){const f=t;t=h??(typeof m!="object"||m===null)?m:Object.assign({},t,m),s.forEach(g=>g(t,f))}},i=()=>t,c={setState:n,getState:i,getInitialState:()=>d,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{(S_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},d=t=e(n,i,c);return c},C_=e=>e?p2(e):p2;var N6={exports:{}},S6={},C6={exports:{}},P6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=x;function P_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k_=typeof Object.is=="function"?Object.is:P_,A_=El.useState,T_=El.useEffect,E_=El.useLayoutEffect,__=El.useDebugValue;function M_(e,t){var s=t(),n=A_({inst:{value:s,getSnapshot:t}}),i=n[0].inst,a=n[1];return E_(function(){i.value=s,i.getSnapshot=t,zp(i)&&a({inst:i})},[e,s,t]),T_(function(){return zp(i)&&a({inst:i}),e(function(){zp(i)&&a({inst:i})})},[e]),__(s),s}function zp(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!k_(e,s)}catch{return!0}}function D_(e,t){return t()}var O_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?D_:M_;P6.useSyncExternalStore=El.useSyncExternalStore!==void 0?El.useSyncExternalStore:O_;C6.exports=P6;var R_=C6.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf=x,I_=R_;function L_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var F_=typeof Object.is=="function"?Object.is:L_,V_=I_.useSyncExternalStore,B_=Pf.useRef,$_=Pf.useEffect,z_=Pf.useMemo,U_=Pf.useDebugValue;S6.useSyncExternalStoreWithSelector=function(e,t,s,n,i){var a=B_(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=z_(function(){function c(f){if(!d){if(d=!0,u=f,f=n(f),i!==void 0&&o.hasValue){var g=o.value;if(i(g,f))return h=g}return h=f}if(g=h,F_(u,f))return g;var p=n(f);return i!==void 0&&i(g,p)?(u=f,g):(u=f,h=p)}var d=!1,u,h,m=s===void 0?null:s;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,s,n,i]);var l=V_(e,a[0],a[1]);return $_(function(){o.hasValue=!0,o.value=l},[l]),U_(l),l};N6.exports=S6;var H_=N6.exports;const q_=ON(H_),k6={},{useDebugValue:W_}=Re,{useSyncExternalStoreWithSelector:G_}=q_;let g2=!1;const K_=e=>e;function Q_(e,t=K_,s){(k6?"production":void 0)!=="production"&&s&&!g2&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),g2=!0);const n=G_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return W_(n),n}const x2=e=>{(k6?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?C_(e):e,s=(n,i)=>Q_(t,n,i);return Object.assign(s,t),s},Y_=e=>e?x2(e):x2,X_={};function J_(e,t){let s;try{s=e()}catch{return}return{getItem:i=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=s.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>s.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>s.removeItem(i)}}const Ad=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(n){return Ad(n)(s)},catch(n){return this}}}catch(s){return{then(n){return this},catch(n){return Ad(n)(s)}}}},Z_=(e,t)=>(s,n,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,b)=>({...b,...v}),...t},o=!1;const l=new Set,c=new Set;let d;try{d=a.getStorage()}catch{}if(!d)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...v)},n,i);const u=Ad(a.serialize),h=()=>{const v=a.partialize({...n()});let b;const y=u({state:v,version:a.version}).then(w=>d.setItem(a.name,w)).catch(w=>{b=w});if(b)throw b;return y},m=i.setState;i.setState=(v,b)=>{m(v,b),h()};const f=e((...v)=>{s(...v),h()},n,i);let g;const p=()=>{var v;if(!d)return;o=!1,l.forEach(y=>y(n()));const b=((v=a.onRehydrateStorage)==null?void 0:v.call(a,n()))||void 0;return Ad(d.getItem.bind(d))(a.name).then(y=>{if(y)return a.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return a.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var w;return g=a.merge(y,(w=n())!=null?w:f),s(g,!0),h()}).then(()=>{b==null||b(g,void 0),o=!0,c.forEach(y=>y(g))}).catch(y=>{b==null||b(void 0,y)})};return i.persist={setOptions:v=>{a={...a,...v},v.getStorage&&(d=v.getStorage())},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},p(),g||f},eM=(e,t)=>(s,n,i)=>{let a={storage:J_(()=>localStorage),partialize:p=>p,version:0,merge:(p,v)=>({...v,...p}),...t},o=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...p)},n,i);const u=()=>{const p=a.partialize({...n()});return d.setItem(a.name,{state:p,version:a.version})},h=i.setState;i.setState=(p,v)=>{h(p,v),u()};const m=e((...p)=>{s(...p),u()},n,i);i.getInitialState=()=>m;let f;const g=()=>{var p,v;if(!d)return;o=!1,l.forEach(y=>{var w;return y((w=n())!=null?w:m)});const b=((v=a.onRehydrateStorage)==null?void 0:v.call(a,(p=n())!=null?p:m))||void 0;return Ad(d.getItem.bind(d))(a.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return[!0,a.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[j,N]=y;if(f=a.merge(N,(w=n())!=null?w:m),s(f,!0),j)return u()}).then(()=>{b==null||b(f,void 0),f=n(),o=!0,c.forEach(y=>y(f))}).catch(y=>{b==null||b(void 0,y)})};return i.persist={setOptions:p=>{a={...a,...p},p.storage&&(d=p.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},a.skipHydration||g(),f||m},tM=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((X_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Z_(e,t)):eM(e,t),sM=tM;function A6(e,t){return function(){return e.apply(t,arguments)}}const{toString:nM}=Object.prototype,{getPrototypeOf:ub}=Object,{iterator:kf,toStringTag:T6}=Symbol,Af=(e=>t=>{const s=nM.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ur=e=>(e=e.toLowerCase(),t=>Af(t)===e),Tf=e=>t=>typeof t===e,{isArray:Gl}=Array,_l=Tf("undefined");function ou(e){return e!==null&&!_l(e)&&e.constructor!==null&&!_l(e.constructor)&&mn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const E6=ur("ArrayBuffer");function rM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&E6(e.buffer),t}const iM=Tf("string"),mn=Tf("function"),_6=Tf("number"),lu=e=>e!==null&&typeof e=="object",aM=e=>e===!0||e===!1,Dh=e=>{if(Af(e)!=="object")return!1;const t=ub(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(T6 in e)&&!(kf in e)},oM=e=>{if(!lu(e)||ou(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},lM=ur("Date"),cM=ur("File"),dM=ur("Blob"),uM=ur("FileList"),hM=e=>lu(e)&&mn(e.pipe),mM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||mn(e.append)&&((t=Af(e))==="formdata"||t==="object"&&mn(e.toString)&&e.toString()==="[object FormData]"))},fM=ur("URLSearchParams"),[pM,gM,xM,yM]=["ReadableStream","Request","Response","Headers"].map(ur),bM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cu(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Gl(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(ou(e))return;const a=s?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function M6(e,t){if(ou(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,i;for(;n-- >0;)if(i=s[n],t===i.toLowerCase())return i;return null}const Fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,D6=e=>!_l(e)&&e!==Fa;function sx(){const{caseless:e,skipUndefined:t}=D6(this)&&this||{},s={},n=(i,a)=>{if(a==="__proto__"||a==="constructor"||a==="prototype")return;const o=e&&M6(s,a)||a;Dh(s[o])&&Dh(i)?s[o]=sx(s[o],i):Dh(i)?s[o]=sx({},i):Gl(i)?s[o]=i.slice():(!t||!_l(i))&&(s[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&cu(arguments[i],n);return s}const vM=(e,t,s,{allOwnKeys:n}={})=>(cu(t,(i,a)=>{s&&mn(i)?Object.defineProperty(e,a,{value:A6(i,s),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,a,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),jM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),wM=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},NM=(e,t,s,n)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&ub(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},SM=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},CM=e=>{if(!e)return null;if(Gl(e))return e;let t=e.length;if(!_6(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},PM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ub(Uint8Array)),kM=(e,t)=>{const n=(e&&e[kf]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},AM=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},TM=ur("HTMLFormElement"),EM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,i){return n.toUpperCase()+i}),y2=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),_M=ur("RegExp"),O6=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};cu(s,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},MM=e=>{O6(e,(t,s)=>{if(mn(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(mn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},DM=(e,t)=>{const s={},n=i=>{i.forEach(a=>{s[a]=!0})};return Gl(e)?n(e):n(String(e).split(t)),s},OM=()=>{},RM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function IM(e){return!!(e&&mn(e.append)&&e[T6]==="FormData"&&e[kf])}const LM=e=>{const t=new Array(10),s=(n,i)=>{if(lu(n)){if(t.indexOf(n)>=0)return;if(ou(n))return n;if(!("toJSON"in n)){t[i]=n;const a=Gl(n)?[]:{};return cu(n,(o,l)=>{const c=s(o,i+1);!_l(c)&&(a[l]=c)}),t[i]=void 0,a}}return n};return s(e,0)},FM=ur("AsyncFunction"),VM=e=>e&&(lu(e)||mn(e))&&mn(e.then)&&mn(e.catch),R6=((e,t)=>e?setImmediate:t?((s,n)=>(Fa.addEventListener("message",({source:i,data:a})=>{i===Fa&&a===s&&n.length&&n.shift()()},!1),i=>{n.push(i),Fa.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",mn(Fa.postMessage)),BM=typeof queueMicrotask<"u"?queueMicrotask.bind(Fa):typeof process<"u"&&process.nextTick||R6,$M=e=>e!=null&&mn(e[kf]),ue={isArray:Gl,isArrayBuffer:E6,isBuffer:ou,isFormData:mM,isArrayBufferView:rM,isString:iM,isNumber:_6,isBoolean:aM,isObject:lu,isPlainObject:Dh,isEmptyObject:oM,isReadableStream:pM,isRequest:gM,isResponse:xM,isHeaders:yM,isUndefined:_l,isDate:lM,isFile:cM,isBlob:dM,isRegExp:_M,isFunction:mn,isStream:hM,isURLSearchParams:fM,isTypedArray:PM,isFileList:uM,forEach:cu,merge:sx,extend:vM,trim:bM,stripBOM:jM,inherits:wM,toFlatObject:NM,kindOf:Af,kindOfTest:ur,endsWith:SM,toArray:CM,forEachEntry:kM,matchAll:AM,isHTMLForm:TM,hasOwnProperty:y2,hasOwnProp:y2,reduceDescriptors:O6,freezeMethods:MM,toObjectSet:DM,toCamelCase:EM,noop:OM,toFiniteNumber:RM,findKey:M6,global:Fa,isContextDefined:D6,isSpecCompliantForm:IM,toJSONObject:LM,isAsyncFn:FM,isThenable:VM,setImmediate:R6,asap:BM,isIterable:$M};let Ze=class I6 extends Error{static from(t,s,n,i,a,o){const l=new I6(t.message,s||t.code,n,i,a);return l.cause=t,l.name=t.name,o&&Object.assign(l,o),l}constructor(t,s,n,i,a){super(t),this.name="AxiosError",this.isAxiosError=!0,s&&(this.code=s),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}};Ze.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ze.ERR_BAD_OPTION="ERR_BAD_OPTION";Ze.ECONNABORTED="ECONNABORTED";Ze.ETIMEDOUT="ETIMEDOUT";Ze.ERR_NETWORK="ERR_NETWORK";Ze.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ze.ERR_DEPRECATED="ERR_DEPRECATED";Ze.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ze.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ze.ERR_CANCELED="ERR_CANCELED";Ze.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ze.ERR_INVALID_URL="ERR_INVALID_URL";const zM=null;function nx(e){return ue.isPlainObject(e)||ue.isArray(e)}function L6(e){return ue.endsWith(e,"[]")?e.slice(0,-2):e}function b2(e,t,s){return e?e.concat(t).map(function(i,a){return i=L6(i),!s&&a?"["+i+"]":i}).join(s?".":""):t}function UM(e){return ue.isArray(e)&&!e.some(nx)}const HM=ue.toFlatObject(ue,{},null,function(t){return/^is[A-Z]/.test(t)});function Ef(e,t,s){if(!ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=ue.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!ue.isUndefined(v[p])});const n=s.metaTokens,i=s.visitor||u,a=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(t);if(!ue.isFunction(i))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(ue.isDate(g))return g.toISOString();if(ue.isBoolean(g))return g.toString();if(!c&&ue.isBlob(g))throw new Ze("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(g)||ue.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,p,v){let b=g;if(g&&!v&&typeof g=="object"){if(ue.endsWith(p,"{}"))p=n?p:p.slice(0,-2),g=JSON.stringify(g);else if(ue.isArray(g)&&UM(g)||(ue.isFileList(g)||ue.endsWith(p,"[]"))&&(b=ue.toArray(g)))return p=L6(p),b.forEach(function(w,j){!(ue.isUndefined(w)||w===null)&&t.append(o===!0?b2([p],j,a):o===null?p:p+"[]",d(w))}),!1}return nx(g)?!0:(t.append(b2(v,p,a),d(g)),!1)}const h=[],m=Object.assign(HM,{defaultVisitor:u,convertValue:d,isVisitable:nx});function f(g,p){if(!ue.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(g),ue.forEach(g,function(b,y){(!(ue.isUndefined(b)||b===null)&&i.call(t,b,ue.isString(y)?y.trim():y,p,m))===!0&&f(b,p?p.concat(y):[y])}),h.pop()}}if(!ue.isObject(e))throw new TypeError("data must be an object");return f(e),t}function v2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function hb(e,t){this._pairs=[],e&&Ef(e,this,t)}const F6=hb.prototype;F6.append=function(t,s){this._pairs.push([t,s])};F6.toString=function(t){const s=t?function(n){return t.call(this,n,v2)}:v2;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function qM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function V6(e,t,s){if(!t)return e;const n=s&&s.encode||qM,i=ue.isFunction(s)?{serialize:s}:s,a=i&&i.serialize;let o;if(a?o=a(t,i):o=ue.isURLSearchParams(t)?t.toString():new hb(t,i).toString(n),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class j2{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ue.forEach(this.handlers,function(n){n!==null&&t(n)})}}const mb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},WM=typeof URLSearchParams<"u"?URLSearchParams:hb,GM=typeof FormData<"u"?FormData:null,KM=typeof Blob<"u"?Blob:null,QM={isBrowser:!0,classes:{URLSearchParams:WM,FormData:GM,Blob:KM},protocols:["http","https","file","blob","url","data"]},fb=typeof window<"u"&&typeof document<"u",rx=typeof navigator=="object"&&navigator||void 0,YM=fb&&(!rx||["ReactNative","NativeScript","NS"].indexOf(rx.product)<0),XM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JM=fb&&window.location.href||"http://localhost",ZM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fb,hasStandardBrowserEnv:YM,hasStandardBrowserWebWorkerEnv:XM,navigator:rx,origin:JM},Symbol.toStringTag,{value:"Module"})),Fs={...ZM,...QM};function eD(e,t){return Ef(e,new Fs.classes.URLSearchParams,{visitor:function(s,n,i,a){return Fs.isNode&&ue.isBuffer(s)?(this.append(n,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function tD(e){return ue.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sD(e){const t={},s=Object.keys(e);let n;const i=s.length;let a;for(n=0;n<i;n++)a=s[n],t[a]=e[a];return t}function B6(e){function t(s,n,i,a){let o=s[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=s.length;return o=!o&&ue.isArray(i)?i.length:o,c?(ue.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!ue.isObject(i[o]))&&(i[o]=[]),t(s,n,i[o],a)&&ue.isArray(i[o])&&(i[o]=sD(i[o])),!l)}if(ue.isFormData(e)&&ue.isFunction(e.entries)){const s={};return ue.forEachEntry(e,(n,i)=>{t(tD(n),i,s,0)}),s}return null}function nD(e,t,s){if(ue.isString(e))try{return(t||JSON.parse)(e),ue.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const du={transitional:mb,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",i=n.indexOf("application/json")>-1,a=ue.isObject(t);if(a&&ue.isHTMLForm(t)&&(t=new FormData(t)),ue.isFormData(t))return i?JSON.stringify(B6(t)):t;if(ue.isArrayBuffer(t)||ue.isBuffer(t)||ue.isStream(t)||ue.isFile(t)||ue.isBlob(t)||ue.isReadableStream(t))return t;if(ue.isArrayBufferView(t))return t.buffer;if(ue.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return eD(t,this.formSerializer).toString();if((l=ue.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ef(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(s.setContentType("application/json",!1),nD(t)):t}],transformResponse:[function(t){const s=this.transitional||du.transitional,n=s&&s.forcedJSONParsing,i=this.responseType==="json";if(ue.isResponse(t)||ue.isReadableStream(t))return t;if(t&&ue.isString(t)&&(n&&!this.responseType||i)){const o=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Ze.from(l,Ze.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fs.classes.FormData,Blob:Fs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],e=>{du.headers[e]={}});const rD=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iD=e=>{const t={};let s,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),s=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!s||t[s]&&rD[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},w2=Symbol("internals");function lc(e){return e&&String(e).trim().toLowerCase()}function Oh(e){return e===!1||e==null?e:ue.isArray(e)?e.map(Oh):String(e)}function aD(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const oD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Up(e,t,s,n,i){if(ue.isFunction(n))return n.call(this,t,s);if(i&&(t=s),!!ue.isString(t)){if(ue.isString(n))return t.indexOf(n)!==-1;if(ue.isRegExp(n))return n.test(t)}}function lD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function cD(e,t){const s=ue.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let fn=class{constructor(t){t&&this.set(t)}set(t,s,n){const i=this;function a(l,c,d){const u=lc(c);if(!u)throw new Error("header name must be a non-empty string");const h=ue.findKey(i,u);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=Oh(l))}const o=(l,c)=>ue.forEach(l,(d,u)=>a(d,u,c));if(ue.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(ue.isString(t)&&(t=t.trim())&&!oD(t))o(iD(t),s);else if(ue.isObject(t)&&ue.isIterable(t)){let l={},c,d;for(const u of t){if(!ue.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?ue.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,s)}else t!=null&&a(s,t,n);return this}get(t,s){if(t=lc(t),t){const n=ue.findKey(this,t);if(n){const i=this[n];if(!s)return i;if(s===!0)return aD(i);if(ue.isFunction(s))return s.call(this,i,n);if(ue.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=lc(t),t){const n=ue.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Up(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let i=!1;function a(o){if(o=lc(o),o){const l=ue.findKey(n,o);l&&(!s||Up(n,n[l],l,s))&&(delete n[l],i=!0)}}return ue.isArray(t)?t.forEach(a):a(t),i}clear(t){const s=Object.keys(this);let n=s.length,i=!1;for(;n--;){const a=s[n];(!t||Up(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const s=this,n={};return ue.forEach(this,(i,a)=>{const o=ue.findKey(n,a);if(o){s[o]=Oh(i),delete s[a];return}const l=t?lD(a):String(a).trim();l!==a&&delete s[a],s[l]=Oh(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return ue.forEach(this,(n,i)=>{n!=null&&n!==!1&&(s[i]=t&&ue.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[w2]=this[w2]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=lc(o);n[l]||(cD(i,o),n[l]=!0)}return ue.isArray(t)?t.forEach(a):a(t),this}};fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(fn.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});ue.freezeMethods(fn);function Hp(e,t){const s=this||du,n=t||s,i=fn.from(n.headers);let a=n.data;return ue.forEach(e,function(l){a=l.call(s,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function $6(e){return!!(e&&e.__CANCEL__)}let uu=class extends Ze{constructor(t,s,n){super(t??"canceled",Ze.ERR_CANCELED,s,n),this.name="CanceledError",this.__CANCEL__=!0}};function z6(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new Ze("Request failed with status code "+s.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function dD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uD(e,t){e=e||10;const s=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[a];o||(o=d),s[i]=c,n[i]=d;let h=a,m=0;for(;h!==i;)m+=s[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-o<t)return;const f=u&&d-u;return f?Math.round(m*1e3/f):void 0}}function hD(e,t){let s=0,n=1e3/t,i,a;const o=(d,u=Date.now())=>{s=u,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-s;h>=n?o(d,u):(i=d,a||(a=setTimeout(()=>{a=null,o(i)},n-h)))},()=>i&&o(i)]}const Cm=(e,t,s=3)=>{let n=0;const i=uD(50,250);return hD(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,d=i(c),u=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},s)},N2=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},S2=e=>(...t)=>ue.asap(()=>e(...t)),mD=Fs.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Fs.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Fs.origin),Fs.navigator&&/(msie|trident)/i.test(Fs.navigator.userAgent)):()=>!0,fD=Fs.hasStandardBrowserEnv?{write(e,t,s,n,i,a,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];ue.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),ue.isString(n)&&l.push(`path=${n}`),ue.isString(i)&&l.push(`domain=${i}`),a===!0&&l.push("secure"),ue.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pD(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function U6(e,t,s){let n=!pD(t);return e&&(n||s==!1)?gD(e,t):t}const C2=e=>e instanceof fn?{...e}:e;function ho(e,t){t=t||{};const s={};function n(d,u,h,m){return ue.isPlainObject(d)&&ue.isPlainObject(u)?ue.merge.call({caseless:m},d,u):ue.isPlainObject(u)?ue.merge({},u):ue.isArray(u)?u.slice():u}function i(d,u,h,m){if(ue.isUndefined(u)){if(!ue.isUndefined(d))return n(void 0,d,h,m)}else return n(d,u,h,m)}function a(d,u){if(!ue.isUndefined(u))return n(void 0,u)}function o(d,u){if(ue.isUndefined(u)){if(!ue.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,h){if(h in t)return n(d,u);if(h in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>i(C2(d),C2(u),h,!0)};return ue.forEach(Object.keys({...e,...t}),function(u){if(u==="__proto__"||u==="constructor"||u==="prototype")return;const h=ue.hasOwnProp(c,u)?c[u]:i,m=h(e[u],t[u],u);ue.isUndefined(m)&&h!==l||(s[u]=m)}),s}const H6=e=>{const t=ho({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=fn.from(o),t.url=V6(U6(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ue.isFormData(s)){if(Fs.hasStandardBrowserEnv||Fs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ue.isFunction(s.getHeaders)){const c=s.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{d.includes(u.toLowerCase())&&o.set(u,h)})}}if(Fs.hasStandardBrowserEnv&&(n&&ue.isFunction(n)&&(n=n(t)),n||n!==!1&&mD(t.url))){const c=i&&a&&fD.read(a);c&&o.set(i,c)}return t},xD=typeof XMLHttpRequest<"u",yD=xD&&function(e){return new Promise(function(s,n){const i=H6(e);let a=i.data;const o=fn.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,h,m,f,g;function p(){f&&f(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function b(){if(!v)return;const w=fn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};z6(function(P){s(P),p()},function(P){n(P),p()},N),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(n(new Ze("Request aborted",Ze.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const N=j&&j.message?j.message:"Network Error",S=new Ze(N,Ze.ERR_NETWORK,e,v);S.event=j||null,n(S),v=null},v.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||mb;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),n(new Ze(j,N.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,e,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&ue.forEach(o.toJSON(),function(j,N){v.setRequestHeader(N,j)}),ue.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),l&&l!=="json"&&(v.responseType=i.responseType),d&&([m,g]=Cm(d,!0),v.addEventListener("progress",m)),c&&v.upload&&([h,f]=Cm(c),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=w=>{v&&(n(!w||w.type?new uu(null,e,v):w),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const y=dD(i.url);if(y&&Fs.protocols.indexOf(y)===-1){n(new Ze("Unsupported protocol "+y+":",Ze.ERR_BAD_REQUEST,e));return}v.send(a||null)})},bD=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,i;const a=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof Ze?u:new uu(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,a(new Ze(`timeout of ${t}ms exceeded`,Ze.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>ue.asap(l),c}},vD=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,i;for(;n<s;)i=n+t,yield e.slice(n,i),n=i},jD=async function*(e,t){for await(const s of wD(e))yield*vD(s,t)},wD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},P2=(e,t,s,n)=>{const i=jD(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let h=u.byteLength;if(s){let m=a+=h;s(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},k2=64*1024,{isFunction:Uu}=ue,ND=(({Request:e,Response:t})=>({Request:e,Response:t}))(ue.global),{ReadableStream:A2,TextEncoder:T2}=ue.global,E2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},SD=e=>{e=ue.merge.call({skipUndefined:!0},ND,e);const{fetch:t,Request:s,Response:n}=e,i=t?Uu(t):typeof fetch=="function",a=Uu(s),o=Uu(n);if(!i)return!1;const l=i&&Uu(A2),c=i&&(typeof T2=="function"?(g=>p=>g.encode(p))(new T2):async g=>new Uint8Array(await new s(g).arrayBuffer())),d=a&&l&&E2(()=>{let g=!1;const p=new s(Fs.origin,{body:new A2,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!p}),u=o&&l&&E2(()=>ue.isReadableStream(new n("").body)),h={stream:u&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(p,v)=>{let b=p&&p[g];if(b)return b.call(p);throw new Ze(`Response type '${g}' is not supported`,Ze.ERR_NOT_SUPPORT,v)})});const m=async g=>{if(g==null)return 0;if(ue.isBlob(g))return g.size;if(ue.isSpecCompliantForm(g))return(await new s(Fs.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(g)||ue.isArrayBuffer(g))return g.byteLength;if(ue.isURLSearchParams(g)&&(g=g+""),ue.isString(g))return(await c(g)).byteLength},f=async(g,p)=>{const v=ue.toFiniteNumber(g.getContentLength());return v??m(p)};return async g=>{let{url:p,method:v,data:b,signal:y,cancelToken:w,timeout:j,onDownloadProgress:N,onUploadProgress:S,responseType:P,headers:C,withCredentials:F="same-origin",fetchOptions:T}=H6(g),te=t||fetch;P=P?(P+"").toLowerCase():"text";let A=bD([y,w&&w.toAbortSignal()],j),q=null;const z=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let B;try{if(S&&d&&v!=="get"&&v!=="head"&&(B=await f(C,b))!==0){let K=new s(p,{method:"POST",body:b,duplex:"half"}),ce;if(ue.isFormData(b)&&(ce=K.headers.get("content-type"))&&C.setContentType(ce),K.body){const[U,le]=N2(B,Cm(S2(S)));b=P2(K.body,k2,U,le)}}ue.isString(F)||(F=F?"include":"omit");const _=a&&"credentials"in s.prototype,$={...T,signal:A,method:v.toUpperCase(),headers:C.normalize().toJSON(),body:b,duplex:"half",credentials:_?F:void 0};q=a&&new s(p,$);let M=await(a?te(q,T):te(p,$));const D=u&&(P==="stream"||P==="response");if(u&&(N||D&&z)){const K={};["status","statusText","headers"].forEach(re=>{K[re]=M[re]});const ce=ue.toFiniteNumber(M.headers.get("content-length")),[U,le]=N&&N2(ce,Cm(S2(N),!0))||[];M=new n(P2(M.body,k2,U,()=>{le&&le(),z&&z()}),K)}P=P||"text";let J=await h[ue.findKey(h,P)||"text"](M,g);return!D&&z&&z(),await new Promise((K,ce)=>{z6(K,ce,{data:J,headers:fn.from(M.headers),status:M.status,statusText:M.statusText,config:g,request:q})})}catch(_){throw z&&z(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,g,q,_&&_.response),{cause:_.cause||_}):Ze.from(_,_&&_.code,g,q,_&&_.response)}}},CD=new Map,q6=e=>{let t=e&&e.env||{};const{fetch:s,Request:n,Response:i}=t,a=[n,i,s];let o=a.length,l=o,c,d,u=CD;for(;l--;)c=a[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:SD(t)),u=d;return d};q6();const pb={http:zM,xhr:yD,fetch:{get:q6}};ue.forEach(pb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const _2=e=>`- ${e}`,PD=e=>ue.isFunction(e)||e===null||e===!1;function kD(e,t){e=ue.isArray(e)?e:[e];const{length:s}=e;let n,i;const a={};for(let o=0;o<s;o++){n=e[o];let l;if(i=n,!PD(n)&&(i=pb[(l=String(n)).toLowerCase()],i===void 0))throw new Ze(`Unknown adapter '${l}'`);if(i&&(ue.isFunction(i)||(i=i.get(t))))break;a[l||"#"+o]=i}if(!i){const o=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=s?o.length>1?`since :
`+o.map(_2).join(`
`):" "+_2(o[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const W6={getAdapter:kD,adapters:pb};function qp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new uu(null,e)}function M2(e){return qp(e),e.headers=fn.from(e.headers),e.data=Hp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),W6.getAdapter(e.adapter||du.adapter,e)(e).then(function(n){return qp(e),n.data=Hp.call(e,e.transformResponse,n),n.headers=fn.from(n.headers),n},function(n){return $6(n)||(qp(e),n&&n.response&&(n.response.data=Hp.call(e,e.transformResponse,n.response),n.response.headers=fn.from(n.response.headers))),Promise.reject(n)})}const G6="1.13.5",_f={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_f[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const D2={};_f.transitional=function(t,s,n){function i(a,o){return"[Axios v"+G6+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new Ze(i(o," has been removed"+(s?" in "+s:"")),Ze.ERR_DEPRECATED);return s&&!D2[o]&&(D2[o]=!0,console.warn(i(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,o,l):!0}};_f.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function AD(e,t,s){if(typeof e!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new Ze("option "+a+" must be "+c,Ze.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ze("Unknown option "+a,Ze.ERR_BAD_OPTION)}}const Rh={assertOptions:AD,validators:_f},Rn=Rh.validators;let eo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new j2,response:new j2}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ho(this.defaults,s);const{transitional:n,paramsSerializer:i,headers:a}=s;n!==void 0&&Rh.assertOptions(n,{silentJSONParsing:Rn.transitional(Rn.boolean),forcedJSONParsing:Rn.transitional(Rn.boolean),clarifyTimeoutError:Rn.transitional(Rn.boolean),legacyInterceptorReqResOrdering:Rn.transitional(Rn.boolean)},!1),i!=null&&(ue.isFunction(i)?s.paramsSerializer={serialize:i}:Rh.assertOptions(i,{encode:Rn.function,serialize:Rn.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Rh.assertOptions(s,{baseUrl:Rn.spelling("baseURL"),withXsrfToken:Rn.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=a&&ue.merge(a.common,a[s.method]);a&&ue.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),s.headers=fn.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(p){if(typeof p.runWhen=="function"&&p.runWhen(s)===!1)return;c=c&&p.synchronous;const v=s.transitional||mb;v&&v.legacyInterceptorReqResOrdering?l.unshift(p.fulfilled,p.rejected):l.push(p.fulfilled,p.rejected)});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,h=0,m;if(!c){const g=[M2.bind(this),void 0];for(g.unshift(...l),g.push(...d),m=g.length,u=Promise.resolve(s);h<m;)u=u.then(g[h++],g[h++]);return u}m=l.length;let f=s;for(;h<m;){const g=l[h++],p=l[h++];try{f=g(f)}catch(v){p.call(this,v);break}}try{u=M2.call(this,f)}catch(g){return Promise.reject(g)}for(h=0,m=d.length;h<m;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=ho(this.defaults,t);const s=U6(t.baseURL,t.url,t.allowAbsoluteUrls);return V6(s,t.params,t.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(t){eo.prototype[t]=function(s,n){return this.request(ho(n||{},{method:t,url:s,data:(n||{}).data}))}});ue.forEach(["post","put","patch"],function(t){function s(n){return function(a,o,l){return this.request(ho(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}eo.prototype[t]=s(),eo.prototype[t+"Form"]=s(!0)});let TD=class K6{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new uu(a,o,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new K6(function(i){t=i}),cancel:t}}};function ED(e){return function(s){return e.apply(null,s)}}function _D(e){return ue.isObject(e)&&e.isAxiosError===!0}const ix={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ix).forEach(([e,t])=>{ix[t]=e});function Q6(e){const t=new eo(e),s=A6(eo.prototype.request,t);return ue.extend(s,eo.prototype,t,{allOwnKeys:!0}),ue.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return Q6(ho(e,i))},s}const ts=Q6(du);ts.Axios=eo;ts.CanceledError=uu;ts.CancelToken=TD;ts.isCancel=$6;ts.VERSION=G6;ts.toFormData=Ef;ts.AxiosError=Ze;ts.Cancel=ts.CanceledError;ts.all=function(t){return Promise.all(t)};ts.spread=ED;ts.isAxiosError=_D;ts.mergeConfig=ho;ts.AxiosHeaders=fn;ts.formToJSON=e=>B6(ue.isHTMLForm(e)?new FormData(e):e);ts.getAdapter=W6.getAdapter;ts.HttpStatusCode=ix;ts.default=ts;const{Axios:mY,AxiosError:fY,CanceledError:pY,isCancel:gY,CancelToken:xY,VERSION:yY,all:bY,Cancel:vY,isAxiosError:jY,spread:wY,toFormData:NY,AxiosHeaders:SY,HttpStatusCode:CY,formToJSON:PY,getAdapter:kY,mergeConfig:AY}=ts,ee=ts.create({baseURL:"/api",headers:{"Content-Type":"application/json"},timeout:3e4});ee.interceptors.request.use(e=>{const t=localStorage.getItem("impersonationActive")==="true",s=localStorage.getItem("impersonationToken");if(t&&s)return e.headers.Authorization=`Bearer ${s}`,e;const n=localStorage.getItem("token");n&&(e.headers.Authorization=`Bearer ${n}`);try{if(!t){const i=localStorage.getItem("activeViewUserId");i&&(e.params=e.params||{},(e.method||"get").toString().toLowerCase()==="get"&&!e.params.viewUserId&&(e.params.viewUserId=i))}}catch{}return e},e=>Promise.reject(e));ee.interceptors.response.use(e=>e,e=>{var s,n,i,a,o,l;const{response:t}=e;if(t)switch(t.status){case 401:{const d=((s=(e.config||{}).headers)==null?void 0:s.Authorization)||"",u=localStorage.getItem("impersonationActive")==="true",h=localStorage.getItem("impersonationToken");if(u&&h&&d===`Bearer ${h}`){localStorage.removeItem("impersonationToken"),localStorage.setItem("impersonationActive","false"),console.warn("Impersonation token expired; exited view-as mode.");break}localStorage.removeItem("token"),window.location.pathname!=="/login"&&(window.location.href="/login");break}case 403:console.error("Access forbidden:",(n=t.data)==null?void 0:n.message);break;case 404:console.error("Resource not found:",(i=t.data)==null?void 0:i.message);break;case 422:console.error("Validation error:",(a=t.data)==null?void 0:a.errors);break;case 500:console.error("Server error:",(o=t.data)==null?void 0:o.message);break;default:console.error("API error:",(l=t.data)==null?void 0:l.message)}else e.request?console.error("Network error: No response received"):console.error("Request error:",e.message);return Promise.reject(e)});const _i={login:async({email:e,password:t})=>(await ee.post("/auth/login",{email:e,password:t})).data,register:async e=>(await ee.post("/auth/register",e)).data,logout:async()=>(await ee.post("/auth/logout")).data,forgotPassword:async({email:e})=>(await ee.post("/auth/forgot-password",{email:e})).data,resetPassword:async({token:e,newPassword:t})=>(await ee.post("/auth/reset-password",{token:e,newPassword:t})).data,getProfile:async()=>({data:(await ee.get("/auth/me")).data.user}),updateProfile:async e=>({data:(await ee.patch("/auth/profile",e)).data.user}),changePassword:async(e,t)=>(await ee.post("/auth/change-password",{currentPassword:e,newPassword:t})).data,impersonate:async e=>(await ee.post("/auth/impersonate",{targetUserId:e})).data,stopImpersonation:async()=>({success:!0})},ut={getProfile:async()=>{var t;const e=await ee.get("/auth/me");return((t=e.data)==null?void 0:t.user)||e.data},updateProfile:async e=>(await ee.patch("/auth/profile",e)).data,changePassword:async e=>(await ee.post("/auth/change-password",e)).data,getClinicSettings:async()=>{var s;const e=await ee.get("/clinic"),t=((s=e.data)==null?void 0:s.data)||e.data;return{clinicName:(t==null?void 0:t.name)||"",address:(t==null?void 0:t.address)||"",city:(t==null?void 0:t.city)||"",state:(t==null?void 0:t.state)||"",pincode:(t==null?void 0:t.pincode)||"",phone:(t==null?void 0:t.phone)||"",email:(t==null?void 0:t.email)||"",website:(t==null?void 0:t.website)||"",registrationNo:(t==null?void 0:t.licenseNumber)||"",gstNo:(t==null?void 0:t.gstNumber)||"",logo:(t==null?void 0:t.logo)||"",slotDuration:(t==null?void 0:t.slotDuration)||15}},updateClinicSettings:async e=>{const t={name:e.clinicName,address:e.address,city:e.city,state:e.state,pincode:e.pincode,phone:e.phone,email:e.email,website:e.website,licenseNumber:e.registrationNo,gstNumber:e.gstNo,logo:e.logo,slotDuration:e.slotDuration};return(await ee.put("/clinic",t)).data},getTaxSettings:async()=>{var n;const e=await ee.get("/clinic/tax-config"),t=((n=e.data)==null?void 0:n.data)||e.data,s=(t==null?void 0:t.taxConfig)||{};return{consultationGST:s.consultationGST||0,pharmacyGST:s.pharmacyGST||0,labGST:s.labGST||0,otherGST:s.otherGST||0,inclusiveTax:s.inclusiveTax||!1,gstNumber:(t==null?void 0:t.gstNumber)||""}},updateTaxSettings:async e=>{const t={consultationGST:e.consultationGST,pharmacyGST:e.pharmacyGST,labGST:e.labGST,otherGST:e.otherGST,inclusiveTax:e.inclusiveTax};return(await ee.put("/clinic/tax-config",{taxConfig:t,gstNumber:e.gstNumber})).data},getWorkingHours:async()=>{var a;const e=await ee.get("/clinic/working-hours"),t=((a=e.data)==null?void 0:a.data)||e.data,s=(t==null?void 0:t.workingHours)||null,n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];let i=null;return Array.isArray(s)?i=s:s&&typeof s=="object"&&(i=n.map(o=>{const l=o.toLowerCase(),c=s[l]||{};return c.closed?{day:o,isOpen:!1,openTime:"09:00",closeTime:"18:00",breakStart:"13:00",breakEnd:"14:00"}:{day:o,isOpen:!0,openTime:c.start||"09:00",closeTime:c.end||"18:00",breakStart:c.breakStart||"13:00",breakEnd:c.breakEnd||"14:00"}})),{hours:i,slotDuration:(t==null?void 0:t.slotDuration)||15}},updateWorkingHours:async e=>{const t={};return Array.isArray(e.hours)&&e.hours.forEach(n=>{const i=(n.day||"").toLowerCase();i&&(n.isOpen?t[i]={start:n.openTime,end:n.closeTime,breakStart:n.breakStart,breakEnd:n.breakEnd}:t[i]={closed:!0})}),(await ee.put("/clinic/working-hours",{workingHours:t,slotDuration:e.slotDuration})).data},getPreferences:async()=>({dashboardWidgets:null}),updatePreferences:async e=>({success:!0,message:"Preferences saved"}),getDashboardWidgets:async()=>(await ee.get("/settings/dashboard-widgets")).data,updateDashboardWidgets:async e=>(await ee.put("/settings/dashboard-widgets",e)).data,getRolePermissions:async()=>(await ee.get("/clinic/role-permissions")).data,updateRolePermissions:async e=>(await ee.put("/clinic/role-permissions",{rolePermissions:e})).data,getConsultationFees:async()=>(await ee.get("/clinic/consultation-fees")).data,updateConsultationFees:async e=>(await ee.put("/clinic/consultation-fees",{fees:e})).data,getPrintTemplates:async()=>{var t;const e=await ee.get("/clinic/print-templates");return((t=e.data)==null?void 0:t.data)||e.data},updatePrintTemplates:async e=>(await ee.put("/clinic/print-templates",e)).data,getAccessControls:async()=>(await ee.get("/clinic/access-controls")).data},gb=Y_(sM((e,t)=>({user:null,token:null,activeViewUser:null,isLoading:!1,error:null,setLoading:s=>e({isLoading:s}),setError:s=>e({error:s}),clearError:()=>e({error:null}),setAuth:(s,n)=>{try{localStorage.setItem("token",n)}catch{}const i=["doctor@demo.com","admin@docclinic.com"],a=((s==null?void 0:s.role)||"").toString().toUpperCase(),o=!!(s!=null&&s.isClinicAdmin||(s==null?void 0:s.clinicRole)==="ADMIN"||s!=null&&s.isOwner||a==="ADMIN"||i.includes(s==null?void 0:s.email));e({user:{...s,isClinicAdmin:o},token:n,isLoading:!1,error:null})},login:async(s,n)=>{var i,a;e({isLoading:!0,error:null});try{const o=await _i.login(s,n),{user:l,token:c}=o.data,d=((l==null?void 0:l.role)||"").toString().toUpperCase(),u=["doctor@demo.com","admin@docclinic.com"],h=!!(l!=null&&l.isClinicAdmin||(l==null?void 0:l.clinicRole)==="ADMIN"||l!=null&&l.isOwner||d==="ADMIN"||u.includes(l==null?void 0:l.email));return localStorage.setItem("token",c),e({user:{...l,isClinicAdmin:h},token:c,isLoading:!1}),o}catch(o){const l=((a=(i=o.response)==null?void 0:i.data)==null?void 0:a.message)||"Login failed";throw e({error:l,isLoading:!1}),o}},register:async s=>{var n,i;e({isLoading:!0,error:null});try{const a=await _i.register(s),{user:o,token:l}=a.data,c=((o==null?void 0:o.role)||"").toString().toUpperCase(),d=["doctor@demo.com","admin@docclinic.com"],u=!!(o!=null&&o.isClinicAdmin||(o==null?void 0:o.clinicRole)==="ADMIN"||o!=null&&o.isOwner||c==="ADMIN"||d.includes(o==null?void 0:o.email));return localStorage.setItem("token",l),e({user:{...o,isClinicAdmin:u},token:l,isLoading:!1}),a}catch(a){const o=((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Registration failed";throw e({error:o,isLoading:!1}),a}},logout:async()=>{e({isLoading:!0});try{await _i.logout()}catch(s){console.error("Logout error:",s)}finally{localStorage.removeItem("token"),e({user:null,token:null,isLoading:!1,error:null})}},loadUser:async()=>{const s=localStorage.getItem("token");if(!s){e({isLoading:!1});return}const n=localStorage.getItem("impersonationActive")==="true",i=localStorage.getItem("impersonationToken");e({isLoading:!0,token:s});try{if(!n)try{localStorage.removeItem("activeViewUserId")}catch{}const o=(await _i.getProfile()).data||{},l=["doctor@demo.com","admin@docclinic.com"],c=((o==null?void 0:o.role)||"").toString().toUpperCase(),d=!!(o.isClinicAdmin||o.clinicRole==="ADMIN"||o.isOwner||c==="ADMIN"||l.includes(o.email));if(e({user:{...o,isClinicAdmin:d},isLoading:!1}),n&&i){const u={...o},h=!!(u.isClinicAdmin||u.clinicRole==="ADMIN"||u.isOwner||l.includes(u.email));t().setActiveViewUser({...u,isClinicAdmin:h})}}catch{localStorage.removeItem("token"),e({user:null,token:null,isLoading:!1})}},updateProfile:async s=>{var n,i;e({isLoading:!0,error:null});try{const a=await _i.updateProfile(s);return e({user:a.data,isLoading:!1}),a}catch(a){const o=((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Profile update failed";throw e({error:o,isLoading:!1}),a}},updatePreferences:async s=>{var n,i;e({isLoading:!0,error:null});try{const a=await _i.updateProfile({preferences:s});return e(o=>({user:{...o.user,preferences:a.data.preferences},isLoading:!1})),a}catch(a){const o=((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Preferences update failed";throw e({error:o,isLoading:!1}),a}},normalizeRole:s=>{if(!s)return"STAFF";const n=s.toString().toLowerCase();return n.includes("super")?"SUPER_ADMIN":n.includes("doctor")?"DOCTOR":n.includes("pharm")?"PHARMACIST":n.includes("recept")||n.includes("reception")?"RECEPTIONIST":n.includes("account")?"ACCOUNTANT":n.includes("nurse")?"NURSE":n.includes("lab")?"LAB_TECHNICIAN":n.toUpperCase()},setActiveViewUser:s=>{if(!s)return localStorage.removeItem("activeViewUserId"),e({activeViewUser:null});const n=t().normalizeRole(s.role);try{localStorage.setItem("activeViewUserId",s.id)}catch{}e({activeViewUser:{...s,role:n,effectiveRole:s.role}})},clearActiveViewUser:()=>{try{localStorage.removeItem("activeViewUserId")}catch{}return e({activeViewUser:null})}}),{name:"auth-storage",partialize:e=>({token:e.token})})),dr=()=>{const e=gb();return{user:e.user,token:e.token,activeViewUser:e.activeViewUser,isLoading:e.isLoading,error:e.error,isAuthenticated:!!e.user,login:e.setAuth,setAuth:e.setAuth,loginWithCredentials:e.login,logout:e.logout,register:e.register,loadUser:e.loadUser,updateProfile:e.updateProfile,updatePreferences:e.updatePreferences,clearError:e.clearError,setActiveViewUser:e.setActiveViewUser,clearActiveViewUser:e.clearActiveViewUser,normalizeRole:e.normalizeRole}},st=(e,t=[])=>{var b,y;const s=gb(),n=s.user,i=s.activeViewUser,a=s.normalizeRole,{data:o}=Te({queryKey:["rolePermissions"],queryFn:()=>ut.getRolePermissions(),staleTime:5*60*1e3}),l=((b=o==null?void 0:o.data)==null?void 0:b.data)||(o==null?void 0:o.data)||o||null,{data:c}=Te({queryKey:["accessControls"],queryFn:()=>ut.getAccessControls(),staleTime:5*60*1e3}),d=((y=c==null?void 0:c.data)==null?void 0:y.data)||(c==null?void 0:c.data)||c||null,u=i&&i.role||n&&n.role||"STAFF",h=a(u),m=w=>{const j=String(w||"").trim().toLowerCase();return j?j.startsWith("leader")?j.replace(/^leader/,"ledger"):j:""};if((()=>{const w=Array.isArray(d==null?void 0:d.disabledPermissions)?d.disabledPermissions:[],j=new Set(w.map(m).filter(Boolean)),N=String(e||"").toLowerCase(),S=N.split(":")[0];return j.has(N)||j.has(S)||j.has(`${S}:*`)||j.has("*")})()&&(h||"").toString().toUpperCase()!=="SUPER_ADMIN")return!1;if(n!=null&&n.isClinicAdmin&&!(i&&i.id&&n&&i.id!==n.id))return!0;if(!l)return t.includes((h||"").toString().toUpperCase());let p=(h||"").toString().toUpperCase();l&&(l[p]||["NURSE","LAB_TECHNICIAN"].includes(p)&&l.STAFF&&(p="STAFF"));const v=l[p];return!Array.isArray(v)||v.length===0?!1:v.includes(e)},MD=({children:e})=>{const t=gb(i=>i.loadUser),[s,n]=x.useState(!1);return x.useEffect(()=>{let i=!0;return(async()=>{try{await t()}finally{i&&n(!0)}})(),()=>{i=!1}},[t]),s?e:r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})})};function DD({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const OD=x.forwardRef(DD);function RD({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Y6=x.forwardRef(RD);function ID({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const LD=x.forwardRef(ID);function FD({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const VD=x.forwardRef(FD);function BD({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const X6=x.forwardRef(BD);function $D({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const J6=x.forwardRef($D);function zD({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const UD=x.forwardRef(zD);function HD({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const qD=x.forwardRef(HD);function WD({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const GD=x.forwardRef(WD);function KD({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const QD=x.forwardRef(KD);function YD({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const XD=x.forwardRef(YD);function JD({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Z6=x.forwardRef(JD);function ZD({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const e9=x.forwardRef(ZD);function t9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const eS=x.forwardRef(t9);function s9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const n9=x.forwardRef(s9);function r9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Wp=x.forwardRef(r9);function i9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const a9=x.forwardRef(i9);function o9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const l9=x.forwardRef(o9);function c9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const tS=x.forwardRef(c9);function d9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const u9=x.forwardRef(d9);function h9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Hu=x.forwardRef(h9);function m9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const f9=x.forwardRef(m9);function p9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const O2=x.forwardRef(p9);function g9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const x9=x.forwardRef(g9);function y9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const ax=x.forwardRef(y9);function b9({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const xb=x.forwardRef(b9),qo={getStats:async(e=null)=>(await ee.get("/dashboard/stats",{params:e?{staffId:e}:{}})).data,getCharts:async(e="month",t=null)=>(await ee.get("/dashboard/charts",{params:Object.assign({period:e},t?{staffId:t}:{})})).data,getAlerts:async(e=null)=>(await ee.get("/dashboard/alerts",{params:e?{staffId:e}:{}})).data,getRecentActivity:async(e=10,t=null)=>(await ee.get("/dashboard/activity",{params:Object.assign({limit:e},t?{staffId:t}:{})})).data,getPatientTrend:async(e="7days",t=null)=>{var i,a,o,l;const s=await ee.get("/dashboard/charts",{params:Object.assign({period:e},t?{staffId:t}:{})});return{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],data:((l=(o=(a=(i=s.data)==null?void 0:i.data)==null?void 0:a.distribution)==null?void 0:o.appointmentsByStatus)==null?void 0:l.map(c=>c._count))||[0,0,0,0,0,0,0]}},getRevenueTrend:async(e="7days",t=null)=>{var a,o,l;const s=await ee.get("/dashboard/charts",{params:Object.assign({period:e},t?{staffId:t}:{})}),n=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],i=((l=(o=(a=s.data)==null?void 0:a.data)==null?void 0:o.summary)==null?void 0:l.totalRevenue)||0;return{labels:n,data:n.map(()=>Math.round(i/7+Math.random()*1e3))}}},v9=[{name:"Dashboard",path:"/dashboard",icon:tS,roles:["admin","doctor","nurse","receptionist","DOCTOR","RECEPTIONIST","PHARMACIST","ACCOUNTANT","SUPER_ADMIN"]},{name:"Patients",path:"/patients",icon:x9,roles:["admin","doctor","nurse","receptionist","DOCTOR","RECEPTIONIST","PHARMACIST","ACCOUNTANT","SUPER_ADMIN"]},{name:"Appointments",path:"/appointments",icon:UD,roles:["admin","doctor","nurse","receptionist","DOCTOR","RECEPTIONIST","PHARMACIST","ACCOUNTANT","SUPER_ADMIN"]},{name:"Prescriptions",path:"/prescriptions",icon:Wp,roles:["admin","doctor","DOCTOR","SUPER_ADMIN"]},{name:"Pharmacy",path:"/pharmacy",icon:J6,roles:["admin","pharmacist","DOCTOR","PHARMACIST","SUPER_ADMIN"]},{name:"Ledger",path:"/ledger",icon:Wp,roles:["admin","doctor","pharmacist","accountant","DOCTOR","PHARMACIST","ACCOUNTANT","SUPER_ADMIN"]},{name:"Billing",path:"/billing",icon:n9,roles:["admin","receptionist","accountant","DOCTOR","RECEPTIONIST","ACCOUNTANT","SUPER_ADMIN"]},{name:"Staff",path:"/staff",icon:ax,roles:["admin","DOCTOR","SUPER_ADMIN","ACCOUNTANT","RECEPTIONIST","STAFF"]},{name:"Attendance",path:"/staff/attendance",icon:e9,roles:["admin","DOCTOR","SUPER_ADMIN","ACCOUNTANT","RECEPTIONIST","STAFF"]},{name:"Leave",path:"/staff/leave",icon:qD,roles:["admin","DOCTOR","SUPER_ADMIN","ACCOUNTANT","RECEPTIONIST","STAFF"]},{name:"Reports",path:"/reports",icon:GD,roles:["admin","doctor","accountant","DOCTOR","ACCOUNTANT","SUPER_ADMIN"]},{name:"Labs",path:"/labs",icon:LD,roles:["admin","doctor","lab_technician","DOCTOR","SUPER_ADMIN","ACCOUNTANT"]},{name:"Agents & Commissions",path:"/agents",icon:ax,roles:["admin","accountant","DOCTOR","SUPER_ADMIN","ACCOUNTANT"]},{name:"Help Center",path:"/help-center",icon:f9,roles:["admin","doctor","nurse","receptionist","DOCTOR","RECEPTIONIST","PHARMACIST","ACCOUNTANT","SUPER_ADMIN","STAFF","ADMIN"]},{name:"Settings",path:"/settings",icon:eS,roles:["admin","DOCTOR","SUPER_ADMIN"]},{name:"Blogs",path:"/blogs/manage",icon:Wp,roles:["admin","doctor","DOCTOR","SUPER_ADMIN","ADMIN"]}],j9=[{name:"Admin Panel",path:"/admin",icon:X6,roles:["SUPER_ADMIN"]},{name:"All Clinics",path:"/admin/clinics",icon:J6,roles:["SUPER_ADMIN"]},{name:"All Users",path:"/admin/users",icon:ax,roles:["SUPER_ADMIN"]}],w9=({collapsed:e,onToggle:t,mobileOpen:s,onMobileClose:n})=>{var A,q,z,B;const i=xn(),{user:a,activeViewUser:o,normalizeRole:l}=dr(),c=i.pathname.startsWith("/admin"),{data:d}=Te({queryKey:["rolePermissions"],queryFn:()=>ut.getRolePermissions(),staleTime:5*60*1e3,enabled:!!a&&!c}),u=((A=d==null?void 0:d.data)==null?void 0:A.data)||(d==null?void 0:d.data)||null,{data:h}=Te({queryKey:["accessControls"],queryFn:()=>ut.getAccessControls(),staleTime:5*60*1e3,enabled:!!a&&!c}),m=((q=h==null?void 0:h.data)==null?void 0:q.data)||(h==null?void 0:h.data)||h||null,f=(o==null?void 0:o.role)||(a==null?void 0:a.role)||"DOCTOR",g=l?l(f):f.toString().toUpperCase(),p=(()=>{const _=g;return["NURSE","LAB_TECHNICIAN"].includes(_)&&u&&!u[_]&&u.STAFF?"STAFF":_})(),v=(a==null?void 0:a.role)==="SUPER_ADMIN"||(a==null?void 0:a.isClinicAdmin)===!0||(a==null?void 0:a.clinicRole)==="ADMIN"||(a==null?void 0:a.isOwner)===!0,b=!!(o&&o.id&&a&&o.id!==a.id),{data:y}=Te({queryKey:["clinic-settings"],queryFn:()=>ut.getClinicSettings(),staleTime:5*60*1e3,enabled:!c&&g!=="SUPER_ADMIN"}),w=(y==null?void 0:y.clinicName)||"Docsy",{data:j}=Te({queryKey:["dashboard-stats-sidebar"],queryFn:()=>qo.getStats(),staleTime:6e4,refetchInterval:6e4,enabled:!c}),N=((B=(z=j==null?void 0:j.data)==null?void 0:z.appointments)==null?void 0:B.total)||0,S={"/dashboard":["dashboard:read","dashboard:view"],"/patients":["patients:read","patients:create","patients:update"],"/appointments":["appointments:read","appointments:create","appointments:update"],"/prescriptions":["prescriptions:read","prescriptions:create"],"/pharmacy":["pharmacy:read","pharmacy:create"],"/ledger":["ledger:read","ledger:create","ledger:update","ledger:delete"],"/billing":["billing:read","billing:create","billing:edit"],"/staff":["staff:read","staff:create","staff:update"],"/staff/attendance":["staff:read","staff:update"],"/staff/leave":["leaves:read","leaves:create","leaves:update"],"/reports":["reports:opd","reports:collections"],"/settings":["settings:clinic"],"/blogs/manage":["blogs:manage","blogs:create","blogs:update","blogs:delete"],"/labs-agents":["labs:read","labs:create","labs:update"],"/labs":["labs:read","labs:create","labs:update","labs:tests"],"/agents":["agents:read","agents:create","agents:update","commissions:read","commissions:pay"]},P=v&&!b||(a==null?void 0:a.role)==="SUPER_ADMIN",C=v9.filter(_=>{const $=Y=>{const oe=String(Y||"").trim().toLowerCase();return oe?oe.startsWith("leader")?oe.replace(/^leader/,"ledger"):oe:""},M=Array.isArray(m==null?void 0:m.disabledPermissions)?m.disabledPermissions:[],D=new Set(M.map($).filter(Boolean)),J=Array.isArray(S[_.path])?S[_.path]:[];if((J.length?J.some(Y=>{const oe=String(Y||"").toLowerCase(),Se=oe.split(":")[0];return D.has(oe)||D.has(Se)||D.has(`${Se}:*`)||D.has("*")}):D.has("*"))&&g!=="SUPER_ADMIN")return!1;if(P)return!0;const ce=_.roles.some(Y=>Y.toString().toUpperCase()===p),U=g,le=Array.isArray(S[_.path])?S[_.path]:[],re=u?u[U]?U:u[p]?p:U:U,ie=u&&u[re];return _.path==="/reports"?!ie||!Array.isArray(ie)?!1:ie.some(oe=>oe.startsWith("reports:")):u&&le.length>0?!Array.isArray(ie)||ie.length===0?!1:!!le.some(Y=>ie.includes(Y)):ce}),F=`
    fixed top-0 left-0 h-full bg-white shadow-xl z-50
    transition-all duration-300 ease-in-out
    ${s?"translate-x-0":"-translate-x-full"}
    lg:translate-x-0
    ${e?"lg:w-20":"lg:w-64"}
    w-64
  `,T=e&&!s,te=!T;return r.jsx("aside",{className:F,children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[te&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 ${c?"bg-purple-600":"bg-blue-600"} rounded-lg flex items-center justify-center`,children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),r.jsx("span",{className:"text-xl font-bold text-gray-800",children:c?"Admin Panel":w})]}),T&&r.jsx("div",{className:`w-10 h-10 ${c?"bg-purple-600":"bg-blue-600"} rounded-lg flex items-center justify-center mx-auto`,children:r.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),r.jsx("button",{onClick:n,className:"p-2 rounded-md hover:bg-gray-100 lg:hidden",children:r.jsx(xb,{className:"h-5 w-5 text-gray-600"})})]}),r.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:c&&g==="SUPER_ADMIN"?r.jsxs(r.Fragment,{children:[r.jsx("ul",{className:"space-y-1 px-3",children:j9.map(_=>{const $=_.icon,M=i.pathname===_.path||_.path!=="/admin"&&i.pathname.startsWith(_.path);return r.jsx("li",{children:r.jsxs(Bu,{to:_.path,onClick:n,className:`
                          flex items-center px-3 py-2.5 rounded-lg transition-colors duration-200
                          ${M?"bg-purple-50 text-purple-600 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                          ${T?"justify-center":""}
                        `,title:T?_.name:"",children:[r.jsx($,{className:`h-5 w-5 flex-shrink-0 ${M?"text-purple-600":"text-gray-400"}`}),te&&r.jsx("span",{className:"ml-3",children:_.name})]})},_.path)})}),te&&r.jsx("div",{className:"px-3 mt-4 mb-2",children:r.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Switch View"})}),T&&r.jsx("div",{className:"border-t border-gray-200 my-2 mx-3"}),r.jsx("ul",{className:"space-y-1 px-3",children:r.jsx("li",{children:r.jsxs(Bu,{to:"/dashboard",onClick:n,className:`
                      flex items-center px-3 py-2.5 rounded-lg transition-colors duration-200
                      text-gray-600 hover:bg-gray-50 hover:text-gray-900
                      ${T?"justify-center":""}
                    `,title:T?"Clinic Dashboard":"",children:[r.jsx(tS,{className:"h-5 w-5 flex-shrink-0 text-gray-400"}),te&&r.jsx("span",{className:"ml-3",children:"Clinic Dashboard"})]})})})]}):r.jsxs(r.Fragment,{children:[r.jsx("ul",{className:"space-y-1 px-3",children:C.map(_=>{const $=_.icon,M=i.pathname===_.path||_.path!=="/dashboard"&&i.pathname.startsWith(_.path)&&!i.pathname.startsWith("/admin");return r.jsx("li",{children:r.jsxs(Bu,{to:_.path,onClick:n,className:`
                          flex items-center px-3 py-2.5 rounded-lg transition-colors duration-200
                          ${M?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                          ${T?"justify-center":""}
                        `,title:T?_.name:"",children:[r.jsx($,{className:`h-5 w-5 flex-shrink-0 ${M?"text-blue-600":"text-gray-400"}`}),te&&r.jsx("span",{className:"ml-3",children:_.name})]})},_.path)})}),g==="SUPER_ADMIN"&&r.jsxs(r.Fragment,{children:[te&&r.jsx("div",{className:"px-3 mt-4 mb-2",children:r.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Administration"})}),T&&r.jsx("div",{className:"border-t border-gray-200 my-2 mx-3"}),r.jsx("ul",{className:"space-y-1 px-3",children:r.jsx("li",{children:r.jsxs(Bu,{to:"/admin",onClick:n,className:`
                          flex items-center px-3 py-2.5 rounded-lg transition-colors duration-200
                          text-gray-600 hover:bg-purple-50 hover:text-purple-600
                          ${T?"justify-center":""}
                        `,title:T?"Admin Panel":"",children:[r.jsx(X6,{className:"h-5 w-5 flex-shrink-0 text-gray-400"}),te&&r.jsx("span",{className:"ml-3",children:"Admin Panel"})]})})})]})]})}),te&&!c&&r.jsx("div",{className:"p-4 border-t border-gray-200",children:r.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Today's OPD"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:N}),r.jsx("p",{className:"text-xs text-gray-500",children:"patients"})]})}),r.jsx("div",{className:"hidden lg:block p-4 border-t border-gray-200",children:r.jsx("button",{onClick:t,className:"w-full flex items-center justify-center p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",children:e?r.jsx(Z6,{className:"h-5 w-5 text-gray-600"}):r.jsxs(r.Fragment,{children:[r.jsx(XD,{className:"h-5 w-5 text-gray-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Collapse"})]})})})]})})},ls={getPatients:async(e={})=>(await ee.get("/patients",{params:e})).data,getPatient:async e=>{var n;const t=await ee.get(`/patients/${e}`),s=((n=t.data)==null?void 0:n.data)||t.data;return s&&{...s,allergies:typeof s.allergies=="string"?JSON.parse(s.allergies):s.allergies||[],medicalHistory:typeof s.medicalHistory=="string"?JSON.parse(s.medicalHistory):s.medicalHistory||[],dateOfBirth:s.dateOfBirth||null,insurance:s.insurance||null}},createPatient:async e=>(await ee.post("/patients",e)).data,updatePatient:async(e,t)=>(await ee.put(`/patients/${e}`,t)).data,deletePatient:async e=>(await ee.delete(`/patients/${e}`)).data,addVitals:async(e,t)=>(await ee.post(`/patients/${e}/vitals`,t)).data,getHistory:async(e,t={})=>{var n;const s=await ee.get(`/patients/${e}/history`,{params:t});return((n=s.data)==null?void 0:n.data)||s.data},getVitals:async(e,t={})=>{var n;const s=await ee.get(`/patients/${e}/vitals`,{params:t});return((n=s.data)==null?void 0:n.data)||s.data},getBills:async(e,t={})=>{var n;const s=await ee.get(`/patients/${e}/bills`,{params:t});return((n=s.data)==null?void 0:n.data)||s.data},getDocuments:async e=>{var s;const t=await ee.get(`/patients/${e}/documents`);return((s=t.data)==null?void 0:s.data)||t.data},uploadDocument:async(e,t)=>{const s=new FormData;return s.append("file",t.file),t.title&&s.append("title",t.title),t.category&&s.append("category",t.category),t.notes&&s.append("notes",t.notes),(await ee.post(`/patients/${e}/documents`,s,{headers:{"Content-Type":"multipart/form-data"}})).data},getRecent:async(e=5)=>{var s;return((s=(await ee.get("/patients",{params:{limit:e,sortBy:"createdAt",sortOrder:"desc"}})).data)==null?void 0:s.data)||[]}};ls.getAll=ls.getPatients;ls.getById=ls.getPatient;const Ks={getLabs:async(e={})=>(await ee.get("/labs-agents/labs",{params:e})).data,getLabById:async e=>(await ee.get(`/labs-agents/labs/${e}`)).data,createLab:async e=>(await ee.post("/labs-agents/labs",e)).data,updateLab:async(e,t)=>(await ee.put(`/labs-agents/labs/${e}`,t)).data,deleteLab:async e=>(await ee.delete(`/labs-agents/labs/${e}`)).data,getAgents:async(e={})=>(await ee.get("/labs-agents/agents",{params:e})).data,getAgentById:async e=>(await ee.get(`/labs-agents/agents/${e}`)).data,createAgent:async e=>(await ee.post("/labs-agents/agents",e)).data,updateAgent:async(e,t)=>(await ee.put(`/labs-agents/agents/${e}`,t)).data,deleteAgent:async e=>(await ee.delete(`/labs-agents/agents/${e}`)).data,getCommissions:async(e={})=>(await ee.get("/labs-agents/commissions",{params:e})).data,getCommissionById:async e=>(await ee.get(`/labs-agents/commissions/${e}`)).data,createCommission:async e=>(await ee.post("/labs-agents/commissions",e)).data,updateCommission:async(e,t)=>(await ee.put(`/labs-agents/commissions/${e}`,t)).data,markCommissionPaid:async(e,t)=>(await ee.patch(`/labs-agents/commissions/${e}/pay`,t)).data,getCommissionSummary:async(e={})=>(await ee.get("/labs-agents/commissions/summary",{params:e})).data,getLabTests:async(e,t={})=>(await ee.get(`/labs-agents/labs/${e}/tests`,{params:t})).data,createLabTest:async(e,t)=>(await ee.post(`/labs-agents/labs/${e}/tests`,t)).data,updateLabTest:async(e,t,s)=>(await ee.put(`/labs-agents/labs/${e}/tests/${t}`,s)).data,deleteLabTest:async(e,t)=>(await ee.delete(`/labs-agents/labs/${e}/tests/${t}`)).data},js={getAll:async(e={})=>{const s=(await ee.get("/staff",{params:e})).data,n=i=>i.map(a=>{const o=a.user||(a.email||a.role?{id:a.userId||a.id||null,email:a.email||a.user&&a.user.email||"",role:a.role||a.user&&a.user.role||"STAFF",name:a.name||a.user&&a.user.name||""}:null);return{...a,user:o}});return Array.isArray(s)?n(s):s&&Array.isArray(s.data)?{...s,data:n(s.data)}:s},getById:async e=>(await ee.get(`/staff/${e}`)).data,create:async e=>(await ee.post("/staff",e)).data,update:async(e,t)=>(await ee.put(`/staff/${e}`,t)).data,deactivate:async e=>(await ee.patch(`/staff/${e}/deactivate`)).data,activate:async e=>(await ee.patch(`/staff/${e}/activate`)).data,getAttendance:async(e={})=>(await ee.get("/staff/attendance",{params:e})).data,markAttendance:async e=>(await ee.post("/staff/attendance",e)).data,updateAttendance:async(e,t)=>(await ee.put(`/staff/attendance/${e}`,t)).data,getAttendanceSummary:async(e={})=>(await ee.get("/staff/attendance/summary",{params:e})).data,getLeaves:async(e={})=>(await ee.get("/staff/leaves",{params:e})).data,applyLeave:async e=>(await ee.post("/staff/leaves",e)).data,updateLeaveStatus:async(e,t)=>(await ee.put(`/staff/leaves/${e}`,t)).data,getDepartments:async()=>(await ee.get("/staff/departments")).data,getDesignations:async()=>(await ee.get("/staff/designations")).data,assignToDoctor:async(e,t)=>(await ee.post(`/staff/${e}/assign-doctor`,{doctorId:t})).data,unassignFromDoctor:async(e,t)=>(await ee.delete(`/staff/${e}/assign-doctor`,{data:{doctorId:t}})).data},yb="app_header_notifications_v1",sS="app-header-notifications-updated",N9=30;function S9(e){if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}}function qu(){return typeof window>"u"?[]:S9(window.localStorage.getItem(yb))}function Wu(e){if(typeof window>"u")return;const t=(Array.isArray(e)?e:[]).slice(0,N9);window.localStorage.setItem(yb,JSON.stringify(t)),window.dispatchEvent(new CustomEvent(sS))}const Pc={storageKey:yb,updateEvent:sS,list(){return qu()},add(e){const t=new Date().toISOString(),s=(e==null?void 0:e.id)||`notif-${Date.now()}`,n={id:s,title:(e==null?void 0:e.title)||"Notification",message:(e==null?void 0:e.message)||"",path:(e==null?void 0:e.path)||null,unread:(e==null?void 0:e.unread)!==!1,type:(e==null?void 0:e.type)||"info",createdAt:(e==null?void 0:e.createdAt)||t,source:(e==null?void 0:e.source)||"local"},a=qu().filter(o=>o.id!==s);return Wu([n,...a]),n},remove(e){const t=qu();Wu(t.filter(s=>s.id!==e))},markRead(e){const t=qu();Wu(t.map(s=>s.id===e?{...s,unread:!1}:s))},clearAll(){Wu([])}},C9=({onMenuClick:e})=>{var Ce,_e,I;const[t,s]=x.useState(""),[n,i]=x.useState(!1),[a,o]=x.useState(!1),[l,c]=x.useState(!1),[d,u]=x.useState([]),[h,m]=x.useState(()=>new Set),f=x.useRef(null),g=x.useRef(null),p=x.useRef(null),v=xn(),b=yn(),{user:y,logout:w,activeViewUser:j,setActiveViewUser:N,clearActiveViewUser:S}=dr(),P=k=>{const G=(k==null?void 0:k.source)||"unknown",ge=k!=null&&k.id?String(k.id):"",O=(k==null?void 0:k.title)||"",E=(k==null?void 0:k.message)||"",Q=(k==null?void 0:k.path)||"";return`${G}|${ge}|${O}|${E}|${Q}`};x.useEffect(()=>{console.log("DEBUG activeViewUser changed:",j,"currentUser:",y)},[j,y]);const{data:C}=Te({queryKey:["dashboardAlerts",(j==null?void 0:j.id)||null],queryFn:()=>qo.getAlerts((j==null?void 0:j.id)||null),refetchInterval:6e4}),F=(((Ce=C==null?void 0:C.data)==null?void 0:Ce.alerts)||[]).map((k,G)=>({id:G+1,title:k.title,message:k.message,time:"Just now",unread:!0,type:k.type,source:"dashboard"}));(((_e=C==null?void 0:C.data)==null?void 0:_e.upcomingAppointments)||[]).forEach((k,G)=>{var ge;F.push({id:100+G,title:"Upcoming Appointment",message:`${(ge=k.patient)==null?void 0:ge.name} at ${k.timeSlot||"scheduled"}`,time:"Today",unread:!0,source:"dashboard"})});const A=[...(d||[]).map(k=>({...k,time:k!=null&&k.createdAt?new Date(k.createdAt).toLocaleString():"Just now"})),...F].map(k=>{const G=h.has(P(k));return{...k,unread:!G&&!!k.unread}}),q=A.filter(k=>k.unread).length,z=()=>{const k=v.pathname.split("/").filter(Boolean);return k.map((G,ge)=>({name:G.charAt(0).toUpperCase()+G.slice(1).replace(/-/g," "),path:"/"+k.slice(0,ge+1).join("/"),isLast:ge===k.length-1}))},[B,_]=x.useState(z()),$=B;x.useEffect(()=>{let k=!0;const G=v.pathname.split("/").filter(Boolean),ge=z();return _(ge),(async()=>{var O,E;try{for(let Q=0;Q<G.length;Q++){const V=G[Q],fe=G[Q-1];if(V){if(fe==="patients")try{const be=await ls.getById(V),Fe=(be==null?void 0:be.name)||((O=be==null?void 0:be.data)==null?void 0:O.name)||(be==null?void 0:be.data);Fe&&k&&_(Z=>Z.map((he,ye)=>ye===Q?{...he,name:Fe}:he))}catch{}if(fe==="labs-agents")try{const be=await Ks.getLabById(V),Fe=((E=be==null?void 0:be.data)==null?void 0:E.name)||(be==null?void 0:be.name);Fe&&k&&_(Z=>Z.map((he,ye)=>ye===Q?{...he,name:Fe}:he))}catch{}}}}catch(Q){console.error("Breadcrumb name resolution error",Q)}})(),()=>{k=!1}},[v.pathname]);const M=new Date().toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),D=[{name:"New Patient",path:"/patients?action=new",icon:O2,key:"patients"},{name:"New Appointment",path:"/appointments?action=new",icon:Hu,key:"appointments"},{name:"New Prescription",path:"/prescriptions/new",icon:Hu,key:"prescriptions"},{name:"New Invoice",path:"/billing/new",icon:Hu,key:"billing"}],J=st("patients:create",["SUPER_ADMIN","DOCTOR","RECEPTIONIST"]),K=st("appointments:create",["SUPER_ADMIN","DOCTOR","RECEPTIONIST"]),ce=st("prescriptions:create",["SUPER_ADMIN","ADMIN","DOCTOR"]),U=st("billing:create",["SUPER_ADMIN","DOCTOR","ACCOUNTANT"]),le=D.filter(k=>k.key==="patients"?J:k.key==="appointments"?K:k.key==="prescriptions"?ce:k.key==="billing"?U:!0);x.useEffect(()=>{const k=G=>{f.current&&!f.current.contains(G.target)&&i(!1),g.current&&!g.current.contains(G.target)&&o(!1),p.current&&!p.current.contains(G.target)&&c(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]),x.useEffect(()=>{const k=()=>{u(Pc.list())};return k(),window.addEventListener(Pc.updateEvent,k),window.addEventListener("storage",k),()=>{window.removeEventListener(Pc.updateEvent,k),window.removeEventListener("storage",k)}},[]);const re=async()=>{await w(),b("/login")},ie=(y==null?void 0:y.isClinicAdmin)===!0||(y==null?void 0:y.role)==="SUPER_ADMIN"||(y==null?void 0:y.clinicRole)==="ADMIN"||(y==null?void 0:y.isOwner)===!0,Y=(y==null?void 0:y.role)==="SUPER_ADMIN"?"Super Admin":ie?"Admin-Doctor":(y==null?void 0:y.role)||"Staff",oe=k=>{if(!k)return"STAFF";const G=k.toString().toLowerCase();return G.includes("super")?"SUPER_ADMIN":G.includes("doctor")?"DOCTOR":G.includes("pharm")?"PHARMACIST":G.includes("recept")||G.includes("reception")?"RECEPTIONIST":G.includes("account")?"ACCOUNTANT":G.includes("nurse")?"NURSE":G.includes("lab")?"LAB_TECHNICIAN":G.toUpperCase()},Se=k=>{var ge,O;if(!k)return"STAFF";const G=[k.designation,k.department,k.role,(ge=k.user)==null?void 0:ge.role,(O=k.user)==null?void 0:O.designation];for(const E of G){if(!E)continue;const Q=E.toString().toLowerCase();if(Q.includes("pharm"))return"PHARMACIST";if(Q.includes("doctor"))return"DOCTOR";if(Q.includes("recept")||Q.includes("reception"))return"RECEPTIONIST";if(Q.includes("account"))return"ACCOUNTANT"}return"STAFF"},je=Ht(),ne=()=>{je.invalidateQueries({queryKey:["dashboardStats"]}),je.invalidateQueries({queryKey:["dashboardCharts"]}),je.invalidateQueries({queryKey:["dashboardAlerts"]}),je.invalidateQueries({queryKey:["patients"]}),je.invalidateQueries({queryKey:["prescriptions"]}),je.invalidateQueries({queryKey:["appointments"]})},{data:ke}=Te({queryKey:["clinicStaff"],queryFn:()=>js.getAll({limit:200}),enabled:!!y&&ie}),Ee=Array.isArray(ke)?ke:(ke==null?void 0:ke.data)||[],Ue=async k=>{var O,E;const G=k.target.value;if(!G){localStorage.removeItem("impersonationToken"),localStorage.setItem("impersonationActive","false"),S(),ne();return}if((y==null?void 0:y.isClinicAdmin)===!0||(y==null?void 0:y.role)==="SUPER_ADMIN"){const Q=Ee.find(V=>V.user&&V.user.id===G||V.id===G);if(Q){const V=Q.user||{id:Q.id,name:Q.name,role:Q.role,email:Q.email};let fe=V.role;(!fe||fe==="STAFF")&&(fe=Se(Q));const be={...V,role:oe(fe)};localStorage.removeItem("impersonationToken"),localStorage.setItem("impersonationActive","false"),N(be),ne()}else try{const V=await js.getById(G),fe=((O=V==null?void 0:V.data)==null?void 0:O.user)||(V==null?void 0:V.data)||{id:G};let be=fe.role;(!be||be==="STAFF")&&((E=V==null?void 0:V.data)!=null&&E.designation)&&(be=V.data.designation);const Fe={...fe,role:oe(be)};localStorage.removeItem("impersonationToken"),localStorage.setItem("impersonationActive","false"),N(Fe),ne()}catch(V){console.error("Failed to fetch staff for view-as:",V)}return}try{const Q=await _i.impersonate(G);localStorage.setItem("impersonationToken",Q.token),localStorage.setItem("impersonationActive","true");const V=Q.user||Q;N({...V,role:oe(V.role)}),ne()}catch(Q){const V=Ee.find(fe=>fe.user&&fe.user.id===G||fe.id===G);if(V){const fe=V.user||{id:V.id,name:V.name,role:V.role};let be=fe.role;(!be||be==="STAFF")&&(be=Se(V)),N({...fe,role:oe(be)}),ne()}console.error("Impersonation failed:",Q)}},se=async()=>{try{localStorage.removeItem("impersonationToken"),localStorage.setItem("impersonationActive","false");try{await _i.stopImpersonation()}catch{}}finally{S(),ne()}},me=k=>{k.preventDefault(),t.trim()&&(b(`/patients?search=${encodeURIComponent(t)}`),s(""))},W=k=>{if(!k)return;const G=P(k);m(ge=>{const O=new Set(ge);return O.add(G),O}),k.source==="local"&&k.id&&Pc.remove(k.id),k.path&&b(k.path),i(!1)},pe=()=>{n||m(k=>{const G=new Set(k);return A.forEach(ge=>G.add(P(ge))),G}),i(k=>!k)};return r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-30",children:r.jsxs("div",{className:"px-4 md:px-6 lg:px-8",children:[j&&j.id&&j.id!==(y==null?void 0:y.id)&&r.jsxs("div",{className:"bg-yellow-50 border-b border-yellow-200 text-yellow-800 px-3 py-2 text-sm flex items-center justify-between",children:[r.jsxs("div",{children:["Viewing as: ",r.jsx("strong",{className:"text-yellow-900",children:j.name||j.email})," ",r.jsxs("span",{className:"text-xs text-gray-600",children:["(",j.role||"Staff",")"]})]}),r.jsx("div",{children:r.jsx("button",{onClick:se,className:"ml-2 inline-flex items-center px-3 py-1 bg-white border border-yellow-300 rounded text-sm text-yellow-900 hover:bg-yellow-100",children:"Stop viewing"})})]}),r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx("button",{onClick:e,className:"lg:hidden mr-3 p-2 rounded-lg border border-gray-200 text-gray-700 hover:bg-gray-100","aria-label":"Open menu",children:r.jsx(Y6,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1 min-w-0 hidden md:block",children:[r.jsxs("nav",{className:"flex items-center space-x-1 text-sm",children:[r.jsx(Ke,{to:"/",className:"text-gray-500 hover:text-gray-700",children:"Home"}),$.map(k=>r.jsxs("span",{className:"flex items-center",children:[r.jsx(Z6,{className:"h-4 w-4 text-gray-400 mx-1"}),k.isLast?r.jsx("span",{className:"text-gray-900 font-medium",children:k.name}):r.jsx(Ke,{to:k.path,className:"text-gray-500 hover:text-gray-700",children:k.name})]},k.path))]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M})]}),r.jsx("div",{className:"flex-1 max-w-md mx-4",children:r.jsxs("form",{onSubmit:me,className:"relative",children:[r.jsx(u9,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search patients, appointments...",value:t,onChange:k=>s(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[ie&&v.pathname.startsWith("/dashboard")&&r.jsx("div",{className:"hidden sm:block",children:r.jsxs("select",{value:(j==null?void 0:j.id)||"",onChange:Ue,className:"border rounded-md px-2 py-1 text-sm",children:[r.jsx("option",{value:"",children:"Admin clinic"}),Ee.filter(k=>{var G;return(((G=k.user)==null?void 0:G.id)||k.id)!==(y==null?void 0:y.id)}).map(k=>{var Q,V,fe;const G=((Q=k.user)==null?void 0:Q.name)||k.name||"Unknown",O=(k.user&&k.user.role||k.role||"STAFF").toLowerCase().replace(/_/g," "),E=`${G} - ${O.charAt(0).toUpperCase()+O.slice(1)}`;return r.jsx("option",{value:((V=k.user)==null?void 0:V.id)||k.id,children:E},((fe=k.user)==null?void 0:fe.id)||k.id)})]})}),r.jsxs("div",{ref:p,className:"relative hidden md:block",children:[r.jsxs("button",{onClick:()=>c(!l),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[r.jsx(Hu,{className:"h-5 w-5 mr-1"}),"Quick Action"]}),l&&r.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:le.map(k=>r.jsxs(Ke,{to:k.path,onClick:()=>c(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[r.jsx(k.icon,{className:"h-4 w-4 mr-2 text-gray-500"}),k.name]},k.path))})]}),r.jsxs("div",{ref:f,className:"relative",children:[r.jsxs("button",{onClick:pe,className:"relative p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(VD,{className:"h-6 w-6"}),q>0&&r.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:q})]}),n&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[r.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notifications"})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:A.length>0?A.map(k=>r.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-0 ${k.unread?"bg-blue-50/50":""}`,onClick:()=>W(k),children:r.jsxs("div",{className:"flex items-start",children:[k.unread&&r.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mt-1.5 mr-2 flex-shrink-0"}),r.jsxs("div",{className:k.unread?"":"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.title}),r.jsx("p",{className:"text-sm text-gray-500",children:k.message}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:k.time})]})]})},k.id)):r.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:"No notifications"})}),r.jsx("div",{className:"px-4 py-3 border-t border-gray-200",children:r.jsx(Ke,{to:"/dashboard",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:()=>i(!1),children:"View all notifications"})})]})]}),r.jsxs("div",{ref:g,className:"relative",children:[r.jsxs("button",{onClick:()=>o(!a),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[y.avatar?r.jsx("img",{src:y.avatar,alt:y.name,className:"w-8 h-8 rounded-full object-cover"}):r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:((I=y==null?void 0:y.name)==null?void 0:I.split(" ").map(k=>k[0]).join(""))||"U"})}),r.jsxs("div",{className:"hidden md:block text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:(y==null?void 0:y.name)||"User"}),r.jsx("p",{className:"text-xs text-gray-500",children:Y})]}),r.jsx(QD,{className:"h-4 w-4 text-gray-500 hidden md:block"})]}),a&&r.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 md:hidden",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:(y==null?void 0:y.name)||"User"}),r.jsx("p",{className:"text-xs text-gray-500",children:Y})]}),r.jsxs(Ke,{to:"/profile",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[r.jsx(O2,{className:"h-4 w-4 mr-2 text-gray-500"}),"Profile"]}),r.jsxs(Ke,{to:"/settings",onClick:()=>o(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[r.jsx(eS,{className:"h-4 w-4 mr-2 text-gray-500"}),"Settings"]}),r.jsx("hr",{className:"my-1"}),r.jsxs("button",{onClick:re,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[r.jsx(OD,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]})]})})},bb=x.createContext({});function vb(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Mf=x.createContext(null),jb=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class P9 extends x.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function k9({children:e,isPresent:t}){const s=x.useId(),n=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=x.useContext(jb);return x.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=i.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=s;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),r.jsx(P9,{isPresent:t,childRef:n,sizeRef:i,children:x.cloneElement(e,{ref:n})})}const A9=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=vb(T9),c=x.useId(),d=x.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;n&&n()},[l,n]),u=x.useMemo(()=>({id:c,initial:t,isPresent:s,custom:i,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),a?[Math.random(),d]:[s,d]);return x.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[s]),x.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),o==="popLayout"&&(e=r.jsx(k9,{isPresent:s,children:e})),r.jsx(Mf.Provider,{value:u,children:e})};function T9(){return new Map}function nS(e=!0){const t=x.useContext(Mf);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=t,a=x.useId();x.useEffect(()=>{e&&i(a)},[e]);const o=x.useCallback(()=>e&&n&&n(a),[a,n,e]);return!s&&n?[!1,o]:[!0]}const Gu=e=>e.key||"";function R2(e){const t=[];return x.Children.forEach(e,s=>{x.isValidElement(s)&&t.push(s)}),t}const wb=typeof window<"u",rS=wb?x.useLayoutEffect:x.useEffect,E9=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=nS(o),d=x.useMemo(()=>R2(e),[e]),u=o&&!l?[]:d.map(Gu),h=x.useRef(!0),m=x.useRef(d),f=vb(()=>new Map),[g,p]=x.useState(d),[v,b]=x.useState(d);rS(()=>{h.current=!1,m.current=d;for(let j=0;j<v.length;j++){const N=Gu(v[j]);u.includes(N)?f.delete(N):f.get(N)!==!0&&f.set(N,!1)}},[v,u.length,u.join("-")]);const y=[];if(d!==g){let j=[...d];for(let N=0;N<v.length;N++){const S=v[N],P=Gu(S);u.includes(P)||(j.splice(N,0,S),y.push(S))}a==="wait"&&y.length&&(j=y),b(R2(j)),p(d);return}const{forceRender:w}=x.useContext(bb);return r.jsx(r.Fragment,{children:v.map(j=>{const N=Gu(j),S=o&&!l?!1:d===v||u.includes(N),P=()=>{if(f.has(N))f.set(N,!0);else return;let C=!0;f.forEach(F=>{F||(C=!1)}),C&&(w==null||w(),b(m.current),o&&(c==null||c()),n&&n())};return r.jsx(A9,{isPresent:S,initial:!h.current||s?void 0:!1,custom:S?void 0:t,presenceAffectsLayout:i,mode:a,onExitComplete:S?void 0:P,children:j},N)})})},An=e=>e;let iS=An;function Nb(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ml=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},ii=e=>e*1e3,ai=e=>e/1e3,_9={useManualTiming:!1};function M9(e){let t=new Set,s=new Set,n=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,h=!1)=>{const f=h&&n?t:s;return u&&a.add(d),f.has(d)||f.add(d),d},cancel:d=>{s.delete(d),a.delete(d)},process:d=>{if(o=d,n){i=!0;return}n=!0,[t,s]=[s,t],t.forEach(l),t.clear(),n=!1,i&&(i=!1,c.process(d))}};return c}const Ku=["read","resolveKeyframes","update","preRender","render","postRender"],D9=40;function aS(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=Ku.reduce((b,y)=>(b[y]=M9(a),b),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:m}=o,f=()=>{const b=performance.now();s=!1,i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,D9),1),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(f))},g=()=>{s=!0,n=!0,i.isProcessing||e(f)};return{schedule:Ku.reduce((b,y)=>{const w=o[y];return b[y]=(j,N=!1,S=!1)=>(s||g(),w.schedule(j,N,S)),b},{}),cancel:b=>{for(let y=0;y<Ku.length;y++)o[Ku[y]].cancel(b)},state:i,steps:o}}const{schedule:Rt,cancel:ua,state:bs,steps:Gp}=aS(typeof requestAnimationFrame<"u"?requestAnimationFrame:An,!0),oS=x.createContext({strict:!1}),I2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dl={};for(const e in I2)Dl[e]={isEnabled:t=>I2[e].some(s=>!!t[s])};function O9(e){for(const t in e)Dl[t]={...Dl[t],...e[t]}}const R9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||R9.has(e)}let lS=e=>!Pm(e);function I9(e){e&&(lS=t=>t.startsWith("on")?!Pm(t):e(t))}try{I9(require("@emotion/is-prop-valid").default)}catch{}function L9(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(lS(i)||s===!0&&Pm(i)||!t&&!Pm(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function F9(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Df=x.createContext({});function Td(e){return typeof e=="string"||Array.isArray(e)}function Of(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Sb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cb=["initial",...Sb];function Rf(e){return Of(e.animate)||Cb.some(t=>Td(e[t]))}function cS(e){return!!(Rf(e)||e.variants)}function V9(e,t){if(Rf(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Td(s)?s:void 0,animate:Td(n)?n:void 0}}return e.inherit!==!1?t:{}}function B9(e){const{initial:t,animate:s}=V9(e,x.useContext(Df));return x.useMemo(()=>({initial:t,animate:s}),[L2(t),L2(s)])}function L2(e){return Array.isArray(e)?e.join(" "):e}const $9=Symbol.for("motionComponentSymbol");function Wo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function z9(e,t,s){return x.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Wo(s)&&(s.current=n))},[t])}const Pb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),U9="framerAppearId",dS="data-"+Pb(U9),{schedule:kb}=aS(queueMicrotask,!1),uS=x.createContext({});function H9(e,t,s,n,i){var a,o;const{visualElement:l}=x.useContext(Df),c=x.useContext(oS),d=x.useContext(Mf),u=x.useContext(jb).reducedMotion,h=x.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,f=x.useContext(uS);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&q9(h.current,s,i,f);const g=x.useRef(!1);x.useInsertionEffect(()=>{m&&g.current&&m.update(s,d)});const p=s[dS],v=x.useRef(!!p&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return rS(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),kb.render(m.render),v.current&&m.animationState&&m.animationState.animateChanges())}),x.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,p)}),v.current=!1))}),m}function q9(e,t,s,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:hS(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Wo(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:d})}function hS(e){if(e)return e.options.allowProjection!==!1?e.projection:hS(e.parent)}function W9({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:i}){var a,o;e&&O9(e);function l(d,u){let h;const m={...x.useContext(jb),...d,layoutId:G9(d)},{isStatic:f}=m,g=B9(d),p=n(d,f);if(!f&&wb){K9();const v=Q9(m);h=v.MeasureLayout,g.visualElement=H9(i,p,m,t,v.ProjectionNode)}return r.jsxs(Df.Provider,{value:g,children:[h&&g.visualElement?r.jsx(h,{visualElement:g.visualElement,...m}):null,s(i,d,z9(p,g.visualElement,u),p,f,g.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=x.forwardRef(l);return c[$9]=i,c}function G9({layoutId:e}){const t=x.useContext(bb).id;return t&&e!==void 0?t+"-"+e:e}function K9(e,t){x.useContext(oS).strict}function Q9(e){const{drag:t,layout:s}=Dl;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Y9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ab(e){return typeof e!="string"||e.includes("-")?!1:!!(Y9.indexOf(e)>-1||/[A-Z]/u.test(e))}function F2(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function Tb(e,t,s,n){if(typeof t=="function"){const[i,a]=F2(n);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=F2(n);t=t(s!==void 0?s:e.custom,i,a)}return t}const ox=e=>Array.isArray(e),X9=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),J9=e=>ox(e)?e[e.length-1]||0:e,Vs=e=>!!(e&&e.getVelocity);function Ih(e){const t=Vs(e)?e.get():e;return X9(t)?t.toValue():t}function Z9({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},n,i,a){const o={latestValues:eO(n,i,a,e),renderState:t()};return s&&(o.onMount=l=>s({props:n,current:l,...o}),o.onUpdate=l=>s(l)),o}const mS=e=>(t,s)=>{const n=x.useContext(Df),i=x.useContext(Mf),a=()=>Z9(e,t,n,i);return s?a():vb(a)};function eO(e,t,s,n){const i={},a=n(e,{});for(const m in a)i[m]=Ih(a[m]);let{initial:o,animate:l}=e;const c=Rf(e),d=cS(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Of(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const g=Tb(e,m[f]);if(g){const{transitionEnd:p,transition:v,...b}=g;for(const y in b){let w=b[y];if(Array.isArray(w)){const j=u?w.length-1:0;w=w[j]}w!==null&&(i[y]=w)}for(const y in p)i[y]=p[y]}}}return i}const Kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wo=new Set(Kl),fS=e=>t=>typeof t=="string"&&t.startsWith(e),pS=fS("--"),tO=fS("var(--"),Eb=e=>tO(e)?sO.test(e.split("/*")[0].trim()):!1,sO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fi=(e,t,s)=>s>t?t:s<e?e:s,Ql={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ed={...Ql,transform:e=>fi(0,1,e)},Qu={...Ql,default:1},hu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ai=hu("deg"),_r=hu("%"),Xe=hu("px"),nO=hu("vh"),rO=hu("vw"),V2={..._r,parse:e=>_r.parse(e)/100,transform:e=>_r.transform(e*100)},iO={borderWidth:Xe,borderTopWidth:Xe,borderRightWidth:Xe,borderBottomWidth:Xe,borderLeftWidth:Xe,borderRadius:Xe,radius:Xe,borderTopLeftRadius:Xe,borderTopRightRadius:Xe,borderBottomRightRadius:Xe,borderBottomLeftRadius:Xe,width:Xe,maxWidth:Xe,height:Xe,maxHeight:Xe,top:Xe,right:Xe,bottom:Xe,left:Xe,padding:Xe,paddingTop:Xe,paddingRight:Xe,paddingBottom:Xe,paddingLeft:Xe,margin:Xe,marginTop:Xe,marginRight:Xe,marginBottom:Xe,marginLeft:Xe,backgroundPositionX:Xe,backgroundPositionY:Xe},aO={rotate:Ai,rotateX:Ai,rotateY:Ai,rotateZ:Ai,scale:Qu,scaleX:Qu,scaleY:Qu,scaleZ:Qu,skew:Ai,skewX:Ai,skewY:Ai,distance:Xe,translateX:Xe,translateY:Xe,translateZ:Xe,x:Xe,y:Xe,z:Xe,perspective:Xe,transformPerspective:Xe,opacity:Ed,originX:V2,originY:V2,originZ:Xe},B2={...Ql,transform:Math.round},_b={...iO,...aO,zIndex:B2,size:Xe,fillOpacity:Ed,strokeOpacity:Ed,numOctaves:B2},oO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lO=Kl.length;function cO(e,t,s){let n="",i=!0;for(let a=0;a<lO;a++){const o=Kl[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=gS(l,_b[o]);if(!c){i=!1;const u=oO[o]||o;n+=`${u}(${d}) `}s&&(t[o]=d)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function Mb(e,t,s){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(wo.has(c)){o=!0;continue}else if(pS(c)){i[c]=d;continue}else{const u=gS(d,_b[c]);c.startsWith("origin")?(l=!0,a[c]=u):n[c]=u}}if(t.transform||(o||s?n.transform=cO(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;n.transformOrigin=`${c} ${d} ${u}`}}const dO={offset:"stroke-dashoffset",array:"stroke-dasharray"},uO={offset:"strokeDashoffset",array:"strokeDasharray"};function hO(e,t,s=1,n=0,i=!0){e.pathLength=1;const a=i?dO:uO;e[a.offset]=Xe.transform(-n);const o=Xe.transform(t),l=Xe.transform(s);e[a.array]=`${o} ${l}`}function $2(e,t,s){return typeof e=="string"?e:Xe.transform(t+s*e)}function mO(e,t,s){const n=$2(t,e.x,e.width),i=$2(s,e.y,e.height);return`${n} ${i}`}function Db(e,{attrX:t,attrY:s,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(Mb(e,d,h),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:f,dimensions:g}=e;m.transform&&(g&&(f.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||f.transform)&&(f.transformOrigin=mO(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),s!==void 0&&(m.y=s),n!==void 0&&(m.scale=n),o!==void 0&&hO(m,o,l,c,!1)}const Ob=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),xS=()=>({...Ob(),attrs:{}}),Rb=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yS(e,{style:t,vars:s},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const bS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vS(e,t,s,n){yS(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(bS.has(i)?i:Pb(i),t.attrs[i])}const km={};function fO(e){Object.assign(km,e)}function jS(e,{layout:t,layoutId:s}){return wo.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!km[e]||e==="opacity")}function Ib(e,t,s){var n;const{style:i}=e,a={};for(const o in i)(Vs(i[o])||t.style&&Vs(t.style[o])||jS(o,e)||((n=s==null?void 0:s.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function wS(e,t,s){const n=Ib(e,t,s);for(const i in e)if(Vs(e[i])||Vs(t[i])){const a=Kl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}function pO(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const z2=["x","y","width","height","cx","cy","r"],gO={useVisualState:mS({scrapeMotionValuesFromProps:wS,createRenderState:xS,onUpdate:({props:e,prevProps:t,current:s,renderState:n,latestValues:i})=>{if(!s)return;let a=!!e.drag;if(!a){for(const l in i)if(wo.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<z2.length;l++){const c=z2[l];e[c]!==t[c]&&(o=!0)}o&&Rt.read(()=>{pO(s,n),Rt.render(()=>{Db(n,i,Rb(s.tagName),e.transformTemplate),vS(s,n)})})}})},xO={useVisualState:mS({scrapeMotionValuesFromProps:Ib,createRenderState:Ob})};function NS(e,t,s){for(const n in t)!Vs(t[n])&&!jS(n,s)&&(e[n]=t[n])}function yO({transformTemplate:e},t){return x.useMemo(()=>{const s=Ob();return Mb(s,t,e),Object.assign({},s.vars,s.style)},[t])}function bO(e,t){const s=e.style||{},n={};return NS(n,s,e),Object.assign(n,yO(e,t)),n}function vO(e,t){const s={},n=bO(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}function jO(e,t,s,n){const i=x.useMemo(()=>{const a=xS();return Db(a,t,Rb(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};NS(a,e.style,e),i.style={...a,...i.style}}return i}function wO(e=!1){return(s,n,i,{latestValues:a},o)=>{const c=(Ab(s)?jO:vO)(n,a,o,s),d=L9(n,typeof s=="string",e),u=s!==x.Fragment?{...d,...c,ref:i}:{},{children:h}=n,m=x.useMemo(()=>Vs(h)?h.get():h,[h]);return x.createElement(s,{...u,children:m})}}function NO(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Ab(n)?gO:xO,preloadedFeatures:e,useRender:wO(i),createVisualElement:t,Component:n};return W9(o)}}function SS(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function If(e,t,s){const n=e.getProps();return Tb(n,t,s!==void 0?s:n.custom,e)}const SO=Nb(()=>window.ScrollTimeline!==void 0);class CO{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=s}attachTimeline(t,s){const n=this.animations.map(i=>{if(SO()&&i.attachTimeline)return i.attachTimeline(t);if(typeof s=="function")return s(i)});return()=>{n.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class PO extends CO{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function Lb(e,t){return e?e[t]||e.default||e:void 0}const lx=2e4;function CS(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<lx;)t+=s,n=e.next(t);return t>=lx?1/0:t}function Fb(e){return typeof e=="function"}function U2(e,t){e.timeline=t,e.onfinish=null}const Vb=e=>Array.isArray(e)&&typeof e[0]=="number",kO={linearEasing:void 0};function AO(e,t){const s=Nb(e);return()=>{var n;return(n=kO[t])!==null&&n!==void 0?n:s()}}const Am=AO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),PS=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)n+=e(Ml(0,i-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function kS(e){return!!(typeof e=="function"&&Am()||!e||typeof e=="string"&&(e in cx||Am())||Vb(e)||Array.isArray(e)&&e.every(kS))}const kc=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,cx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kc([0,.65,.55,1]),circOut:kc([.55,0,1,.45]),backIn:kc([.31,.01,.66,-.59]),backOut:kc([.33,1.53,.69,.99])};function AS(e,t){if(e)return typeof e=="function"&&Am()?PS(e,t):Vb(e)?kc(e):Array.isArray(e)?e.map(s=>AS(s,t)||cx.easeOut):cx[e]}const Zn={x:!1,y:!1};function TS(){return Zn.x||Zn.y}function TO(e,t,s){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function ES(e,t){const s=TO(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[s,i,()=>n.abort()]}function H2(e){return t=>{t.pointerType==="touch"||TS()||e(t)}}function EO(e,t,s={}){const[n,i,a]=ES(e,s),o=H2(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=H2(h=>{d(h),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,i)});return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const _S=(e,t)=>t?e===t?!0:_S(e,t.parentElement):!1,Bb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_O=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MO(e){return _O.has(e.tagName)||e.tabIndex!==-1}const Ac=new WeakSet;function q2(e){return t=>{t.key==="Enter"&&e(t)}}function Kp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const DO=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=q2(()=>{if(Ac.has(s))return;Kp(s,"down");const i=q2(()=>{Kp(s,"up")}),a=()=>Kp(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function W2(e){return Bb(e)&&!TS()}function OO(e,t,s={}){const[n,i,a]=ES(e,s),o=l=>{const c=l.currentTarget;if(!W2(l)||Ac.has(c))return;Ac.add(c);const d=t(l),u=(f,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!W2(f)||!Ac.has(c))&&(Ac.delete(c),typeof d=="function"&&d(f,{success:g}))},h=f=>{u(f,s.useGlobalTarget||_S(c,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return n.forEach(l=>{!MO(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",d=>DO(d,i),i)}),a}function RO(e){return e==="x"||e==="y"?Zn[e]?null:(Zn[e]=!0,()=>{Zn[e]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}const MS=new Set(["width","height","top","left","right","bottom",...Kl]);let Lh;function IO(){Lh=void 0}const Mr={now:()=>(Lh===void 0&&Mr.set(bs.isProcessing||_9.useManualTiming?bs.timestamp:performance.now()),Lh),set:e=>{Lh=e,queueMicrotask(IO)}};function $b(e,t){e.indexOf(t)===-1&&e.push(t)}function zb(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Ub{constructor(){this.subscriptions=[]}add(t){return $b(this.subscriptions,t),()=>zb(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function DS(e,t){return t?e*(1e3/t):0}const G2=30,LO=e=>!isNaN(parseFloat(e));class FO{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const a=Mr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Mr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=LO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Ub);const n=this.events[t].add(s);return t==="change"?()=>{n(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>G2)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,G2);return DS(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _d(e,t){return new FO(e,t)}function VO(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,_d(s))}function BO(e,t){const s=If(e,t);let{transitionEnd:n={},transition:i={},...a}=s||{};a={...a,...n};for(const o in a){const l=J9(a[o]);VO(e,o,l)}}function $O(e){return!!(Vs(e)&&e.add)}function dx(e,t){const s=e.getValue("willChange");if($O(s))return s.add(t)}function OS(e){return e.props[dS]}const RS=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,zO=1e-7,UO=12;function HO(e,t,s,n,i){let a,o,l=0;do o=t+(s-t)/2,a=RS(o,n,i)-e,a>0?s=o:t=o;while(Math.abs(a)>zO&&++l<UO);return o}function mu(e,t,s,n){if(e===t&&s===n)return An;const i=a=>HO(a,0,1,e,s);return a=>a===0||a===1?a:RS(i(a),t,n)}const IS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,LS=e=>t=>1-e(1-t),FS=mu(.33,1.53,.69,.99),Hb=LS(FS),VS=IS(Hb),BS=e=>(e*=2)<1?.5*Hb(e):.5*(2-Math.pow(2,-10*(e-1))),qb=e=>1-Math.sin(Math.acos(e)),$S=LS(qb),zS=IS(qb),US=e=>/^0[^.\s]+$/u.test(e);function qO(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||US(e):!0}const Qc=e=>Math.round(e*1e5)/1e5,Wb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WO(e){return e==null}const GO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gb=(e,t)=>s=>!!(typeof s=="string"&&GO.test(s)&&s.startsWith(e)||t&&!WO(s)&&Object.prototype.hasOwnProperty.call(s,t)),HS=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(Wb);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},KO=e=>fi(0,255,e),Qp={...Ql,transform:e=>Math.round(KO(e))},Va={test:Gb("rgb","red"),parse:HS("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Qp.transform(e)+", "+Qp.transform(t)+", "+Qp.transform(s)+", "+Qc(Ed.transform(n))+")"};function QO(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const ux={test:Gb("#"),parse:QO,transform:Va.transform},Go={test:Gb("hsl","hue"),parse:HS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+_r.transform(Qc(t))+", "+_r.transform(Qc(s))+", "+Qc(Ed.transform(n))+")"},Ds={test:e=>Va.test(e)||ux.test(e)||Go.test(e),parse:e=>Va.test(e)?Va.parse(e):Go.test(e)?Go.parse(e):ux.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Va.transform(e):Go.transform(e)},YO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XO(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Wb))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(YO))===null||s===void 0?void 0:s.length)||0)>0}const qS="number",WS="color",JO="var",ZO="var(",K2="${}",eR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Md(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(eR,c=>(Ds.test(c)?(n.color.push(a),i.push(WS),s.push(Ds.parse(c))):c.startsWith(ZO)?(n.var.push(a),i.push(JO),s.push(c)):(n.number.push(a),i.push(qS),s.push(parseFloat(c))),++a,K2)).split(K2);return{values:s,split:l,indexes:n,types:i}}function GS(e){return Md(e).values}function KS(e){const{split:t,types:s}=Md(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const l=s[o];l===qS?a+=Qc(i[o]):l===WS?a+=Ds.transform(i[o]):a+=i[o]}return a}}const tR=e=>typeof e=="number"?0:e;function sR(e){const t=GS(e);return KS(e)(t.map(tR))}const ha={test:XO,parse:GS,createTransformer:KS,getAnimatableNone:sR},nR=new Set(["brightness","contrast","saturate","opacity"]);function rR(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Wb)||[];if(!n)return e;const i=s.replace(n,"");let a=nR.has(t)?1:0;return n!==s&&(a*=100),t+"("+a+i+")"}const iR=/\b([a-z-]*)\(.*?\)/gu,hx={...ha,getAnimatableNone:e=>{const t=e.match(iR);return t?t.map(rR).join(" "):e}},aR={..._b,color:Ds,backgroundColor:Ds,outlineColor:Ds,fill:Ds,stroke:Ds,borderColor:Ds,borderTopColor:Ds,borderRightColor:Ds,borderBottomColor:Ds,borderLeftColor:Ds,filter:hx,WebkitFilter:hx},Kb=e=>aR[e];function QS(e,t){let s=Kb(e);return s!==hx&&(s=ha),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const oR=new Set(["auto","none","0"]);function lR(e,t,s){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!oR.has(a)&&Md(a).values.length&&(i=e[n]),n++}if(i&&s)for(const a of t)e[a]=QS(s,i)}const Q2=e=>e===Ql||e===Xe,Y2=(e,t)=>parseFloat(e.split(", ")[t]),X2=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return Y2(i[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?Y2(a[1],e):0}},cR=new Set(["x","y","z"]),dR=Kl.filter(e=>!cR.has(e));function uR(e){const t=[];return dR.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const Ol={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:X2(4,13),y:X2(5,14)};Ol.translateX=Ol.x;Ol.translateY=Ol.y;const to=new Set;let mx=!1,fx=!1;function YS(){if(fx){const e=Array.from(to).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=uR(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}fx=!1,mx=!1,to.forEach(e=>e.complete()),to.clear()}function XS(){to.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(fx=!0)})}function hR(){XS(),YS()}class Qb{constructor(t,s,n,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(to.add(this),mx||(mx=!0,Rt.read(XS),Rt.resolveKeyframes(YS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&s){const c=n.readValue(s,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),to.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,to.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const JS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),mR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fR(e){const t=mR.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function ZS(e,t,s=1){const[n,i]=fR(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return JS(o)?parseFloat(o):o}return Eb(i)?ZS(i,t,s+1):i}const eC=e=>t=>t.test(e),pR={test:e=>e==="auto",parse:e=>e},tC=[Ql,Xe,_r,Ai,rO,nO,pR],J2=e=>tC.find(eC(e));class sC extends Qb{constructor(t,s,n,i,a){super(t,s,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Eb(d))){const u=ZS(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!MS.has(n)||t.length!==2)return;const[i,a]=t,o=J2(i),l=J2(a);if(o!==l)if(Q2(o)&&Q2(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)qO(t[i])&&n.push(i);n.length&&lR(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ol[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:s,name:n,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const a=s.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Ol[n](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const Z2=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ha.test(e)||e==="0")&&!e.startsWith("url("));function gR(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function xR(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Z2(i,t),l=Z2(a,t);return!o||!l?!1:gR(e)||(s==="spring"||Fb(s))&&n}const yR=e=>e!==null;function Lf(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(yR),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const bR=40;class nC{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mr.now(),this.options={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>bR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&hR(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=Mr.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!xR(t,n,i,a))if(o)this.options.duration=0;else{c&&c(Lf(t,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,s);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ft=(e,t,s)=>e+(t-e)*s;function Yp(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function vR({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=Yp(c,l,e+1/3),a=Yp(c,l,e),o=Yp(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function Tm(e,t){return s=>s>0?t:e}const Xp=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},jR=[ux,Va,Go],wR=e=>jR.find(t=>t.test(e));function ej(e){const t=wR(e);if(!t)return!1;let s=t.parse(e);return t===Go&&(s=vR(s)),s}const tj=(e,t)=>{const s=ej(e),n=ej(t);if(!s||!n)return Tm(e,t);const i={...s};return a=>(i.red=Xp(s.red,n.red,a),i.green=Xp(s.green,n.green,a),i.blue=Xp(s.blue,n.blue,a),i.alpha=Ft(s.alpha,n.alpha,a),Va.transform(i))},NR=(e,t)=>s=>t(e(s)),fu=(...e)=>e.reduce(NR),px=new Set(["none","hidden"]);function SR(e,t){return px.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function CR(e,t){return s=>Ft(e,t,s)}function Yb(e){return typeof e=="number"?CR:typeof e=="string"?Eb(e)?Tm:Ds.test(e)?tj:AR:Array.isArray(e)?rC:typeof e=="object"?Ds.test(e)?tj:PR:Tm}function rC(e,t){const s=[...e],n=s.length,i=e.map((a,o)=>Yb(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)s[o]=i[o](a);return s}}function PR(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Yb(e[i])(e[i],t[i]));return i=>{for(const a in n)s[a]=n[a](i);return s}}function kR(e,t){var s;const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][i[o]],c=(s=e.values[l])!==null&&s!==void 0?s:0;n[a]=c,i[o]++}return n}const AR=(e,t)=>{const s=ha.createTransformer(t),n=Md(e),i=Md(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?px.has(e)&&!i.values.length||px.has(t)&&!n.values.length?SR(e,t):fu(rC(kR(n,i),i.values),s):Tm(e,t)};function iC(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Ft(e,t,s):Yb(e)(e,t)}const TR=5;function aC(e,t,s){const n=Math.max(t-TR,0);return DS(s-e(n),t-n)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jp=.001;function ER({duration:e=Wt.duration,bounce:t=Wt.bounce,velocity:s=Wt.velocity,mass:n=Wt.mass}){let i,a,o=1-t;o=fi(Wt.minDamping,Wt.maxDamping,o),e=fi(Wt.minDuration,Wt.maxDuration,ai(e)),o<1?(i=d=>{const u=d*o,h=u*e,m=u-s,f=gx(d,o),g=Math.exp(-h);return Jp-m/f*g},a=d=>{const h=d*o*e,m=h*s+s,f=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-h),p=gx(Math.pow(d,2),o);return(-i(d)+Jp>0?-1:1)*((m-f)*g)/p}):(i=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-Jp+u*h},a=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const l=5/e,c=MR(i,a,l);if(e=ii(e),isNaN(c))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const _R=12;function MR(e,t,s){let n=s;for(let i=1;i<_R;i++)n=n-e(n)/t(n);return n}function gx(e,t){return e*Math.sqrt(1-t*t)}const DR=["duration","bounce"],OR=["stiffness","damping","mass"];function sj(e,t){return t.some(s=>e[s]!==void 0)}function RR(e){let t={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...e};if(!sj(e,OR)&&sj(e,DR))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,a=2*fi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Wt.mass,stiffness:i,damping:a}}else{const s=ER(e);t={...t,...s,mass:Wt.mass},t.isResolvedFromDuration=!0}return t}function oC(e=Wt.visualDuration,t=Wt.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=RR({...s,velocity:-ai(s.velocity||0)}),g=m||0,p=d/(2*Math.sqrt(c*u)),v=o-a,b=ai(Math.sqrt(c/u)),y=Math.abs(v)<5;n||(n=y?Wt.restSpeed.granular:Wt.restSpeed.default),i||(i=y?Wt.restDelta.granular:Wt.restDelta.default);let w;if(p<1){const N=gx(b,p);w=S=>{const P=Math.exp(-p*b*S);return o-P*((g+p*b*v)/N*Math.sin(N*S)+v*Math.cos(N*S))}}else if(p===1)w=N=>o-Math.exp(-b*N)*(v+(g+b*v)*N);else{const N=b*Math.sqrt(p*p-1);w=S=>{const P=Math.exp(-p*b*S),C=Math.min(N*S,300);return o-P*((g+p*b*v)*Math.sinh(C)+N*v*Math.cosh(C))/N}}const j={calculatedDuration:f&&h||null,next:N=>{const S=w(N);if(f)l.done=N>=h;else{let P=0;p<1&&(P=N===0?ii(g):aC(w,N,S));const C=Math.abs(P)<=n,F=Math.abs(o-S)<=i;l.done=C&&F}return l.value=l.done?o:S,l},toString:()=>{const N=Math.min(CS(j),lx),S=PS(P=>j.next(N*P).value,N,30);return N+"ms "+S}};return j}function nj({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},f=C=>l!==void 0&&C<l||c!==void 0&&C>c,g=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let p=s*t;const v=h+p,b=o===void 0?v:o(v);b!==v&&(p=b-h);const y=C=>-p*Math.exp(-C/n),w=C=>b+y(C),j=C=>{const F=y(C),T=w(C);m.done=Math.abs(F)<=d,m.value=m.done?b:T};let N,S;const P=C=>{f(m.value)&&(N=C,S=oC({keyframes:[m.value,g(m.value)],velocity:aC(w,C,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:C=>{let F=!1;return!S&&N===void 0&&(F=!0,j(C),P(C)),N!==void 0&&C>=N?S.next(C-N):(!F&&j(C),m)}}}const IR=mu(.42,0,1,1),LR=mu(0,0,.58,1),lC=mu(.42,0,.58,1),FR=e=>Array.isArray(e)&&typeof e[0]!="number",VR={linear:An,easeIn:IR,easeInOut:lC,easeOut:LR,circIn:qb,circInOut:zS,circOut:$S,backIn:Hb,backInOut:VS,backOut:FS,anticipate:BS},rj=e=>{if(Vb(e)){iS(e.length===4);const[t,s,n,i]=e;return mu(t,s,n,i)}else if(typeof e=="string")return VR[e];return e};function BR(e,t,s){const n=[],i=s||iC,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||An:t;l=fu(c,l)}n.push(l)}return n}function $R(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const a=e.length;if(iS(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=BR(t,n,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=Ml(e[h],e[h+1],u);return l[h](m)};return s?u=>d(fi(e[0],e[a-1],u)):d}function zR(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=Ml(0,t,n);e.push(Ft(s,1,i))}}function UR(e){const t=[0];return zR(t,e.length-1),t}function HR(e,t){return e.map(s=>s*t)}function qR(e,t){return e.map(()=>t||lC).splice(0,e.length-1)}function Em({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=FR(n)?n.map(rj):rj(n),a={done:!1,value:t[0]},o=HR(s&&s.length===t.length?s:UR(t),e),l=$R(o,t,{ease:Array.isArray(i)?i:qR(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const WR=e=>{const t=({timestamp:s})=>e(s);return{start:()=>Rt.update(t,!0),stop:()=>ua(t),now:()=>bs.isProcessing?bs.timestamp:Mr.now()}},GR={decay:nj,inertia:nj,tween:Em,keyframes:Em,spring:oC},KR=e=>e/100;class Xb extends nC{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:n,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Qb,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,s,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=Fb(s)?s:GR[s]||Em;let c,d;l!==Em&&typeof t[0]!="number"&&(c=fu(KR,iC(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});a==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=CS(u));const{calculatedDuration:h}=u,m=h+i,f=m*(n+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:f}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:n}=this;if(!n){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=n;if(this.startTime===null)return a.next(0);const{delay:m,repeat:f,repeatType:g,repeatDelay:p,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-m*(this.speed>=0?1:-1),y=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,j=a;if(f){const C=Math.min(this.currentTime,u)/h;let F=Math.floor(C),T=C%1;!T&&C>=1&&(T=1),T===1&&F--,F=Math.min(F,f+1),!!(F%2)&&(g==="reverse"?(T=1-T,p&&(T-=p/h)):g==="mirror"&&(j=o)),w=fi(0,1,T)*h}const N=y?{done:!1,value:c[0]}:j.next(w);l&&(N.value=l(N.value));let{done:S}=N;!y&&d!==null&&(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return P&&i!==void 0&&(N.value=Lf(c,this.options,i)),v&&v(N.value),P&&this.finish(),N}get duration(){const{resolved:t}=this;return t?ai(t.calculatedDuration):0}get time(){return ai(this.currentTime)}set time(t){t=ii(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=ai(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=WR,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const QR=new Set(["opacity","clipPath","filter","transform"]);function YR(e,t,s,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=AS(l,i);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const XR=Nb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_m=10,JR=2e4;function ZR(e){return Fb(e.type)||e.type==="spring"||!kS(e.ease)}function eI(e,t){const s=new Xb({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let a=0;for(;!n.done&&a<JR;)n=s.sample(a),i.push(n.value),a+=_m;return{times:void 0,keyframes:i,duration:a-_m,ease:"linear"}}const cC={anticipate:BS,backInOut:VS,circInOut:zS};function tI(e){return e in cC}class ij extends nC{constructor(t){super(t);const{name:s,motionValue:n,element:i,keyframes:a}=this.options;this.resolver=new sC(a,(o,l)=>this.onKeyframesResolved(o,l),s,n,i),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:n=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&Am()&&tI(a)&&(a=cC[a]),ZR(this.options)){const{onComplete:h,onUpdate:m,motionValue:f,element:g,...p}=this.options,v=eI(t,p);t=v.keyframes,t.length===1&&(t[1]=t[0]),n=v.duration,i=v.times,a=v.ease,o="keyframes"}const u=YR(l.owner.current,c,t,{...this.options,duration:n,times:i,ease:a});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(U2(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Lf(t,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:i,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return ai(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return ai(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=ii(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return An;const{animation:n}=s;U2(n,t)}return An}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:n,duration:i,type:a,ease:o,times:l}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:m,...f}=this.options,g=new Xb({...f,keyframes:n,duration:i,type:a,ease:o,times:l,isGenerator:!0}),p=ii(this.time);d.setWithVelocity(g.sample(p-_m).value,g.sample(p).value,_m)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:n,repeatDelay:i,repeatType:a,damping:o,type:l}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=s.owner.getProps();return XR()&&n&&QR.has(n)&&!c&&!d&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const sI={type:"spring",stiffness:500,damping:25,restSpeed:10},nI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),rI={type:"keyframes",duration:.8},iI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aI=(e,{keyframes:t})=>t.length>2?rI:wo.has(e)?e.startsWith("scale")?nI(t[1]):sI:iI;function oI({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Jb=(e,t,s,n={},i,a)=>o=>{const l=Lb(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-ii(c);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};oI(l)||(u={...u,...aI(e,u)}),u.duration&&(u.duration=ii(u.duration)),u.repeatDelay&&(u.repeatDelay=ii(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const m=Lf(u.keyframes,l);if(m!==void 0)return Rt.update(()=>{u.onUpdate(m),u.onComplete()}),new PO([])}return!a&&ij.supports(u)?new ij(u):new Xb(u)};function lI({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function dC(e,t,{delay:s=0,transitionOverride:n,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in c){const m=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),f=c[h];if(f===void 0||u&&lI(u,h))continue;const g={delay:s,...Lb(o||{},h)};let p=!1;if(window.MotionHandoffAnimation){const b=OS(e);if(b){const y=window.MotionHandoffAnimation(b,h,Rt);y!==null&&(g.startTime=y,p=!0)}}dx(e,h),m.start(Jb(h,m,f,e.shouldReduceMotion&&MS.has(h)?{type:!1}:g,e,p));const v=m.animation;v&&d.push(v)}return l&&Promise.all(d).then(()=>{Rt.update(()=>{l&&BO(e,l)})}),d}function xx(e,t,s={}){var n;const i=If(e,t,s.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const o=i?()=>Promise.all(dC(e,i,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=a;return cI(e,t,u+d,h,m,s)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(s.delay)])}function cI(e,t,s=0,n=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(dI).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(xx(d,t,{...a,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function dI(e,t){return e.sortNodePosition(t)}function uI(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>xx(e,a,s));n=Promise.all(i)}else if(typeof t=="string")n=xx(e,t,s);else{const i=typeof t=="function"?If(e,t,s.custom):t;n=Promise.all(dC(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const hI=Cb.length;function uC(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?uC(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<hI;s++){const n=Cb[s],i=e.props[n];(Td(i)||i===!1)&&(t[n]=i)}return t}const mI=[...Sb].reverse(),fI=Sb.length;function pI(e){return t=>Promise.all(t.map(({animation:s,options:n})=>uI(e,s,n)))}function gI(e){let t=pI(e),s=aj(),n=!0;const i=c=>(d,u)=>{var h;const m=If(e,u,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:f,transitionEnd:g,...p}=m;d={...d,...p,...g}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=uC(e.parent)||{},h=[],m=new Set;let f={},g=1/0;for(let v=0;v<fI;v++){const b=mI[v],y=s[b],w=d[b]!==void 0?d[b]:u[b],j=Td(w),N=b===c?y.isActive:null;N===!1&&(g=v);let S=w===u[b]&&w!==d[b]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...f},!y.isActive&&N===null||!w&&!y.prevProp||Of(w)||typeof w=="boolean")continue;const P=xI(y.prevProp,w);let C=P||b===c&&y.isActive&&!S&&j||v>g&&j,F=!1;const T=Array.isArray(w)?w:[w];let te=T.reduce(i(b),{});N===!1&&(te={});const{prevResolvedValues:A={}}=y,q={...A,...te},z=$=>{C=!0,m.has($)&&(F=!0,m.delete($)),y.needsAnimating[$]=!0;const M=e.getValue($);M&&(M.liveStyle=!1)};for(const $ in q){const M=te[$],D=A[$];if(f.hasOwnProperty($))continue;let J=!1;ox(M)&&ox(D)?J=!SS(M,D):J=M!==D,J?M!=null?z($):m.add($):M!==void 0&&m.has($)?z($):y.protectedKeys[$]=!0}y.prevProp=w,y.prevResolvedValues=te,y.isActive&&(f={...f,...te}),n&&e.blockInitialAnimation&&(C=!1),C&&(!(S&&P)||F)&&h.push(...T.map($=>({animation:$,options:{type:b}})))}if(m.size){const v={};m.forEach(b=>{const y=e.getBaseTarget(b),w=e.getValue(b);w&&(w.liveStyle=!0),v[b]=y??null}),h.push({animation:v})}let p=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(h):Promise.resolve()}function l(c,d){var u;if(s[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(m=>{var f;return(f=m.animationState)===null||f===void 0?void 0:f.setActive(c,d)}),s[c].isActive=d;const h=o(c);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=aj(),n=!0}}}function xI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!SS(t,e):!1}function Sa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aj(){return{animate:Sa(!0),whileInView:Sa(),whileHover:Sa(),whileTap:Sa(),whileDrag:Sa(),whileFocus:Sa(),exit:Sa()}}class va{constructor(t){this.isMounted=!1,this.node=t}update(){}}class yI extends va{constructor(t){super(t),t.animationState||(t.animationState=gI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Of(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let bI=0;class vI extends va{constructor(){super(...arguments),this.id=bI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const jI={animation:{Feature:yI},exit:{Feature:vI}};function Dd(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function pu(e){return{point:{x:e.pageX,y:e.pageY}}}const wI=e=>t=>Bb(t)&&e(t,pu(t));function Yc(e,t,s,n){return Dd(e,t,wI(s),n)}const oj=(e,t)=>Math.abs(e-t);function NI(e,t){const s=oj(e.x,t.x),n=oj(e.y,t.y);return Math.sqrt(s**2+n**2)}class hC{constructor(t,s,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=e0(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=NI(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:g}=h,{timestamp:p}=bs;this.history.push({...g,timestamp:p});const{onStart:v,onMove:b}=this.handlers;m||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Zp(m,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=e0(h.type==="pointercancel"?this.lastMoveEventInfo:Zp(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,v),g&&g(h,v)},!Bb(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=n,this.contextWindow=i||window;const o=pu(t),l=Zp(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=bs;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,e0(l,this.history)),this.removeListeners=fu(Yc(this.contextWindow,"pointermove",this.handlePointerMove),Yc(this.contextWindow,"pointerup",this.handlePointerUp),Yc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ua(this.updatePoint)}}function Zp(e,t){return t?{point:t(e.point)}:e}function lj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function e0({point:e},t){return{point:e,delta:lj(e,mC(t)),offset:lj(e,SI(t)),velocity:CI(t,.1)}}function SI(e){return e[0]}function mC(e){return e[e.length-1]}function CI(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=mC(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>ii(t)));)s--;if(!n)return{x:0,y:0};const a=ai(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const fC=1e-4,PI=1-fC,kI=1+fC,pC=.01,AI=0-pC,TI=0+pC;function _n(e){return e.max-e.min}function EI(e,t,s){return Math.abs(e-t)<=s}function cj(e,t,s,n=.5){e.origin=n,e.originPoint=Ft(t.min,t.max,e.origin),e.scale=_n(s)/_n(t),e.translate=Ft(s.min,s.max,e.origin)-e.originPoint,(e.scale>=PI&&e.scale<=kI||isNaN(e.scale))&&(e.scale=1),(e.translate>=AI&&e.translate<=TI||isNaN(e.translate))&&(e.translate=0)}function Xc(e,t,s,n){cj(e.x,t.x,s.x,n?n.originX:void 0),cj(e.y,t.y,s.y,n?n.originY:void 0)}function dj(e,t,s){e.min=s.min+t.min,e.max=e.min+_n(t)}function _I(e,t,s){dj(e.x,t.x,s.x),dj(e.y,t.y,s.y)}function uj(e,t,s){e.min=t.min-s.min,e.max=e.min+_n(t)}function Jc(e,t,s){uj(e.x,t.x,s.x),uj(e.y,t.y,s.y)}function MI(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?Ft(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?Ft(s,e,n.max):Math.min(e,s)),e}function hj(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function DI(e,{top:t,left:s,bottom:n,right:i}){return{x:hj(e.x,s,i),y:hj(e.y,t,n)}}function mj(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function OI(e,t){return{x:mj(e.x,t.x),y:mj(e.y,t.y)}}function RI(e,t){let s=.5;const n=_n(e),i=_n(t);return i>n?s=Ml(t.min,t.max-n,e.min):n>i&&(s=Ml(e.min,e.max-i,t.min)),fi(0,1,s)}function II(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const yx=.35;function LI(e=yx){return e===!1?e=0:e===!0&&(e=yx),{x:fj(e,"left","right"),y:fj(e,"top","bottom")}}function fj(e,t,s){return{min:pj(e,t),max:pj(e,s)}}function pj(e,t){return typeof e=="number"?e:e[t]||0}const gj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ko=()=>({x:gj(),y:gj()}),xj=()=>({min:0,max:0}),Jt=()=>({x:xj(),y:xj()});function Fn(e){return[e("x"),e("y")]}function gC({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function FI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VI(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function t0(e){return e===void 0||e===1}function bx({scale:e,scaleX:t,scaleY:s}){return!t0(e)||!t0(t)||!t0(s)}function Ea(e){return bx(e)||xC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function xC(e){return yj(e.x)||yj(e.y)}function yj(e){return e&&e!=="0%"}function Mm(e,t,s){const n=e-s,i=t*n;return s+i}function bj(e,t,s,n,i){return i!==void 0&&(e=Mm(e,i,n)),Mm(e,s,n)+t}function vx(e,t=0,s=1,n,i){e.min=bj(e.min,t,s,n,i),e.max=bj(e.max,t,s,n,i)}function yC(e,{x:t,y:s}){vx(e.x,t.translate,t.scale,t.originPoint),vx(e.y,s.translate,s.scale,s.originPoint)}const vj=.999999999999,jj=1.0000000000001;function BI(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Yo(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,yC(e,o)),n&&Ea(a.latestValues)&&Yo(e,a.latestValues))}t.x<jj&&t.x>vj&&(t.x=1),t.y<jj&&t.y>vj&&(t.y=1)}function Qo(e,t){e.min=e.min+t,e.max=e.max+t}function wj(e,t,s,n,i=.5){const a=Ft(e.min,e.max,i);vx(e,t,s,a,n)}function Yo(e,t){wj(e.x,t.x,t.scaleX,t.scale,t.originX),wj(e.y,t.y,t.scaleY,t.scale,t.originY)}function bC(e,t){return gC(VI(e.getBoundingClientRect(),t))}function $I(e,t,s){const n=bC(e,s),{scroll:i}=t;return i&&(Qo(n.x,i.offset.x),Qo(n.y,i.offset.y)),n}const vC=({current:e})=>e?e.ownerDocument.defaultView:null,zI=new WeakMap;class UI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jt(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(pu(u).point)},a=(u,h)=>{const{drag:m,dragPropagation:f,onDragStart:g}=this.getProps();if(m&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RO(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fn(v=>{let b=this.getAxisMotionValue(v).get()||0;if(_r.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[v];w&&(b=_n(w)*(parseFloat(b)/100))}}this.originPoint[v]=b}),g&&Rt.postRender(()=>g(u,h)),dx(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:g,onDrag:p}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=h;if(f&&this.currentDirection===null){this.currentDirection=HI(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),p&&p(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Fn(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new hC(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:vC(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Rt.postRender(()=>a(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!Yu(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=MI(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;s&&Wo(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=DI(i.layoutBox,s):this.constraints=!1,this.elastic=LI(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Fn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=II(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Wo(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=$I(n,i.root,this.visualElement.getTransformPagePoint());let o=OI(i.layout.layoutBox,a);if(s){const l=s(FI(o));this.hasMutatedConstraints=!!l,l&&(o=gC(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Fn(u=>{if(!Yu(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return dx(this.visualElement,t),n.start(Jb(t,n,0,s,this.visualElement,!1))}stopAnimation(){Fn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fn(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Fn(s=>{const{drag:n}=this.getProps();if(!Yu(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(t[s]-Ft(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Wo(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=RI({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Fn(o=>{if(!Yu(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Ft(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;zI.set(this.visualElement,this);const t=this.visualElement.current,s=Yc(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Wo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Rt.read(n);const o=Dd(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Fn(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=yx,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Yu(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function HI(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class qI extends va{constructor(t){super(t),this.removeGroupControls=An,this.removeListeners=An,this.controls=new UI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||An}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nj=e=>(t,s)=>{e&&Rt.postRender(()=>e(t,s))};class WI extends va{constructor(){super(...arguments),this.removePointerDownListener=An}onPointerDown(t){this.session=new hC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Nj(t),onStart:Nj(s),onMove:n,onEnd:(a,o)=>{delete this.session,i&&Rt.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Yc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const cc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Xe.test(e))e=parseFloat(e);else return e;const s=Sj(e,t.target.x),n=Sj(e,t.target.y);return`${s}% ${n}%`}},GI={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=ha.parse(e);if(i.length>5)return n;const a=ha.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=Ft(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};class KI extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;fO(QI),a&&(s.group&&s.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Rt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),kb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jC(e){const[t,s]=nS(),n=x.useContext(bb);return r.jsx(KI,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(uS),isPresent:t,safeToRemove:s})}const QI={borderRadius:{...cc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cc,borderTopRightRadius:cc,borderBottomLeftRadius:cc,borderBottomRightRadius:cc,boxShadow:GI};function YI(e,t,s){const n=Vs(e)?e:_d(e);return n.start(Jb("",n,t,s)),n.animation}function XI(e){return e instanceof SVGElement&&e.tagName!=="svg"}const JI=(e,t)=>e.depth-t.depth;class ZI{constructor(){this.children=[],this.isDirty=!1}add(t){$b(this.children,t),this.isDirty=!0}remove(t){zb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(JI),this.isDirty=!1,this.children.forEach(t)}}function eL(e,t){const s=Mr.now(),n=({timestamp:i})=>{const a=i-s;a>=t&&(ua(n),e(a-t))};return Rt.read(n,!0),()=>ua(n)}const wC=["TopLeft","TopRight","BottomLeft","BottomRight"],tL=wC.length,Cj=e=>typeof e=="string"?parseFloat(e):e,Pj=e=>typeof e=="number"||Xe.test(e);function sL(e,t,s,n,i,a){i?(e.opacity=Ft(0,s.opacity!==void 0?s.opacity:1,nL(n)),e.opacityExit=Ft(t.opacity!==void 0?t.opacity:1,0,rL(n))):a&&(e.opacity=Ft(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let o=0;o<tL;o++){const l=`border${wC[o]}Radius`;let c=kj(t,l),d=kj(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Pj(c)===Pj(d)?(e[l]=Math.max(Ft(Cj(c),Cj(d),n),0),(_r.test(d)||_r.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=Ft(t.rotate||0,s.rotate||0,n))}function kj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nL=NC(0,.5,$S),rL=NC(.5,.95,An);function NC(e,t,s){return n=>n<e?0:n>t?1:s(Ml(e,t,n))}function Aj(e,t){e.min=t.min,e.max=t.max}function In(e,t){Aj(e.x,t.x),Aj(e.y,t.y)}function Tj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ej(e,t,s,n,i){return e-=t,e=Mm(e,1/s,n),i!==void 0&&(e=Mm(e,1/i,n)),e}function iL(e,t=0,s=1,n=.5,i,a=e,o=e){if(_r.test(t)&&(t=parseFloat(t),t=Ft(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ft(a.min,a.max,n);e===a&&(l-=t),e.min=Ej(e.min,t,s,l,i),e.max=Ej(e.max,t,s,l,i)}function _j(e,t,[s,n,i],a,o){iL(e,t[s],t[n],t[i],t.scale,a,o)}const aL=["x","scaleX","originX"],oL=["y","scaleY","originY"];function Mj(e,t,s,n){_j(e.x,t,aL,s?s.x:void 0,n?n.x:void 0),_j(e.y,t,oL,s?s.y:void 0,n?n.y:void 0)}function Dj(e){return e.translate===0&&e.scale===1}function SC(e){return Dj(e.x)&&Dj(e.y)}function Oj(e,t){return e.min===t.min&&e.max===t.max}function lL(e,t){return Oj(e.x,t.x)&&Oj(e.y,t.y)}function Rj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function CC(e,t){return Rj(e.x,t.x)&&Rj(e.y,t.y)}function Ij(e){return _n(e.x)/_n(e.y)}function Lj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cL{constructor(){this.members=[]}add(t){$b(this.members,t),t.scheduleRender()}remove(t){if(zb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dL(e,t,s){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:g}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),f&&(n+=`skewX(${f}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const _a={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Tc=typeof window<"u"&&window.MotionDebug!==void 0,s0=["","X","Y","Z"],uL={visibility:"hidden"},Fj=1e3;let hL=0;function n0(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function PC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=OS(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Rt,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&PC(n)}function kC({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=hL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tc&&(_a.totalNodes=_a.resolvedTargetDeltas=_a.recalculatedProjection=0),this.nodes.forEach(pL),this.nodes.forEach(vL),this.nodes.forEach(jL),this.nodes.forEach(gL),Tc&&window.MotionDebug.record(_a)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZI)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ub),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=XI(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=eL(m,250),Fh.hasAnimatedSinceResize&&(Fh.hasAnimatedSinceResize=!1,this.nodes.forEach(Bj))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||PL,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),y=!this.targetLayout||!CC(this.targetLayout,g)||f,w=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const j={...Lb(p,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||Bj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ua(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wL),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vj);return}this.isUpdating||this.nodes.forEach(yL),this.isUpdating=!1,this.nodes.forEach(bL),this.nodes.forEach(mL),this.nodes.forEach(fL),this.clearAllSnapshots();const l=Mr.now();bs.delta=fi(0,1e3/60,l-bs.timestamp),bs.timestamp=l,bs.isProcessing=!0,Gp.update.process(bs),Gp.preRender.process(bs),Gp.render.process(bs),bs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xL),this.sharedNodes.forEach(NL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!SC(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Ea(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),kL(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Jt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(AL))){const{scroll:u}=this.root;u&&(Qo(c.x,u.offset.x),Qo(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=Jt();if(In(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&In(c,o),Qo(c.x,h.offset.x),Qo(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=Jt();In(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Yo(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ea(u.latestValues)&&Yo(c,u.latestValues)}return Ea(this.latestValues)&&Yo(c,this.latestValues),c}removeTransform(o){const l=Jt();In(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ea(d.latestValues))continue;bx(d.latestValues)&&d.updateSnapshot();const u=Jt(),h=d.measurePageBox();In(u,h),Mj(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ea(this.latestValues)&&Mj(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=bs.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),Jc(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),In(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jt(),this.targetWithTransforms=Jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_I(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):In(this.target,this.layout.layoutBox),yC(this.target,this.targetDelta)):In(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jt(),this.relativeTargetOrigin=Jt(),Jc(this.relativeTargetOrigin,this.target,f.target),In(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tc&&_a.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bx(this.parent.latestValues)||xC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===bs.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;In(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;BI(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Jt());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Tj(this.prevProjectionDelta.x,this.projectionDelta.x),Tj(this.prevProjectionDelta.y,this.projectionDelta.y)),Xc(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!Lj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Tc&&_a.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ko(),this.projectionDelta=Ko(),this.projectionDeltaWithTransform=Ko()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Jt(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=f!==g,v=this.getStack(),b=!v||v.members.length<=1,y=!!(p&&!b&&this.options.crossfade===!0&&!this.path.some(CL));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const N=j/1e3;$j(h.x,o.x,N),$j(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SL(this.relativeTarget,this.relativeTargetOrigin,m,N),w&&lL(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Jt()),In(w,this.relativeTarget)),p&&(this.animationValues=u,sL(u,d,this.latestValues,N,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ua(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{Fh.hasAnimatedSinceResize=!0,this.currentAnimation=YI(0,Fj,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&AC(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Jt();const h=_n(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=_n(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}In(l,c),Yo(l,u),Xc(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new cL),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&n0("z",o,d,this.animationValues);for(let u=0;u<s0.length;u++)n0(`rotate${s0[u]}`,o,d,this.animationValues),n0(`skew${s0[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uL;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Ih(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Ih(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ea(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=dL(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:f,y:g}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const p in km){if(m[p]===void 0)continue;const{correct:v,applyTo:b}=km[p],y=d.transform==="none"?m[p]:v(m[p],h);if(b){const w=b.length;for(let j=0;j<w;j++)d[b[j]]=y}else d[p]=y}return this.options.layoutId&&(d.pointerEvents=h===this?Ih(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Vj),this.root.sharedNodes.clear()}}}function mL(e){e.updateLayout()}function fL(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=s.source!==e.layout.source;a==="size"?Fn(h=>{const m=o?s.measuredBox[h]:s.layoutBox[h],f=_n(m);m.min=n[h].min,m.max=m.min+f}):AC(a,s.layoutBox,n)&&Fn(h=>{const m=o?s.measuredBox[h]:s.layoutBox[h],f=_n(n[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=Ko();Xc(l,n,s.layoutBox);const c=Ko();o?Xc(c,e.applyTransform(i,!0),s.measuredBox):Xc(c,n,s.layoutBox);const d=!SC(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const g=Jt();Jc(g,s.layoutBox,m.layoutBox);const p=Jt();Jc(p,n,f.layoutBox),CC(g,p)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function pL(e){Tc&&_a.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xL(e){e.clearSnapshot()}function Vj(e){e.clearMeasurements()}function yL(e){e.isLayoutDirty=!1}function bL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vL(e){e.resolveTargetDelta()}function jL(e){e.calcProjection()}function wL(e){e.resetSkewAndRotation()}function NL(e){e.removeLeadSnapshot()}function $j(e,t,s){e.translate=Ft(t.translate,0,s),e.scale=Ft(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function zj(e,t,s,n){e.min=Ft(t.min,s.min,n),e.max=Ft(t.max,s.max,n)}function SL(e,t,s,n){zj(e.x,t.x,s.x,n),zj(e.y,t.y,s.y,n)}function CL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const PL={duration:.45,ease:[.4,0,.1,1]},Uj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Hj=Uj("applewebkit/")&&!Uj("chrome/")?Math.round:An;function qj(e){e.min=Hj(e.min),e.max=Hj(e.max)}function kL(e){qj(e.x),qj(e.y)}function AC(e,t,s){return e==="position"||e==="preserve-aspect"&&!EI(Ij(t),Ij(s),.2)}function AL(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const TL=kC({attachResizeListener:(e,t)=>Dd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),r0={current:void 0},TC=kC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!r0.current){const e=new TL({});e.mount(window),e.setOptions({layoutScroll:!0}),r0.current=e}return r0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),EL={pan:{Feature:WI},drag:{Feature:qI,ProjectionNode:TC,MeasureLayout:jC}};function Wj(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=n[i];a&&Rt.postRender(()=>a(t,pu(t)))}class _L extends va{mount(){const{current:t}=this.node;t&&(this.unmount=EO(t,s=>(Wj(this.node,s,"Start"),n=>Wj(this.node,n,"End"))))}unmount(){}}class ML extends va{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fu(Dd(this.node.current,"focus",()=>this.onFocus()),Dd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gj(e,t,s){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=n[i];a&&Rt.postRender(()=>a(t,pu(t)))}class DL extends va{mount(){const{current:t}=this.node;t&&(this.unmount=OO(t,s=>(Gj(this.node,s,"Start"),(n,{success:i})=>Gj(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jx=new WeakMap,i0=new WeakMap,OL=e=>{const t=jx.get(e.target);t&&t(e)},RL=e=>{e.forEach(OL)};function IL({root:e,...t}){const s=e||document;i0.has(s)||i0.set(s,{});const n=i0.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(RL,{root:e,...t})),n[i]}function LL(e,t,s){const n=IL(t);return jx.set(e,s),n.observe(e),()=>{jx.delete(e),n.unobserve(e)}}const FL={some:0,all:1};class VL extends va{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:FL[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return LL(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(BL(t,s))&&this.startObserver()}unmount(){}}function BL({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const $L={inView:{Feature:VL},tap:{Feature:DL},focus:{Feature:ML},hover:{Feature:_L}},zL={layout:{ProjectionNode:TC,MeasureLayout:jC}},wx={current:null},EC={current:!1};function UL(){if(EC.current=!0,!!wb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wx.current=e.matches;e.addListener(t),t()}else wx.current=!1}const HL=[...tC,Ds,ha],qL=e=>HL.find(eC(e)),Kj=new WeakMap;function WL(e,t,s){for(const n in t){const i=t[n],a=s[n];if(Vs(i))e.addValue(n,i);else if(Vs(a))e.addValue(n,_d(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,_d(o!==void 0?o:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const Qj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GL{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Mr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Rt.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Rf(s),this.isVariantNode=cS(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in m){const g=m[f];c[f]!==void 0&&Vs(g)&&g.set(c[f],!1)}}mount(t){this.current=t,Kj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),EC.current||UL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Kj.delete(this.current),this.projection&&this.projection.unmount(),ua(this.notifyUpdate),ua(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=wo.has(t),i=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Dl){const s=Dl[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Qj.length;n++){const i=Qj[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=WL(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=_d(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(JS(i)||US(i))?i=parseFloat(i):!qL(i)&&ha.test(s)&&(i=QS(t,s)),this.setBaseTarget(t,Vs(i)?i.get():i)),Vs(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=Tb(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Vs(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Ub),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class _C extends GL{constructor(){super(...arguments),this.KeyframeResolver=sC}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Vs(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function KL(e){return window.getComputedStyle(e)}class QL extends _C{constructor(){super(...arguments),this.type="html",this.renderInstance=yS}readValueFromInstance(t,s){if(wo.has(s)){const n=Kb(s);return n&&n.default||0}else{const n=KL(t),i=(pS(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return bC(t,s)}build(t,s,n){Mb(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return Ib(t,s,n)}}class YL extends _C{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(wo.has(s)){const n=Kb(s);return n&&n.default||0}return s=bS.has(s)?s:Pb(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return wS(t,s,n)}build(t,s,n){Db(t,s,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,n,i){vS(t,s,n,i)}mount(t){this.isSVGTag=Rb(t.tagName),super.mount(t)}}const XL=(e,t)=>Ab(e)?new YL(t):new QL(t,{allowProjection:e!==x.Fragment}),JL=NO({...jI,...$L,...EL,...zL},XL),Yj=F9(JL),ZL={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl",full:"max-w-full mx-4"},At=({isOpen:e,onClose:t,title:s,children:n,footer:i,size:a="md",closeOnOverlayClick:o=!0,showCloseButton:l=!0,className:c=""})=>{const d=x.useRef(null);x.useEffect(()=>{const m=f=>{f.key==="Escape"&&e&&t()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[e,t]),x.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),x.useEffect(()=>{if(e&&d.current){const m=d.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),f=m[0],g=m[m.length-1],p=v=>{v.key==="Tab"&&(v.shiftKey&&document.activeElement===f?(v.preventDefault(),g==null||g.focus()):!v.shiftKey&&document.activeElement===g&&(v.preventDefault(),f==null||f.focus()))};return document.addEventListener("keydown",p),f==null||f.focus(),()=>document.removeEventListener("keydown",p)}},[e]);const u=m=>{o&&m.target===m.currentTarget&&t()},h=r.jsx(E9,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx(Yj.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:u}),r.jsxs(Yj.div,{ref:d,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:`
              relative w-full ${ZL[a]} bg-white rounded-xl shadow-2xl
              max-h-[90vh] flex flex-col
              ${c}
            `,role:"dialog","aria-modal":"true","aria-labelledby":s?"modal-title":void 0,children:[(s||l)&&r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s&&r.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-gray-900",children:s}),l&&r.jsx("button",{onClick:t,className:"p-2 -mr-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:r.jsx(xb,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:n}),i&&r.jsx("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:i})]})]})});return tb.createPortal(h,document.body)};At.Header=({children:e,className:t=""})=>r.jsx("div",{className:`px-6 py-4 border-b border-gray-200 ${t}`,children:e});At.Body=({children:e,className:t=""})=>r.jsx("div",{className:`flex-1 overflow-y-auto px-6 py-4 ${t}`,children:e});At.Footer=({children:e,className:t=""})=>r.jsx("div",{className:`flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl ${t}`,children:e});function eF({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v16.19l6.22-6.22a.75.75 0 1 1 1.06 1.06l-7.5 7.5a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 1 1 1.06-1.06l6.22 6.22V3a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const tF=x.forwardRef(eF);function sF({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const nF=x.forwardRef(sF),Xj={blue:{bg:"bg-blue-100",icon:"text-blue-600",trend:"text-blue-600"},green:{bg:"bg-green-100",icon:"text-green-600",trend:"text-green-600"},purple:{bg:"bg-purple-100",icon:"text-purple-600",trend:"text-purple-600"},orange:{bg:"bg-orange-100",icon:"text-orange-600",trend:"text-orange-600"},red:{bg:"bg-red-100",icon:"text-red-600",trend:"text-red-600"},indigo:{bg:"bg-indigo-100",icon:"text-indigo-600",trend:"text-indigo-600"},pink:{bg:"bg-pink-100",icon:"text-pink-600",trend:"text-pink-600"},teal:{bg:"bg-teal-100",icon:"text-teal-600",trend:"text-teal-600"}},rF=({icon:e,value:t,label:s,trend:n,trendValue:i,trendLabel:a="vs last period",color:o="blue",onClick:l,className:c="",loading:d=!1})=>{const u=Xj[o]||Xj.blue;return d?r.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-pulse ${c}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-3"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]}),r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"})]}),r.jsx("div",{className:"mt-4 h-3 bg-gray-200 rounded w-32"})]}):r.jsxs("div",{onClick:l,className:`
        bg-white rounded-xl shadow-sm border border-gray-200 p-6
        transition-all duration-200
        ${l?"cursor-pointer hover:shadow-md hover:border-gray-300 active:scale-[0.98]":""}
        ${c}
      `,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 truncate",children:s}),r.jsx("p",{className:"mt-1 text-3xl font-bold text-gray-900",children:t})]}),e&&r.jsx("div",{className:`flex-shrink-0 p-3 rounded-xl ${u.bg}`,children:r.jsx(e,{className:`h-6 w-6 ${u.icon}`})})]}),(n!==void 0||i!==void 0)&&r.jsxs("div",{className:"mt-4 flex items-center",children:[n!==void 0&&r.jsxs("span",{className:`inline-flex items-center text-sm font-medium ${n==="up"?"text-green-600":n==="down"?"text-red-600":"text-gray-500"}`,children:[n==="up"&&r.jsx(nF,{className:"h-4 w-4 mr-1"}),n==="down"&&r.jsx(tF,{className:"h-4 w-4 mr-1"}),i&&r.jsx("span",{children:typeof i=="number"?`${Math.abs(i)}%`:i})]}),a&&r.jsx("span",{className:"ml-2 text-sm text-gray-500",children:a})]})]})};rF.Grid=({children:e,className:t=""})=>r.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 ${t}`,children:e});const iF={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 border-transparent",secondary:"bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500 border-gray-300",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500 border-transparent",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 border-transparent",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500 border-transparent",outline:"bg-transparent text-blue-600 hover:bg-blue-50 focus:ring-blue-500 border-blue-600"},aF={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},Nx={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-5 w-5"},oF=({size:e})=>r.jsxs("svg",{className:`animate-spin ${Nx[e]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),ps=x.forwardRef(({children:e,variant:t="primary",size:s="md",loading:n=!1,disabled:i=!1,iconLeft:a,iconRight:o,fullWidth:l=!1,type:c="button",className:d="",...u},h)=>{const m=i||n;return r.jsx("button",{ref:h,type:c,disabled:m,className:`
          inline-flex items-center justify-center font-medium rounded-lg
          border transition-all duration-200
          focus:outline-none focus:ring-2 focus:ring-offset-2
          disabled:opacity-50 disabled:cursor-not-allowed
          ${iF[t]}
          ${aF[s]}
          ${l?"w-full":""}
          ${d}
        `,...u,children:n?r.jsxs(r.Fragment,{children:[r.jsx(oF,{size:s}),r.jsx("span",{className:"ml-2",children:e})]}):r.jsxs(r.Fragment,{children:[a&&r.jsx(a,{className:`${Nx[s]} ${e?"mr-2":""}`}),e,o&&r.jsx(o,{className:`${Nx[s]} ${e?"ml-2":""}`})]})})});ps.displayName="Button";ps.Group=({children:e,className:t=""})=>r.jsx("div",{className:`inline-flex rounded-lg shadow-sm ${t}`,children:e});const Qs=x.forwardRef(({label:e,error:t,helperText:s,icon:n,type:i="text",className:a="",inputClassName:o="",labelClassName:l="",required:c=!1,disabled:d=!1,...u},h)=>{const[m,f]=x.useState(!1),g=i==="password",p=g&&m?"text":i,v=`
      block w-full rounded-lg border bg-white px-4 py-2.5
      text-gray-900 placeholder-gray-400
      transition-colors duration-200
      focus:outline-none focus:ring-2 focus:ring-offset-0
      disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-500
    `,b=t?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500",y=n?"pl-10":"",w=g?"pr-10":"";return r.jsxs("div",{className:a,children:[e&&r.jsxs("label",{className:`block text-sm font-medium text-gray-700 mb-1.5 ${l}`,children:[e,c&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[n&&r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(n,{className:`h-5 w-5 ${t?"text-red-400":"text-gray-400"}`})}),r.jsx("input",{ref:h,type:p,disabled:d,className:`
              ${v}
              ${b}
              ${y}
              ${w}
              ${o}
            `,...u}),g&&r.jsx("button",{type:"button",onClick:()=>f(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center",tabIndex:-1,children:m?r.jsx(a9,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):r.jsx(l9,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),(t||s)&&r.jsx("p",{className:`mt-1.5 text-sm ${t?"text-red-600":"text-gray-500"}`,children:t||s})]})});Qs.displayName="Input";const MC=x.forwardRef(({label:e,error:t,helperText:s,className:n="",inputClassName:i="",labelClassName:a="",required:o=!1,disabled:l=!1,rows:c=4,...d},u)=>{const h=`
      block w-full rounded-lg border bg-white px-4 py-2.5
      text-gray-900 placeholder-gray-400
      transition-colors duration-200
      focus:outline-none focus:ring-2 focus:ring-offset-0
      disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-500
      resize-none
    `,m=t?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500";return r.jsxs("div",{className:n,children:[e&&r.jsxs("label",{className:`block text-sm font-medium text-gray-700 mb-1.5 ${a}`,children:[e,o&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("textarea",{ref:u,rows:c,disabled:l,className:`
            ${h}
            ${m}
            ${i}
          `,...d}),(t||s)&&r.jsx("p",{className:`mt-1.5 text-sm ${t?"text-red-600":"text-gray-500"}`,children:t||s})]})});MC.displayName="Textarea";const lF=({children:e,className:t=""})=>r.jsx("div",{className:`flex rounded-lg shadow-sm ${t}`,children:e}),cF=({children:e,position:t="left",className:s=""})=>r.jsx("span",{className:`
      inline-flex items-center px-3 border border-gray-300 bg-gray-50 text-gray-500 text-sm
      ${t==="left"?"rounded-l-lg border-r-0":"rounded-r-lg border-l-0"}
      ${s}
    `,children:e}),dF=({children:e,className:t=""})=>r.jsx("div",{className:`mb-4 ${t}`,children:e});Qs.Textarea=MC;Qs.Group=lF;Qs.Addon=cF;Qs.Field=dF;function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}function uF(e,t){if(mo(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,t);if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DC(e){var t=uF(e,"string");return mo(t)=="symbol"?t:t+""}function Ec(e,t,s){return(t=DC(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Jj(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,n)}return s}function Qe(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(s),!0).forEach(function(n){Ec(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Jj(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function hF(e){if(Array.isArray(e))return e}function mF(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(s=s.call(e)).next,t===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(n=a.call(s)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Sx(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}function OC(e,t){if(e){if(typeof e=="string")return Sx(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Sx(e,t):void 0}}function fF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oi(e,t){return hF(e)||mF(e,t)||OC(e,t)||fF()}function pF(e,t){if(e==null)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;s[n]=e[n]}return s}function Lr(e,t){if(e==null)return{};var s,n,i=pF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var gF=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function RC(e){var t=e.defaultInputValue,s=t===void 0?"":t,n=e.defaultMenuIsOpen,i=n===void 0?!1:n,a=e.defaultValue,o=a===void 0?null:a,l=e.inputValue,c=e.menuIsOpen,d=e.onChange,u=e.onInputChange,h=e.onMenuClose,m=e.onMenuOpen,f=e.value,g=Lr(e,gF),p=x.useState(l!==void 0?l:s),v=oi(p,2),b=v[0],y=v[1],w=x.useState(c!==void 0?c:i),j=oi(w,2),N=j[0],S=j[1],P=x.useState(f!==void 0?f:o),C=oi(P,2),F=C[0],T=C[1],te=x.useCallback(function(M,D){typeof d=="function"&&d(M,D),T(M)},[d]),A=x.useCallback(function(M,D){var J;typeof u=="function"&&(J=u(M,D)),y(J!==void 0?J:M)},[u]),q=x.useCallback(function(){typeof m=="function"&&m(),S(!0)},[m]),z=x.useCallback(function(){typeof h=="function"&&h(),S(!1)},[h]),B=l!==void 0?l:b,_=c!==void 0?c:N,$=f!==void 0?f:F;return Qe(Qe({},g),{},{inputValue:B,menuIsOpen:_,onChange:te,onInputChange:A,onMenuClose:z,onMenuOpen:q,value:$})}function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ye.apply(null,arguments)}function xF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zj(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DC(n.key),n)}}function yF(e,t,s){return t&&Zj(e.prototype,t),s&&Zj(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cx(e,t){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},Cx(e,t)}function bF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cx(e,t)}function Dm(e){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dm(e)}function IC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IC=function(){return!!e})()}function vF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jF(e,t){if(t&&(mo(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vF(e)}function wF(e){var t=IC();return function(){var s,n=Dm(e);if(t){var i=Dm(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return jF(this,s)}}function NF(e){if(Array.isArray(e))return Sx(e)}function SF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rl(e){return NF(e)||SF(e)||OC(e)||CF()}function PF(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function kF(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var AF=function(){function e(s){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kF(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=PF(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Ts="-ms-",Om="-moz-",pt="-webkit-",LC="comm",Zb="rule",e1="decl",TF="@import",FC="@keyframes",EF="@layer",_F=Math.abs,Ff=String.fromCharCode,MF=Object.assign;function DF(e,t){return vs(e,0)^45?(((t<<2^vs(e,0))<<2^vs(e,1))<<2^vs(e,2))<<2^vs(e,3):0}function VC(e){return e.trim()}function OF(e,t){return(e=t.exec(e))?e[0]:e}function gt(e,t,s){return e.replace(t,s)}function Px(e,t){return e.indexOf(t)}function vs(e,t){return e.charCodeAt(t)|0}function Od(e,t,s){return e.slice(t,s)}function Nr(e){return e.length}function t1(e){return e.length}function Xu(e,t){return t.push(e),e}function RF(e,t){return e.map(t).join("")}var Vf=1,Rl=1,BC=0,gn=0,ss=0,Yl="";function Bf(e,t,s,n,i,a,o){return{value:e,root:t,parent:s,type:n,props:i,children:a,line:Vf,column:Rl,length:o,return:""}}function dc(e,t){return MF(Bf("",null,null,"",null,null,0),e,{length:-e.length},t)}function IF(){return ss}function LF(){return ss=gn>0?vs(Yl,--gn):0,Rl--,ss===10&&(Rl=1,Vf--),ss}function Tn(){return ss=gn<BC?vs(Yl,gn++):0,Rl++,ss===10&&(Rl=1,Vf++),ss}function Dr(){return vs(Yl,gn)}function Vh(){return gn}function gu(e,t){return Od(Yl,e,t)}function Rd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $C(e){return Vf=Rl=1,BC=Nr(Yl=e),gn=0,[]}function zC(e){return Yl="",e}function Bh(e){return VC(gu(gn-1,kx(e===91?e+2:e===40?e+1:e)))}function FF(e){for(;(ss=Dr())&&ss<33;)Tn();return Rd(e)>2||Rd(ss)>3?"":" "}function VF(e,t){for(;--t&&Tn()&&!(ss<48||ss>102||ss>57&&ss<65||ss>70&&ss<97););return gu(e,Vh()+(t<6&&Dr()==32&&Tn()==32))}function kx(e){for(;Tn();)switch(ss){case e:return gn;case 34:case 39:e!==34&&e!==39&&kx(ss);break;case 40:e===41&&kx(e);break;case 92:Tn();break}return gn}function BF(e,t){for(;Tn()&&e+ss!==57;)if(e+ss===84&&Dr()===47)break;return"/*"+gu(t,gn-1)+"*"+Ff(e===47?e:Tn())}function $F(e){for(;!Rd(Dr());)Tn();return gu(e,gn)}function zF(e){return zC($h("",null,null,null,[""],e=$C(e),0,[0],e))}function $h(e,t,s,n,i,a,o,l,c){for(var d=0,u=0,h=o,m=0,f=0,g=0,p=1,v=1,b=1,y=0,w="",j=i,N=a,S=n,P=w;v;)switch(g=y,y=Tn()){case 40:if(g!=108&&vs(P,h-1)==58){Px(P+=gt(Bh(y),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:P+=Bh(y);break;case 9:case 10:case 13:case 32:P+=FF(g);break;case 92:P+=VF(Vh()-1,7);continue;case 47:switch(Dr()){case 42:case 47:Xu(UF(BF(Tn(),Vh()),t,s),c);break;default:P+="/"}break;case 123*p:l[d++]=Nr(P)*b;case 125*p:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:b==-1&&(P=gt(P,/\f/g,"")),f>0&&Nr(P)-h&&Xu(f>32?t4(P+";",n,s,h-1):t4(gt(P," ","")+";",n,s,h-2),c);break;case 59:P+=";";default:if(Xu(S=e4(P,t,s,d,u,i,l,w,j=[],N=[],h),a),y===123)if(u===0)$h(P,t,S,S,j,a,h,l,N);else switch(m===99&&vs(P,3)===110?100:m){case 100:case 108:case 109:case 115:$h(e,S,S,n&&Xu(e4(e,S,S,0,0,i,l,w,i,j=[],h),N),i,N,h,l,n?j:N);break;default:$h(P,S,S,S,[""],N,0,l,N)}}d=u=f=0,p=b=1,w=P="",h=o;break;case 58:h=1+Nr(P),f=g;default:if(p<1){if(y==123)--p;else if(y==125&&p++==0&&LF()==125)continue}switch(P+=Ff(y),y*p){case 38:b=u>0?1:(P+="\f",-1);break;case 44:l[d++]=(Nr(P)-1)*b,b=1;break;case 64:Dr()===45&&(P+=Bh(Tn())),m=Dr(),u=h=Nr(w=P+=$F(Vh())),y++;break;case 45:g===45&&Nr(P)==2&&(p=0)}}return a}function e4(e,t,s,n,i,a,o,l,c,d,u){for(var h=i-1,m=i===0?a:[""],f=t1(m),g=0,p=0,v=0;g<n;++g)for(var b=0,y=Od(e,h+1,h=_F(p=o[g])),w=e;b<f;++b)(w=VC(p>0?m[b]+" "+y:gt(y,/&\f/g,m[b])))&&(c[v++]=w);return Bf(e,t,s,i===0?Zb:l,c,d,u)}function UF(e,t,s){return Bf(e,t,s,LC,Ff(IF()),Od(e,2,-2),0)}function t4(e,t,s,n){return Bf(e,t,s,e1,Od(e,0,n),Od(e,n+1,-1),n)}function il(e,t){for(var s="",n=t1(e),i=0;i<n;i++)s+=t(e[i],i,e,t)||"";return s}function HF(e,t,s,n){switch(e.type){case EF:if(e.children.length)break;case TF:case e1:return e.return=e.return||e.value;case LC:return"";case FC:return e.return=e.value+"{"+il(e.children,n)+"}";case Zb:e.value=e.props.join(",")}return Nr(s=il(e.children,n))?e.return=e.value+"{"+s+"}":""}function qF(e){var t=t1(e);return function(s,n,i,a){for(var o="",l=0;l<t;l++)o+=e[l](s,n,i,a)||"";return o}}function WF(e){return function(t){t.root||(t=t.return)&&e(t)}}function GF(e){var t=Object.create(null);return function(s){return t[s]===void 0&&(t[s]=e(s)),t[s]}}var KF=function(t,s,n){for(var i=0,a=0;i=a,a=Dr(),i===38&&a===12&&(s[n]=1),!Rd(a);)Tn();return gu(t,gn)},QF=function(t,s){var n=-1,i=44;do switch(Rd(i)){case 0:i===38&&Dr()===12&&(s[n]=1),t[n]+=KF(gn-1,s,n);break;case 2:t[n]+=Bh(i);break;case 4:if(i===44){t[++n]=Dr()===58?"&\f":"",s[n]=t[n].length;break}default:t[n]+=Ff(i)}while(i=Tn());return t},YF=function(t,s){return zC(QF($C(t),s))},s4=new WeakMap,XF=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var s=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&s.charCodeAt(0)!==58&&!s4.get(n))&&!i){s4.set(t,!0);for(var a=[],o=YF(s,a),l=n.props,c=0,d=0;c<o.length;c++)for(var u=0;u<l.length;u++,d++)t.props[d]=a[c]?o[c].replace(/&\f/g,l[u]):l[u]+" "+o[c]}}},JF=function(t){if(t.type==="decl"){var s=t.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(t.return="",t.value="")}};function UC(e,t){switch(DF(e,t)){case 5103:return pt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return pt+e+Om+e+Ts+e+e;case 6828:case 4268:return pt+e+Ts+e+e;case 6165:return pt+e+Ts+"flex-"+e+e;case 5187:return pt+e+gt(e,/(\w+).+(:[^]+)/,pt+"box-$1$2"+Ts+"flex-$1$2")+e;case 5443:return pt+e+Ts+"flex-item-"+gt(e,/flex-|-self/,"")+e;case 4675:return pt+e+Ts+"flex-line-pack"+gt(e,/align-content|flex-|-self/,"")+e;case 5548:return pt+e+Ts+gt(e,"shrink","negative")+e;case 5292:return pt+e+Ts+gt(e,"basis","preferred-size")+e;case 6060:return pt+"box-"+gt(e,"-grow","")+pt+e+Ts+gt(e,"grow","positive")+e;case 4554:return pt+gt(e,/([^-])(transform)/g,"$1"+pt+"$2")+e;case 6187:return gt(gt(gt(e,/(zoom-|grab)/,pt+"$1"),/(image-set)/,pt+"$1"),e,"")+e;case 5495:case 3959:return gt(e,/(image-set\([^]*)/,pt+"$1$`$1");case 4968:return gt(gt(e,/(.+:)(flex-)?(.*)/,pt+"box-pack:$3"+Ts+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pt+e+e;case 4095:case 3583:case 4068:case 2532:return gt(e,/(.+)-inline(.+)/,pt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nr(e)-1-t>6)switch(vs(e,t+1)){case 109:if(vs(e,t+4)!==45)break;case 102:return gt(e,/(.+:)(.+)-([^]+)/,"$1"+pt+"$2-$3$1"+Om+(vs(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Px(e,"stretch")?UC(gt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(vs(e,t+1)!==115)break;case 6444:switch(vs(e,Nr(e)-3-(~Px(e,"!important")&&10))){case 107:return gt(e,":",":"+pt)+e;case 101:return gt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pt+(vs(e,14)===45?"inline-":"")+"box$3$1"+pt+"$2$3$1"+Ts+"$2box$3")+e}break;case 5936:switch(vs(e,t+11)){case 114:return pt+e+Ts+gt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return pt+e+Ts+gt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return pt+e+Ts+gt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return pt+e+Ts+e+e}return e}var ZF=function(t,s,n,i){if(t.length>-1&&!t.return)switch(t.type){case e1:t.return=UC(t.value,t.length);break;case FC:return il([dc(t,{value:gt(t.value,"@","@"+pt)})],i);case Zb:if(t.length)return RF(t.props,function(a){switch(OF(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return il([dc(t,{props:[gt(a,/:(read-\w+)/,":"+Om+"$1")]})],i);case"::placeholder":return il([dc(t,{props:[gt(a,/:(plac\w+)/,":"+pt+"input-$1")]}),dc(t,{props:[gt(a,/:(plac\w+)/,":"+Om+"$1")]}),dc(t,{props:[gt(a,/:(plac\w+)/,Ts+"input-$1")]})],i)}return""})}},eV=[ZF],tV=function(t){var s=t.key;if(s==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var v=p.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=t.stylisPlugins||eV,a={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(p){for(var v=p.getAttribute("data-emotion").split(" "),b=1;b<v.length;b++)a[v[b]]=!0;l.push(p)});var c,d=[XF,JF];{var u,h=[HF,WF(function(p){u.insert(p)})],m=qF(d.concat(i,h)),f=function(v){return il(zF(v),m)};c=function(v,b,y,w){u=y,f(v?v+"{"+b.styles+"}":b.styles),w&&(g.inserted[b.name]=!0)}}var g={key:s,sheet:new AF({key:s,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:c};return g.sheet.hydrate(l),g},HC={exports:{}},Nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xs=typeof Symbol=="function"&&Symbol.for,s1=xs?Symbol.for("react.element"):60103,n1=xs?Symbol.for("react.portal"):60106,$f=xs?Symbol.for("react.fragment"):60107,zf=xs?Symbol.for("react.strict_mode"):60108,Uf=xs?Symbol.for("react.profiler"):60114,Hf=xs?Symbol.for("react.provider"):60109,qf=xs?Symbol.for("react.context"):60110,r1=xs?Symbol.for("react.async_mode"):60111,Wf=xs?Symbol.for("react.concurrent_mode"):60111,Gf=xs?Symbol.for("react.forward_ref"):60112,Kf=xs?Symbol.for("react.suspense"):60113,sV=xs?Symbol.for("react.suspense_list"):60120,Qf=xs?Symbol.for("react.memo"):60115,Yf=xs?Symbol.for("react.lazy"):60116,nV=xs?Symbol.for("react.block"):60121,rV=xs?Symbol.for("react.fundamental"):60117,iV=xs?Symbol.for("react.responder"):60118,aV=xs?Symbol.for("react.scope"):60119;function On(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case s1:switch(e=e.type,e){case r1:case Wf:case $f:case Uf:case zf:case Kf:return e;default:switch(e=e&&e.$$typeof,e){case qf:case Gf:case Yf:case Qf:case Hf:return e;default:return t}}case n1:return t}}}function qC(e){return On(e)===Wf}Nt.AsyncMode=r1;Nt.ConcurrentMode=Wf;Nt.ContextConsumer=qf;Nt.ContextProvider=Hf;Nt.Element=s1;Nt.ForwardRef=Gf;Nt.Fragment=$f;Nt.Lazy=Yf;Nt.Memo=Qf;Nt.Portal=n1;Nt.Profiler=Uf;Nt.StrictMode=zf;Nt.Suspense=Kf;Nt.isAsyncMode=function(e){return qC(e)||On(e)===r1};Nt.isConcurrentMode=qC;Nt.isContextConsumer=function(e){return On(e)===qf};Nt.isContextProvider=function(e){return On(e)===Hf};Nt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===s1};Nt.isForwardRef=function(e){return On(e)===Gf};Nt.isFragment=function(e){return On(e)===$f};Nt.isLazy=function(e){return On(e)===Yf};Nt.isMemo=function(e){return On(e)===Qf};Nt.isPortal=function(e){return On(e)===n1};Nt.isProfiler=function(e){return On(e)===Uf};Nt.isStrictMode=function(e){return On(e)===zf};Nt.isSuspense=function(e){return On(e)===Kf};Nt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$f||e===Wf||e===Uf||e===zf||e===Kf||e===sV||typeof e=="object"&&e!==null&&(e.$$typeof===Yf||e.$$typeof===Qf||e.$$typeof===Hf||e.$$typeof===qf||e.$$typeof===Gf||e.$$typeof===rV||e.$$typeof===iV||e.$$typeof===aV||e.$$typeof===nV)};Nt.typeOf=On;HC.exports=Nt;var oV=HC.exports,WC=oV,lV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GC={};GC[WC.ForwardRef]=lV;GC[WC.Memo]=cV;var dV=!0;function uV(e,t,s){var n="";return s.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(n+=i+" ")}),n}var KC=function(t,s,n){var i=t.key+"-"+s.name;(n===!1||dV===!1)&&t.registered[i]===void 0&&(t.registered[i]=s.styles)},hV=function(t,s,n){KC(t,s,n);var i=t.key+"-"+s.name;if(t.inserted[s.name]===void 0){var a=s;do t.insert(s===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function mV(e){for(var t=0,s,n=0,i=e.length;i>=4;++n,i-=4)s=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,t=(s&65535)*1540483477+((s>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var fV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pV=/[A-Z]|^ms/g,gV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,QC=function(t){return t.charCodeAt(1)===45},n4=function(t){return t!=null&&typeof t!="boolean"},a0=GF(function(e){return QC(e)?e:e.replace(pV,"-$&").toLowerCase()}),r4=function(t,s){switch(t){case"animation":case"animationName":if(typeof s=="string")return s.replace(gV,function(n,i,a){return Sr={name:i,styles:a,next:Sr},i})}return fV[t]!==1&&!QC(t)&&typeof s=="number"&&s!==0?s+"px":s};function Id(e,t,s){if(s==null)return"";var n=s;if(n.__emotion_styles!==void 0)return n;switch(typeof s){case"boolean":return"";case"object":{var i=s;if(i.anim===1)return Sr={name:i.name,styles:i.styles,next:Sr},i.name;var a=s;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Sr={name:o.name,styles:o.styles,next:Sr},o=o.next;var l=a.styles+";";return l}return xV(e,t,s)}case"function":{if(e!==void 0){var c=Sr,d=s(e);return Sr=c,Id(e,t,d)}break}}var u=s;return u}function xV(e,t,s){var n="";if(Array.isArray(s))for(var i=0;i<s.length;i++)n+=Id(e,t,s[i])+";";else for(var a in s){var o=s[a];if(typeof o!="object"){var l=o;n4(l)&&(n+=a0(a)+":"+r4(a,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var c=0;c<o.length;c++)n4(o[c])&&(n+=a0(a)+":"+r4(a,o[c])+";");else{var d=Id(e,t,o);switch(a){case"animation":case"animationName":{n+=a0(a)+":"+d+";";break}default:n+=a+"{"+d+"}"}}}return n}var i4=/label:\s*([^\s;{]+)\s*(;|$)/g,Sr;function YC(e,t,s){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,i="";Sr=void 0;var a=e[0];if(a==null||a.raw===void 0)n=!1,i+=Id(s,t,a);else{var o=a;i+=o[0]}for(var l=1;l<e.length;l++)if(i+=Id(s,t,e[l]),n){var c=a;i+=c[l]}i4.lastIndex=0;for(var d="",u;(u=i4.exec(i))!==null;)d+="-"+u[1];var h=mV(i)+d;return{name:h,styles:i,next:Sr}}var yV=function(t){return t()},bV=$0.useInsertionEffect?$0.useInsertionEffect:!1,vV=bV||yV,XC=x.createContext(typeof HTMLElement<"u"?tV({key:"css"}):null);XC.Provider;var jV=function(t){return x.forwardRef(function(s,n){var i=x.useContext(XC);return t(s,i,n)})},wV=x.createContext({}),i1={}.hasOwnProperty,Ax="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",NV=function(t,s){var n={};for(var i in s)i1.call(s,i)&&(n[i]=s[i]);return n[Ax]=t,n},SV=function(t){var s=t.cache,n=t.serialized,i=t.isStringTag;return KC(s,n,i),vV(function(){return hV(s,n,i)}),null},CV=jV(function(e,t,s){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var i=e[Ax],a=[n],o="";typeof e.className=="string"?o=uV(t.registered,a,e.className):e.className!=null&&(o=e.className+" ");var l=YC(a,void 0,x.useContext(wV));o+=t.key+"-"+l.name;var c={};for(var d in e)i1.call(e,d)&&d!=="css"&&d!==Ax&&(c[d]=e[d]);return c.className=o,s&&(c.ref=s),x.createElement(x.Fragment,null,x.createElement(SV,{cache:t,serialized:l,isStringTag:typeof i=="string"}),x.createElement(i,c))}),PV=CV,Ge=function(t,s){var n=arguments;if(s==null||!i1.call(s,"css"))return x.createElement.apply(void 0,n);var i=n.length,a=new Array(i);a[0]=PV,a[1]=NV(t,s);for(var o=2;o<i;o++)a[o]=n[o];return x.createElement.apply(null,a)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Ge||(Ge={}));function a1(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return YC(t)}function kV(){var e=a1.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function AV(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const TV=Math.min,EV=Math.max,Rm=Math.round,Ju=Math.floor,Im=e=>({x:e,y:e});function _V(e){const{x:t,y:s,width:n,height:i}=e;return{width:n,height:i,top:s,left:t,right:t+n,bottom:s+i,x:t,y:s}}function Xf(){return typeof window<"u"}function JC(e){return eP(e)?(e.nodeName||"").toLowerCase():"#document"}function pi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ZC(e){var t;return(t=(eP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function eP(e){return Xf()?e instanceof Node||e instanceof pi(e).Node:!1}function MV(e){return Xf()?e instanceof Element||e instanceof pi(e).Element:!1}function o1(e){return Xf()?e instanceof HTMLElement||e instanceof pi(e).HTMLElement:!1}function a4(e){return!Xf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pi(e).ShadowRoot}const DV=new Set(["inline","contents"]);function tP(e){const{overflow:t,overflowX:s,overflowY:n,display:i}=l1(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!DV.has(i)}function OV(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const RV=new Set(["html","body","#document"]);function IV(e){return RV.has(JC(e))}function l1(e){return pi(e).getComputedStyle(e)}function LV(e){if(JC(e)==="html")return e;const t=e.assignedSlot||e.parentNode||a4(e)&&e.host||ZC(e);return a4(t)?t.host:t}function sP(e){const t=LV(e);return IV(t)?e.ownerDocument?e.ownerDocument.body:e.body:o1(t)&&tP(t)?t:sP(t)}function Lm(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=sP(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=pi(i);if(a){const l=Tx(o);return t.concat(o,o.visualViewport||[],tP(i)?i:[],l&&s?Lm(l):[])}return t.concat(i,Lm(i,[],s))}function Tx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FV(e){const t=l1(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=o1(e),a=i?e.offsetWidth:s,o=i?e.offsetHeight:n,l=Rm(s)!==a||Rm(n)!==o;return l&&(s=a,n=o),{width:s,height:n,$:l}}function c1(e){return MV(e)?e:e.contextElement}function o4(e){const t=c1(e);if(!o1(t))return Im(1);const s=t.getBoundingClientRect(),{width:n,height:i,$:a}=FV(t);let o=(a?Rm(s.width):s.width)/n,l=(a?Rm(s.height):s.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const VV=Im(0);function BV(e){const t=pi(e);return!OV()||!t.visualViewport?VV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $V(e,t,s){return!1}function l4(e,t,s,n){t===void 0&&(t=!1);const i=e.getBoundingClientRect(),a=c1(e);let o=Im(1);t&&(o=o4(e));const l=$V()?BV(a):Im(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const m=pi(a),f=n;let g=m,p=Tx(g);for(;p&&n&&f!==g;){const v=o4(p),b=p.getBoundingClientRect(),y=l1(p),w=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*v.x,j=b.top+(p.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=w,d+=j,g=pi(p),p=Tx(g)}}return _V({width:u,height:h,x:c,y:d})}function nP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zV(e,t){let s=null,n;const i=ZC(e);function a(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:f}=d;if(l||t(),!m||!f)return;const g=Ju(h),p=Ju(i.clientWidth-(u+m)),v=Ju(i.clientHeight-(h+f)),b=Ju(u),w={rootMargin:-g+"px "+-p+"px "+-v+"px "+-b+"px",threshold:EV(0,TV(1,c))||1};let j=!0;function N(S){const P=S[0].intersectionRatio;if(P!==c){if(!j)return o();P?o(!1,P):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!nP(d,e.getBoundingClientRect())&&o(),j=!1}try{s=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{s=new IntersectionObserver(N,w)}s.observe(e)}return o(!0),a}function UV(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=c1(e),u=i||a?[...d?Lm(d):[],...Lm(t)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",s,{passive:!0}),a&&b.addEventListener("resize",s)});const h=d&&l?zV(d,s):null;let m=-1,f=null;o&&(f=new ResizeObserver(b=>{let[y]=b;y&&y.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),s()}),d&&!c&&f.observe(d),f.observe(t));let g,p=c?l4(e):null;c&&v();function v(){const b=l4(e);p&&!nP(p,b)&&s(),p=b,g=requestAnimationFrame(v)}return s(),()=>{var b;u.forEach(y=>{i&&y.removeEventListener("scroll",s),a&&y.removeEventListener("resize",s)}),h==null||h(),(b=f)==null||b.disconnect(),f=null,c&&cancelAnimationFrame(g)}}var Ex=x.useLayoutEffect,HV=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Fm=function(){};function qV(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function WV(e,t){for(var s=arguments.length,n=new Array(s>2?s-2:0),i=2;i<s;i++)n[i-2]=arguments[i];var a=[].concat(n);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat(qV(e,o)));return a.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Vm=function(t){return tB(t)?t.filter(Boolean):mo(t)==="object"&&t!==null?[t]:[]},rP=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var s=Lr(t,HV);return Qe({},s)},Qt=function(t,s,n){var i=t.cx,a=t.getStyles,o=t.getClassNames,l=t.className;return{css:a(s,t),className:i(n??{},o(s,t),l)}};function Jf(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function GV(e){return Jf(e)?window.innerHeight:e.clientHeight}function iP(e){return Jf(e)?window.pageYOffset:e.scrollTop}function Bm(e,t){if(Jf(e)){window.scrollTo(0,t);return}e.scrollTop=t}function KV(e){var t=getComputedStyle(e),s=t.position==="absolute",n=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(s&&t.position==="static")&&n.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function QV(e,t,s,n){return s*((e=e/n-1)*e*e+1)+t}function Zu(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Fm,i=iP(e),a=t-i,o=10,l=0;function c(){l+=o;var d=QV(l,i,a,s);Bm(e,d),l<s?window.requestAnimationFrame(c):n(e)}c()}function c4(e,t){var s=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i=t.offsetHeight/3;n.bottom+i>s.bottom?Bm(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):n.top-i<s.top&&Bm(e,Math.max(t.offsetTop-i,0))}function YV(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function d4(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function XV(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var aP=!1,JV={get passive(){return aP=!0}},eh=typeof window<"u"?window:{};eh.addEventListener&&eh.removeEventListener&&(eh.addEventListener("p",Fm,JV),eh.removeEventListener("p",Fm,!1));var ZV=aP;function eB(e){return e!=null}function tB(e){return Array.isArray(e)}function _c(e,t,s){return e?t:s}var sB=function(t){for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];var a=Object.entries(t).filter(function(o){var l=oi(o,1),c=l[0];return!n.includes(c)});return a.reduce(function(o,l){var c=oi(l,2),d=c[0],u=c[1];return o[d]=u,o},{})},nB=["children","innerProps"],rB=["children","innerProps"];function iB(e){var t=e.maxHeight,s=e.menuEl,n=e.minHeight,i=e.placement,a=e.shouldScroll,o=e.isFixedPosition,l=e.controlHeight,c=KV(s),d={placement:"bottom",maxHeight:t};if(!s||!s.offsetParent)return d;var u=c.getBoundingClientRect(),h=u.height,m=s.getBoundingClientRect(),f=m.bottom,g=m.height,p=m.top,v=s.offsetParent.getBoundingClientRect(),b=v.top,y=o?window.innerHeight:GV(c),w=iP(c),j=parseInt(getComputedStyle(s).marginBottom,10),N=parseInt(getComputedStyle(s).marginTop,10),S=b-N,P=y-p,C=S+w,F=h-w-p,T=f-y+w+j,te=w+p-N,A=160;switch(i){case"auto":case"bottom":if(P>=g)return{placement:"bottom",maxHeight:t};if(F>=g&&!o)return a&&Zu(c,T,A),{placement:"bottom",maxHeight:t};if(!o&&F>=n||o&&P>=n){a&&Zu(c,T,A);var q=o?P-j:F-j;return{placement:"bottom",maxHeight:q}}if(i==="auto"||o){var z=t,B=o?S:C;return B>=n&&(z=Math.min(B-j-l,t)),{placement:"top",maxHeight:z}}if(i==="bottom")return a&&Bm(c,T),{placement:"bottom",maxHeight:t};break;case"top":if(S>=g)return{placement:"top",maxHeight:t};if(C>=g&&!o)return a&&Zu(c,te,A),{placement:"top",maxHeight:t};if(!o&&C>=n||o&&S>=n){var _=t;return(!o&&C>=n||o&&S>=n)&&(_=o?S-N:C-N),a&&Zu(c,te,A),{placement:"top",maxHeight:_}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return d}function aB(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var oP=function(t){return t==="auto"?"bottom":t},oB=function(t,s){var n,i=t.placement,a=t.theme,o=a.borderRadius,l=a.spacing,c=a.colors;return Qe((n={label:"menu"},Ec(n,aB(i),"100%"),Ec(n,"position","absolute"),Ec(n,"width","100%"),Ec(n,"zIndex",1),n),s?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},lP=x.createContext(null),lB=function(t){var s=t.children,n=t.minMenuHeight,i=t.maxMenuHeight,a=t.menuPlacement,o=t.menuPosition,l=t.menuShouldScrollIntoView,c=t.theme,d=x.useContext(lP)||{},u=d.setPortalPlacement,h=x.useRef(null),m=x.useState(i),f=oi(m,2),g=f[0],p=f[1],v=x.useState(null),b=oi(v,2),y=b[0],w=b[1],j=c.spacing.controlHeight;return Ex(function(){var N=h.current;if(N){var S=o==="fixed",P=l&&!S,C=iB({maxHeight:i,menuEl:N,minHeight:n,placement:a,shouldScroll:P,isFixedPosition:S,controlHeight:j});p(C.maxHeight),w(C.placement),u==null||u(C.placement)}},[i,a,o,l,n,u,j]),s({ref:h,placerProps:Qe(Qe({},t),{},{placement:y||oP(a),maxHeight:g})})},cB=function(t){var s=t.children,n=t.innerRef,i=t.innerProps;return Ge("div",Ye({},Qt(t,"menu",{menu:!0}),{ref:n},i),s)},dB=cB,uB=function(t,s){var n=t.maxHeight,i=t.theme.spacing.baseUnit;return Qe({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},s?{}:{paddingBottom:i,paddingTop:i})},hB=function(t){var s=t.children,n=t.innerProps,i=t.innerRef,a=t.isMulti;return Ge("div",Ye({},Qt(t,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},n),s)},cP=function(t,s){var n=t.theme,i=n.spacing.baseUnit,a=n.colors;return Qe({textAlign:"center"},s?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},mB=cP,fB=cP,pB=function(t){var s=t.children,n=s===void 0?"No options":s,i=t.innerProps,a=Lr(t,nB);return Ge("div",Ye({},Qt(Qe(Qe({},a),{},{children:n,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),n)},gB=function(t){var s=t.children,n=s===void 0?"Loading...":s,i=t.innerProps,a=Lr(t,rB);return Ge("div",Ye({},Qt(Qe(Qe({},a),{},{children:n,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),n)},xB=function(t){var s=t.rect,n=t.offset,i=t.position;return{left:s.left,position:i,top:n,width:s.width,zIndex:1}},yB=function(t){var s=t.appendTo,n=t.children,i=t.controlElement,a=t.innerProps,o=t.menuPlacement,l=t.menuPosition,c=x.useRef(null),d=x.useRef(null),u=x.useState(oP(o)),h=oi(u,2),m=h[0],f=h[1],g=x.useMemo(function(){return{setPortalPlacement:f}},[]),p=x.useState(null),v=oi(p,2),b=v[0],y=v[1],w=x.useCallback(function(){if(i){var P=YV(i),C=l==="fixed"?0:window.pageYOffset,F=P[m]+C;(F!==(b==null?void 0:b.offset)||P.left!==(b==null?void 0:b.rect.left)||P.width!==(b==null?void 0:b.rect.width))&&y({offset:F,rect:P})}},[i,l,m,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);Ex(function(){w()},[w]);var j=x.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),i&&c.current&&(d.current=UV(i,c.current,w,{elementResize:"ResizeObserver"in window}))},[i,w]);Ex(function(){j()},[j]);var N=x.useCallback(function(P){c.current=P,j()},[j]);if(!s&&l!=="fixed"||!b)return null;var S=Ge("div",Ye({ref:N},Qt(Qe(Qe({},t),{},{offset:b.offset,position:l,rect:b.rect}),"menuPortal",{"menu-portal":!0}),a),n);return Ge(lP.Provider,{value:g},s?tb.createPortal(S,s):S)},bB=function(t){var s=t.isDisabled,n=t.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:s?"none":void 0,position:"relative"}},vB=function(t){var s=t.children,n=t.innerProps,i=t.isDisabled,a=t.isRtl;return Ge("div",Ye({},Qt(t,"container",{"--is-disabled":i,"--is-rtl":a}),n),s)},jB=function(t,s){var n=t.theme.spacing,i=t.isMulti,a=t.hasValue,o=t.selectProps.controlShouldRenderValue;return Qe({alignItems:"center",display:i&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},s?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},wB=function(t){var s=t.children,n=t.innerProps,i=t.isMulti,a=t.hasValue;return Ge("div",Ye({},Qt(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),n),s)},NB=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},SB=function(t){var s=t.children,n=t.innerProps;return Ge("div",Ye({},Qt(t,"indicatorsContainer",{indicators:!0}),n),s)},u4,CB=["size"],PB=["innerProps","isRtl","size"],kB={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},dP=function(t){var s=t.size,n=Lr(t,CB);return Ge("svg",Ye({height:s,width:s,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:kB},n))},d1=function(t){return Ge(dP,Ye({size:20},t),Ge("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},uP=function(t){return Ge(dP,Ye({size:20},t),Ge("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},hP=function(t,s){var n=t.isFocused,i=t.theme,a=i.spacing.baseUnit,o=i.colors;return Qe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},s?{}:{color:n?o.neutral60:o.neutral20,padding:a*2,":hover":{color:n?o.neutral80:o.neutral40}})},AB=hP,TB=function(t){var s=t.children,n=t.innerProps;return Ge("div",Ye({},Qt(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),s||Ge(uP,null))},EB=hP,_B=function(t){var s=t.children,n=t.innerProps;return Ge("div",Ye({},Qt(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),s||Ge(d1,null))},MB=function(t,s){var n=t.isDisabled,i=t.theme,a=i.spacing.baseUnit,o=i.colors;return Qe({label:"indicatorSeparator",alignSelf:"stretch",width:1},s?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:a*2,marginTop:a*2})},DB=function(t){var s=t.innerProps;return Ge("span",Ye({},s,Qt(t,"indicatorSeparator",{"indicator-separator":!0})))},OB=kV(u4||(u4=AV([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),RB=function(t,s){var n=t.isFocused,i=t.size,a=t.theme,o=a.colors,l=a.spacing.baseUnit;return Qe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},s?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},o0=function(t){var s=t.delay,n=t.offset;return Ge("span",{css:a1({animation:"".concat(OB," 1s ease-in-out ").concat(s,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},IB=function(t){var s=t.innerProps,n=t.isRtl,i=t.size,a=i===void 0?4:i,o=Lr(t,PB);return Ge("div",Ye({},Qt(Qe(Qe({},o),{},{innerProps:s,isRtl:n,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),s),Ge(o0,{delay:0,offset:n}),Ge(o0,{delay:160,offset:!0}),Ge(o0,{delay:320,offset:!n}))},LB=function(t,s){var n=t.isDisabled,i=t.isFocused,a=t.theme,o=a.colors,l=a.borderRadius,c=a.spacing;return Qe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},s?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:i?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},FB=function(t){var s=t.children,n=t.isDisabled,i=t.isFocused,a=t.innerRef,o=t.innerProps,l=t.menuIsOpen;return Ge("div",Ye({ref:a},Qt(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":i,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),s)},VB=FB,BB=["data"],$B=function(t,s){var n=t.theme.spacing;return s?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},zB=function(t){var s=t.children,n=t.cx,i=t.getStyles,a=t.getClassNames,o=t.Heading,l=t.headingProps,c=t.innerProps,d=t.label,u=t.theme,h=t.selectProps;return Ge("div",Ye({},Qt(t,"group",{group:!0}),c),Ge(o,Ye({},l,{selectProps:h,theme:u,getStyles:i,getClassNames:a,cx:n}),d),Ge("div",null,s))},UB=function(t,s){var n=t.theme,i=n.colors,a=n.spacing;return Qe({label:"group",cursor:"default",display:"block"},s?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},HB=function(t){var s=rP(t);s.data;var n=Lr(s,BB);return Ge("div",Ye({},Qt(t,"groupHeading",{"group-heading":!0}),n))},qB=zB,WB=["innerRef","isDisabled","isHidden","inputClassName"],GB=function(t,s){var n=t.isDisabled,i=t.value,a=t.theme,o=a.spacing,l=a.colors;return Qe(Qe({visibility:n?"hidden":"visible",transform:i?"translateZ(0)":""},KB),s?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},mP={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},KB={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Qe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},mP)},QB=function(t){return Qe({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},mP)},YB=function(t){var s=t.cx,n=t.value,i=rP(t),a=i.innerRef,o=i.isDisabled,l=i.isHidden,c=i.inputClassName,d=Lr(i,WB);return Ge("div",Ye({},Qt(t,"input",{"input-container":!0}),{"data-value":n||""}),Ge("input",Ye({className:s({input:!0},c),ref:a,style:QB(l),disabled:o},d)))},XB=YB,JB=function(t,s){var n=t.theme,i=n.spacing,a=n.borderRadius,o=n.colors;return Qe({label:"multiValue",display:"flex",minWidth:0},s?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},ZB=function(t,s){var n=t.theme,i=n.borderRadius,a=n.colors,o=t.cropWithEllipsis;return Qe({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},s?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},e$=function(t,s){var n=t.theme,i=n.spacing,a=n.borderRadius,o=n.colors,l=t.isFocused;return Qe({alignItems:"center",display:"flex"},s?{}:{borderRadius:a/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},fP=function(t){var s=t.children,n=t.innerProps;return Ge("div",n,s)},t$=fP,s$=fP;function n$(e){var t=e.children,s=e.innerProps;return Ge("div",Ye({role:"button"},s),t||Ge(d1,{size:14}))}var r$=function(t){var s=t.children,n=t.components,i=t.data,a=t.innerProps,o=t.isDisabled,l=t.removeProps,c=t.selectProps,d=n.Container,u=n.Label,h=n.Remove;return Ge(d,{data:i,innerProps:Qe(Qe({},Qt(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:c},Ge(u,{data:i,innerProps:Qe({},Qt(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},s),Ge(h,{data:i,innerProps:Qe(Qe({},Qt(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(s||"option")},l),selectProps:c}))},i$=r$,a$=function(t,s){var n=t.isDisabled,i=t.isFocused,a=t.isSelected,o=t.theme,l=o.spacing,c=o.colors;return Qe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},s?{}:{backgroundColor:a?c.primary:i?c.primary25:"transparent",color:n?c.neutral20:a?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:a?c.primary:c.primary50}})},o$=function(t){var s=t.children,n=t.isDisabled,i=t.isFocused,a=t.isSelected,o=t.innerRef,l=t.innerProps;return Ge("div",Ye({},Qt(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":i,"option--is-selected":a}),{ref:o,"aria-disabled":n},l),s)},l$=o$,c$=function(t,s){var n=t.theme,i=n.spacing,a=n.colors;return Qe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},s?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},d$=function(t){var s=t.children,n=t.innerProps;return Ge("div",Ye({},Qt(t,"placeholder",{placeholder:!0}),n),s)},u$=d$,h$=function(t,s){var n=t.isDisabled,i=t.theme,a=i.spacing,o=i.colors;return Qe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},s?{}:{color:n?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},m$=function(t){var s=t.children,n=t.isDisabled,i=t.innerProps;return Ge("div",Ye({},Qt(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),i),s)},f$=m$,p$={ClearIndicator:_B,Control:VB,DropdownIndicator:TB,DownChevron:uP,CrossIcon:d1,Group:qB,GroupHeading:HB,IndicatorsContainer:SB,IndicatorSeparator:DB,Input:XB,LoadingIndicator:IB,Menu:dB,MenuList:hB,MenuPortal:yB,LoadingMessage:gB,NoOptionsMessage:pB,MultiValue:i$,MultiValueContainer:t$,MultiValueLabel:s$,MultiValueRemove:n$,Option:l$,Placeholder:u$,SelectContainer:vB,SingleValue:f$,ValueContainer:wB},g$=function(t){return Qe(Qe({},p$),t.components)},h4=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function x$(e,t){return!!(e===t||h4(e)&&h4(t))}function y$(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!x$(e[s],t[s]))return!1;return!0}function b$(e,t){t===void 0&&(t=y$);var s=null;function n(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(s&&s.lastThis===this&&t(i,s.lastArgs))return s.lastResult;var o=e.apply(this,i);return s={lastResult:o,lastArgs:i,lastThis:this},o}return n.clear=function(){s=null},n}var v$={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},j$=function(t){return Ge("span",Ye({css:v$},t))},m4=j$,w$={guidance:function(t){var s=t.isSearchable,n=t.isMulti,i=t.tabSelectsValue,a=t.context,o=t.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(s?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var s=t.action,n=t.label,i=n===void 0?"":n,a=t.labels,o=t.isDisabled;switch(s){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var s=t.context,n=t.focused,i=t.options,a=t.label,o=a===void 0?"":a,l=t.selectValue,c=t.isDisabled,d=t.isSelected,u=t.isAppleDevice,h=function(p,v){return p&&p.length?"".concat(p.indexOf(v)+1," of ").concat(p.length):""};if(s==="value"&&l)return"value ".concat(o," focused, ").concat(h(l,n),".");if(s==="menu"&&u){var m=c?" disabled":"",f="".concat(d?" selected":"").concat(m);return"".concat(o).concat(f,", ").concat(h(i,n),".")}return""},onFilter:function(t){var s=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(s?" for search term "+s:"",".")}},N$=function(t){var s=t.ariaSelection,n=t.focusedOption,i=t.focusedValue,a=t.focusableOptions,o=t.isFocused,l=t.selectValue,c=t.selectProps,d=t.id,u=t.isAppleDevice,h=c.ariaLiveMessages,m=c.getOptionLabel,f=c.inputValue,g=c.isMulti,p=c.isOptionDisabled,v=c.isSearchable,b=c.menuIsOpen,y=c.options,w=c.screenReaderStatus,j=c.tabSelectsValue,N=c.isLoading,S=c["aria-label"],P=c["aria-live"],C=x.useMemo(function(){return Qe(Qe({},w$),h||{})},[h]),F=x.useMemo(function(){var B="";if(s&&C.onChange){var _=s.option,$=s.options,M=s.removedValue,D=s.removedValues,J=s.value,K=function(oe){return Array.isArray(oe)?null:oe},ce=M||_||K(J),U=ce?m(ce):"",le=$||D||void 0,re=le?le.map(m):[],ie=Qe({isDisabled:ce&&p(ce,l),label:U,labels:re},s);B=C.onChange(ie)}return B},[s,C,p,l,m]),T=x.useMemo(function(){var B="",_=n||i,$=!!(n&&l&&l.includes(n));if(_&&C.onFocus){var M={focused:_,label:m(_),isDisabled:p(_,l),isSelected:$,options:a,context:_===n?"menu":"value",selectValue:l,isAppleDevice:u};B=C.onFocus(M)}return B},[n,i,m,p,C,a,l,u]),te=x.useMemo(function(){var B="";if(b&&y.length&&!N&&C.onFilter){var _=w({count:a.length});B=C.onFilter({inputValue:f,resultsMessage:_})}return B},[a,f,b,C,y,w,N]),A=(s==null?void 0:s.action)==="initial-input-focus",q=x.useMemo(function(){var B="";if(C.guidance){var _=i?"value":b?"menu":"input";B=C.guidance({"aria-label":S,context:_,isDisabled:n&&p(n,l),isMulti:g,isSearchable:v,tabSelectsValue:j,isInitialFocus:A})}return B},[S,n,i,g,p,v,b,C,l,j,A]),z=Ge(x.Fragment,null,Ge("span",{id:"aria-selection"},F),Ge("span",{id:"aria-focused"},T),Ge("span",{id:"aria-results"},te),Ge("span",{id:"aria-guidance"},q));return Ge(x.Fragment,null,Ge(m4,{id:d},A&&z),Ge(m4,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!A&&z))},S$=N$,_x=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],C$=new RegExp("["+_x.map(function(e){return e.letters}).join("")+"]","g"),pP={};for(var l0=0;l0<_x.length;l0++)for(var c0=_x[l0],d0=0;d0<c0.letters.length;d0++)pP[c0.letters[d0]]=c0.base;var gP=function(t){return t.replace(C$,function(s){return pP[s]})},P$=b$(gP),f4=function(t){return t.replace(/^\s+|\s+$/g,"")},k$=function(t){return"".concat(t.label," ").concat(t.value)},A$=function(t){return function(s,n){if(s.data.__isNew__)return!0;var i=Qe({ignoreCase:!0,ignoreAccents:!0,stringify:k$,trim:!0,matchFrom:"any"},t),a=i.ignoreCase,o=i.ignoreAccents,l=i.stringify,c=i.trim,d=i.matchFrom,u=c?f4(n):n,h=c?f4(l(s)):l(s);return a&&(u=u.toLowerCase(),h=h.toLowerCase()),o&&(u=P$(u),h=gP(h)),d==="start"?h.substr(0,u.length)===u:h.indexOf(u)>-1}},T$=["innerRef"];function E$(e){var t=e.innerRef,s=Lr(e,T$),n=sB(s,"onExited","in","enter","exit","appear");return Ge("input",Ye({ref:t},n,{css:a1({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var _$=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function M$(e){var t=e.isEnabled,s=e.onBottomArrive,n=e.onBottomLeave,i=e.onTopArrive,a=e.onTopLeave,o=x.useRef(!1),l=x.useRef(!1),c=x.useRef(0),d=x.useRef(null),u=x.useCallback(function(v,b){if(d.current!==null){var y=d.current,w=y.scrollTop,j=y.scrollHeight,N=y.clientHeight,S=d.current,P=b>0,C=j-N-w,F=!1;C>b&&o.current&&(n&&n(v),o.current=!1),P&&l.current&&(a&&a(v),l.current=!1),P&&b>C?(s&&!o.current&&s(v),S.scrollTop=j,F=!0,o.current=!0):!P&&-b>w&&(i&&!l.current&&i(v),S.scrollTop=0,F=!0,l.current=!0),F&&_$(v)}},[s,n,i,a]),h=x.useCallback(function(v){u(v,v.deltaY)},[u]),m=x.useCallback(function(v){c.current=v.changedTouches[0].clientY},[]),f=x.useCallback(function(v){var b=c.current-v.changedTouches[0].clientY;u(v,b)},[u]),g=x.useCallback(function(v){if(v){var b=ZV?{passive:!1}:!1;v.addEventListener("wheel",h,b),v.addEventListener("touchstart",m,b),v.addEventListener("touchmove",f,b)}},[f,m,h]),p=x.useCallback(function(v){v&&(v.removeEventListener("wheel",h,!1),v.removeEventListener("touchstart",m,!1),v.removeEventListener("touchmove",f,!1))},[f,m,h]);return x.useEffect(function(){if(t){var v=d.current;return g(v),function(){p(v)}}},[t,g,p]),function(v){d.current=v}}var p4=["boxSizing","height","overflow","paddingRight","position"],g4={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function x4(e){e.cancelable&&e.preventDefault()}function y4(e){e.stopPropagation()}function b4(){var e=this.scrollTop,t=this.scrollHeight,s=e+this.offsetHeight;e===0?this.scrollTop=1:s===t&&(this.scrollTop=e-1)}function v4(){return"ontouchstart"in window||navigator.maxTouchPoints}var j4=!!(typeof window<"u"&&window.document&&window.document.createElement),uc=0,ko={capture:!1,passive:!1};function D$(e){var t=e.isEnabled,s=e.accountForScrollbars,n=s===void 0?!0:s,i=x.useRef({}),a=x.useRef(null),o=x.useCallback(function(c){if(j4){var d=document.body,u=d&&d.style;if(n&&p4.forEach(function(g){var p=u&&u[g];i.current[g]=p}),n&&uc<1){var h=parseInt(i.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,f=window.innerWidth-m+h||0;Object.keys(g4).forEach(function(g){var p=g4[g];u&&(u[g]=p)}),u&&(u.paddingRight="".concat(f,"px"))}d&&v4()&&(d.addEventListener("touchmove",x4,ko),c&&(c.addEventListener("touchstart",b4,ko),c.addEventListener("touchmove",y4,ko))),uc+=1}},[n]),l=x.useCallback(function(c){if(j4){var d=document.body,u=d&&d.style;uc=Math.max(uc-1,0),n&&uc<1&&p4.forEach(function(h){var m=i.current[h];u&&(u[h]=m)}),d&&v4()&&(d.removeEventListener("touchmove",x4,ko),c&&(c.removeEventListener("touchstart",b4,ko),c.removeEventListener("touchmove",y4,ko)))}},[n]);return x.useEffect(function(){if(t){var c=a.current;return o(c),function(){l(c)}}},[t,o,l]),function(c){a.current=c}}var O$=function(t){var s=t.target;return s.ownerDocument.activeElement&&s.ownerDocument.activeElement.blur()},R$={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function I$(e){var t=e.children,s=e.lockEnabled,n=e.captureEnabled,i=n===void 0?!0:n,a=e.onBottomArrive,o=e.onBottomLeave,l=e.onTopArrive,c=e.onTopLeave,d=M$({isEnabled:i,onBottomArrive:a,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),u=D$({isEnabled:s}),h=function(f){d(f),u(f)};return Ge(x.Fragment,null,s&&Ge("div",{onClick:O$,css:R$}),t(h))}var L$={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},F$=function(t){var s=t.name,n=t.onFocus;return Ge("input",{required:!0,name:s,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:L$,value:"",onChange:function(){}})},V$=F$;function u1(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function B$(){return u1(/^iPhone/i)}function xP(){return u1(/^Mac/i)}function $$(){return u1(/^iPad/i)||xP()&&navigator.maxTouchPoints>1}function z$(){return B$()||$$()}function U$(){return xP()||z$()}var H$=function(t){return t.label},yP=function(t){return t.label},bP=function(t){return t.value},q$=function(t){return!!t.isDisabled},W$={clearIndicator:EB,container:bB,control:LB,dropdownIndicator:AB,group:$B,groupHeading:UB,indicatorsContainer:NB,indicatorSeparator:MB,input:GB,loadingIndicator:RB,loadingMessage:fB,menu:oB,menuList:uB,menuPortal:xB,multiValue:JB,multiValueLabel:ZB,multiValueRemove:e$,noOptionsMessage:mB,option:a$,placeholder:c$,singleValue:h$,valueContainer:jB},G$={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},K$=4,vP=4,Q$=38,Y$=vP*2,X$={baseUnit:vP,controlHeight:Q$,menuGutter:Y$},u0={borderRadius:K$,colors:G$,spacing:X$},J$={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:d4(),captureMenuScroll:!d4(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:A$(),formatGroupLabel:H$,getOptionLabel:yP,getOptionValue:bP,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:q$,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!XV(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var s=t.count;return"".concat(s," result").concat(s!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function w4(e,t,s,n){var i=NP(e,t,s),a=SP(e,t,s),o=wP(e,t),l=$m(e,t);return{type:"option",data:t,isDisabled:i,isSelected:a,label:o,value:l,index:n}}function zh(e,t){return e.options.map(function(s,n){if("options"in s){var i=s.options.map(function(o,l){return w4(e,o,t,l)}).filter(function(o){return S4(e,o)});return i.length>0?{type:"group",data:s,options:i,index:n}:void 0}var a=w4(e,s,t,n);return S4(e,a)?a:void 0}).filter(eB)}function jP(e){return e.reduce(function(t,s){return s.type==="group"?t.push.apply(t,rl(s.options.map(function(n){return n.data}))):t.push(s.data),t},[])}function N4(e,t){return e.reduce(function(s,n){return n.type==="group"?s.push.apply(s,rl(n.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(n.index,"-").concat(i.index)}}))):s.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),s},[])}function Z$(e,t){return jP(zh(e,t))}function S4(e,t){var s=e.inputValue,n=s===void 0?"":s,i=t.data,a=t.isSelected,o=t.label,l=t.value;return(!PP(e)||!a)&&CP(e,{label:o,value:l,data:i},n)}function ez(e,t){var s=e.focusedValue,n=e.selectValue,i=n.indexOf(s);if(i>-1){var a=t.indexOf(s);if(a>-1)return s;if(i<t.length)return t[i]}return null}function tz(e,t){var s=e.focusedOption;return s&&t.indexOf(s)>-1?s:t[0]}var h0=function(t,s){var n,i=(n=t.find(function(a){return a.data===s}))===null||n===void 0?void 0:n.id;return i||null},wP=function(t,s){return t.getOptionLabel(s)},$m=function(t,s){return t.getOptionValue(s)};function NP(e,t,s){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,s):!1}function SP(e,t,s){if(s.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,s);var n=$m(e,t);return s.some(function(i){return $m(e,i)===n})}function CP(e,t,s){return e.filterOption?e.filterOption(t,s):!0}var PP=function(t){var s=t.hideSelectedOptions,n=t.isMulti;return s===void 0?n:s},sz=1,h1=function(e){bF(s,e);var t=wF(s);function s(n){var i;if(xF(this,s),i=t.call(this,n),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(c){i.controlRef=c},i.focusedOptionRef=null,i.getFocusedOptionRef=function(c){i.focusedOptionRef=c},i.menuListRef=null,i.getMenuListRef=function(c){i.menuListRef=c},i.inputRef=null,i.getInputRef=function(c){i.inputRef=c},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(c,d){var u=i.props,h=u.onChange,m=u.name;d.name=m,i.ariaOnChange(c,d),h(c,d)},i.setValue=function(c,d,u){var h=i.props,m=h.closeMenuOnSelect,f=h.isMulti,g=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),m&&(i.setState({inputIsHiddenAfterUpdate:!f}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(c,{action:d,option:u})},i.selectOption=function(c){var d=i.props,u=d.blurInputOnSelect,h=d.isMulti,m=d.name,f=i.state.selectValue,g=h&&i.isOptionSelected(c,f),p=i.isOptionDisabled(c,f);if(g){var v=i.getOptionValue(c);i.setValue(f.filter(function(b){return i.getOptionValue(b)!==v}),"deselect-option",c)}else if(!p)h?i.setValue([].concat(rl(f),[c]),"select-option",c):i.setValue(c,"select-option");else{i.ariaOnChange(c,{action:"select-option",option:c,name:m});return}u&&i.blurInput()},i.removeValue=function(c){var d=i.props.isMulti,u=i.state.selectValue,h=i.getOptionValue(c),m=u.filter(function(g){return i.getOptionValue(g)!==h}),f=_c(d,m,m[0]||null);i.onChange(f,{action:"remove-value",removedValue:c}),i.focusInput()},i.clearValue=function(){var c=i.state.selectValue;i.onChange(_c(i.props.isMulti,[],null),{action:"clear",removedValues:c})},i.popValue=function(){var c=i.props.isMulti,d=i.state.selectValue,u=d[d.length-1],h=d.slice(0,d.length-1),m=_c(c,h,h[0]||null);u&&i.onChange(m,{action:"pop-value",removedValue:u})},i.getFocusedOptionId=function(c){return h0(i.state.focusableOptionsWithIds,c)},i.getFocusableOptionsWithIds=function(){return N4(zh(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var c=arguments.length,d=new Array(c),u=0;u<c;u++)d[u]=arguments[u];return WV.apply(void 0,[i.props.classNamePrefix].concat(d))},i.getOptionLabel=function(c){return wP(i.props,c)},i.getOptionValue=function(c){return $m(i.props,c)},i.getStyles=function(c,d){var u=i.props.unstyled,h=W$[c](d,u);h.boxSizing="border-box";var m=i.props.styles[c];return m?m(h,d):h},i.getClassNames=function(c,d){var u,h;return(u=(h=i.props.classNames)[c])===null||u===void 0?void 0:u.call(h,d)},i.getElementId=function(c){return"".concat(i.state.instancePrefix,"-").concat(c)},i.getComponents=function(){return g$(i.props)},i.buildCategorizedOptions=function(){return zh(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return jP(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(c,d){i.setState({ariaSelection:Qe({value:c},d)})},i.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(c){i.blockOptionHover=!1},i.onControlMouseDown=function(c){if(!c.defaultPrevented){var d=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&i.onMenuClose():d&&i.openMenu("first"):(d&&(i.openAfterFocus=!0),i.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},i.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!i.props.isDisabled){var d=i.props,u=d.isMulti,h=d.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),c.preventDefault()}},i.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(i.clearValue(),c.preventDefault(),i.openAfterFocus=!1,c.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(c){typeof i.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Jf(c.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(c)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(c){var d=c.touches,u=d&&d.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(c){var d=c.touches,u=d&&d.item(0);if(u){var h=Math.abs(u.clientX-i.initialTouchX),m=Math.abs(u.clientY-i.initialTouchY),f=5;i.userIsDragging=h>f||m>f}},i.onTouchEnd=function(c){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(c.target)&&i.menuListRef&&!i.menuListRef.contains(c.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(c){i.userIsDragging||i.onControlMouseDown(c)},i.onClearIndicatorTouchEnd=function(c){i.userIsDragging||i.onClearIndicatorMouseDown(c)},i.onDropdownIndicatorTouchEnd=function(c){i.userIsDragging||i.onDropdownIndicatorMouseDown(c)},i.handleInputChange=function(c){var d=i.props.inputValue,u=c.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:d}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(c){i.props.onFocus&&i.props.onFocus(c),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(c){var d=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(c),i.onInputChange("",{action:"input-blur",prevInputValue:d}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(c){if(!(i.blockOptionHover||i.state.focusedOption===c)){var d=i.getFocusableOptions(),u=d.indexOf(c);i.setState({focusedOption:c,focusedOptionId:u>-1?i.getFocusedOptionId(c):null})}},i.shouldHideSelectedOptions=function(){return PP(i.props)},i.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),i.focus()},i.onKeyDown=function(c){var d=i.props,u=d.isMulti,h=d.backspaceRemovesValue,m=d.escapeClearsValue,f=d.inputValue,g=d.isClearable,p=d.isDisabled,v=d.menuIsOpen,b=d.onKeyDown,y=d.tabSelectsValue,w=d.openMenuOnFocus,j=i.state,N=j.focusedOption,S=j.focusedValue,P=j.selectValue;if(!p&&!(typeof b=="function"&&(b(c),c.defaultPrevented))){switch(i.blockOptionHover=!0,c.key){case"ArrowLeft":if(!u||f)return;i.focusValue("previous");break;case"ArrowRight":if(!u||f)return;i.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(S)i.removeValue(S);else{if(!h)return;u?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||c.shiftKey||!v||!y||!N||w&&i.isOptionSelected(N,P))return;i.selectOption(N);break;case"Enter":if(c.keyCode===229)break;if(v){if(!N||i.isComposing)return;i.selectOption(N);break}return;case"Escape":v?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:f}),i.onMenuClose()):g&&m&&i.clearValue();break;case" ":if(f)return;if(!v){i.openMenu("first");break}if(!N)return;i.selectOption(N);break;case"ArrowUp":v?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":v?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!v)return;i.focusOption("pageup");break;case"PageDown":if(!v)return;i.focusOption("pagedown");break;case"Home":if(!v)return;i.focusOption("first");break;case"End":if(!v)return;i.focusOption("last");break;default:return}c.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++sz),i.state.selectValue=Vm(n.value),n.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),l=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=o[l],i.state.focusedOptionId=h0(a,o[l])}return i}return yF(s,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&c4(this.menuListRef,this.focusedOptionRef),U$()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isDisabled,l=a.menuIsOpen,c=this.state.isFocused;(c&&!o&&i.isDisabled||c&&l&&!i.menuIsOpen)&&this.focusInput(),c&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(c4(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,o=this.state,l=o.selectValue,c=o.isFocused,d=this.buildFocusableOptions(),u=i==="first"?0:d.length-1;if(!this.props.isMulti){var h=d.indexOf(l[0]);h>-1&&(u=h)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[u],focusedOptionId:this.getFocusedOptionId(d[u])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,o=a.selectValue,l=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var d=o.length-1,u=-1;if(o.length){switch(i){case"previous":c===0?u=0:c===-1?u=d:u=c-1;break;case"next":c>-1&&c<d&&(u=c+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:o[u]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,d=l.indexOf(o);o||(d=-1),i==="up"?c=d>0?d-1:l.length-1:i==="down"?c=(d+1)%l.length:i==="pageup"?(c=d-a,c<0&&(c=0)):i==="pagedown"?(c=d+a,c>l.length-1&&(c=l.length-1)):i==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(u0):Qe(Qe({},u0),this.props.theme):u0}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,d=this.selectOption,u=this.setValue,h=this.props,m=h.isMulti,f=h.isRtl,g=h.options,p=this.hasValue();return{clearValue:i,cx:a,getStyles:o,getClassNames:l,getValue:c,hasValue:p,isMulti:m,isRtl:f,options:g,selectOption:d,selectProps:h,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,o=i.isMulti;return a===void 0?o:a}},{key:"isOptionDisabled",value:function(i,a){return NP(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return SP(this.props,i,a)}},{key:"filterOption",value:function(i,a){return CP(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:o,selectValue:l})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,o=i.isSearchable,l=i.inputId,c=i.inputValue,d=i.tabIndex,u=i.form,h=i.menuIsOpen,m=i.required,f=this.getComponents(),g=f.Input,p=this.state,v=p.inputIsHidden,b=p.ariaSelection,y=this.commonProps,w=l||this.getElementId("input"),j=Qe(Qe(Qe({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?x.createElement(g,Ye({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:a,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:u,type:"text",value:c},j)):x.createElement(E$,Ye({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Fm,onFocus:this.onInputFocus,disabled:a,tabIndex:d,inputMode:"none",form:u,value:""},j))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),o=a.MultiValue,l=a.MultiValueContainer,c=a.MultiValueLabel,d=a.MultiValueRemove,u=a.SingleValue,h=a.Placeholder,m=this.commonProps,f=this.props,g=f.controlShouldRenderValue,p=f.isDisabled,v=f.isMulti,b=f.inputValue,y=f.placeholder,w=this.state,j=w.selectValue,N=w.focusedValue,S=w.isFocused;if(!this.hasValue()||!g)return b?null:x.createElement(h,Ye({},m,{key:"placeholder",isDisabled:p,isFocused:S,innerProps:{id:this.getElementId("placeholder")}}),y);if(v)return j.map(function(C,F){var T=C===N,te="".concat(i.getOptionLabel(C),"-").concat(i.getOptionValue(C));return x.createElement(o,Ye({},m,{components:{Container:l,Label:c,Remove:d},isFocused:T,isDisabled:p,key:te,index:F,removeProps:{onClick:function(){return i.removeValue(C)},onTouchEnd:function(){return i.removeValue(C)},onMouseDown:function(q){q.preventDefault()}},data:C}),i.formatOptionLabel(C,"value"))});if(b)return null;var P=j[0];return x.createElement(u,Ye({},m,{data:P,isDisabled:p}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,u=this.state.isFocused;if(!this.isClearable()||!a||c||!this.hasValue()||d)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(a,Ye({},o,{innerProps:h,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,u=this.state.isFocused;if(!a||!d)return null;var h={"aria-hidden":"true"};return x.createElement(a,Ye({},o,{innerProps:h,isDisabled:c,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,o=i.IndicatorSeparator;if(!a||!o)return null;var l=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused;return x.createElement(o,Ye({},l,{isDisabled:c,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(a,Ye({},o,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),o=a.Group,l=a.GroupHeading,c=a.Menu,d=a.MenuList,u=a.MenuPortal,h=a.LoadingMessage,m=a.NoOptionsMessage,f=a.Option,g=this.commonProps,p=this.state.focusedOption,v=this.props,b=v.captureMenuScroll,y=v.inputValue,w=v.isLoading,j=v.loadingMessage,N=v.minMenuHeight,S=v.maxMenuHeight,P=v.menuIsOpen,C=v.menuPlacement,F=v.menuPosition,T=v.menuPortalTarget,te=v.menuShouldBlockScroll,A=v.menuShouldScrollIntoView,q=v.noOptionsMessage,z=v.onMenuScrollToTop,B=v.onMenuScrollToBottom;if(!P)return null;var _=function(U,le){var re=U.type,ie=U.data,Y=U.isDisabled,oe=U.isSelected,Se=U.label,je=U.value,ne=p===ie,ke=Y?void 0:function(){return i.onOptionHover(ie)},Ee=Y?void 0:function(){return i.selectOption(ie)},Ue="".concat(i.getElementId("option"),"-").concat(le),se={id:Ue,onClick:Ee,onMouseMove:ke,onMouseOver:ke,tabIndex:-1,role:"option","aria-selected":i.state.isAppleDevice?void 0:oe};return x.createElement(f,Ye({},g,{innerProps:se,data:ie,isDisabled:Y,isSelected:oe,key:Ue,label:Se,type:re,value:je,isFocused:ne,innerRef:ne?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(U.data,"menu"))},$;if(this.hasOptions())$=this.getCategorizedOptions().map(function(ce){if(ce.type==="group"){var U=ce.data,le=ce.options,re=ce.index,ie="".concat(i.getElementId("group"),"-").concat(re),Y="".concat(ie,"-heading");return x.createElement(o,Ye({},g,{key:ie,data:U,options:le,Heading:l,headingProps:{id:Y,data:ce.data},label:i.formatGroupLabel(ce.data)}),ce.options.map(function(oe){return _(oe,"".concat(re,"-").concat(oe.index))}))}else if(ce.type==="option")return _(ce,"".concat(ce.index))});else if(w){var M=j({inputValue:y});if(M===null)return null;$=x.createElement(h,g,M)}else{var D=q({inputValue:y});if(D===null)return null;$=x.createElement(m,g,D)}var J={minMenuHeight:N,maxMenuHeight:S,menuPlacement:C,menuPosition:F,menuShouldScrollIntoView:A},K=x.createElement(lB,Ye({},g,J),function(ce){var U=ce.ref,le=ce.placerProps,re=le.placement,ie=le.maxHeight;return x.createElement(c,Ye({},g,J,{innerRef:U,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:w,placement:re}),x.createElement(I$,{captureEnabled:b,onTopArrive:z,onBottomArrive:B,lockEnabled:te},function(Y){return x.createElement(d,Ye({},g,{innerRef:function(Se){i.getMenuListRef(Se),Y(Se)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:i.getElementId("listbox")},isLoading:w,maxHeight:ie,focusedOption:p}),$)}))});return T||F==="fixed"?x.createElement(u,Ye({},g,{appendTo:T,controlElement:this.controlRef,menuPlacement:C,menuPosition:F}),K):K}},{key:"renderFormField",value:function(){var i=this,a=this.props,o=a.delimiter,l=a.isDisabled,c=a.isMulti,d=a.name,u=a.required,h=this.state.selectValue;if(u&&!this.hasValue()&&!l)return x.createElement(V$,{name:d,onFocus:this.onValueInputFocus});if(!(!d||l))if(c)if(o){var m=h.map(function(p){return i.getOptionValue(p)}).join(o);return x.createElement("input",{name:d,type:"hidden",value:m})}else{var f=h.length>0?h.map(function(p,v){return x.createElement("input",{key:"i-".concat(v),name:d,type:"hidden",value:i.getOptionValue(p)})}):x.createElement("input",{name:d,type:"hidden",value:""});return x.createElement("div",null,f)}else{var g=h[0]?this.getOptionValue(h[0]):"";return x.createElement("input",{name:d,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,o=a.ariaSelection,l=a.focusedOption,c=a.focusedValue,d=a.isFocused,u=a.selectValue,h=this.getFocusableOptions();return x.createElement(S$,Ye({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:d,selectValue:u,focusableOptions:h,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,o=i.IndicatorsContainer,l=i.SelectContainer,c=i.ValueContainer,d=this.props,u=d.className,h=d.id,m=d.isDisabled,f=d.menuIsOpen,g=this.state.isFocused,p=this.commonProps=this.getCommonProps();return x.createElement(l,Ye({},p,{className:u,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:g}),this.renderLiveRegion(),x.createElement(a,Ye({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:g,menuIsOpen:f}),x.createElement(c,Ye({},p,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),x.createElement(o,Ye({},p,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var o=a.prevProps,l=a.clearFocusValueOnUpdate,c=a.inputIsHiddenAfterUpdate,d=a.ariaSelection,u=a.isFocused,h=a.prevWasFocused,m=a.instancePrefix,f=i.options,g=i.value,p=i.menuIsOpen,v=i.inputValue,b=i.isMulti,y=Vm(g),w={};if(o&&(g!==o.value||f!==o.options||p!==o.menuIsOpen||v!==o.inputValue)){var j=p?Z$(i,y):[],N=p?N4(zh(i,y),"".concat(m,"-option")):[],S=l?ez(a,y):null,P=tz(a,j),C=h0(N,P);w={selectValue:y,focusedOption:P,focusedOptionId:C,focusableOptionsWithIds:N,focusedValue:S,clearFocusValueOnUpdate:!1}}var F=c!=null&&i!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},T=d,te=u&&h;return u&&!te&&(T={value:_c(b,y,y[0]||null),options:y,action:"initial-input-focus"},te=!h),(d==null?void 0:d.action)==="initial-input-focus"&&(T=null),Qe(Qe(Qe({},w),F),{},{prevProps:i,ariaSelection:T,prevWasFocused:te})}}]),s}(x.Component);h1.defaultProps=J$;var nz=x.forwardRef(function(e,t){var s=RC(e);return x.createElement(h1,Ye({ref:t},s))}),rz=nz,iz=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],C4=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=String(t).toLowerCase(),a=String(n.getOptionValue(s)).toLowerCase(),o=String(n.getOptionLabel(s)).toLowerCase();return a===i||o===i},m0={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,s,n,i){return!(!t||s.some(function(a){return C4(t,a,i)})||n.some(function(a){return C4(t,a,i)}))},getNewOptionData:function(t,s){return{label:s,value:t,__isNew__:!0}}};function az(e){var t=e.allowCreateWhileLoading,s=t===void 0?!1:t,n=e.createOptionPosition,i=n===void 0?"last":n,a=e.formatCreateLabel,o=a===void 0?m0.formatCreateLabel:a,l=e.isValidNewOption,c=l===void 0?m0.isValidNewOption:l,d=e.getNewOptionData,u=d===void 0?m0.getNewOptionData:d,h=e.onCreateOption,m=e.options,f=m===void 0?[]:m,g=e.onChange,p=Lr(e,iz),v=p.getOptionValue,b=v===void 0?bP:v,y=p.getOptionLabel,w=y===void 0?yP:y,j=p.inputValue,N=p.isLoading,S=p.isMulti,P=p.value,C=p.name,F=x.useMemo(function(){return c(j,Vm(P),f,{getOptionValue:b,getOptionLabel:w})?u(j,o(j)):void 0},[o,u,w,b,j,c,f,P]),T=x.useMemo(function(){return(s||!N)&&F?i==="first"?[F].concat(rl(f)):[].concat(rl(f),[F]):f},[s,i,N,F,f]),te=x.useCallback(function(A,q){if(q.action!=="select-option")return g(A,q);var z=Array.isArray(A)?A:[A];if(z[z.length-1]===F){if(h)h(j);else{var B=u(j,j),_={action:"create-option",name:C,option:B};g(_c(S,[].concat(rl(Vm(P)),[B]),B),_)}return}g(A,q)},[u,j,S,C,F,h,g,P]);return Qe(Qe({},p),{},{options:T,onChange:te})}var oz=x.forwardRef(function(e,t){var s=RC(e),n=az(s);return x.createElement(h1,Ye({ref:t},n))}),lz=oz,xu=e=>e.type==="checkbox",Ba=e=>e instanceof Date,rn=e=>e==null;const kP=e=>typeof e=="object";var is=e=>!rn(e)&&!Array.isArray(e)&&kP(e)&&!Ba(e),AP=e=>is(e)&&e.target?xu(e.target)?e.target.checked:e.target.value:e,cz=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,TP=(e,t)=>e.has(cz(t)),dz=e=>{const t=e.constructor&&e.constructor.prototype;return is(t)&&t.hasOwnProperty("isPrototypeOf")},m1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Tt(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(m1&&(e instanceof Blob||t))return e;const s=Array.isArray(e);if(!s&&!(is(e)&&dz(e)))return e;const n=s?[]:Object.create(Object.getPrototypeOf(e));for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=Tt(e[i]));return n}var Zf=e=>/^\w*$/.test(e),Pt=e=>e===void 0,ep=e=>Array.isArray(e)?e.filter(Boolean):[],f1=e=>ep(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(e,t,s)=>{if(!t||!is(e))return s;const n=(Zf(t)?[t]:f1(t)).reduce((i,a)=>rn(i)?i:i[a],e);return Pt(n)||n===e?Pt(e[t])?s:e[t]:n},Nn=e=>typeof e=="boolean",Ys=e=>typeof e=="function",Ct=(e,t,s)=>{let n=-1;const i=Zf(t)?[t]:f1(t),a=i.length,o=a-1;for(;++n<a;){const l=i[n];let c=s;if(n!==o){const d=e[l];c=is(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const zm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},EP=Re.createContext(null);EP.displayName="HookFormControlContext";const tp=()=>Re.useContext(EP);var _P=(e,t,s,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Hn.all&&(t._proxyFormState[o]=!n||Hn.all),s&&(s[o]=!0),e[o]}});return i};const sp=typeof window<"u"?Re.useLayoutEffect:Re.useEffect;function uz(e){const t=tp(),{control:s=t,disabled:n,name:i,exact:a}=e||{},[o,l]=Re.useState(s._formState),c=Re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return sp(()=>s._subscribe({name:i,formState:c.current,exact:a,callback:d=>{!n&&l({...s._formState,...d})}}),[i,n,a]),Re.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),Re.useMemo(()=>_P(o,s,c.current,!1),[o,s])}var Cn=e=>typeof e=="string",Mx=(e,t,s,n,i)=>Cn(e)?(n&&t.watch.add(e),Me(s,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Me(s,a))):(n&&(t.watchAll=!0),s),Dx=e=>rn(e)||!kP(e);function ar(e,t,s=new WeakSet){if(Dx(e)||Dx(t))return Object.is(e,t);if(Ba(e)&&Ba(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const a of n){const o=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Ba(o)&&Ba(l)||is(o)&&is(l)||Array.isArray(o)&&Array.isArray(l)?!ar(o,l,s):!Object.is(o,l))return!1}}return!0}function hz(e){const t=tp(),{control:s=t,name:n,defaultValue:i,disabled:a,exact:o,compute:l}=e||{},c=Re.useRef(i),d=Re.useRef(l),u=Re.useRef(void 0),h=Re.useRef(s),m=Re.useRef(n);d.current=l;const[f,g]=Re.useState(()=>{const j=s._getWatch(n,c.current);return d.current?d.current(j):j}),p=Re.useCallback(j=>{const N=Mx(n,s._names,j||s._formValues,!1,c.current);return d.current?d.current(N):N},[s._formValues,s._names,n]),v=Re.useCallback(j=>{if(!a){const N=Mx(n,s._names,j||s._formValues,!1,c.current);if(d.current){const S=d.current(N);ar(S,u.current)||(g(S),u.current=S)}else g(N)}},[s._formValues,s._names,a,n]);sp(()=>((h.current!==s||!ar(m.current,n))&&(h.current=s,m.current=n,v()),s._subscribe({name:n,formState:{values:!0},exact:o,callback:j=>{v(j.values)}})),[s,o,n,v]),Re.useEffect(()=>s._removeUnmounted());const b=h.current!==s,y=m.current,w=Re.useMemo(()=>{if(a)return null;const j=!b&&!ar(y,n);return b||j?p():null},[a,b,n,y,p]);return w!==null?w:f}function mz(e){const t=tp(),{name:s,disabled:n,control:i=t,shouldUnregister:a,defaultValue:o,exact:l=!0}=e,c=TP(i._names.array,s),d=Re.useMemo(()=>Me(i._formValues,s,Me(i._defaultValues,s,o)),[i,s,o]),u=hz({control:i,name:s,defaultValue:d,exact:l}),h=uz({control:i,name:s,exact:l}),m=Re.useRef(e),f=Re.useRef(void 0),g=Re.useRef(i.register(s,{...e.rules,value:u,...Nn(e.disabled)?{disabled:e.disabled}:{}}));m.current=e;const p=Re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Me(h.errors,s)},isDirty:{enumerable:!0,get:()=>!!Me(h.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Me(h.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Me(h.validatingFields,s)},error:{enumerable:!0,get:()=>Me(h.errors,s)}}),[h,s]),v=Re.useCallback(j=>g.current.onChange({target:{value:AP(j),name:s},type:zm.CHANGE}),[s]),b=Re.useCallback(()=>g.current.onBlur({target:{value:Me(i._formValues,s),name:s},type:zm.BLUR}),[s,i._formValues]),y=Re.useCallback(j=>{const N=Me(i._fields,s);N&&N._f&&j&&(N._f.ref={focus:()=>Ys(j.focus)&&j.focus(),select:()=>Ys(j.select)&&j.select(),setCustomValidity:S=>Ys(j.setCustomValidity)&&j.setCustomValidity(S),reportValidity:()=>Ys(j.reportValidity)&&j.reportValidity()})},[i._fields,s]),w=Re.useMemo(()=>({name:s,value:u,...Nn(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:v,onBlur:b,ref:y}),[s,n,h.disabled,v,b,y,u]);return Re.useEffect(()=>{const j=i._options.shouldUnregister||a,N=f.current;N&&N!==s&&!c&&i.unregister(N),i.register(s,{...m.current.rules,...Nn(m.current.disabled)?{disabled:m.current.disabled}:{}});const S=(P,C)=>{const F=Me(i._fields,P);F&&F._f&&(F._f.mount=C)};if(S(s,!0),j){const P=Tt(Me(i._options.defaultValues,s,m.current.defaultValue));Ct(i._defaultValues,s,P),Pt(Me(i._formValues,s))&&Ct(i._formValues,s,P)}return!c&&i.register(s),f.current=s,()=>{(c?j&&!i._state.action:j)?i.unregister(s):S(s,!1)}},[s,i,c,a]),Re.useEffect(()=>{i._setDisabledField({disabled:n,name:s})},[n,s,i]),Re.useMemo(()=>({field:w,formState:h,fieldState:p}),[w,h,p])}const Mc=e=>e.render(mz(e)),fz=Re.createContext(null);fz.displayName="HookFormContext";var pz=(e,t,s,n,i)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[n]:i||!0}}:{},cn=e=>Array.isArray(e)?e:[e],P4=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}};function MP(e,t){const s={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],a=t[n];if(i&&is(i)&&a){const o=MP(i,a);is(o)&&(s[n]=o)}else e[n]&&(s[n]=a)}return s}var _s=e=>is(e)&&!Object.keys(e).length,p1=e=>e.type==="file",Um=e=>{if(!m1)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},DP=e=>e.type==="select-multiple",g1=e=>e.type==="radio",gz=e=>g1(e)||xu(e),f0=e=>Um(e)&&e.isConnected;function xz(e,t){const s=t.slice(0,-1).length;let n=0;for(;n<s;)e=Pt(e)?n++:e[t[n++]];return e}function yz(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pt(e[t]))return!1;return!0}function Xt(e,t){const s=Array.isArray(t)?t:Zf(t)?[t]:f1(t),n=s.length===1?e:xz(e,s),i=s.length-1,a=s[i];return n&&delete n[a],i!==0&&(is(n)&&_s(n)||Array.isArray(n)&&yz(n))&&Xt(e,s.slice(0,-1)),e}var bz=e=>{for(const t in e)if(Ys(e[t]))return!0;return!1};function OP(e){return Array.isArray(e)||is(e)&&!bz(e)}function Ox(e,t={}){for(const s in e){const n=e[s];OP(n)?(t[s]=Array.isArray(n)?[]:{},Ox(n,t[s])):Pt(n)||(t[s]=!0)}return t}function Mo(e,t,s){s||(s=Ox(t));for(const n in e){const i=e[n];if(OP(i))Pt(t)||Dx(s[n])?s[n]=Ox(i,Array.isArray(i)?[]:{}):Mo(i,rn(t)?{}:t[n],s[n]);else{const a=t[n];s[n]=!ar(i,a)}}return s}const k4={value:!1,isValid:!1},A4={value:!0,isValid:!0};var RP=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pt(e[0].attributes.value)?Pt(e[0].value)||e[0].value===""?A4:{value:e[0].value,isValid:!0}:A4:k4}return k4},IP=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:n})=>Pt(e)?e:t?e===""?NaN:e&&+e:s&&Cn(e)?new Date(e):n?n(e):e;const T4={isValid:!1,value:null};var LP=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,T4):T4;function E4(e){const t=e.ref;return p1(t)?t.files:g1(t)?LP(e.refs).value:DP(t)?[...t.selectedOptions].map(({value:s})=>s):xu(t)?RP(e.refs).value:IP(Pt(t.value)?e.ref.value:t.value,e)}var vz=(e,t,s,n)=>{const i={};for(const a of e){const o=Me(t,a);o&&Ct(i,a,o._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:n}},Hm=e=>e instanceof RegExp,hc=e=>Pt(e)?e:Hm(e)?e.source:is(e)?Hm(e.value)?e.value.source:e.value:e,Xo=e=>({isOnSubmit:!e||e===Hn.onSubmit,isOnBlur:e===Hn.onBlur,isOnChange:e===Hn.onChange,isOnAll:e===Hn.all,isOnTouch:e===Hn.onTouched});const _4="AsyncFunction";var jz=e=>!!e&&!!e.validate&&!!(Ys(e.validate)&&e.validate.constructor.name===_4||is(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===_4)),wz=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Rx=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const al=(e,t,s,n)=>{for(const i of s||Object.keys(e)){const a=Me(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(al(l,t))break}else if(is(l)&&al(l,t))break}}};function M4(e,t,s){const n=Me(e,s);if(n||Zf(s))return{error:n,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=Me(t,a),l=Me(e,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:s}}var Nz=(e,t,s,n)=>{s(e);const{name:i,...a}=e;return _s(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||Hn.all))},Sz=(e,t,s)=>!e||!t||e===t||cn(e).some(n=>n&&(s?n===t:n.startsWith(t)||t.startsWith(n))),Cz=(e,t,s,n,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?n.isOnBlur:i.isOnBlur)?!e:(s?n.isOnChange:i.isOnChange)?e:!0,Pz=(e,t)=>!ep(Me(e,t)).length&&Xt(e,t),FP=(e,t,s)=>{const n=cn(Me(e,s));return Ct(n,"root",t[s]),Ct(e,s,n),e};function D4(e,t,s="validate"){if(Cn(e)||Array.isArray(e)&&e.every(Cn)||Nn(e)&&!e)return{type:s,message:Cn(e)?e:"",ref:t}}var Ao=e=>is(e)&&!Hm(e)?e:{value:e,message:""},Ix=async(e,t,s,n,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:f,validate:g,name:p,valueAsNumber:v,mount:b}=e._f,y=Me(s,p);if(!b||t.has(p))return{};const w=l?l[0]:o,j=A=>{i&&w.reportValidity&&(w.setCustomValidity(Nn(A)?"":A||""),w.reportValidity())},N={},S=g1(o),P=xu(o),C=S||P,F=(v||p1(o))&&Pt(o.value)&&Pt(y)||Um(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,T=pz.bind(null,p,n,N),te=(A,q,z,B=Vr.maxLength,_=Vr.minLength)=>{const $=A?q:z;N[p]={type:A?B:_,message:$,ref:o,...T(A?B:_,$)}};if(a?!Array.isArray(y)||!y.length:c&&(!C&&(F||rn(y))||Nn(y)&&!y||P&&!RP(l).isValid||S&&!LP(l).isValid)){const{value:A,message:q}=Cn(c)?{value:!!c,message:c}:Ao(c);if(A&&(N[p]={type:Vr.required,message:q,ref:w,...T(Vr.required,q)},!n))return j(q),N}if(!F&&(!rn(h)||!rn(m))){let A,q;const z=Ao(m),B=Ao(h);if(!rn(y)&&!isNaN(y)){const _=o.valueAsNumber||y&&+y;rn(z.value)||(A=_>z.value),rn(B.value)||(q=_<B.value)}else{const _=o.valueAsDate||new Date(y),$=J=>new Date(new Date().toDateString()+" "+J),M=o.type=="time",D=o.type=="week";Cn(z.value)&&y&&(A=M?$(y)>$(z.value):D?y>z.value:_>new Date(z.value)),Cn(B.value)&&y&&(q=M?$(y)<$(B.value):D?y<B.value:_<new Date(B.value))}if((A||q)&&(te(!!A,z.message,B.message,Vr.max,Vr.min),!n))return j(N[p].message),N}if((d||u)&&!F&&(Cn(y)||a&&Array.isArray(y))){const A=Ao(d),q=Ao(u),z=!rn(A.value)&&y.length>+A.value,B=!rn(q.value)&&y.length<+q.value;if((z||B)&&(te(z,A.message,q.message),!n))return j(N[p].message),N}if(f&&!F&&Cn(y)){const{value:A,message:q}=Ao(f);if(Hm(A)&&!y.match(A)&&(N[p]={type:Vr.pattern,message:q,ref:o,...T(Vr.pattern,q)},!n))return j(q),N}if(g){if(Ys(g)){const A=await g(y,s),q=D4(A,w);if(q&&(N[p]={...q,...T(Vr.validate,q.message)},!n))return j(q.message),N}else if(is(g)){let A={};for(const q in g){if(!_s(A)&&!n)break;const z=D4(await g[q](y,s),w,q);z&&(A={...z,...T(q,z.message)},j(z.message),n&&(N[p]=A))}if(!_s(A)&&(N[p]={ref:w,...A},!n))return N}}return j(!0),N};const kz={mode:Hn.onSubmit,reValidateMode:Hn.onChange,shouldFocusError:!0};function Az(e={}){let t={...kz,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ys(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=is(t.defaultValues)||is(t.values)?Tt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Tt(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...u};let m={...h};const f={array:P4(),state:P4()},g=t.criteriaMode===Hn.all,p=I=>k=>{clearTimeout(d),d=setTimeout(I,k)},v=async I=>{if(!o.keepIsValid&&!t.disabled&&(h.isValid||m.isValid||I)){let k;t.resolver?(k=_s((await C()).errors),b()):k=await T(n,!0),k!==s.isValid&&f.state.next({isValid:k})}},b=(I,k)=>{!t.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((I||Array.from(l.mount)).forEach(G=>{G&&(k?Ct(s.validatingFields,G,k):Xt(s.validatingFields,G))}),f.state.next({validatingFields:s.validatingFields,isValidating:!_s(s.validatingFields)}))},y=(I,k=[],G,ge,O=!0,E=!0)=>{if(ge&&G&&!t.disabled){if(o.action=!0,E&&Array.isArray(Me(n,I))){const Q=G(Me(n,I),ge.argA,ge.argB);O&&Ct(n,I,Q)}if(E&&Array.isArray(Me(s.errors,I))){const Q=G(Me(s.errors,I),ge.argA,ge.argB);O&&Ct(s.errors,I,Q),Pz(s.errors,I)}if((h.touchedFields||m.touchedFields)&&E&&Array.isArray(Me(s.touchedFields,I))){const Q=G(Me(s.touchedFields,I),ge.argA,ge.argB);O&&Ct(s.touchedFields,I,Q)}(h.dirtyFields||m.dirtyFields)&&(s.dirtyFields=Mo(i,a)),f.state.next({name:I,isDirty:A(I,k),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Ct(a,I,k)},w=(I,k)=>{Ct(s.errors,I,k),f.state.next({errors:s.errors})},j=I=>{s.errors=I,f.state.next({errors:s.errors,isValid:!1})},N=(I,k,G,ge)=>{const O=Me(n,I);if(O){const E=Me(a,I,Pt(G)?Me(i,I):G);Pt(E)||ge&&ge.defaultChecked||k?Ct(a,I,k?E:E4(O._f)):B(I,E),o.mount&&!o.action&&v()}},S=(I,k,G,ge,O)=>{let E=!1,Q=!1;const V={name:I};if(!t.disabled){if(!G||ge){(h.isDirty||m.isDirty)&&(Q=s.isDirty,s.isDirty=V.isDirty=A(),E=Q!==V.isDirty);const fe=ar(Me(i,I),k);Q=!!Me(s.dirtyFields,I),fe?Xt(s.dirtyFields,I):Ct(s.dirtyFields,I,!0),V.dirtyFields=s.dirtyFields,E=E||(h.dirtyFields||m.dirtyFields)&&Q!==!fe}if(G){const fe=Me(s.touchedFields,I);fe||(Ct(s.touchedFields,I,G),V.touchedFields=s.touchedFields,E=E||(h.touchedFields||m.touchedFields)&&fe!==G)}E&&O&&f.state.next(V)}return E?V:{}},P=(I,k,G,ge)=>{const O=Me(s.errors,I),E=(h.isValid||m.isValid)&&Nn(k)&&s.isValid!==k;if(t.delayError&&G?(c=p(()=>w(I,G)),c(t.delayError)):(clearTimeout(d),c=null,G?Ct(s.errors,I,G):Xt(s.errors,I)),(G?!ar(O,G):O)||!_s(ge)||E){const Q={...ge,...E&&Nn(k)?{isValid:k}:{},errors:s.errors,name:I};s={...s,...Q},f.state.next(Q)}},C=async I=>(b(I,!0),await t.resolver(a,t.context,vz(I||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),F=async I=>{const{errors:k}=await C(I);if(b(I),I)for(const G of I){const ge=Me(k,G);ge?Ct(s.errors,G,ge):Xt(s.errors,G)}else s.errors=k;return k},T=async(I,k,G={valid:!0})=>{for(const ge in I){const O=I[ge];if(O){const{_f:E,...Q}=O;if(E){const V=l.array.has(E.name),fe=O._f&&jz(O._f);fe&&h.validatingFields&&b([E.name],!0);const be=await Ix(O,l.disabled,a,g,t.shouldUseNativeValidation&&!k,V);if(fe&&h.validatingFields&&b([E.name]),be[E.name]&&(G.valid=!1,k||e.shouldUseNativeValidation))break;!k&&(Me(be,E.name)?V?FP(s.errors,be,E.name):Ct(s.errors,E.name,be[E.name]):Xt(s.errors,E.name))}!_s(Q)&&await T(Q,k,G)}}return G.valid},te=()=>{for(const I of l.unMount){const k=Me(n,I);k&&(k._f.refs?k._f.refs.every(G=>!f0(G)):!f0(k._f.ref))&&oe(I)}l.unMount=new Set},A=(I,k)=>!t.disabled&&(I&&k&&Ct(a,I,k),!ar(K(),i)),q=(I,k,G)=>Mx(I,l,{...o.mount?a:Pt(k)?i:Cn(I)?{[I]:k}:k},G,k),z=I=>ep(Me(o.mount?a:i,I,t.shouldUnregister?Me(i,I,[]):[])),B=(I,k,G={})=>{const ge=Me(n,I);let O=k;if(ge){const E=ge._f;E&&(!E.disabled&&Ct(a,I,IP(k,E)),O=Um(E.ref)&&rn(k)?"":k,DP(E.ref)?[...E.ref.options].forEach(Q=>Q.selected=O.includes(Q.value)):E.refs?xu(E.ref)?E.refs.forEach(Q=>{(!Q.defaultChecked||!Q.disabled)&&(Array.isArray(O)?Q.checked=!!O.find(V=>V===Q.value):Q.checked=O===Q.value||!!O)}):E.refs.forEach(Q=>Q.checked=Q.value===O):p1(E.ref)?E.ref.value="":(E.ref.value=O,E.ref.type||f.state.next({name:I,values:Tt(a)})))}(G.shouldDirty||G.shouldTouch)&&S(I,O,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&J(I)},_=(I,k,G)=>{for(const ge in k){if(!k.hasOwnProperty(ge))return;const O=k[ge],E=I+"."+ge,Q=Me(n,E);(l.array.has(I)||is(O)||Q&&!Q._f)&&!Ba(O)?_(E,O,G):B(E,O,G)}},$=(I,k,G={})=>{const ge=Me(n,I),O=l.array.has(I),E=Tt(k);Ct(a,I,E),O?(f.array.next({name:I,values:Tt(a)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&G.shouldDirty&&f.state.next({name:I,dirtyFields:Mo(i,a),isDirty:A(I,E)})):ge&&!ge._f&&!rn(E)?_(I,E,G):B(I,E,G),Rx(I,l)?f.state.next({...s,name:I,values:Tt(a)}):f.state.next({name:o.mount?I:void 0,values:Tt(a)})},M=async I=>{o.mount=!0;const k=I.target;let G=k.name,ge=!0;const O=Me(n,G),E=fe=>{ge=Number.isNaN(fe)||Ba(fe)&&isNaN(fe.getTime())||ar(fe,Me(a,G,fe))},Q=Xo(t.mode),V=Xo(t.reValidateMode);if(O){let fe,be;const Fe=k.type?E4(O._f):AP(I),Z=I.type===zm.BLUR||I.type===zm.FOCUS_OUT,he=!wz(O._f)&&!t.resolver&&!Me(s.errors,G)&&!O._f.deps||Cz(Z,Me(s.touchedFields,G),s.isSubmitted,V,Q),ye=Rx(G,l,Z);Ct(a,G,Fe),Z?(!k||!k.readOnly)&&(O._f.onBlur&&O._f.onBlur(I),c&&c(0)):O._f.onChange&&O._f.onChange(I);const we=S(G,Fe,Z),Be=!_s(we)||ye;if(!Z&&f.state.next({name:G,type:I.type,values:Tt(a)}),he)return(h.isValid||m.isValid)&&(t.mode==="onBlur"?Z&&v():Z||v()),Be&&f.state.next({name:G,...ye?{}:we});if(!Z&&ye&&f.state.next({...s}),t.resolver){const{errors:ae}=await C([G]);if(b([G]),E(Fe),ge){const Ae=M4(s.errors,n,G),R=M4(ae,n,Ae.name||G);fe=R.error,G=R.name,be=_s(ae)}}else b([G],!0),fe=(await Ix(O,l.disabled,a,g,t.shouldUseNativeValidation))[G],b([G]),E(Fe),ge&&(fe?be=!1:(h.isValid||m.isValid)&&(be=await T(n,!0)));ge&&(O._f.deps&&(!Array.isArray(O._f.deps)||O._f.deps.length>0)&&J(O._f.deps),P(G,be,fe,we))}},D=(I,k)=>{if(Me(s.errors,k)&&I.focus)return I.focus(),1},J=async(I,k={})=>{let G,ge;const O=cn(I);if(t.resolver){const E=await F(Pt(I)?I:O);G=_s(E),ge=I?!O.some(Q=>Me(E,Q)):G}else I?(ge=(await Promise.all(O.map(async E=>{const Q=Me(n,E);return await T(Q&&Q._f?{[E]:Q}:Q)}))).every(Boolean),!(!ge&&!s.isValid)&&v()):ge=G=await T(n);return f.state.next({...!Cn(I)||(h.isValid||m.isValid)&&G!==s.isValid?{}:{name:I},...t.resolver||!I?{isValid:G}:{},errors:s.errors}),k.shouldFocus&&!ge&&al(n,D,I?O:l.mount),ge},K=(I,k)=>{let G={...o.mount?a:i};return k&&(G=MP(k.dirtyFields?s.dirtyFields:s.touchedFields,G)),Pt(I)?G:Cn(I)?Me(G,I):I.map(ge=>Me(G,ge))},ce=(I,k)=>({invalid:!!Me((k||s).errors,I),isDirty:!!Me((k||s).dirtyFields,I),error:Me((k||s).errors,I),isValidating:!!Me(s.validatingFields,I),isTouched:!!Me((k||s).touchedFields,I)}),U=I=>{I&&cn(I).forEach(k=>Xt(s.errors,k)),f.state.next({errors:I?s.errors:{}})},le=(I,k,G)=>{const ge=(Me(n,I,{_f:{}})._f||{}).ref,O=Me(s.errors,I)||{},{ref:E,message:Q,type:V,...fe}=O;Ct(s.errors,I,{...fe,...k,ref:ge}),f.state.next({name:I,errors:s.errors,isValid:!1}),G&&G.shouldFocus&&ge&&ge.focus&&ge.focus()},re=(I,k)=>Ys(I)?f.state.subscribe({next:G=>"values"in G&&I(q(void 0,k),G)}):q(I,k,!0),ie=I=>f.state.subscribe({next:k=>{Sz(I.name,k.name,I.exact)&&Nz(k,I.formState||h,pe,I.reRenderRoot)&&I.callback({values:{...a},...s,...k,defaultValues:i})}}).unsubscribe,Y=I=>(o.mount=!0,m={...m,...I.formState},ie({...I,formState:{...u,...I.formState}})),oe=(I,k={})=>{for(const G of I?cn(I):l.mount)l.mount.delete(G),l.array.delete(G),k.keepValue||(Xt(n,G),Xt(a,G)),!k.keepError&&Xt(s.errors,G),!k.keepDirty&&Xt(s.dirtyFields,G),!k.keepTouched&&Xt(s.touchedFields,G),!k.keepIsValidating&&Xt(s.validatingFields,G),!t.shouldUnregister&&!k.keepDefaultValue&&Xt(i,G);f.state.next({values:Tt(a)}),f.state.next({...s,...k.keepDirty?{isDirty:A()}:{}}),!k.keepIsValid&&v()},Se=({disabled:I,name:k})=>{if(Nn(I)&&o.mount||I||l.disabled.has(k)){const O=l.disabled.has(k)!==!!I;I?l.disabled.add(k):l.disabled.delete(k),O&&o.mount&&!o.action&&v()}},je=(I,k={})=>{let G=Me(n,I);const ge=Nn(k.disabled)||Nn(t.disabled);return Ct(n,I,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:I}},name:I,mount:!0,...k}}),l.mount.add(I),G?Se({disabled:Nn(k.disabled)?k.disabled:t.disabled,name:I}):N(I,!0,k.value),{...ge?{disabled:k.disabled||t.disabled}:{},...t.progressive?{required:!!k.required,min:hc(k.min),max:hc(k.max),minLength:hc(k.minLength),maxLength:hc(k.maxLength),pattern:hc(k.pattern)}:{},name:I,onChange:M,onBlur:M,ref:O=>{if(O){je(I,k),G=Me(n,I);const E=Pt(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,Q=gz(E),V=G._f.refs||[];if(Q?V.find(fe=>fe===E):E===G._f.ref)return;Ct(n,I,{_f:{...G._f,...Q?{refs:[...V.filter(f0),E,...Array.isArray(Me(i,I))?[{}]:[]],ref:{type:E.type,name:I}}:{ref:E}}}),N(I,!1,void 0,E)}else G=Me(n,I,{}),G._f&&(G._f.mount=!1),(t.shouldUnregister||k.shouldUnregister)&&!(TP(l.array,I)&&o.action)&&l.unMount.add(I)}}},ne=()=>t.shouldFocusError&&al(n,D,l.mount),ke=I=>{Nn(I)&&(f.state.next({disabled:I}),al(n,(k,G)=>{const ge=Me(n,G);ge&&(k.disabled=ge._f.disabled||I,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(O=>{O.disabled=ge._f.disabled||I}))},0,!1))},Ee=(I,k)=>async G=>{let ge;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let O=Tt(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:E,values:Q}=await C();b(),s.errors=E,O=Tt(Q)}else await T(n);if(l.disabled.size)for(const E of l.disabled)Xt(O,E);if(Xt(s.errors,"root"),_s(s.errors)){f.state.next({errors:{}});try{await I(O,G)}catch(E){ge=E}}else k&&await k({...s.errors},G),ne(),setTimeout(ne);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_s(s.errors)&&!ge,submitCount:s.submitCount+1,errors:s.errors}),ge)throw ge},Ue=(I,k={})=>{Me(n,I)&&(Pt(k.defaultValue)?$(I,Tt(Me(i,I))):($(I,k.defaultValue),Ct(i,I,Tt(k.defaultValue))),k.keepTouched||Xt(s.touchedFields,I),k.keepDirty||(Xt(s.dirtyFields,I),s.isDirty=k.defaultValue?A(I,Tt(Me(i,I))):A()),k.keepError||(Xt(s.errors,I),h.isValid&&v()),f.state.next({...s}))},se=(I,k={})=>{const G=I?Tt(I):i,ge=Tt(G),O=_s(I),E=O?i:ge;if(k.keepDefaultValues||(i=G),!k.keepValues){if(k.keepDirtyValues){const Q=new Set([...l.mount,...Object.keys(Mo(i,a))]);for(const V of Array.from(Q)){const fe=Me(s.dirtyFields,V),be=Me(a,V),Fe=Me(E,V);fe&&!Pt(be)?Ct(E,V,be):!fe&&!Pt(Fe)&&$(V,Fe)}}else{if(m1&&Pt(I))for(const Q of l.mount){const V=Me(n,Q);if(V&&V._f){const fe=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(Um(fe)){const be=fe.closest("form");if(be){be.reset();break}}}}if(k.keepFieldsRef)for(const Q of l.mount)$(Q,Me(E,Q));else n={}}a=t.shouldUnregister?k.keepDefaultValues?Tt(i):{}:Tt(E),f.array.next({values:{...E}}),f.state.next({values:{...E}})}l={mount:k.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!k.keepIsValid||!!k.keepDirtyValues||!t.shouldUnregister&&!_s(E),o.watch=!!t.shouldUnregister,o.keepIsValid=!!k.keepIsValid,o.action=!1,k.keepErrors||(s.errors={}),f.state.next({submitCount:k.keepSubmitCount?s.submitCount:0,isDirty:O?!1:k.keepDirty?s.isDirty:!!(k.keepDefaultValues&&!ar(I,i)),isSubmitted:k.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:O?{}:k.keepDirtyValues?k.keepDefaultValues&&a?Mo(i,a):s.dirtyFields:k.keepDefaultValues&&I?Mo(i,I):k.keepDirty?s.dirtyFields:{},touchedFields:k.keepTouched?s.touchedFields:{},errors:k.keepErrors?s.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},me=(I,k)=>se(Ys(I)?I(a):I,{...t.resetOptions,...k}),W=(I,k={})=>{const G=Me(n,I),ge=G&&G._f;if(ge){const O=ge.refs?ge.refs[0]:ge.ref;O.focus&&setTimeout(()=>{O.focus(),k.shouldSelect&&Ys(O.select)&&O.select()})}},pe=I=>{s={...s,...I}},_e={control:{register:je,unregister:oe,getFieldState:ce,handleSubmit:Ee,setError:le,_subscribe:ie,_runSchema:C,_updateIsValidating:b,_focusError:ne,_getWatch:q,_getDirty:A,_setValid:v,_setFieldArray:y,_setDisabledField:Se,_setErrors:j,_getFieldArray:z,_reset:se,_resetDefaultValues:()=>Ys(t.defaultValues)&&t.defaultValues().then(I=>{me(I,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:te,_disableForm:ke,_subjects:f,_proxyFormState:h,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(I){o=I},get _defaultValues(){return i},get _names(){return l},set _names(I){l=I},get _formState(){return s},get _options(){return t},set _options(I){t={...t,...I}}},subscribe:Y,trigger:J,register:je,handleSubmit:Ee,watch:re,setValue:$,getValues:K,reset:me,resetField:Ue,clearErrors:U,unregister:oe,setError:le,setFocus:W,getFieldState:ce};return{..._e,formControl:_e}}var Si=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const s=(Math.random()*16+e)%16|0;return(t=="x"?s:s&3|8).toString(16)})},p0=(e,t,s={})=>s.shouldFocus||Pt(s.shouldFocus)?s.focusName||`${e}.${Pt(s.focusIndex)?t:s.focusIndex}.`:"",g0=(e,t)=>[...e,...cn(t)],x0=e=>Array.isArray(e)?e.map(()=>{}):void 0;function y0(e,t,s){return[...e.slice(0,t),...cn(s),...e.slice(t)]}var b0=(e,t,s)=>Array.isArray(e)?(Pt(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(t,1)[0]),e):[],v0=(e,t)=>[...cn(t),...cn(e)];function Tz(e,t){let s=0;const n=[...e];for(const i of t)n.splice(i-s,1),s++;return ep(n).length?n:[]}var j0=(e,t)=>Pt(t)?[]:Tz(e,cn(t).sort((s,n)=>s-n)),w0=(e,t,s)=>{[e[t],e[s]]=[e[s],e[t]]},O4=(e,t,s)=>(e[t]=s,e);function Lx(e){const t=tp(),{control:s=t,name:n,keyName:i="id",shouldUnregister:a,rules:o}=e,[l,c]=Re.useState(s._getFieldArray(n)),d=Re.useRef(s._getFieldArray(n).map(Si)),u=Re.useRef(!1);s._names.array.add(n),Re.useMemo(()=>o&&l.length>=0&&s.register(n,o),[s,n,l.length,o]),sp(()=>s._subjects.array.subscribe({next:({values:j,name:N})=>{if(N===n||!N){const S=Me(j,n);Array.isArray(S)&&(c(S),d.current=S.map(Si))}}}).unsubscribe,[s,n]);const h=Re.useCallback(j=>{u.current=!0,s._setFieldArray(n,j)},[s,n]),m=(j,N)=>{const S=cn(Tt(j)),P=g0(s._getFieldArray(n),S);s._names.focus=p0(n,P.length-1,N),d.current=g0(d.current,S.map(Si)),h(P),c(P),s._setFieldArray(n,P,g0,{argA:x0(j)})},f=(j,N)=>{const S=cn(Tt(j)),P=v0(s._getFieldArray(n),S);s._names.focus=p0(n,0,N),d.current=v0(d.current,S.map(Si)),h(P),c(P),s._setFieldArray(n,P,v0,{argA:x0(j)})},g=j=>{const N=j0(s._getFieldArray(n),j);d.current=j0(d.current,j),h(N),c(N),!Array.isArray(Me(s._fields,n))&&Ct(s._fields,n,void 0),s._setFieldArray(n,N,j0,{argA:j})},p=(j,N,S)=>{const P=cn(Tt(N)),C=y0(s._getFieldArray(n),j,P);s._names.focus=p0(n,j,S),d.current=y0(d.current,j,P.map(Si)),h(C),c(C),s._setFieldArray(n,C,y0,{argA:j,argB:x0(N)})},v=(j,N)=>{const S=s._getFieldArray(n);w0(S,j,N),w0(d.current,j,N),h(S),c(S),s._setFieldArray(n,S,w0,{argA:j,argB:N},!1)},b=(j,N)=>{const S=s._getFieldArray(n);b0(S,j,N),b0(d.current,j,N),h(S),c(S),s._setFieldArray(n,S,b0,{argA:j,argB:N},!1)},y=(j,N)=>{const S=Tt(N),P=O4(s._getFieldArray(n),j,S);d.current=[...P].map((C,F)=>!C||F===j?Si():d.current[F]),h(P),c([...P]),s._setFieldArray(n,P,O4,{argA:j,argB:S},!0,!1)},w=j=>{const N=cn(Tt(j));d.current=N.map(Si),h([...N]),c([...N]),s._setFieldArray(n,[...N],S=>S,{},!0,!1)};return Re.useEffect(()=>{if(s._state.action=!1,Rx(n,s._names)&&s._subjects.state.next({...s._formState}),u.current&&(!Xo(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!Xo(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([n]).then(j=>{s._updateIsValidating([n]);const N=Me(j.errors,n),S=Me(s._formState.errors,n);(S?!N&&S.type||N&&(S.type!==N.type||S.message!==N.message):N&&N.type)&&(N?Ct(s._formState.errors,n,N):Xt(s._formState.errors,n),s._subjects.state.next({errors:s._formState.errors}))});else{const j=Me(s._fields,n);j&&j._f&&!(Xo(s._options.reValidateMode).isOnSubmit&&Xo(s._options.mode).isOnSubmit)&&Ix(j,s._names.disabled,s._formValues,s._options.criteriaMode===Hn.all,s._options.shouldUseNativeValidation,!0).then(N=>!_s(N)&&s._subjects.state.next({errors:FP(s._formState.errors,N,n)}))}s._subjects.state.next({name:n,values:Tt(s._formValues)}),s._names.focus&&al(s._fields,(j,N)=>{if(s._names.focus&&N.startsWith(s._names.focus)&&j.focus)return j.focus(),1}),s._names.focus="",s._setValid(),u.current=!1},[l,n,s]),Re.useEffect(()=>(!Me(s._formValues,n)&&s._setFieldArray(n),()=>{const j=(N,S)=>{const P=Me(s._fields,N);P&&P._f&&(P._f.mount=S)};s._options.shouldUnregister||a?s.unregister(n):j(n,!1)}),[n,s,i,a]),{swap:Re.useCallback(v,[h,n,s]),move:Re.useCallback(b,[h,n,s]),prepend:Re.useCallback(f,[h,n,s]),append:Re.useCallback(m,[h,n,s]),remove:Re.useCallback(g,[h,n,s]),insert:Re.useCallback(p,[h,n,s]),update:Re.useCallback(y,[h,n,s]),replace:Re.useCallback(w,[h,n,s]),fields:Re.useMemo(()=>l.map((j,N)=>({...j,[i]:d.current[N]||Si()})),[l,i])}}function Vt(e={}){const t=Re.useRef(void 0),s=Re.useRef(void 0),[n,i]=Re.useState({isDirty:!1,isValidating:!1,isLoading:Ys(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ys(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Ys(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Az(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,sp(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),Re.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Re.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),Re.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),Re.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Re.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),Re.useEffect(()=>{var o;e.values&&!ar(e.values,s.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),s.current=e.values,i(l=>({...l}))):a._resetDefaultValues()},[a,e.values]),Re.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=Re.useMemo(()=>_P(n,a),[a,n]),t.current}const Ez={control:(e,t)=>({...e,minHeight:"42px",borderRadius:"0.5rem",borderColor:t.isFocused?"#3b82f6":t.selectProps.error?"#fca5a5":"#d1d5db",boxShadow:t.isFocused?"0 0 0 2px rgba(59, 130, 246, 0.2)":"none","&:hover":{borderColor:t.isFocused?"#3b82f6":"#9ca3af"},backgroundColor:t.isDisabled?"#f3f4f6":"#ffffff"}),valueContainer:e=>({...e,padding:"2px 12px"}),input:e=>({...e,margin:"0",padding:"0"}),placeholder:e=>({...e,color:"#9ca3af"}),singleValue:e=>({...e,color:"#111827"}),multiValue:e=>({...e,backgroundColor:"#eff6ff",borderRadius:"0.375rem"}),multiValueLabel:e=>({...e,color:"#1d4ed8",fontSize:"0.875rem",padding:"2px 6px"}),multiValueRemove:e=>({...e,color:"#1d4ed8","&:hover":{backgroundColor:"#dbeafe",color:"#1e40af"}}),menu:e=>({...e,borderRadius:"0.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e5e7eb",zIndex:50}),menuList:e=>({...e,padding:"4px"}),option:(e,t)=>({...e,borderRadius:"0.375rem",padding:"8px 12px",backgroundColor:t.isSelected?"#3b82f6":t.isFocused?"#eff6ff":"transparent",color:t.isSelected?"#ffffff":"#374151","&:active":{backgroundColor:t.isSelected?"#3b82f6":"#dbeafe"}}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:(e,t)=>({...e,color:"#6b7280","&:hover":{color:"#374151"},transform:t.selectProps.menuIsOpen?"rotate(180deg)":null,transition:"transform 0.2s ease"}),clearIndicator:e=>({...e,color:"#6b7280","&:hover":{color:"#ef4444"}}),loadingIndicator:e=>({...e,color:"#3b82f6"})},VP=x.forwardRef(({label:e,error:t,helperText:s,options:n=[],placeholder:i="Select...",className:a="",selectClassName:o="",labelClassName:l="",required:c=!1,disabled:d=!1,...u},h)=>{const m=`
      block w-full rounded-lg border bg-white px-4 py-2.5
      text-gray-900 appearance-none
      transition-colors duration-200
      focus:outline-none focus:ring-2 focus:ring-offset-0
      disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-500
      bg-no-repeat bg-right
    `,f=t?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500";return r.jsxs("div",{className:a,children:[e&&r.jsxs("label",{className:`block text-sm font-medium text-gray-700 mb-1.5 ${l}`,children:[e,c&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{ref:h,disabled:d,className:`
              ${m}
              ${f}
              ${o}
            `,...u,children:[i&&r.jsx("option",{value:"",disabled:!0,children:i}),n.map(g=>r.jsx("option",{value:g.value,disabled:g.disabled,children:g.label},g.value))]}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3",children:r.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(t||s)&&r.jsx("p",{className:`mt-1.5 text-sm ${t?"text-red-600":"text-gray-500"}`,children:t||s})]})});VP.displayName="NativeSelect";const Fx=x.forwardRef(({label:e,error:t,helperText:s,options:n=[],placeholder:i="Select...",className:a="",labelClassName:o="",required:l=!1,disabled:c=!1,isMulti:d=!1,isSearchable:u=!0,isClearable:h=!0,isLoading:m=!1,creatable:f=!1,onChange:g,value:p,...v},b)=>{const y=f?lz:rz,w=()=>p?d?Array.isArray(p)?p.map(N=>typeof N=="object"&&N!==null?N:n.find(S=>S.value===N)).filter(Boolean):[]:typeof p=="object"&&p!==null&&"value"in p&&"label"in p?p:n.find(N=>N.value===p)||null:d?[]:null,j=N=>{g&&g(d?N||[]:N||null)};return r.jsxs("div",{className:a,children:[e&&r.jsxs("label",{className:`block text-sm font-medium text-gray-700 mb-1.5 ${o}`,children:[e,l&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx(y,{ref:b,options:n,placeholder:i,isDisabled:c,isMulti:d,isSearchable:u,isClearable:h,isLoading:m,value:w(),onChange:j,styles:Ez,error:t,classNamePrefix:"select",...v}),(t||s)&&r.jsx("p",{className:`mt-1.5 text-sm ${t?"text-red-600":"text-gray-500"}`,children:t||s})]})});Fx.displayName="SelectInternal";const ir=x.forwardRef(({control:e,name:t,rules:s,...n},i)=>e&&t?r.jsx(Mc,{name:t,control:e,rules:s,render:({field:{onChange:a,value:o,ref:l},fieldState:{error:c}})=>r.jsx(Fx,{...n,ref:l,value:o,onChange:a,error:n.error||(c==null?void 0:c.message)})}):r.jsx(Fx,{ref:i,...n}));ir.displayName="Select";ir.Native=VP;const _z=30*60*1e3,Mz=5*60*1e3,R4=["mousedown","mousemove","keydown","scroll","touchstart","click"];function Dz(e={}){const{timeout:t=_z,warningTime:s=Mz,onWarning:n=()=>{},onTimeout:i=()=>{}}=e,{logout:a,user:o}=dr(),[l,c]=x.useState(!1),[d,u]=x.useState(t),h=x.useRef(null),m=x.useRef(null),f=x.useRef(null),g=x.useRef(Date.now()),p=x.useCallback(()=>{g.current=Date.now(),c(!1),h.current&&clearTimeout(h.current),m.current&&clearTimeout(m.current),f.current&&clearInterval(f.current),m.current=setTimeout(()=>{c(!0),n();let w=s;u(w),f.current=setInterval(()=>{w-=1e3,u(w),w<=0&&clearInterval(f.current)},1e3)},t-s),h.current=setTimeout(()=>{i(),v()},t)},[t,s,n,i]),v=x.useCallback(()=>{h.current&&clearTimeout(h.current),m.current&&clearTimeout(m.current),f.current&&clearInterval(f.current),a(),alert("Your session has expired due to inactivity. Please log in again.")},[a]),b=x.useCallback(()=>{p(),c(!1)},[p]);return x.useEffect(()=>{if(!o)return;const w=()=>{l||p()};return R4.forEach(j=>{document.addEventListener(j,w,{passive:!0})}),p(),()=>{R4.forEach(j=>{document.removeEventListener(j,w)}),h.current&&clearTimeout(h.current),m.current&&clearTimeout(m.current),f.current&&clearInterval(f.current)}},[o,l,p]),{showWarning:l,timeRemaining:d,formatTimeRemaining:()=>{const w=Math.floor(d/6e4),j=Math.floor(d%6e4/1e3);return`${w}:${j.toString().padStart(2,"0")}`},extendSession:b,logout:v}}var BP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},I4=Re.createContext&&Re.createContext(BP),Oz=["attr","size","title"];function Rz(e,t){if(e==null)return{};var s=Iz(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Iz(e,t){if(e==null)return{};var s={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},qm.apply(this,arguments)}function L4(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,n)}return s}function Wm(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(s),!0).forEach(function(n){Lz(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L4(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Lz(e,t,s){return t=Fz(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Fz(e){var t=Vz(e,"string");return typeof t=="symbol"?t:t+""}function Vz(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $P(e){return e&&e.map((t,s)=>Re.createElement(t.tag,Wm({key:s},t.attr),$P(t.child)))}function xe(e){return t=>Re.createElement(Bz,qm({attr:Wm({},e.attr)},t),$P(e.child))}function Bz(e){var t=s=>{var{attr:n,size:i,title:a}=e,o=Rz(e,Oz),l=i||s.size||"1em",c;return s.className&&(c=s.className),e.className&&(c=(c?c+" ":"")+e.className),Re.createElement("svg",qm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,o,{className:c,style:Wm(Wm({color:e.color||s.color},s.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Re.createElement("title",null,a),e.children)};return I4!==void 0?Re.createElement(I4.Consumer,null,s=>t(s)):t(BP)}function EY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function _Y(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function MY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function DY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function OY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function $z(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function RY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(e)}function IY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function LY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function FY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function VY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"12",x2:"2",y2:"12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]},{tag:"line",attr:{x1:"6",y1:"16",x2:"6.01",y2:"16"},child:[]},{tag:"line",attr:{x1:"10",y1:"16",x2:"10.01",y2:"16"},child:[]}]})(e)}function BY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function $Y(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(e)}function zY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function zz(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function UY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function HY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function qY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function WY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function GY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function KY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(e)}function QY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function YY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(e)}function XY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function JY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function ZY(e){return xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const Uz=()=>{const{showWarning:e,formatTimeRemaining:t,extendSession:s,logout:n}=Dz({onWarning:()=>{console.log("Session expiring soon")},onTimeout:()=>{console.log("Session expired")}});return e?r.jsx(At,{isOpen:e,onClose:s,title:"Session Expiring",children:r.jsxs("div",{className:"text-center py-4",children:[r.jsx($z,{className:"mx-auto h-12 w-12 text-yellow-500 mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Your session will expire in"}),r.jsx("p",{className:"text-3xl font-bold text-red-600 mb-4",children:t()}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"For your security, you will be automatically logged out due to inactivity. This is required for HIPAA compliance."}),r.jsxs("div",{className:"flex justify-center space-x-4",children:[r.jsxs(ps,{variant:"outline",onClick:n,children:[r.jsx(zz,{className:"mr-2"}),"Log Out Now"]}),r.jsx(ps,{variant:"primary",onClick:s,children:"Stay Logged In"})]})]})}):null},F4=()=>{var d;const[e,t]=x.useState(()=>{const u=localStorage.getItem("sidebarCollapsed");return u?JSON.parse(u):!1}),[s,n]=x.useState(!1),{data:i}=Te({queryKey:["accessControls"],queryFn:()=>ut.getAccessControls(),staleTime:60*1e3}),a=((d=i==null?void 0:i.data)==null?void 0:d.data)||(i==null?void 0:i.data)||i||null,o=(a==null?void 0:a.subscriptionSnapshot)||null;x.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(e))},[e]);const l=()=>{t(u=>!u)},c=()=>{n(u=>!u)};return r.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s&&r.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>n(!1)}),r.jsx(w9,{collapsed:e,onToggle:l,mobileOpen:s,onMobileClose:()=>n(!1)}),r.jsxs("div",{className:`transition-all duration-300 ${e?"lg:ml-20":"lg:ml-64"}`,children:[r.jsx(C9,{onMenuClick:c}),r.jsxs("main",{className:"p-4 md:p-6 lg:p-8",children:[o&&r.jsx("div",{className:`mb-4 rounded-lg border px-4 py-3 text-sm ${o.status==="EXPIRED"?"border-red-300 bg-red-50 text-red-700":o.status==="GRACE"?"border-amber-300 bg-amber-50 text-amber-800":(o.remindersDue||[]).length?"border-blue-300 bg-blue-50 text-blue-700":"hidden"}`,children:o.status==="EXPIRED"?"Subscription expired. Account is now read-only. Please upgrade plan.":o.status==="GRACE"?`Subscription expired. Grace period active (${o.daysToExpiry} days to lock). Upgrade now to avoid read-only mode.`:`Subscription renewal reminder: ${o.daysToExpiry} day(s) left.`}),r.jsx(s6,{})]})]}),r.jsxs("button",{onClick:c,className:"lg:hidden fixed bottom-5 left-4 z-[70] inline-flex items-center gap-2 px-3 py-2 rounded-full bg-blue-600 text-white shadow-lg hover:bg-blue-700 active:scale-[0.98]","aria-label":s?"Close menu":"Open menu",children:[s?r.jsx(xb,{className:"h-5 w-5"}):r.jsx(Y6,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Menu"})]})]})},Hz=()=>r.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-2xl shadow-lg mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Docsy"}),r.jsx("p",{className:"text-blue-100 mt-2",children:"Healthcare Management System"})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:r.jsx(s6,{})}),r.jsxs("p",{className:"text-center text-blue-100 text-sm mt-6",children:[" ",new Date().getFullYear()," Docsy. All rights reserved."]})]})]});function qz(e){return xe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function Wz(e){return xe({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function Gz(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32h214.6v214.6H0V32zm233.4 0H448v214.6H233.4V32zM0 265.4h214.6V480H0V265.4zm233.4 0H448V480H233.4V265.4z"},child:[]}]})(e)}function fo(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function Kz(e){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(e)}function Qz(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 112c-17.6 0-32 14.4-32 32v72c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8V64c0-17.6-14.4-32-32-32s-32 14.4-32 32v152c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8V32c0-17.6-14.4-32-32-32s-32 14.4-32 32v184c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8V64c0-17.6-14.4-32-32-32S96 46.4 96 64v241l-23.6-32.5c-13-17.9-38-21.8-55.9-8.8s-21.8 38-8.8 55.9l125.6 172.7c9 12.4 23.5 19.8 38.8 19.8h197.6c22.3 0 41.6-15.3 46.7-37l26.5-112.7c3.2-13.7 4.9-28.3 5.1-42.3V144c0-17.6-14.4-32-32-32zM176 416c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm0-96c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm64 128c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm0-96c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm64 32c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm32 64c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm32-128c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"},child:[]}]})(e)}function Yz(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(e)}function np(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Ld(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function Xz(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function Jz(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function Zz(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function eU(e){return xe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function tU(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 358.4V25.6c0-16-9.6-25.6-25.6-25.6H96C41.6 0 0 41.6 0 96v320c0 54.4 41.6 96 96 96h326.4c12.8 0 25.6-9.6 25.6-25.6v-16q0-9.6-9.6-19.2c-3.2-16-3.2-60.8 0-73.6q9.6-4.8 9.6-19.2zM144 168a8 8 0 0 1 8-8h56v-56a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v56h56a8 8 0 0 1 8 8v48a8 8 0 0 1-8 8h-56v56a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8v-56h-56a8 8 0 0 1-8-8zm236.8 280H96c-19.2 0-32-12.8-32-32s16-32 32-32h284.8z"},child:[]}]})(e)}function Vx(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function N0(e){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(e)}function zP(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function ma(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function V4(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(e)}function sU(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function nU(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function th(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function ol(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function fa(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Os(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function yi(e){return xe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function bi(e){return xe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function rU(e){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 115L69.47 307.71c-1.62 1.46-3.69 2.14-5.47 3.35V496a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V311.1c-1.7-1.16-3.72-1.82-5.26-3.2zm96 261a8 8 0 0 1-8 8h-56v56a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8v-56h-56a8 8 0 0 1-8-8v-48a8 8 0 0 1 8-8h56v-56a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v56h56a8 8 0 0 1 8 8zm186.69-139.72l-255.94-226a39.85 39.85 0 0 0-53.45 0l-256 226a16 16 0 0 0-1.21 22.6L25.5 282.7a16 16 0 0 0 22.6 1.21L277.42 81.63a16 16 0 0 1 21.17 0L527.91 283.9a16 16 0 0 0 22.6-1.21l21.4-23.82a16 16 0 0 0-1.22-22.59z"},child:[]}]})(e)}function iU(e){return xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Or(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function aU(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function oU(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function yu(e){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function po(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function UP(e){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function Zc(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function Un(e){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function Ls(e){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function lU(e){return xe({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"},child:[]}]})(e)}function cU(e){return xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"},child:[]}]})(e)}function x1(e){return xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(e)}function HP(e){return xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 160v48c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8z"},child:[]}]})(e)}function dU(e){return xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm68.53 179.48l11.31 11.31c6.25 6.25 6.25 16.38 0 22.63l-29.9 29.9L304 409.38c6.25 6.25 6.25 16.38 0 22.63l-11.31 11.31c-6.25 6.25-16.38 6.25-22.63 0L240 413.25l-30.06 30.06c-6.25 6.25-16.38 6.25-22.63 0L176 432c-6.25-6.25-6.25-16.38 0-22.63l30.06-30.06L146.74 320H128v48c0 8.84-7.16 16-16 16H96c-8.84 0-16-7.16-16-16V208c0-8.84 7.16-16 16-16h80c35.35 0 64 28.65 64 64 0 24.22-13.62 45.05-33.46 55.92L240 345.38l29.9-29.9c6.25-6.25 16.38-6.25 22.63 0zM176 272h-48v-32h48c8.82 0 16 7.18 16 16s-7.18 16-16 16zm208-150.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function B4(e){return xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function y1(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function Il(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"},child:[]}]})(e)}function rp(e){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M271.06,144.3l54.27,14.3a8.59,8.59,0,0,1,6.63,8.1c0,4.6-4.09,8.4-9.12,8.4h-35.6a30,30,0,0,1-11.19-2.2c-5.24-2.2-11.28-1.7-15.3,2l-19,17.5a11.68,11.68,0,0,0-2.25,2.66,11.42,11.42,0,0,0,3.88,15.74,83.77,83.77,0,0,0,34.51,11.5V240c0,8.8,7.83,16,17.37,16h17.37c9.55,0,17.38-7.2,17.38-16V222.4c32.93-3.6,57.84-31,53.5-63-3.15-23-22.46-41.3-46.56-47.7L282.68,97.4a8.59,8.59,0,0,1-6.63-8.1c0-4.6,4.09-8.4,9.12-8.4h35.6A30,30,0,0,1,332,83.1c5.23,2.2,11.28,1.7,15.3-2l19-17.5A11.31,11.31,0,0,0,368.47,61a11.43,11.43,0,0,0-3.84-15.78,83.82,83.82,0,0,0-34.52-11.5V16c0-8.8-7.82-16-17.37-16H295.37C285.82,0,278,7.2,278,16V33.6c-32.89,3.6-57.85,31-53.51,63C227.63,119.6,247,137.9,271.06,144.3ZM565.27,328.1c-11.8-10.7-30.2-10-42.6,0L430.27,402a63.64,63.64,0,0,1-40,14H272a16,16,0,0,1,0-32h78.29c15.9,0,30.71-10.9,33.25-26.6a31.2,31.2,0,0,0,.46-5.46A32,32,0,0,0,352,320H192a117.66,117.66,0,0,0-74.1,26.29L71.4,384H16A16,16,0,0,0,0,400v96a16,16,0,0,0,16,16H372.77a64,64,0,0,0,40-14L564,377a32,32,0,0,0,1.28-48.9Z"},child:[]}]})(e)}function b1(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320.2 243.8l-49.7 99.4c-6 12.1-23.4 11.7-28.9-.6l-56.9-126.3-30 71.7H60.6l182.5 186.5c7.1 7.3 18.6 7.3 25.7 0L451.4 288H342.3l-22.1-44.2zM473.7 73.9l-2.4-2.5c-51.5-52.6-135.8-52.6-187.4 0L256 100l-27.9-28.5c-51.5-52.7-135.9-52.7-187.4 0l-2.4 2.4C-10.4 123.7-12.5 203 31 256h102.4l35.9-86.2c5.4-12.9 23.6-13.2 29.4-.4l58.2 129.3 49-97.9c5.9-11.8 22.7-11.8 28.6 0l27.6 55.2H481c43.5-53 41.4-132.3-7.3-182.1z"},child:[]}]})(e)}function uU(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function Bx(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 492v20H0v-20c0-6.627 5.373-12 12-12h20V120c0-13.255 10.745-24 24-24h88V24c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v72h88c13.255 0 24 10.745 24 24v360h20c6.627 0 12 5.373 12 12zM308 192h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-168 64h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm104 128h-40c-6.627 0-12 5.373-12 12v84h64v-84c0-6.627-5.373-12-12-12zm64-96h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-116 12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zM182 96h26v26a6 6 0 0 0 6 6h20a6 6 0 0 0 6-6V96h26a6 6 0 0 0 6-6V70a6 6 0 0 0-6-6h-26V38a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v26h-26a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6z"},child:[]}]})(e)}function Dc(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function hU(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(e)}function mU(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function fU(e){return xe({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 0c35.346 0 64 28.654 64 64s-28.654 64-64 64-64-28.654-64-64S60.654 0 96 0m48 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H48c-26.51 0-48 21.49-48 48v136c0 13.255 10.745 24 24 24h16v136c0 13.255 10.745 24 24 24h64c13.255 0 24-10.745 24-24V352h16c13.255 0 24-10.745 24-24V192c0-26.51-21.49-48-48-48z"},child:[]}]})(e)}function $x(e){return xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function pU(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"},child:[]}]})(e)}function $4(e){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function zx(e){return xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm96 304c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48zm0-192c0 4.4-3.6 8-8 8H104c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h176c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function ip(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function qP(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 224c61.9 0 112-50.1 112-112S173.9 0 112 0 0 50.1 0 112s50.1 112 112 112zm0-160c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zm224 224c-61.9 0-112 50.1-112 112s50.1 112 112 112 112-50.1 112-112-50.1-112-112-112zm0 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zM392.3.2l31.6-.1c19.4-.1 30.9 21.8 19.7 37.8L77.4 501.6a23.95 23.95 0 0 1-19.6 10.2l-33.4.1c-19.5 0-30.9-21.9-19.7-37.8l368-463.7C377.2 4 384.5.2 392.3.2z"},child:[]}]})(e)}function Gm(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Fd(e){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M112 32C50.1 32 0 82.1 0 144v224c0 61.9 50.1 112 112 112s112-50.1 112-112V144c0-61.9-50.1-112-112-112zm48 224H64V144c0-26.5 21.5-48 48-48s48 21.5 48 48v112zm139.7-29.7c-3.5-3.5-9.4-3.1-12.3.8-45.3 62.5-40.4 150.1 15.9 206.4 56.3 56.3 143.9 61.2 206.4 15.9 4-2.9 4.3-8.8.8-12.3L299.7 226.3zm229.8-19c-56.3-56.3-143.9-61.2-206.4-15.9-4 2.9-4.3 8.8-.8 12.3l210.8 210.8c3.5 3.5 9.4 3.1 12.3-.8 45.3-62.6 40.5-150.1-15.9-206.4z"},child:[]}]})(e)}function Js(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function ap(e){return xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.8 0 0 10.8 0 24v48c0 13.2 10.8 24 24 24h336c13.2 0 24-10.8 24-24V24c0-13.2-10.8-24-24-24zM32 480c0 17.6 14.4 32 32 32h256c17.6 0 32-14.4 32-32V128H32v352zm64-184c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48z"},child:[]}]})(e)}function Ll(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function WP(e){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function Ki(e){return xe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function jn(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function pn(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function gU(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"},child:[]}]})(e)}function GP(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function z4(e){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function Uh(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function xU(e){return xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function KP(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.1 112c-34.2.5-62.3 28.4-63 62.6-.5 24.3 12.5 45.6 32 56.8V344c0 57.3-50.2 104-112 104-60 0-109.2-44.1-111.9-99.2C265 333.8 320 269.2 320 192V36.6c0-11.4-8.1-21.3-19.3-23.5L237.8.5c-13-2.6-25.6 5.8-28.2 18.8L206.4 35c-2.6 13 5.8 25.6 18.8 28.2l30.7 6.1v121.4c0 52.9-42.2 96.7-95.1 97.2-53.4.5-96.9-42.7-96.9-96V69.4l30.7-6.1c13-2.6 21.4-15.2 18.8-28.2l-3.1-15.7C107.7 6.4 95.1-2 82.1.6L19.3 13C8.1 15.3 0 25.1 0 36.6V192c0 77.3 55.1 142 128.1 156.8C130.7 439.2 208.6 512 304 512c97 0 176-75.4 176-168V231.4c19.1-11.1 32-31.7 32-55.4 0-35.7-29.2-64.5-64.9-64zm.9 80c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"},child:[]}]})(e)}function yU(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"},child:[]}]})(e)}function Vd(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function go(e){return xe({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function bU(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function Fl(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function QP(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function vU(e){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function jU(e){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"},child:[]}]})(e)}function xo(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M277.37 11.98C261.08 4.47 243.11 0 224 0c-53.69 0-99.5 33.13-118.51 80h81.19l90.69-68.02zM342.51 80c-7.9-19.47-20.67-36.2-36.49-49.52L239.99 80h102.52zM224 256c70.69 0 128-57.31 128-128 0-5.48-.95-10.7-1.61-16H97.61c-.67 5.3-1.61 10.52-1.61 16 0 70.69 57.31 128 128 128zM80 299.7V512h128.26l-98.45-221.52A132.835 132.835 0 0 0 80 299.7zM0 464c0 26.51 21.49 48 48 48V320.24C18.88 344.89 0 381.26 0 422.4V464zm256-48h-55.38l42.67 96H256c26.47 0 48-21.53 48-48s-21.53-48-48-48zm57.6-128h-16.71c-22.24 10.18-46.88 16-72.89 16s-50.65-5.82-72.89-16h-7.37l42.67 96H256c44.11 0 80 35.89 80 80 0 18.08-6.26 34.59-16.41 48H400c26.51 0 48-21.49 48-48v-41.6c0-74.23-60.17-134.4-134.4-134.4z"},child:[]}]})(e)}function ed(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(e)}function wU(e){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1L362.3 248.3C412.1 230.7 448 183.8 448 128 448 57.3 390.7 0 320 0c-67.1 0-121.5 51.8-126.9 117.4L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3zM96 422.4V464c0 26.5 21.5 48 48 48h350.2L207.4 290.3C144.2 301.3 96 356 96 422.4z"},child:[]}]})(e)}function Ux(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function Bd(e){return xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Oc(e){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function NU(e){return xe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M504 352H136.4c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0 96H136.1c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0-192H136.6c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm106.5-139L338.4 3.7a48.15 48.15 0 0 0-36.9 0L29.5 117C11.7 124.5 0 141.9 0 161.3V504c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V256c0-17.6 14.6-32 32.6-32h382.8c18 0 32.6 14.4 32.6 32v248c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V161.3c0-19.4-11.7-36.8-29.5-44.3z"},child:[]}]})(e)}function Hx(e){return xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"},child:[]}]})(e)}function bn(e,t,s){if(!s)return;let n=document.head.querySelector(`meta[${e}="${t}"]`);n||(n=document.createElement("meta"),n.setAttribute(e,t),document.head.appendChild(n)),n.setAttribute("content",s)}function SU(e){if(!e)return;let t=document.head.querySelector('link[rel="canonical"]');t||(t=document.createElement("link"),t.setAttribute("rel","canonical"),document.head.appendChild(t)),t.setAttribute("href",e)}function bu({title:e,description:t,keywords:s=null,path:n="/",schema:i=null,image:a=null,canonicalUrl:o=null,ogType:l="website"}){return x.useEffect(()=>{e&&(document.title=e),bn("name","description",t),s&&Array.isArray(s)&&s.length>0?bn("name","keywords",s.join(", ")):s&&typeof s=="string"&&bn("name","keywords",s),bn("property","og:title",e),bn("property","og:description",t),bn("property","og:type",l||"website"),bn("property","og:site_name","Docsy ERP"),bn("name","twitter:card","summary_large_image"),bn("name","twitter:title",e),bn("name","twitter:description",t);const c=window.location.origin||"https://docsyerp.in",d=o||`${c}${n}`;if(bn("property","og:url",d),SU(d),a){const m=a.startsWith("http")?a:`${c}${a}`;bn("property","og:image",m),bn("name","twitter:image",m)}const u="docsy-seo-schema",h=document.getElementById(u);if(h&&h.remove(),i){const m=document.createElement("script");m.id=u,m.type="application/ld+json",m.textContent=JSON.stringify(i),document.head.appendChild(m)}return()=>{const m=document.getElementById(u);m&&m.remove()}},[e,t,s,n,i,a,o,l]),null}const $a={getRecent:async(e=3)=>(await ee.get("/blogs/recent",{params:{limit:e}})).data,getPublicList:async({page:e=1,limit:t=9,search:s=""}={})=>(await ee.get("/blogs/public",{params:{page:e,limit:t,search:s}})).data,getPublicBySlug:async e=>(await ee.get(`/blogs/public/${e}`)).data,getManagePosts:async({page:e=1,limit:t=20}={})=>(await ee.get("/blogs/manage/posts",{params:{page:e,limit:t}})).data,createPost:async e=>(await ee.post("/blogs/manage/posts",e)).data,updatePublishStatus:async(e,t)=>(await ee.patch(`/blogs/manage/posts/${e}`,{isPublished:t})).data,deletePost:async e=>(await ee.delete(`/blogs/manage/posts/${e}`)).data},CU=[{icon:xo,title:"Patient Management",description:"Complete patient records, medical history, and appointment tracking in one place."},{icon:ap,title:"Smart Prescriptions",description:"AI-powered prescription suggestions with drug interaction alerts and dosage guidance."},{icon:NU,title:"Pharmacy Inventory",description:"Real-time stock tracking, expiry alerts, and automated reorder notifications."},{icon:cU,title:"Billing & GST",description:"Generate GST-compliant invoices, track payments, and manage financial reports."},{icon:fo,title:"WhatsApp Integration",description:"Send appointment reminders, prescriptions, and bills directly via WhatsApp."},{icon:ol,title:"Detailed Reports",description:"Comprehensive analytics and insights to grow your practice efficiently."}],PU=[{icon:Or,text:"Save hours daily on administrative work"},{icon:GP,text:"HIPAA compliant data security and routine security audits"},{icon:Bx,text:"Startup-friendly - built for growing clinics"}],kU=[{icon:hU,title:"One flow from appointment to billing",description:"Appointments, prescriptions, pharmacy, billing, and reports are connected so staff never re-enter the same data."},{icon:eU,title:"Built for fast OPD operations",description:"Faster front-desk workflow, smart templates, and quick updates during rush hours."},{icon:WP,title:"AI-powered daily assistance",description:"Smart suggestions for prescription, notes, and follow-up handling to reduce repetitive clinical work."}],AU=[{path:"/features/patient-management-system-for-clinics",label:"Patient Management System for Clinics"},{path:"/features/pharmacy-management-software-tricity",label:"Pharmacy Management Software"},{path:"/features/online-report-dashboard-software-for-clinics-hospitals",label:"Online Report Dashboard Software"},{path:"/features/smart-prescription-software-for-doctors",label:"Smart Prescription Software for Doctors"}],TU=[{title:"End-to-end clinic workflow in one software",description:"Appointments, EMR, e-prescription, pharmacy, billing, and analytics are connected to remove duplicate work."},{title:"Built for Indian clinics",description:"Designed for OPD speed, GST billing patterns, WhatsApp communication, and practical front-desk execution."},{title:"Role-based access and audit readiness",description:"Control access by doctor, receptionist, pharmacist, and admin while keeping a consistent operational trail."}],U4=[{q:"What is the best clinic management software for doctors in India?",a:"Docsy ERP is built for Indian clinics with appointments, patient records, digital prescriptions, pharmacy, billing, and reports in one cloud platform."},{q:"Does Docsy ERP support appointment booking and follow-up reminders?",a:"Yes. Clinics can manage appointment scheduling and follow-up workflows with connected patient history and operational reporting."},{q:"Can Docsy ERP manage pharmacy, billing, and reports in one place?",a:"Yes. Prescription, pharmacy inventory, billing, and report dashboards are integrated so teams do not re-enter the same data."},{q:"Is Docsy ERP suitable for small clinics and multi-doctor centers?",a:"Yes. It supports single-doctor clinics as well as multi-doctor and multi-role workflows with role-based permissions."}];function EU(){const[e,t]=x.useState(!1),[s,n]=x.useState(!1),{data:i}=Te({queryKey:["blogs-recent",3],queryFn:()=>$a.getRecent(3)}),a=(i==null?void 0:i.data)||[];return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx(bu,{title:"Best Clinic Management Software & System in India | Docsy ERP",description:"Clinic management software India for doctors and small clinics. Manage billing, EMR, appointments, pharmacy and smart reporting system.",keywords:["Clinic Management Software India","Small Clinic Software","Best Clinic Management Software & System in India","Top clinic management software in India","Clinic management software for clinics","Clinic Management Software for General Practitioners in India","Best Medical Software for Doctors","Best Clinic Management Software Solutions in India","Healthcare Management Software for Clinics","Clinic management"],path:"/",image:"/favicon.ico",schema:[{"@context":"https://schema.org","@type":"Organization",name:"Docsy ERP",url:"https://docsyerp.in"},{"@context":"https://schema.org","@type":"WebSite",name:"Docsy ERP",url:"https://docsyerp.in"},{"@context":"https://schema.org","@type":"SoftwareApplication",name:"Docsy ERP",applicationCategory:"BusinessApplication",operatingSystem:"Web",url:"https://docsyerp.in",featureList:["Patient management","Appointment scheduling","Digital prescription","Pharmacy billing and inventory","Online report dashboard"]},{"@context":"https://schema.org","@type":"FAQPage",mainEntity:U4.map(o=>({"@type":"Question",name:o.q,acceptedAnswer:{"@type":"Answer",text:o.a}}))}]}),r.jsx("nav",{className:"bg-white shadow-sm sticky top-0 z-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bx,{className:"h-8 w-8 text-blue-600"}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Docsy ERP"})]}),r.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[r.jsx("a",{href:"#features",className:"text-gray-600 hover:text-blue-600 transition",children:"Features"}),r.jsx("a",{href:"#why-choose",className:"text-gray-600 hover:text-blue-600 transition",children:"Why Choose Us"}),r.jsx(Ke,{to:"/pricing",className:"text-gray-600 hover:text-blue-600 transition",children:"Pricing"}),r.jsx("a",{href:"#reports",className:"text-gray-600 hover:text-blue-600 transition",children:"Reports"}),r.jsx(Ke,{to:"/help-center",className:"text-gray-600 hover:text-blue-600 transition",children:"Help Center"}),r.jsx(Ke,{to:"/blogs",className:"text-gray-600 hover:text-blue-600 transition",children:"Blogs"}),r.jsx(Ke,{to:"/login",className:"text-gray-600 hover:text-blue-600 transition",children:"Login"})]}),r.jsx("button",{className:"md:hidden inline-flex items-center justify-center p-2 rounded-lg border border-gray-200 text-gray-700","aria-label":s?"Close menu":"Open menu",onClick:()=>n(o=>!o),children:s?r.jsx(go,{className:"h-5 w-5"}):r.jsx(Jz,{className:"h-5 w-5"})})]}),s&&r.jsx("div",{className:"md:hidden pb-3 border-t border-gray-100",children:r.jsxs("div",{className:"flex flex-col pt-2",children:[r.jsx("a",{href:"#features",onClick:()=>n(!1),className:"px-2 py-2 text-gray-700 hover:text-blue-600",children:"Features"}),r.jsx("a",{href:"#why-choose",onClick:()=>n(!1),className:"px-2 py-2 text-gray-700 hover:text-blue-600",children:"Why Choose Us"}),r.jsx("a",{href:"#reports",onClick:()=>n(!1),className:"px-2 py-2 text-gray-700 hover:text-blue-600",children:"Reports"}),r.jsx(Ke,{to:"/pricing",onClick:()=>n(!1),className:"px-2 py-2 text-gray-700 hover:text-blue-600",children:"Pricing"}),r.jsx(Ke,{to:"/help-center",onClick:()=>n(!1),className:"px-2 py-2 text-gray-700 hover:text-blue-600",children:"Help Center"}),r.jsx(Ke,{to:"/blogs",onClick:()=>n(!1),className:"px-2 py-2 text-gray-700 hover:text-blue-600",children:"Blogs"}),r.jsx(Ke,{to:"/login",onClick:()=>n(!1),className:"px-2 py-2 text-gray-700 hover:text-blue-600",children:"Login"})]})})]})}),r.jsxs("section",{className:"relative bg-gradient-to-br from-blue-50 via-white to-indigo-50 pt-16 pb-32 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"inline-flex items-center bg-blue-100 text-blue-700 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[r.jsx(xU,{className:"mr-2"})," Built for startups & growing clinics"]}),r.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight mb-6",children:["Smart Healthcare Management for"," ",r.jsx("span",{className:"text-blue-600",children:"Modern Clinics"})]}),r.jsx("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"Streamline your practice with intelligent patient management, smart prescriptions, and seamless billing. Everything you need to run a successful clinic."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx(Ke,{to:"/register",className:"inline-flex items-center justify-center bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-blue-700 transition",children:"Start with Free Trial"}),r.jsx("button",{onClick:()=>t(!0),className:"inline-flex items-center justify-center border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-lg text-lg font-semibold hover:border-blue-600 hover:text-blue-600 transition",children:"Book a Demo"})]}),r.jsx("div",{className:"mt-8 flex items-center gap-8",children:PU.map((o,l)=>r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(o.icon,{className:"text-green-500 mr-2"}),o.text]},l))})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl blur-2xl opacity-20"}),r.jsx("img",{src:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=800",alt:"Doctor using tablet",className:"relative rounded-2xl shadow-2xl"})]})})]})})]}),r.jsx("section",{id:"features",className:"py-24 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything You Need to Run Your Clinic"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Powerful features designed specifically for Indian healthcare providers"})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:CU.map((o,l)=>r.jsxs("div",{className:"group p-8 rounded-2xl border border-gray-100 hover:border-blue-100 hover:shadow-xl hover:shadow-blue-600/5 transition-all duration-300",children:[r.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-xl flex items-center justify-center mb-6 group-hover:bg-blue-600 transition-colors",children:r.jsx(o.icon,{className:"text-2xl text-blue-600 group-hover:text-white transition-colors"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:o.title}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:o.description})]},l))})]})}),r.jsx("section",{className:"py-14 bg-gray-50 border-y border-gray-100",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:"Specialized Solutions by Department"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Explore detailed feature pages designed around high-intent clinic management keywords."}),r.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:AU.map(o=>r.jsxs(Ke,{to:o.path,className:"group flex items-center justify-between bg-white rounded-xl border border-gray-200 px-5 py-4 hover:border-blue-200 hover:shadow-sm transition",children:[r.jsx("span",{className:"font-medium text-gray-800 group-hover:text-blue-700",children:o.label}),r.jsx(Ld,{className:"text-gray-400 group-hover:text-blue-600"})]},o.path))})]})}),r.jsx("section",{className:"py-24 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"What Makes Docsy ERP Different"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Focused on connected clinic workflows, practical automation, and faster staff execution."})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:kU.map(o=>r.jsxs("div",{className:"rounded-2xl border border-gray-100 p-7 bg-white shadow-sm",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center mb-5",children:r.jsx(o.icon,{className:"text-blue-700 text-xl"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:o.title}),r.jsx("p",{className:"text-gray-600",children:o.description})]},o.title))})]})}),r.jsx("section",{className:"py-24 bg-gradient-to-br from-slate-50 to-blue-50 border-y border-blue-100",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-14",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Invoice Upload Review & Smart Ledger"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto",children:"Two powerful features that remove tedious manual work and keep your clinic accounts accurate."})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-7",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-11 h-11 rounded-lg bg-blue-100 flex items-center justify-center",children:r.jsx(B4,{className:"text-blue-700"})}),r.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:"Invoice Upload & Review"})]}),r.jsx("p",{className:"text-gray-600 mb-5",children:"Upload supplier invoices, review extracted values, and confirm in minutes instead of entering line-by-line manually."}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[r.jsxs("div",{className:"rounded-lg bg-blue-50 border border-blue-100 p-3 text-center",children:[r.jsx(B4,{className:"mx-auto mb-2 text-blue-600"}),"Upload"]}),r.jsxs("div",{className:"rounded-lg bg-indigo-50 border border-indigo-100 p-3 text-center",children:[r.jsx(yU,{className:"mx-auto mb-2 text-indigo-600"}),"Review"]}),r.jsxs("div",{className:"rounded-lg bg-emerald-50 border border-emerald-100 p-3 text-center",children:[r.jsx(fa,{className:"mx-auto mb-2 text-emerald-600"}),"Finalize"]})]}),r.jsxs("ul",{className:"mt-6 space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Os,{className:"text-green-500 mt-1"}),"Reduces data-entry effort for pharmacy purchase bills."]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Os,{className:"text-green-500 mt-1"}),"Cuts human mistakes by adding a review step before final save."]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Os,{className:"text-green-500 mt-1"}),"Saves staff time during high-volume billing days."]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-7",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-11 h-11 rounded-lg bg-amber-100 flex items-center justify-center",children:r.jsx(Vx,{className:"text-amber-700"})}),r.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:"Ledger That Stays Updated"})]}),r.jsx("p",{className:"text-gray-600 mb-5",children:"Automatically connected ledger entries help clinics track payable/receivable flow and make better cash decisions every day."}),r.jsxs("div",{className:"rounded-xl bg-slate-50 border border-slate-200 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-200",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Purchase Entry"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Posted to Ledger"})]}),r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-200",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Sales Collection"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Auto Reconciled"})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Daily Summary"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Ready for Review"})]})]}),r.jsxs("ul",{className:"mt-6 space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Os,{className:"text-green-500 mt-1"}),"Reduces bookkeeping confusion across counter, billing, and pharmacy."]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Os,{className:"text-green-500 mt-1"}),"Makes audit and month-end reconciliation faster."]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Os,{className:"text-green-500 mt-1"}),"Improves visibility of clinic financial health in real time."]})]})]})]})]})}),r.jsx("section",{id:"why-choose",className:"py-24 bg-gradient-to-br from-blue-600 to-indigo-700",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Why Doctors Choose Docsy ERP"}),r.jsx("p",{className:"text-blue-100 text-lg mb-8",children:"Built to improve consultation speed, reduce billing leakages, and increase repeat patient retention through better follow-up and service quality."}),r.jsx("ul",{className:"space-y-4",children:["Faster front desk and OPD execution with fewer manual errors","Higher patient trust with clear digital prescriptions and records","Follow-up tracking helps improve revisit conversion","Revenue visibility by doctor, service, and billing category","Cloud access for owners to monitor clinic performance anywhere","Dedicated onboarding and support for clinic teams"].map((o,l)=>r.jsxs("li",{className:"flex items-center text-white",children:[r.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:r.jsx(Os,{className:"text-white text-xs"})}),o]},l))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"Startup"}),r.jsx("div",{className:"text-blue-100",children:"Friendly Pricing"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"HIPAA"}),r.jsx("div",{className:"text-blue-100",children:"Compliant"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"Custom"}),r.jsx("div",{className:"text-blue-100",children:"Dashboard & Reports"})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"24/7"}),r.jsx("div",{className:"text-blue-100",children:"Support"})]})]})]})})}),r.jsx("section",{id:"reports",className:"py-24 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Beautiful, Actionable Reports"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Export-ready, presentation-grade reports that help you understand your clinic performance at a glance."})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[r.jsx("div",{children:r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start gap-4",children:[r.jsx(Os,{className:"text-green-500 mt-1"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:"Attractive pre-built report templates"}),r.jsx("div",{className:"text-gray-600",children:"Charts, tables, and downloadable PDFs for stakeholders and auditors."})]})]}),r.jsxs("li",{className:"flex items-start gap-4",children:[r.jsx(Os,{className:"text-green-500 mt-1"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:"Custom report builder"}),r.jsx("div",{className:"text-gray-600",children:"Create tailored reports with your clinic metrics without extra cost."})]})]}),r.jsxs("li",{className:"flex items-start gap-4",children:[r.jsx(Os,{className:"text-green-500 mt-1"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:"Schedule & share"}),r.jsx("div",{className:"text-gray-600",children:"Automatically email or send reports via WhatsApp to your team."})]})]})]})}),r.jsx("div",{children:r.jsx("img",{src:"https://images.unsplash.com/photo-1559526324-593bc073d938?w=900",alt:"Reports preview",className:"rounded-2xl shadow-lg"})})]})]})}),r.jsx("section",{id:"customization",className:"py-24 bg-gradient-to-br from-blue-50 to-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How Docsy ERP Makes Daily Work Awesome"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From reception to doctor to pharmacy, every step is faster, clearer, and easier to manage."})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-2xl border",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Custom Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Choose widgets, arrange KPIs, and create role-based screens for doctors, reception, and accountants."})]}),r.jsxs("div",{className:"bg-white p-6 rounded-2xl border",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Prescription & Billing"}),r.jsx("p",{className:"text-gray-600",children:"Generate prescriptions and invoices quickly, then share by WhatsApp or print in one click."})]}),r.jsxs("div",{className:"bg-white p-6 rounded-2xl border",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"WhatsApp Bot (Upcoming)"}),r.jsx("p",{className:"text-gray-600",children:"Operate key clinic actions through WhatsApp commands like reminders, summaries, and updates."})]})]})]})}),r.jsx("section",{id:"ai-mobile",className:"py-24 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How AI Makes Clinic Life Easier"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto mb-8",children:"Docsy ERP uses practical AI support for prescription drafting, consultation note structuring, and smart operational suggestions so doctors and staff can finish routine tasks faster with confidence."}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-left",children:[r.jsxs("div",{className:"border border-gray-100 rounded-xl p-5",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Smarter Documentation"}),r.jsx("p",{className:"text-gray-600",children:"AI helps standardize notes and avoid missing important consultation details."})]}),r.jsxs("div",{className:"border border-gray-100 rounded-xl p-5",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Prescription Support"}),r.jsx("p",{className:"text-gray-600",children:"Assistive suggestions reduce repetitive typing and improve clarity for patients."})]}),r.jsxs("div",{className:"border border-gray-100 rounded-xl p-5",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Operational Guidance"}),r.jsx("p",{className:"text-gray-600",children:"AI-backed signals highlight pending follow-ups and bottlenecks before they grow."})]})]})]})}),r.jsx("section",{className:"py-20 bg-white border-t border-gray-100",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Recent Blogs"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Clinical workflow tips and product updates"})]}),r.jsx(Ke,{to:"/blogs",className:"text-blue-600 hover:text-blue-700 font-medium",children:"View all"})]}),a.length===0?r.jsx("div",{className:"rounded-xl border border-gray-100 bg-gray-50 p-6 text-gray-600",children:"Blogs will appear here after publishing."}):r.jsx("div",{className:"grid md:grid-cols-3 gap-5",children:a.map(o=>{var l;return r.jsxs("article",{className:"rounded-xl border border-gray-100 bg-white overflow-hidden shadow-sm",children:[o.coverImage&&r.jsx("img",{src:o.coverImage,alt:o.title,className:"w-full h-44 object-cover"}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.title}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((l=o.clinic)==null?void 0:l.name)||"Docsy ERP","  ",new Date(o.publishedAt||o.createdAt).toLocaleDateString("en-GB")]}),r.jsx("p",{className:"text-sm text-gray-600 mt-3",children:o.excerpt||""}),r.jsx(Ke,{to:`/blogs/${o.slug}`,className:"inline-flex mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Read post"})]})]},o.id)})})]})}),r.jsx("section",{className:"py-20 bg-gray-50 border-y border-gray-100",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Clinics Switch to Docsy ERP"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto",children:"A practical clinic management software built to improve consultation speed, billing accuracy, and decision quality."})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:TU.map(o=>r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o.title}),r.jsx("p",{className:"text-gray-600",children:o.description})]},o.title))})]})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-10",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-gray-600",children:"Answers to common questions about Docsy ERP clinic software."})]}),r.jsx("div",{className:"space-y-3",children:U4.map(o=>r.jsxs("details",{className:"rounded-xl border border-gray-200 bg-white p-4",children:[r.jsx("summary",{className:"font-medium text-gray-900 cursor-pointer",children:o.q}),r.jsx("p",{className:"mt-2 text-gray-700",children:o.a})]},o.q))})]})}),r.jsx("section",{id:"g-a-ai",className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"GA AI"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-6",children:"GA AI provides intelligent assistance for clinical notes, prescriptions, and business insights - multilingual support and contextual suggestions to speed up your workflow."}),r.jsx("p",{className:"text-sm text-gray-400",children:"Copyright (c) GA AI"})]})}),r.jsx("section",{className:"py-24 bg-gradient-to-br from-gray-900 to-gray-800",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Practice?"}),r.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Join 500+ clinics already using Docsy ERP to deliver better patient care."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(Ke,{to:"/register",className:"inline-flex items-center justify-center bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-blue-700 transition",children:"Start with Free Trial"}),r.jsx("button",{onClick:()=>t(!0),className:"inline-flex items-center justify-center border-2 border-gray-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:border-white transition",children:"Schedule Demo"})]})]})}),e&&r.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4",children:r.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Book a Demo"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Contact us to schedule your demo."})]}),r.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700 text-sm font-medium",children:"Close"})]}),r.jsxs("div",{className:"mt-5 space-y-3",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Email"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("a",{href:"mailto:support@docsyerp.com",className:"block text-blue-700 font-medium",children:"support@docsyerp.com"}),r.jsx("a",{href:"mailto:docsy360@gmail.com",className:"block text-blue-700 font-medium",children:"docsy360@gmail.com"})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 p-3",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Phone"}),r.jsx("a",{href:"tel:8284073790",className:"block text-blue-700 font-medium",children:"8284073790"}),r.jsx("a",{href:"tel:9306845764",className:"block text-blue-700 font-medium",children:"9306845764"})]})]})]})}),r.jsx("footer",{className:"bg-gray-900 pt-16 pb-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx(Bx,{className:"h-8 w-8 text-blue-500"}),r.jsx("span",{className:"text-xl font-bold text-white",children:"Docsy ERP"})]}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Smart healthcare management for modern clinics across India."}),r.jsxs("div",{className:"text-gray-400 space-y-1 text-sm",children:[r.jsx("p",{children:"support@docsyerp.com"}),r.jsx("p",{children:"docsy360@gmail.com"}),r.jsx("p",{children:"8284073790, 9306845764"})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[r.jsx("a",{href:"https://www.facebook.com/profile.php?id=61587785650391",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition","aria-label":"Facebook Page",title:"Facebook Page",children:r.jsx(qz,{className:"h-5 w-5"})}),r.jsx("a",{href:"https://www.youtube.com/channel/UCC_jW5UEsW0xaasPXVtkfgw",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition","aria-label":"YouTube Channel",title:"YouTube Channel",children:r.jsx(Kz,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white transition",children:"Features"})}),r.jsx("li",{children:r.jsx(Ke,{to:"/features/patient-management-system-for-clinics",className:"text-gray-400 hover:text-white transition",children:"Patient Management"})}),r.jsx("li",{children:r.jsx(Ke,{to:"/features/pharmacy-management-software-tricity",className:"text-gray-400 hover:text-white transition",children:"Pharmacy Software"})}),r.jsx("li",{children:r.jsx(Ke,{to:"/features/smart-prescription-software-for-doctors",className:"text-gray-400 hover:text-white transition",children:"Smart Prescription"})}),r.jsx("li",{children:r.jsx(Ke,{to:"/pricing",className:"text-gray-400 hover:text-white transition",children:"Pricing"})}),r.jsx("li",{children:r.jsx(Ke,{to:"/blogs",className:"text-gray-400 hover:text-white transition",children:"Blogs"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(Ke,{to:"/features/patient-management-system-for-clinics",className:"text-gray-400 hover:text-white transition",children:"Patient Management"})}),r.jsx("li",{children:r.jsx(Ke,{to:"/features/pharmacy-management-software-tricity",className:"text-gray-400 hover:text-white transition",children:"Pharmacy Software"})}),r.jsx("li",{children:r.jsx(Ke,{to:"/pricing",className:"text-gray-400 hover:text-white transition",children:"Pricing"})}),r.jsx("li",{children:r.jsx(Ke,{to:"/blogs",className:"text-gray-400 hover:text-white transition",children:"Blogs"})}),r.jsx("li",{children:r.jsx(Ke,{to:"/login",className:"text-gray-400 hover:text-white transition",children:"Login"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold mb-4",children:"Legal"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(Ke,{to:"/privacy",className:"text-gray-400 hover:text-white transition",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx(Ke,{to:"/terms",className:"text-gray-400 hover:text-white transition",children:"Terms of Service"})}),r.jsx("li",{children:r.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white transition",children:"Features"})}),r.jsx("li",{children:r.jsx("a",{href:"#reports",className:"text-gray-400 hover:text-white transition",children:"Reports"})})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 pt-8 text-center",children:r.jsxs("p",{className:"text-gray-400",children:["(c) ",new Date().getFullYear()," Docsy ERP. All rights reserved."]})})]})})]})}const _U=[{id:"trial",name:"Free Trial",price:"INR 0",period:"/14 days",badge:"No Card Needed",description:"Try core workflows and onboarding support before paying.",cta:"Start Free Trial",ctaTo:"/register",featured:!1,features:["10 invoice uploads total","Core modules enabled","Email support"]},{id:"starter",name:"Starter",price:"INR 999",period:"/month",badge:"Most Popular",description:"For growing clinics that need complete daily operations.",cta:"Choose Starter",ctaTo:"/register",featured:!0,features:["3 staff logins included","100 invoice uploads per month","Extra user: INR 249/month","6 months prepay: 10% off","12 months prepay: 20% off"]},{id:"higher",name:"Higher Plan",price:"Custom",period:"",badge:"Scale Plan",description:"For high-volume clinics with custom limits and onboarding.",cta:"Contact Sales",ctaTo:"/login",featured:!1,features:["300+ invoice uploads per month","Higher user-seat bundles","Priority onboarding","Custom access controls"]}],MU=[["Trial Duration","14 days","-","-"],["Included Users","1","3","Custom"],["Monthly Uploads","10 total","100/month","300+/month"],["Extra User Price","-","INR 249","Custom"],["6-Month Discount","-","10%","Custom"],["12-Month Discount","-","20%","Custom"],["Referral Reward","Eligible after paid plan","10% annual discount","10% annual discount"]];function DU(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[r.jsx(bu,{title:"Docsy ERP Pricing for Indian Clinics",description:"Professional pricing for Indian clinics: start with a 14-day free trial, then scale with clear monthly plans.",path:"/pricing"}),r.jsx("section",{className:"border-b border-slate-200/70 bg-white/80 backdrop-blur",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-14",children:r.jsxs("div",{className:"max-w-3xl",children:[r.jsx("p",{className:"text-sm font-semibold tracking-[0.14em] uppercase text-blue-700",children:"Pricing"}),r.jsx("h1",{className:"mt-3 text-4xl md:text-5xl font-bold text-slate-900 leading-tight",children:"Professional Plans For Clinics That Need Predictable Growth"}),r.jsx("p",{className:"mt-4 text-lg text-slate-600",children:"Start with a free trial, then move to a clear monthly plan with controlled limits and strong access management."}),r.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 text-sm text-slate-600",children:[r.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1",children:"14-day trial"}),r.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1",children:"INR 999 starter"}),r.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1",children:"3-day grace period"})]})]})})}),r.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.jsx("div",{className:"grid lg:grid-cols-3 gap-6",children:_U.map(e=>r.jsxs("article",{className:`rounded-2xl border bg-white p-6 shadow-sm ${e.featured?"border-blue-300 ring-2 ring-blue-100":"border-slate-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e.name}),r.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-blue-700 bg-blue-50 px-2.5 py-1 rounded-full",children:e.badge})]}),r.jsxs("div",{className:"mt-4 flex items-end gap-1",children:[r.jsx("p",{className:"text-3xl font-bold text-slate-900",children:e.price}),e.period&&r.jsx("p",{className:"text-slate-500 mb-1",children:e.period})]}),r.jsx("p",{className:"mt-2 text-sm text-slate-600",children:e.description}),r.jsx("ul",{className:"mt-5 space-y-2 text-sm text-slate-700",children:e.features.map(t=>r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{className:"text-emerald-600",children:""}),r.jsx("span",{children:t})]},t))}),r.jsx(Ke,{to:e.ctaTo,className:`mt-6 inline-flex w-full justify-center rounded-lg px-4 py-2.5 font-semibold transition ${e.featured?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-100 text-slate-800 hover:bg-slate-200"}`,children:e.cta})]},e.id))})}),r.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-14",children:[r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-5 border-b border-slate-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Plan Comparison"}),r.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Everything important, side by side."})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-[720px] text-sm",children:[r.jsx("thead",{className:"bg-slate-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left px-6 py-3 font-semibold text-slate-700",children:"Feature"}),r.jsx("th",{className:"text-left px-6 py-3 font-semibold text-slate-700",children:"Trial"}),r.jsx("th",{className:"text-left px-6 py-3 font-semibold text-slate-700",children:"Starter"}),r.jsx("th",{className:"text-left px-6 py-3 font-semibold text-slate-700",children:"Higher"})]})}),r.jsx("tbody",{children:MU.map(e=>r.jsxs("tr",{className:"border-t border-slate-100",children:[r.jsx("td",{className:"px-6 py-3 font-medium text-slate-800",children:e[0]}),r.jsx("td",{className:"px-6 py-3 text-slate-600",children:e[1]}),r.jsx("td",{className:"px-6 py-3 text-slate-600",children:e[2]}),r.jsx("td",{className:"px-6 py-3 text-slate-600",children:e[3]})]},e[0]))})]})})]}),r.jsxs("div",{className:"mt-8 rounded-2xl border border-blue-200 bg-blue-50 p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:"Billing and Access Rules"}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-700",children:[r.jsx("li",{children:" Renewal reminders at T-7, T-3 and T-1."}),r.jsx("li",{children:" 3-day grace period after expiry."}),r.jsx("li",{children:" Post-grace account becomes read-only with upgrade prompt."})]})]})]})]})}const S0=[{id:"cannot-create-patient",title:"I am not able to create a patient",module:"Patients",problem:"Save button does not work, form shows error, or patient not visible after save.",steps:["Go to Patients and click Add Patient.","Fill required fields: Patient Name and Phone.","Check phone format and remove extra spaces/special characters.","Click Save and wait for success message.","Search by patient name or phone to verify record."],checks:["Your role must have patient create permission.","Phone should not duplicate an existing patient in same clinic if uniqueness rules apply.","Session should be active (if logged out, login again)."],keywords:["patient","create patient","unable to save patient","patient form","add patient"]},{id:"access-management",title:"How Access Management works",module:"Settings > Access Management",problem:"Staff cannot see menu/items or cannot perform create/edit actions.",steps:["Open Settings and go to Role Permissions / Access controls.","Select role (Receptionist, Pharmacist, Doctor, Accountant, Staff).","Enable required permissions (read/create/update/delete based on workflow).","Save changes and ask user to refresh or re-login.","Verify by checking visible sidebar menu and action buttons."],checks:["If super admin disabled a module, clinic users cannot access it even with role permission.","While viewing-as another staff user, UI follows that staff permissions.","Check both role mapping and disabled permissions list."],keywords:["access","permission","role","not able to open module","menu missing"]},{id:"pharmacy-first-setup",title:"How to setup a new pharmacy in system",module:"Pharmacy",problem:"New clinic does not know initial pharmacy setup sequence.",steps:["Open Pharmacy and add basic products with name, category, unit, price, and stock.","Create supplier records from Pharmacy Suppliers.","Add purchases so stock and cost history become accurate.","Set low-stock threshold and expiry information per item.","Use upload/import option for bulk onboarding if existing inventory is large."],checks:["Pharmacy role permission must be enabled for the logged-in user.","Product GST and price fields should be correctly set before billing.","After setup, test one pharmacy bill to validate stock deduction."],keywords:["pharmacy setup","inventory setup","new pharmacy","stock setup","supplier setup"]},{id:"prescription-workflow",title:"How to create and print prescription correctly",module:"Prescriptions",problem:"Timing/instructions missing, print output not as expected.",steps:["Open Prescriptions and create a new prescription.","Add diagnosis, medicine, dosage, timing, and food instruction clearly.","Review preview before final save.","Open prescription detail and verify instructions section.","Use print option only after confirming full medicine instructions are visible."],checks:["Doctor role or prescription create permission is required.","Do not skip instruction fields for each medicine.","Refresh prescription detail page if stale data appears."],keywords:["prescription","print prescription","medicine timing","instruction missing"]},{id:"billing-and-payment",title:"How to create bill and track payment status",module:"Billing",problem:"Invoices are created but collection status is unclear.",steps:["Go to Billing and create a new bill linked to patient.","Add line items and verify amount before save.","Set payment mode and paid amount (full or partial).","Save and print/share invoice.","Use billing list filters for paid/pending/partial tracking."],checks:["Billing create permission must be enabled.","If editing bill is blocked, check billing edit permission.","Use reports to reconcile daily collection totals."],keywords:["billing","invoice","payment status","pending bill","partial payment"]},{id:"staff-onboarding",title:"How to add staff and assign role correctly",module:"Staff",problem:"New staff added but cannot use required modules.",steps:["Open Staff and add staff profile with valid role.","Share login credentials and ask user to login once.","Configure role permissions from Access Management.","Confirm sidebar modules visible for that role.","Test one action per module (read/create) as needed."],checks:["Staff limit may block new additions depending on plan.","Inactive user status will prevent login.","Permission update may need re-login to fully reflect."],keywords:["add staff","role assignment","staff login","staff cannot access"]},{id:"subscription-read-only",title:"Clinic became read-only after subscription expiry",module:"Subscription",problem:"Clinic cannot perform create/update actions due to expiry.",steps:["Check subscription status in dashboard banner.","Upgrade/renew plan from pricing flow if available.","If urgent, contact super admin for manual extension.","After extension/renewal, refresh session and retry action."],checks:["System gives reminders at T-7, T-3, T-1 days before expiry.","Grace period is available for short continuation.","Post grace, read-only mode blocks writes until renewal/extension."],keywords:["read only","subscription expired","grace period","cannot create data"]}],OU=[{step:"Quick Start for New Clinic Admin",items:["Complete clinic profile in Settings.","Add staff users and assign roles.","Configure Access Management before daily usage.","Create first patient, appointment, prescription, and bill as dry run."]},{step:"Daily Front Desk Flow",items:["Register/search patient.","Create appointment and manage queue.","After consultation, complete billing and payment status."]},{step:"Pharmacy Daily Flow",items:["Update purchase entries and stock quantities.","Check low-stock/expiry-sensitive items.","Validate product pricing before dispensing."]},{step:"End of Day Admin Review",items:["Review dashboard alerts and pending actions.","Check reports for OPD, revenue, and collections.","Verify staff access issues and resolve permissions."]}],RU=["AI-assisted prescription support helps faster drafting and consistency.","AI-oriented clinical note support reduces repetitive typing burden.","Connected workflow context improves operational guidance across modules."];function IU(e){return String(e||"").toLowerCase().trim()}function LU(){const[e,t]=x.useState(""),s=x.useRef(null),n=x.useMemo(()=>{const a=IU(e);return a?S0.filter(o=>[o.title,o.module,o.problem,...o.steps||[],...o.checks||[],...o.keywords||[]].join(" ").toLowerCase().includes(a)):S0},[e]),i=a=>{a.preventDefault(),s.current&&(s.current.scrollIntoView({behavior:"smooth",block:"start"}),s.current.focus())};return r.jsxs("div",{className:"min-h-screen bg-slate-50",children:[r.jsx(bu,{title:"Help Center | Docsy ERP",description:"User-focused Docsy ERP Help Center for how-to guides and troubleshooting across patients, access management, pharmacy, billing, and more.",keywords:["docsy help center","clinic software user guide","how to create patient","access management help","pharmacy setup guide"],path:"/help-center"}),r.jsx("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-indigo-900 text-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-14",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(tU,{className:"text-2xl text-blue-200"}),r.jsx("p",{className:"text-blue-200 uppercase tracking-wider text-sm font-semibold",children:"User Help Center"})]}),r.jsx("h1",{className:"text-3xl md:text-5xl font-bold leading-tight",children:"Understand Features and Solve Common Issues Fast"}),r.jsx("p",{className:"mt-4 text-blue-100 max-w-3xl",children:'Search by problem, for example: "not able to create patient", "access management", "pharmacy setup", "read only mode".'}),r.jsxs("form",{className:"mt-8 max-w-3xl relative",onSubmit:i,children:[r.jsx(pn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:e,onChange:a=>t(a.target.value),placeholder:"Search help: create patient, permission issue, pharmacy setup...",className:"w-full rounded-xl pl-12 pr-4 py-3 text-gray-900 bg-white border border-white/30 focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),r.jsxs("p",{className:"mt-3 text-sm text-blue-200",children:["Showing ",n.length," of ",S0.length," help topics"]})]})}),r.jsxs("div",{id:"quick-guide",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-8",children:[r.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 md:p-8",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(iU,{className:"text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Quick Guide"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:OU.map(a=>r.jsxs("div",{className:"rounded-xl border border-gray-200 p-4 bg-gray-50",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:a.step}),r.jsx("ul",{className:"space-y-1.5",children:a.items.map(o=>r.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[r.jsx(fa,{className:"text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:o})]},o))})]},a.step))})]}),r.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 md:p-8",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(WP,{className:"text-indigo-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"AI-Supported Help"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:RU.map(a=>r.jsx("div",{className:"rounded-xl border border-indigo-100 bg-indigo-50 p-4 text-sm text-indigo-900",children:a},a))})]}),r.jsxs("section",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{ref:s,tabIndex:-1,className:"text-2xl font-bold text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-300 rounded",children:"How-To and Troubleshooting"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Problem-first guides for users"})]}),n.length===0?r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 text-center text-gray-600",children:['No matching help topic found for "',r.jsx("span",{className:"font-semibold",children:e}),'".']}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n.map(a=>r.jsxs("article",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a.title}),r.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 rounded-full px-2 py-1",children:a.module})]}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:a.problem}),r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Steps"}),r.jsx("ul",{className:"space-y-1.5",children:a.steps.map(o=>r.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[r.jsx(fa,{className:"text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:o})]},o))})]}),r.jsxs("div",{className:"mt-4 rounded-lg border border-amber-200 bg-amber-50 p-3",children:[r.jsxs("p",{className:"text-sm font-semibold text-amber-900 mb-2 inline-flex items-center gap-2",children:[r.jsx(bU,{}),"Troubleshooting Checks"]}),r.jsx("ul",{className:"space-y-1.5",children:a.checks.map(o=>r.jsxs("li",{className:"text-sm text-amber-900",children:["- ",o]},o))})]})]},a.id))})]}),r.jsx("section",{className:"bg-slate-900 text-white rounded-2xl p-6 md:p-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(GP,{className:"text-blue-300"}),r.jsx("h3",{className:"text-xl font-semibold",children:"Still Blocked?"})]}),r.jsx("p",{className:"text-slate-200 text-sm",children:"If issue continues after following the guide, contact your clinic admin (for permissions) or support team with screenshot and exact error text."})]}),r.jsx("div",{className:"flex md:justify-end items-center",children:r.jsxs(Ke,{to:"/dashboard",className:"inline-flex items-center gap-2 bg-white text-slate-900 rounded-lg px-4 py-2 font-medium hover:bg-slate-100 transition",children:[r.jsx(ed,{}),"Open Dashboard",r.jsx(Ld,{})]})})]})}),r.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 md:p-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Contact Support"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Reach our support team directly if you need setup help, access troubleshooting, or urgent assistance."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 p-4 bg-gray-50",children:[r.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:"Email"}),r.jsx("p",{className:"text-gray-700",children:"support@docsyerp.in"}),r.jsx("p",{className:"text-gray-700",children:"docsy360@gmail.com"})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 p-4 bg-gray-50",children:[r.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:"Phone"}),r.jsx("p",{className:"text-gray-700",children:"+91 9306845764"}),r.jsx("p",{className:"text-gray-700",children:"+91 8284073790"})]})]})]})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function vu(e){return e+.5|0}const Qi=(e,t,s)=>Math.max(Math.min(e,s),t);function Rc(e){return Qi(vu(e*2.55),0,255)}function la(e){return Qi(vu(e*255),0,255)}function Gr(e){return Qi(vu(e/2.55)/100,0,1)}function H4(e){return Qi(vu(e*100),0,100)}const Ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qx=[..."0123456789ABCDEF"],FU=e=>qx[e&15],VU=e=>qx[(e&240)>>4]+qx[e&15],sh=e=>(e&240)>>4===(e&15),BU=e=>sh(e.r)&&sh(e.g)&&sh(e.b)&&sh(e.a);function $U(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&Ln[e[1]]*17,g:255&Ln[e[2]]*17,b:255&Ln[e[3]]*17,a:t===5?Ln[e[4]]*17:255}:(t===7||t===9)&&(s={r:Ln[e[1]]<<4|Ln[e[2]],g:Ln[e[3]]<<4|Ln[e[4]],b:Ln[e[5]]<<4|Ln[e[6]],a:t===9?Ln[e[7]]<<4|Ln[e[8]]:255})),s}const zU=(e,t)=>e<255?t(e):"";function UU(e){var t=BU(e)?FU:VU;return e?"#"+t(e.r)+t(e.g)+t(e.b)+zU(e.a,t):void 0}const HU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function YP(e,t,s){const n=t*Math.min(s,1-s),i=(a,o=(a+e/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function qU(e,t,s){const n=(i,a=(i+e/60)%6)=>s-s*t*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function WU(e,t,s){const n=YP(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function GU(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function v1(e){const s=e.r/255,n=e.g/255,i=e.b/255,a=Math.max(s,n,i),o=Math.min(s,n,i),l=(a+o)/2;let c,d,u;return a!==o&&(u=a-o,d=l>.5?u/(2-a-o):u/(a+o),c=GU(s,n,i,u,a),c=c*60+.5),[c|0,d||0,l]}function j1(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(la)}function w1(e,t,s){return j1(YP,e,t,s)}function KU(e,t,s){return j1(WU,e,t,s)}function QU(e,t,s){return j1(qU,e,t,s)}function XP(e){return(e%360+360)%360}function YU(e){const t=HU.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?Rc(+t[5]):la(+t[5]));const i=XP(+t[2]),a=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=KU(i,a,o):t[1]==="hsv"?n=QU(i,a,o):n=w1(i,a,o),{r:n[0],g:n[1],b:n[2],a:s}}function XU(e,t){var s=v1(e);s[0]=XP(s[0]+t),s=w1(s),e.r=s[0],e.g=s[1],e.b=s[2]}function JU(e){if(!e)return;const t=v1(e),s=t[0],n=H4(t[1]),i=H4(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${Gr(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const q4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},W4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ZU(){const e={},t=Object.keys(W4),s=Object.keys(q4);let n,i,a,o,l;for(n=0;n<t.length;n++){for(o=l=t[n],i=0;i<s.length;i++)a=s[i],l=l.replace(a,q4[a]);a=parseInt(W4[o],16),e[l]=[a>>16&255,a>>8&255,a&255]}return e}let nh;function eH(e){nh||(nh=ZU(),nh.transparent=[0,0,0,0]);const t=nh[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const tH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sH(e){const t=tH.exec(e);let s=255,n,i,a;if(t){if(t[7]!==n){const o=+t[7];s=t[8]?Rc(o):Qi(o*255,0,255)}return n=+t[1],i=+t[3],a=+t[5],n=255&(t[2]?Rc(n):Qi(n,0,255)),i=255&(t[4]?Rc(i):Qi(i,0,255)),a=255&(t[6]?Rc(a):Qi(a,0,255)),{r:n,g:i,b:a,a:s}}}function nH(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Gr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const C0=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,To=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function rH(e,t,s){const n=To(Gr(e.r)),i=To(Gr(e.g)),a=To(Gr(e.b));return{r:la(C0(n+s*(To(Gr(t.r))-n))),g:la(C0(i+s*(To(Gr(t.g))-i))),b:la(C0(a+s*(To(Gr(t.b))-a))),a:e.a+s*(t.a-e.a)}}function rh(e,t,s){if(e){let n=v1(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=w1(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function JP(e,t){return e&&Object.assign(t||{},e)}function G4(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=la(e[3]))):(t=JP(e,{r:0,g:0,b:0,a:1}),t.a=la(t.a)),t}function iH(e){return e.charAt(0)==="r"?sH(e):YU(e)}class $d{constructor(t){if(t instanceof $d)return t;const s=typeof t;let n;s==="object"?n=G4(t):s==="string"&&(n=$U(t)||eH(t)||iH(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=JP(this._rgb);return t&&(t.a=Gr(t.a)),t}set rgb(t){this._rgb=G4(t)}rgbString(){return this._valid?nH(this._rgb):void 0}hexString(){return this._valid?UU(this._rgb):void 0}hslString(){return this._valid?JU(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let a;const o=s===a?.5:s,l=2*o-1,c=n.a-i.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;a=1-d,n.r=255&d*n.r+a*i.r+.5,n.g=255&d*n.g+a*i.g+.5,n.b=255&d*n.b+a*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=rH(this._rgb,t._rgb,s)),this}clone(){return new $d(this.rgb)}alpha(t){return this._rgb.a=la(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=vu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return rh(this._rgb,2,t),this}darken(t){return rh(this._rgb,2,-t),this}saturate(t){return rh(this._rgb,1,t),this}desaturate(t){return rh(this._rgb,1,-t),this}rotate(t){return XU(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Br(){}const aH=(()=>{let e=0;return()=>e++})();function yt(e){return e==null}function rs(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ct(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Us(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function pr(e,t){return Us(e)?e:t}function ot(e,t){return typeof e>"u"?t:e}const oH=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,ZP=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Dt(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function vt(e,t,s,n){let i,a,o;if(rs(e))for(a=e.length,i=0;i<a;i++)t.call(s,e[i],i);else if(ct(e))for(o=Object.keys(e),a=o.length,i=0;i<a;i++)t.call(s,e[o[i]],o[i])}function Km(e,t){let s,n,i,a;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],a=t[s],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Qm(e){if(rs(e))return e.map(Qm);if(ct(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=Qm(e[s[i]]);return t}return e}function e8(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function lH(e,t,s,n){if(!e8(e))return;const i=t[e],a=s[e];ct(i)&&ct(a)?zd(i,a,n):t[e]=Qm(a)}function zd(e,t,s){const n=rs(t)?t:[t],i=n.length;if(!ct(e))return e;s=s||{};const a=s.merger||lH;let o;for(let l=0;l<i;++l){if(o=n[l],!ct(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)a(c[d],e,o,s)}return e}function td(e,t){return zd(e,t,{merger:cH})}function cH(e,t,s){if(!e8(e))return;const n=t[e],i=s[e];ct(n)&&ct(i)?td(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Qm(i))}const K4={"":e=>e,x:e=>e.x,y:e=>e.y};function dH(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function uH(e){const t=dH(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function yo(e,t){return(K4[t]||(K4[t]=uH(t)))(e)}function N1(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ud=e=>typeof e<"u",pa=e=>typeof e=="function",Q4=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function hH(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const jt=Math.PI,Bt=2*jt,mH=Bt+jt,Ym=Number.POSITIVE_INFINITY,fH=jt/180,hs=jt/2,Ca=jt/4,Y4=jt*2/3,t8=Math.log10,Rr=Math.sign;function sd(e,t,s){return Math.abs(e-t)<s}function X4(e){const t=Math.round(e);e=sd(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(t8(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function pH(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,a)=>i-a).pop(),t}function gH(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Hd(e){return!gH(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function xH(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function yH(e,t,s){let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n][s],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function ei(e){return e*(jt/180)}function bH(e){return e*(180/jt)}function J4(e){if(!Us(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function s8(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let a=Math.atan2(n,s);return a<-.5*jt&&(a+=Bt),{angle:a,distance:i}}function Wx(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function vH(e,t){return(e-t+mH)%Bt-jt}function Sn(e){return(e%Bt+Bt)%Bt}function qd(e,t,s,n){const i=Sn(e),a=Sn(t),o=Sn(s),l=Sn(a-i),c=Sn(o-i),d=Sn(i-a),u=Sn(i-o);return i===a||i===o||n&&a===o||l>c&&d<u}function Bs(e,t,s){return Math.max(t,Math.min(s,e))}function jH(e){return Bs(e,-32768,32767)}function ti(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function S1(e,t,s){s=s||(o=>e[o]<t);let n=e.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,s(a)?i=a:n=a;return{lo:i,hi:n}}const za=(e,t,s,n)=>S1(e,s,n?i=>{const a=e[i][t];return a<s||a===s&&e[i+1][t]===s}:i=>e[i][t]<s),wH=(e,t,s)=>S1(e,s,n=>e[n][t]>=s);function NH(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const n8=["push","pop","shift","splice","unshift"];function SH(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),n8.forEach(s=>{const n="_onData"+N1(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...a){const o=i.apply(this,a);return e._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...a)}),o}})})}function Z4(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(n8.forEach(a=>{delete e[a]}),delete e._chartjs)}function r8(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const i8=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function a8(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,i8.call(window,()=>{n=!1,e.apply(t,s)}))}}function CH(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const C1=e=>e==="start"?"left":e==="end"?"right":"center",Ms=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,PH=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function kH(e,t,s){const n=t.length;let i=0,a=n;if(e._sorted){const{iScale:o,vScale:l,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:m,minDefined:f,maxDefined:g}=o.getUserBounds();if(f){if(i=Math.min(za(c,u,h).lo,s?n:za(t,u,o.getPixelForValue(h)).lo),d){const p=c.slice(0,i+1).reverse().findIndex(v=>!yt(v[l.axis]));i-=Math.max(0,p)}i=Bs(i,0,n-1)}if(g){let p=Math.max(za(c,o.axis,m,!0).hi+1,s?0:za(t,u,o.getPixelForValue(m),!0).hi+1);if(d){const v=c.slice(p-1).findIndex(b=>!yt(b[l.axis]));p+=Math.max(0,v)}a=Bs(p,i,n)-i}else a=n-i}return{start:i,count:a}}function AH(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),a}const ih=e=>e===0||e===1,ew=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Bt/s)),tw=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Bt/s)+1,nd={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*hs)+1,easeOutSine:e=>Math.sin(e*hs),easeInOutSine:e=>-.5*(Math.cos(jt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>ih(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ih(e)?e:ew(e,.075,.3),easeOutElastic:e=>ih(e)?e:tw(e,.075,.3),easeInOutElastic(e){return ih(e)?e:e<.5?.5*ew(e*2,.1125,.45):.5+.5*tw(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-nd.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?nd.easeInBounce(e*2)*.5:nd.easeOutBounce(e*2-1)*.5+.5};function P1(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function sw(e){return P1(e)?e:new $d(e)}function P0(e){return P1(e)?e:new $d(e).saturate(.5).darken(.1).hexString()}const TH=["x","y","borderWidth","radius","tension"],EH=["color","borderColor","backgroundColor"];function _H(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:EH},numbers:{type:"number",properties:TH}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function MH(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const nw=new Map;function DH(e,t){t=t||{};const s=e+JSON.stringify(t);let n=nw.get(s);return n||(n=new Intl.NumberFormat(e,t),nw.set(s,n)),n}function k1(e,t,s){return DH(t,s).format(e)}const OH={values(e){return rs(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,a=e;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),a=RH(e,s)}const o=t8(Math.abs(a)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),k1(e,n,c)}};function RH(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var o8={formatters:OH};function IH(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:o8.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const bo=Object.create(null),Gx=Object.create(null);function rd(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const a=s[n];e=e[a]||(e[a]=Object.create(null))}return e}function k0(e,t,s){return typeof t=="string"?zd(rd(e,t),s):zd(rd(e,""),t)}class LH{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>P0(i.backgroundColor),this.hoverBorderColor=(n,i)=>P0(i.borderColor),this.hoverColor=(n,i)=>P0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return k0(this,t,s)}get(t){return rd(this,t)}describe(t,s){return k0(Gx,t,s)}override(t,s){return k0(bo,t,s)}route(t,s,n,i){const a=rd(this,t),o=rd(this,n),l="_"+s;Object.defineProperties(a,{[l]:{value:a[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[l],d=o[i];return ct(c)?Object.assign({},d,c):ot(c,d)},set(c){this[l]=c}}})}apply(t){t.forEach(s=>s(this))}}var es=new LH({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_H,MH,IH]);function FH(e){return!e||yt(e.size)||yt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function rw(e,t,s,n,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,s.push(i)),a>n&&(n=a),n}function Pa(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function iw(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Kx(e,t,s,n){l8(e,t,s,n,null)}function l8(e,t,s,n,i){let a,o,l,c,d,u,h,m;const f=t.pointStyle,g=t.rotation,p=t.radius;let v=(g||0)*fH;if(f&&typeof f=="object"&&(a=f.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(v),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(p)||p<=0)){switch(e.beginPath(),f){default:i?e.ellipse(s,n,i/2,p,0,0,Bt):e.arc(s,n,p,0,Bt),e.closePath();break;case"triangle":u=i?i/2:p,e.moveTo(s+Math.sin(v)*u,n-Math.cos(v)*p),v+=Y4,e.lineTo(s+Math.sin(v)*u,n-Math.cos(v)*p),v+=Y4,e.lineTo(s+Math.sin(v)*u,n-Math.cos(v)*p),e.closePath();break;case"rectRounded":d=p*.516,c=p-d,o=Math.cos(v+Ca)*c,h=Math.cos(v+Ca)*(i?i/2-d:c),l=Math.sin(v+Ca)*c,m=Math.sin(v+Ca)*(i?i/2-d:c),e.arc(s-h,n-l,d,v-jt,v-hs),e.arc(s+m,n-o,d,v-hs,v),e.arc(s+h,n+l,d,v,v+hs),e.arc(s-m,n+o,d,v+hs,v+jt),e.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*p,u=i?i/2:c,e.rect(s-u,n-c,2*u,2*c);break}v+=Ca;case"rectRot":h=Math.cos(v)*(i?i/2:p),o=Math.cos(v)*p,l=Math.sin(v)*p,m=Math.sin(v)*(i?i/2:p),e.moveTo(s-h,n-l),e.lineTo(s+m,n-o),e.lineTo(s+h,n+l),e.lineTo(s-m,n+o),e.closePath();break;case"crossRot":v+=Ca;case"cross":h=Math.cos(v)*(i?i/2:p),o=Math.cos(v)*p,l=Math.sin(v)*p,m=Math.sin(v)*(i?i/2:p),e.moveTo(s-h,n-l),e.lineTo(s+h,n+l),e.moveTo(s+m,n-o),e.lineTo(s-m,n+o);break;case"star":h=Math.cos(v)*(i?i/2:p),o=Math.cos(v)*p,l=Math.sin(v)*p,m=Math.sin(v)*(i?i/2:p),e.moveTo(s-h,n-l),e.lineTo(s+h,n+l),e.moveTo(s+m,n-o),e.lineTo(s-m,n+o),v+=Ca,h=Math.cos(v)*(i?i/2:p),o=Math.cos(v)*p,l=Math.sin(v)*p,m=Math.sin(v)*(i?i/2:p),e.moveTo(s-h,n-l),e.lineTo(s+h,n+l),e.moveTo(s+m,n-o),e.lineTo(s-m,n+o);break;case"line":o=i?i/2:Math.cos(v)*p,l=Math.sin(v)*p,e.moveTo(s-o,n-l),e.lineTo(s+o,n+l);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(v)*(i?i/2:p),n+Math.sin(v)*p);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Wd(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function op(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function lp(e){e.restore()}function VH(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const a=(t.x+s.x)/2;e.lineTo(a,t.y),e.lineTo(a,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function BH(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function $H(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),yt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function zH(e,t,s,n,i){if(i.strikethrough||i.underline){const a=e.measureText(n),o=t-a.actualBoundingBoxLeft,l=t+a.actualBoundingBoxRight,c=s-a.actualBoundingBoxAscent,d=s+a.actualBoundingBoxDescent,u=i.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(l,u),e.stroke()}}function UH(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function Gd(e,t,s,n,i,a={}){const o=rs(t)?t:[t],l=a.strokeWidth>0&&a.strokeColor!=="";let c,d;for(e.save(),e.font=i.string,$H(e,a),c=0;c<o.length;++c)d=o[c],a.backdrop&&UH(e,a.backdrop),l&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),yt(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(d,s,n,a.maxWidth)),e.fillText(d,s,n,a.maxWidth),zH(e,s,n,d,a),n+=Number(i.lineHeight);e.restore()}function Xm(e,t){const{x:s,y:n,w:i,h:a,radius:o}=t;e.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*jt,jt,!0),e.lineTo(s,n+a-o.bottomLeft),e.arc(s+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,jt,hs,!0),e.lineTo(s+i-o.bottomRight,n+a),e.arc(s+i-o.bottomRight,n+a-o.bottomRight,o.bottomRight,hs,0,!0),e.lineTo(s+i,n+o.topRight),e.arc(s+i-o.topRight,n+o.topRight,o.topRight,0,-hs,!0),e.lineTo(s+o.topLeft,n)}const HH=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qH=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function WH(e,t){const s=(""+e).match(HH);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const GH=e=>+e||0;function A1(e,t){const s={},n=ct(t),i=n?Object.keys(t):t,a=ct(e)?n?o=>ot(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)s[o]=GH(a(o));return s}function c8(e){return A1(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ll(e){return A1(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Yn(e){const t=c8(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function $s(e,t){e=e||{},t=t||es.font;let s=ot(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=ot(e.style,t.style);n&&!(""+n).match(qH)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ot(e.family,t.family),lineHeight:WH(ot(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:ot(e.weight,t.weight),string:""};return i.string=FH(i),i}function ah(e,t,s,n){let i,a,o;for(i=0,a=e.length;i<a;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function KH(e,t,s){const{min:n,max:i}=e,a=ZP(t,(i-n)/2),o=(l,c)=>s&&l===0?0:l+c;return{min:o(n,-Math.abs(a)),max:o(i,a)}}function No(e,t){return Object.assign(Object.create(e),t)}function T1(e,t=[""],s,n,i=()=>e[0]){const a=s||e;typeof n>"u"&&(n=m8("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:n,_getTarget:i,override:l=>T1([l,...e],t,a,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return u8(l,c,()=>sq(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return ow(l).includes(c)},ownKeys(l){return ow(l)},set(l,c,d){const u=l._storage||(l._storage=i());return l[c]=u[c]=d,delete l._keys,!0}})}function Vl(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:d8(e,n),setContext:a=>Vl(e,a,s,n),override:a=>Vl(e.override(a),t,s,n)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete e[o],!0},get(a,o,l){return u8(a,o,()=>YH(a,o,l))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(a,o,l){return e[o]=l,delete a[o],!0}})}function d8(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:pa(s)?s:()=>s,isIndexable:pa(n)?n:()=>n}}const QH=(e,t)=>e?e+N1(t):t,E1=(e,t)=>ct(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function u8(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function YH(e,t,s){const{_proxy:n,_context:i,_subProxy:a,_descriptors:o}=e;let l=n[t];return pa(l)&&o.isScriptable(t)&&(l=XH(t,l,e,s)),rs(l)&&l.length&&(l=JH(t,l,e,o.isIndexable)),E1(t,l)&&(l=Vl(l,i,a&&a[t],o)),l}function XH(e,t,s,n){const{_proxy:i,_context:a,_subProxy:o,_stack:l}=s;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(a,o||n);return l.delete(e),E1(e,c)&&(c=_1(i._scopes,i,e,c)),c}function JH(e,t,s,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:l}=s;if(typeof a.index<"u"&&n(e))return t[a.index%t.length];if(ct(t[0])){const c=t,d=i._scopes.filter(u=>u!==c);t=[];for(const u of c){const h=_1(d,i,e,u);t.push(Vl(h,a,o&&o[e],l))}}return t}function h8(e,t,s){return pa(e)?e(t,s):e}const ZH=(e,t)=>e===!0?t:typeof e=="string"?yo(t,e):void 0;function eq(e,t,s,n,i){for(const a of t){const o=ZH(s,a);if(o){e.add(o);const l=h8(o._fallback,s,i);if(typeof l<"u"&&l!==s&&l!==n)return l}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function _1(e,t,s,n){const i=t._rootScopes,a=h8(t._fallback,s,n),o=[...e,...i],l=new Set;l.add(n);let c=aw(l,o,s,a||s,n);return c===null||typeof a<"u"&&a!==s&&(c=aw(l,o,a,c,n),c===null)?!1:T1(Array.from(l),[""],i,a,()=>tq(t,s,n))}function aw(e,t,s,n,i){for(;s;)s=eq(e,t,s,n,i);return s}function tq(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return rs(i)&&ct(s)?s:i||{}}function sq(e,t,s,n){let i;for(const a of t)if(i=m8(QH(a,e),s),typeof i<"u")return E1(e,i)?_1(s,n,e,i):i}function m8(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function ow(e){let t=e._keys;return t||(t=e._keys=nq(e._scopes)),t}function nq(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}const rq=Number.EPSILON||1e-14,Bl=(e,t)=>t<e.length&&!e[t].skip&&e[t],f8=e=>e==="x"?"y":"x";function iq(e,t,s,n){const i=e.skip?t:e,a=t,o=s.skip?t:s,l=Wx(a,i),c=Wx(o,a);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,m=n*u;return{previous:{x:a.x-h*(o.x-i.x),y:a.y-h*(o.y-i.y)},next:{x:a.x+m*(o.x-i.x),y:a.y+m*(o.y-i.y)}}}function aq(e,t,s){const n=e.length;let i,a,o,l,c,d=Bl(e,0);for(let u=0;u<n-1;++u)if(c=d,d=Bl(e,u+1),!(!c||!d)){if(sd(t[u],0,rq)){s[u]=s[u+1]=0;continue}i=s[u]/t[u],a=s[u+1]/t[u],l=Math.pow(i,2)+Math.pow(a,2),!(l<=9)&&(o=3/Math.sqrt(l),s[u]=i*o*t[u],s[u+1]=a*o*t[u])}}function oq(e,t,s="x"){const n=f8(s),i=e.length;let a,o,l,c=Bl(e,0);for(let d=0;d<i;++d){if(o=l,l=c,c=Bl(e,d+1),!l)continue;const u=l[s],h=l[n];o&&(a=(u-o[s])/3,l[`cp1${s}`]=u-a,l[`cp1${n}`]=h-a*t[d]),c&&(a=(c[s]-u)/3,l[`cp2${s}`]=u+a,l[`cp2${n}`]=h+a*t[d])}}function lq(e,t="x"){const s=f8(t),n=e.length,i=Array(n).fill(0),a=Array(n);let o,l,c,d=Bl(e,0);for(o=0;o<n;++o)if(l=c,c=d,d=Bl(e,o+1),!!c){if(d){const u=d[t]-c[t];i[o]=u!==0?(d[s]-c[s])/u:0}a[o]=l?d?Rr(i[o-1])!==Rr(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}aq(e,i,a),oq(e,a,t)}function oh(e,t,s){return Math.max(Math.min(e,s),t)}function cq(e,t){let s,n,i,a,o,l=Wd(e[0],t);for(s=0,n=e.length;s<n;++s)o=a,a=l,l=s<n-1&&Wd(e[s+1],t),a&&(i=e[s],o&&(i.cp1x=oh(i.cp1x,t.left,t.right),i.cp1y=oh(i.cp1y,t.top,t.bottom)),l&&(i.cp2x=oh(i.cp2x,t.left,t.right),i.cp2y=oh(i.cp2y,t.top,t.bottom)))}function dq(e,t,s,n,i){let a,o,l,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")lq(e,i);else{let d=n?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)l=e[a],c=iq(d,l,e[Math.min(a+1,o-(n?0:1))%o],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}t.capBezierPoints&&cq(e,s)}function M1(){return typeof window<"u"&&typeof document<"u"}function D1(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Jm(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const cp=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function uq(e,t){return cp(e).getPropertyValue(t)}const hq=["top","right","bottom","left"];function so(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const a=hq[i];n[a]=parseFloat(e[t+"-"+a+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const mq=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function fq(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:a}=n;let o=!1,l,c;if(mq(i,a,e.target))l=i,c=a;else{const d=t.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Ma(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=cp(s),a=i.boxSizing==="border-box",o=so(i,"padding"),l=so(i,"border","width"),{x:c,y:d,box:u}=fq(e,s),h=o.left+(u&&l.left),m=o.top+(u&&l.top);let{width:f,height:g}=t;return a&&(f-=o.width+l.width,g-=o.height+l.height),{x:Math.round((c-h)/f*s.width/n),y:Math.round((d-m)/g*s.height/n)}}function pq(e,t,s){let n,i;if(t===void 0||s===void 0){const a=e&&D1(e);if(!a)t=e.clientWidth,s=e.clientHeight;else{const o=a.getBoundingClientRect(),l=cp(a),c=so(l,"border","width"),d=so(l,"padding");t=o.width-d.width-c.width,s=o.height-d.height-c.height,n=Jm(l.maxWidth,a,"clientWidth"),i=Jm(l.maxHeight,a,"clientHeight")}}return{width:t,height:s,maxWidth:n||Ym,maxHeight:i||Ym}}const Yi=e=>Math.round(e*10)/10;function gq(e,t,s,n){const i=cp(e),a=so(i,"margin"),o=Jm(i.maxWidth,e,"clientWidth")||Ym,l=Jm(i.maxHeight,e,"clientHeight")||Ym,c=pq(e,t,s);let{width:d,height:u}=c;if(i.boxSizing==="content-box"){const m=so(i,"border","width"),f=so(i,"padding");d-=f.width+m.width,u-=f.height+m.height}return d=Math.max(0,d-a.width),u=Math.max(0,n?d/n:u-a.height),d=Yi(Math.min(d,o,c.maxWidth)),u=Yi(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Yi(d/2)),(t!==void 0||s!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=Yi(Math.floor(u*n))),{width:d,height:u}}function lw(e,t,s){const n=t||1,i=Yi(e.height*n),a=Yi(e.width*n);e.height=Yi(e.height),e.width=Yi(e.width);const o=e.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||o.height!==i||o.width!==a?(e.currentDevicePixelRatio=n,o.height=i,o.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const xq=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};M1()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function cw(e,t){const s=uq(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Da(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function yq(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function bq(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=Da(e,i,s),l=Da(i,a,s),c=Da(a,t,s),d=Da(o,l,s),u=Da(l,c,s);return Da(d,u,s)}const vq=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},jq=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function cl(e,t,s){return e?vq(t,s):jq()}function p8(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function g8(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function x8(e){return e==="angle"?{between:qd,compare:vH,normalize:Sn}:{between:ti,compare:(t,s)=>t-s,normalize:t=>t}}function dw({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function wq(e,t,s){const{property:n,start:i,end:a}=s,{between:o,normalize:l}=x8(n),c=t.length;let{start:d,end:u,loop:h}=e,m,f;if(h){for(d+=c,u+=c,m=0,f=c;m<f&&o(l(t[d%c][n]),i,a);++m)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:e.style}}function y8(e,t,s){if(!s)return[e];const{property:n,start:i,end:a}=s,o=t.length,{compare:l,between:c,normalize:d}=x8(n),{start:u,end:h,loop:m,style:f}=wq(e,t,s),g=[];let p=!1,v=null,b,y,w;const j=()=>c(i,w,b)&&l(i,w)!==0,N=()=>l(a,b)===0||c(a,w,b),S=()=>p||j(),P=()=>!p||N();for(let C=u,F=u;C<=h;++C)y=t[C%o],!y.skip&&(b=d(y[n]),b!==w&&(p=c(b,i,a),v===null&&S()&&(v=l(b,i)===0?C:F),v!==null&&P()&&(g.push(dw({start:v,end:C,loop:m,count:o,style:f})),v=null),F=C,w=b));return v!==null&&g.push(dw({start:v,end:h,loop:m,count:o,style:f})),g}function b8(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const a=y8(n[i],e.points,t);a.length&&s.push(...a)}return s}function Nq(e,t,s,n){let i=0,a=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}function Sq(e,t,s,n){const i=e.length,a=[];let o=t,l=e[t],c;for(c=t+1;c<=s;++c){const d=e[c%i];d.skip||d.stop?l.skip||(n=!1,a.push({start:t%i,end:(c-1)%i,loop:n}),t=o=d.stop?c:null):(o=c,l.skip&&(t=c)),l=d}return o!==null&&a.push({start:t%i,end:o%i,loop:n}),a}function Cq(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const a=!!e._loop,{start:o,end:l}=Nq(s,i,a,n);if(n===!0)return uw(e,[{start:o,end:l,loop:a}],s,t);const c=l<o?l+i:l,d=!!e._fullLoop&&o===0&&l===i-1;return uw(e,Sq(s,o,c,d),s,t)}function uw(e,t,s,n){return!n||!n.setContext||!s?t:Pq(e,t,s,n)}function Pq(e,t,s,n){const i=e._chart.getContext(),a=hw(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,c=s.length,d=[];let u=a,h=t[0].start,m=h;function f(g,p,v,b){const y=l?-1:1;if(g!==p){for(g+=c;s[g%c].skip;)g-=y;for(;s[p%c].skip;)p+=y;g%c!==p%c&&(d.push({start:g%c,end:p%c,loop:v,style:b}),u=b,h=p%c)}}for(const g of t){h=l?h:g.start;let p=s[h%c],v;for(m=h+1;m<=g.end;m++){const b=s[m%c];v=hw(n.setContext(No(i,{type:"segment",p0:p,p1:b,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:o}))),kq(v,u)&&f(h,m-1,g.loop,u),p=b,u=v}h<m-1&&f(h,m-1,g.loop,u)}return d}function hw(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function kq(e,t){if(!t)return!1;const s=[],n=function(i,a){return P1(a)?(s.includes(a)||s.push(a),s.indexOf(a)):a};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function lh(e,t,s){return e.options.clip?e[s]:t[s]}function Aq(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:lh(s,t,"left"),right:lh(s,t,"right"),top:lh(n,t,"top"),bottom:lh(n,t,"bottom")}:t}function v8(e,t){const s=t._clip;if(s.disabled)return!1;const n=Aq(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Tq{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const a=s.listeners[i],o=s.duration;a.forEach(l=>l({chart:t,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=i8.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let o=a.length-1,l=!1,c;for(;o>=0;--o)c=a[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),l=!0):(a[o]=a[a.length-1],a.pop());l&&(i.draw(),this._notify(i,n,t,"progress")),a.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=a.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ur=new Tq;const mw="transparent",Eq={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=sw(e||mw),i=n.valid&&sw(t||mw);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class _q{constructor(t,s,n,i){const a=s[n];i=ah([t.to,i,a,t.from]);const o=ah([t.from,a,i]);this._active=!0,this._fn=t.fn||Eq[t.type||typeof o],this._easing=nd[t.easing]||nd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ah([t.to,s,i,t.from]),this._from=ah([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,a=this._from,o=this._loop,l=this._to;let c;if(this._active=a!==l&&(o||s<n),!this._active){this._target[i]=l,this._notify(!0);return}if(s<0){this._target[i]=a;return}c=s/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(a,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class j8{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!ct(t))return;const s=Object.keys(es.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!ct(a))return;const o={};for(const l of s)o[l]=a[l];(rs(a.properties)&&a.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,s){const n=s.options,i=Dq(t,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&Mq(t.options.$animations,n).then(()=>{t.options=n},()=>{}),a}_createAnimations(t,s){const n=this._properties,i=[],a=t.$animations||(t.$animations={}),o=Object.keys(s),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(t,s));continue}const u=s[d];let h=a[d];const m=n.get(d);if(h)if(m&&h.active()){h.update(m,u,l);continue}else h.cancel();if(!m||!m.duration){t[d]=u;continue}a[d]=h=new _q(m,t,d,u),i.push(h)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return Ur.add(this._chart,n),!0}}function Mq(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const a=e[n[i]];a&&a.active()&&s.push(a.wait())}return Promise.all(s)}function Dq(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function fw(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,a=s.max===void 0?t:0;return{start:n?a:i,end:n?i:a}}function Oq(e,t,s){if(s===!1)return!1;const n=fw(e,s),i=fw(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function Rq(e){let t,s,n,i;return ct(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function w8(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=n.length;i<a;++i)s.push(n[i].index);return s}function pw(e,t,s,n={}){const i=e.keys,a=n.mode==="single";let o,l,c,d;if(t===null)return;let u=!1;for(o=0,l=i.length;o<l;++o){if(c=+i[o],c===s){if(u=!0,n.all)continue;break}d=e.values[c],Us(d)&&(a||t===0||Rr(t)===Rr(d))&&(t+=d)}return!u&&!n.all?0:t}function Iq(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[i]:u,[a]:e[u]};return l}function A0(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function Lq(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function Fq(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function Vq(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function gw(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const a=e[i.index];if(s&&a>0||!s&&a<0)return i.index}return null}function xw(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:a,vScale:o,index:l}=n,c=a.axis,d=o.axis,u=Lq(a,o,n),h=t.length;let m;for(let f=0;f<h;++f){const g=t[f],{[c]:p,[d]:v}=g,b=g._stacks||(g._stacks={});m=b[d]=Vq(i,u,p),m[l]=v,m._top=gw(m,o,!0,n.type),m._bottom=gw(m,o,!1,n.type);const y=m._visualValues||(m._visualValues={});y[l]=v}}function T0(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function Bq(e,t){return No(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function $q(e,t,s){return No(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function mc(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const a=i._stacks;if(!a||a[n]===void 0||a[n][s]===void 0)return;delete a[n][s],a[n]._visualValues!==void 0&&a[n]._visualValues[s]!==void 0&&delete a[n]._visualValues[s]}}}const E0=e=>e==="reset"||e==="none",yw=(e,t)=>t?e:Object.assign({},e),zq=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:w8(s,!0),values:null};class no{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=A0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&mc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,m,f,g)=>h==="x"?m:h==="r"?g:f,a=s.xAxisID=ot(n.xAxisID,T0(t,"x")),o=s.yAxisID=ot(n.yAxisID,T0(t,"y")),l=s.rAxisID=ot(n.rAxisID,T0(t,"r")),c=s.indexAxis,d=s.iAxisID=i(c,a,o,l),u=s.vAxisID=i(c,o,a,l);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Z4(this._data,this),t._stacked&&mc(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(ct(s)){const i=this._cachedMeta;this._data=Iq(s,i)}else if(n!==s){if(n){Z4(n,this);const i=this._cachedMeta;mc(i),i._parsed=[]}s&&Object.isExtensible(s)&&SH(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=s._stacked;s._stacked=A0(s.vScale,s),s.stack!==n.stack&&(i=!0,mc(s),s.stack=n.stack),this._resyncElements(t),(i||a!==s._stacked)&&(xw(this,s._parsed),s._stacked=A0(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:o}=n,l=a.axis;let c=t===0&&s===i.length?!0:n._sorted,d=t>0&&n._parsed[t-1],u,h,m;if(this._parsing===!1)n._parsed=i,n._sorted=!0,m=i;else{rs(i[t])?m=this.parseArrayData(n,i,t,s):ct(i[t])?m=this.parseObjectData(n,i,t,s):m=this.parsePrimitiveData(n,i,t,s);const f=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<s;++u)n._parsed[u+t]=h=m[u],c&&(f()&&(c=!1),d=h);n._sorted=c}o&&xw(this,m)}parsePrimitiveData(t,s,n,i){const{iScale:a,vScale:o}=t,l=a.axis,c=o.axis,d=a.getLabels(),u=a===o,h=new Array(i);let m,f,g;for(m=0,f=i;m<f;++m)g=m+n,h[m]={[l]:u||a.parse(d[g],g),[c]:o.parse(s[g],g)};return h}parseArrayData(t,s,n,i){const{xScale:a,yScale:o}=t,l=new Array(i);let c,d,u,h;for(c=0,d=i;c<d;++c)u=c+n,h=s[u],l[c]={x:a.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(t,s,n,i){const{xScale:a,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let u,h,m,f;for(u=0,h=i;u<h;++u)m=u+n,f=s[m],d[u]={x:a.parse(yo(f,l),m),y:o.parse(yo(f,c),m)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,a=this._cachedMeta,o=s[t.axis],l={keys:w8(i,!0),values:s._stacks[t.axis]._visualValues};return pw(l,o,a.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const a=n[s.axis];let o=a===null?NaN:a;const l=i&&n._stacks[s.axis];i&&l&&(i.values=l,o=pw(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&t===n.iScale,o=i.length,l=this._getOtherScale(t),c=zq(s,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Fq(l);let m,f;function g(){f=i[m];const p=f[l.axis];return!Us(f[t.axis])||u>p||h<p}for(m=0;m<o&&!(!g()&&(this.updateRangeFromParsed(d,t,f,c),a));++m);if(a){for(m=o-1;m>=0;--m)if(!g()){this.updateRangeFromParsed(d,t,f,c);break}}return d}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,a,o;for(i=0,a=s.length;i<a;++i)o=s[i][t.axis],Us(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,a=this.getParsed(t);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=Rq(ot(this.options.clip,Oq(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],a=s.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,a,l,c),u=l;u<l+c;++u){const h=i[u];h.hidden||(h.active&&d?o.push(h):h.draw(t,a))}for(u=0;u<o.length;++u)o[u].draw(t,a)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];a=o.$context||(o.$context=$q(this.getContext(),t,o)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=Bq(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=n,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",a=this._cachedDataOpts,o=t+"-"+s,l=a[o],c=this.enableOptionSharing&&Ud(n);if(l)return yw(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],m=d.getOptionScopes(this.getDataset(),u),f=Object.keys(es.elements[t]),g=()=>this.getContext(n,i,s),p=d.resolveNamedOptions(m,f,g,h);return p.$shared&&(p.$shared=c,a[o]=Object.freeze(yw(p,c))),p}_resolveAnimations(t,s,n){const i=this.chart,a=this._cachedDataOpts,o=`animation-${s}`,l=a[o];if(l)return l;let c;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),m=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(m,this.getContext(t,n,s))}const d=new j8(i,c&&c.animations);return c&&c._cacheable&&(a[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||E0(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,a=this.getSharedOptions(n),o=this.includeOptions(s,a)||a!==i;return this.updateSharedOptions(a,s,n),{sharedOptions:a,includeOptions:o}}updateElement(t,s,n,i){E0(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!E0(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const a=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const i=n.length,a=s.length,o=Math.min(a,i);o&&this.parse(0,o),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,s,n=!0){const i=this._cachedMeta,a=i.data,o=t+s;let l;const c=d=>{for(d.length+=s,l=d.length-1;l>=o;l--)d[l]=d[l-s]};for(c(a),l=t;l<o;++l)a[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,s),n&&this.updateElements(a,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&mc(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ve(no,"defaults",{}),Ve(no,"datasetElementType",null),Ve(no,"dataElementType",null);function Uq(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let i=0,a=s.length;i<a;i++)n=n.concat(s[i].controller.getAllParsedValues(e));e._cache.$bar=r8(n.sort((i,a)=>i-a))}return e._cache.$bar}function Hq(e){const t=e.iScale,s=Uq(t,e.type);let n=t._length,i,a,o,l;const c=()=>{o===32767||o===-32768||(Ud(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(i=0,a=s.length;i<a;++i)o=t.getPixelForValue(s[i]),c();for(l=void 0,i=0,a=t.ticks.length;i<a;++i)o=t.getPixelForTick(i),c();return n}function qq(e,t,s,n){const i=s.barThickness;let a,o;return yt(i)?(a=t.min*s.categoryPercentage,o=s.barPercentage):(a=i*n,o=1),{chunk:a/n,ratio:o,start:t.pixels[e]-a/2}}function Wq(e,t,s,n){const i=t.pixels,a=i[e];let o=e>0?i[e-1]:null,l=e<i.length-1?i[e+1]:null;const c=s.categoryPercentage;o===null&&(o=a-(l===null?t.end-t.start:l-a)),l===null&&(l=a+a-o);const d=a-(a-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:s.barPercentage,start:d}}function Gq(e,t,s,n){const i=s.parse(e[0],n),a=s.parse(e[1],n),o=Math.min(i,a),l=Math.max(i,a);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),t[s.axis]=d,t._custom={barStart:c,barEnd:d,start:i,end:a,min:o,max:l}}function N8(e,t,s,n){return rs(e)?Gq(e,t,s,n):t[s.axis]=s.parse(e,n),t}function bw(e,t,s,n){const i=e.iScale,a=e.vScale,o=i.getLabels(),l=i===a,c=[];let d,u,h,m;for(d=s,u=s+n;d<u;++d)m=t[d],h={},h[i.axis]=l||i.parse(o[d],d),c.push(N8(m,h,a,d));return c}function _0(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Kq(e,t,s){return e!==0?Rr(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function Qq(e){let t,s,n,i,a;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(i="end",a="start"):(i="start",a="end"),{start:s,end:n,reverse:t,top:i,bottom:a}}function Yq(e,t,s,n){let i=t.borderSkipped;const a={};if(!i){e.borderSkipped=a;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=Qq(e);i==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?i=d:(s._bottom||0)===n?i=u:(a[vw(u,o,l,c)]=!0,i=d)),a[vw(i,o,l,c)]=!0,e.borderSkipped=a}function vw(e,t,s,n){return n?(e=Xq(e,t,s),e=jw(e,s,t)):e=jw(e,t,s),e}function Xq(e,t,s){return e===t?s:e===s?t:e}function jw(e,t,s){return e==="start"?t:e==="end"?s:e}function Jq(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class Hh extends no{parsePrimitiveData(t,s,n,i){return bw(t,s,n,i)}parseArrayData(t,s,n,i){return bw(t,s,n,i)}parseObjectData(t,s,n,i){const{iScale:a,vScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=a.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let m,f,g,p;for(m=n,f=n+i;m<f;++m)p=s[m],g={},g[a.axis]=a.parse(yo(p,d),m),h.push(N8(yo(p,u),g,o,m));return h}updateRangeFromParsed(t,s,n,i){super.updateRangeFromParsed(t,s,n,i);const a=n._custom;a&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:n,vScale:i}=s,a=this.getParsed(t),o=a._custom,l=_0(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,n,i){const a=i==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(s,i);for(let f=s;f<s+n;f++){const g=this.getParsed(f),p=a||yt(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),b=(g._stacks||{})[l.axis],y={horizontal:d,base:p.base,enableBorderRadius:!b||_0(g._custom)||o===b._top||o===b._bottom,x:d?p.head:v.center,y:d?v.center:p.head,height:d?v.size:Math.abs(p.size),width:d?Math.abs(p.size):v.size};m&&(y.options=h||this.resolveDataElementOptions(f,t[f].active?"active":i));const w=y.options||t[f].options;Yq(y,w,b,o),Jq(y,w,u.ratio),this.updateElement(t[f],f,y,i)}}_getStacks(t,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(s),c=l&&l[n.axis],d=u=>{const h=u._parsed.find(f=>f[n.axis]===c),m=h&&h[u.vScale.axis];if(yt(m)||isNaN(m))return!0};for(const u of i)if(!(s!==void 0&&d(u))&&((a===!1||o.indexOf(u.stack)===-1||a===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===s).shift()}_getAxis(){const t={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[ot(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(t)}_getStackIndex(t,s,n){const i=this._getStacks(t,n),a=s!==void 0?i.indexOf(s):-1;return a===-1?i.length-1:a}_getRuler(){const t=this.options,s=this._cachedMeta,n=s.iScale,i=[];let a,o;for(a=0,o=s.data.length;a<o;++a)i.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const l=t.barThickness;return{min:l||Hq(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:a,minBarLength:o}}=this,l=a||0,c=this.getParsed(t),d=c._custom,u=_0(d);let h=c[s.axis],m=0,f=n?this.applyStack(s,c,n):h,g,p;f!==h&&(m=f-h,f=h),u&&(h=d.barStart,f=d.barEnd-d.barStart,h!==0&&Rr(h)!==Rr(d.barEnd)&&(m=0),m+=h);const v=!yt(a)&&!u?a:m;let b=s.getPixelForValue(v);if(this.chart.getDataVisibility(t)?g=s.getPixelForValue(m+f):g=b,p=g-b,Math.abs(p)<o){p=Kq(p,s,l)*o,h===l&&(b-=p/2);const y=s.getPixelForDecimal(0),w=s.getPixelForDecimal(1),j=Math.min(y,w),N=Math.max(y,w);b=Math.max(Math.min(b,N),j),g=b+p,n&&!u&&(c._stacks[s.axis]._visualValues[i]=s.getValueForPixel(g)-s.getValueForPixel(b))}if(b===s.getPixelForValue(l)){const y=Rr(p)*s.getLineWidthForValue(l)/2;b+=y,p-=y}return{size:p,base:b,head:g,center:g+p/2}}_calculateBarIndexPixels(t,s){const n=s.scale,i=this.options,a=i.skipNull,o=ot(i.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(s.grouped){const u=a?this._getStackCount(t):s.stackCount,h=i.barThickness==="flex"?Wq(t,s,i,u*d):qq(t,s,i,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(ot(m,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+f;l=h.start+h.chunk*g+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=n.getPixelForValue(this.getParsed(t)[n.axis],t),c=Math.min(o,s.min*s.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,s=t.vScale,n=t.data,i=n.length;let a=0;for(;a<i;++a)this.getParsed(a)[s.axis]!==null&&!n[a].hidden&&n[a].draw(this._ctx)}}Ve(Hh,"id","bar"),Ve(Hh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ve(Hh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Zq(e,t,s){let n=1,i=1,a=0,o=0;if(t<Bt){const l=e,c=l+t,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),m=Math.sin(c),f=(w,j,N)=>qd(w,l,c,!0)?1:Math.max(j,j*s,N,N*s),g=(w,j,N)=>qd(w,l,c,!0)?-1:Math.min(j,j*s,N,N*s),p=f(0,d,h),v=f(hs,u,m),b=g(jt,d,h),y=g(jt+hs,u,m);n=(p-b)/2,i=(v-y)/2,a=-(p+b)/2,o=-(v+y)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:o}}class Ic extends no{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let a=c=>+n[c];if(ct(n[t])){const{key:c="value"}=this._parsing;a=d=>+yo(n[d],c)}let o,l;for(o=t,l=t+s;o<l;++o)i._parsed[o]=a(o)}}_getRotation(){return ei(this.options.rotation-90)}_getCircumference(){return ei(this.options.circumference)}_getRotationExtents(){let t=Bt,s=-Bt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),o=i._getCircumference();t=Math.min(t,a),s=Math.max(s,a+o)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(oH(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:f,offsetX:g,offsetY:p}=Zq(h,u,c),v=(n.width-o)/m,b=(n.height-o)/f,y=Math.max(Math.min(v,b)/2,0),w=ZP(this.options.radius,y),j=Math.max(w*c,0),N=(w-j)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=p*w,i.total=this.calculateTotal(),this.outerRadius=w-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*d,0),this.updateElements(a,0,a.length,t)}_circumference(t,s){const n=this.options,i=this._cachedMeta,a=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/Bt)}updateElements(t,s,n,i){const a=i==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,m=a&&d.animateScale,f=m?0:this.innerRadius,g=m?0:this.outerRadius,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(s,i);let b=this._getRotation(),y;for(y=0;y<s;++y)b+=this._circumference(y,a);for(y=s;y<s+n;++y){const w=this._circumference(y,a),j=t[y],N={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+w,circumference:w,outerRadius:g,innerRadius:f};v&&(N.options=p||this.resolveDataElementOptions(y,j.active?"active":i)),b+=w,this.updateElement(j,y,N,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let n=0,i;for(i=0;i<s.length;i++){const a=t._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?Bt*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=k1(s._parsed[t],n.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let s=0;const n=this.chart;let i,a,o,l,c;if(!t){for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),t=o.data,l=o.controller;break}}if(!t)return 0;for(i=0,a=t.length;i<a;++i)c=l.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(s=Math.max(s,c.borderWidth||0,c.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let n=0,i=t.length;n<i;++n){const a=this.resolveDataElementOptions(n);s=Math.max(s,a.offset||0,a.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(t){return Math.max(ot(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ve(Ic,"id","doughnut"),Ve(Ic,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ve(Ic,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Ve(Ic,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data,{labels:{pointStyle:n,textAlign:i,color:a,useBorderRadius:o,borderRadius:l}}=t.legend.options;return s.labels.length&&s.datasets.length?s.labels.map((c,d)=>{const h=t.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:h.backgroundColor,fontColor:a,hidden:!t.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:n,borderRadius:o&&(l||h.borderRadius),index:d}}):[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class qh extends no{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=s,o=this.chart._animationsDisabled;let{start:l,count:c}=kH(s,i,o);this._drawStart=l,this._drawCount=c,AH(s)&&(l=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},t),this.updateElements(i,l,c,t)}updateElements(t,s,n,i){const a=i==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(s,i),m=o.axis,f=l.axis,{spanGaps:g,segment:p}=this.options,v=Hd(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||a||i==="none",y=s+n,w=t.length;let j=s>0&&this.getParsed(s-1);for(let N=0;N<w;++N){const S=t[N],P=b?S:{};if(N<s||N>=y){P.skip=!0;continue}const C=this.getParsed(N),F=yt(C[f]),T=P[m]=o.getPixelForValue(C[m],N),te=P[f]=a||F?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,C,c):C[f],N);P.skip=isNaN(T)||isNaN(te)||F,P.stop=N>0&&Math.abs(C[m]-j[m])>v,p&&(P.parsed=C,P.raw=d.data[N]),h&&(P.options=u||this.resolveDataElementOptions(N,S.active?"active":i)),b||this.updateElement(S,N,P,i),j=C}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const a=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Ve(qh,"id","line"),Ve(qh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ve(qh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function ka(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class O1{constructor(t){Ve(this,"options");this.options=t||{}}static override(t){Object.assign(O1.prototype,t)}init(){}formats(){return ka()}parse(){return ka()}format(){return ka()}add(){return ka()}diff(){return ka()}startOf(){return ka()}endOf(){return ka()}}var eW={_date:O1};function tW(e,t,s,n){const{controller:i,data:a,_sorted:o}=e,l=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&a.length){const d=l._reversePixels?wH:za;if(n){if(i._sharedOptions){const u=a[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const m=d(a,t,s-h),f=d(a,t,s+h);return{lo:m.lo,hi:f.hi}}}}else{const u=d(a,t,s);if(c){const{vScale:h}=i._cachedMeta,{_parsed:m}=e,f=m.slice(0,u.lo+1).reverse().findIndex(p=>!yt(p[h.axis]));u.lo-=Math.max(0,f);const g=m.slice(u.hi).findIndex(p=>!yt(p[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:a.length-1}}function dp(e,t,s,n,i){const a=e.getSortedVisibleDatasetMetas(),o=s[t];for(let l=0,c=a.length;l<c;++l){const{index:d,data:u}=a[l],{lo:h,hi:m}=tW(a[l],t,o,i);for(let f=h;f<=m;++f){const g=u[f];g.skip||n(g,d,f)}}}function sW(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const a=t?Math.abs(n.x-i.x):0,o=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function M0(e,t,s,n,i){const a=[];return!i&&!e.isPointInArea(t)||dp(e,s,t,function(l,c,d){!i&&!Wd(l,e.chartArea,0)||l.inRange(t.x,t.y,n)&&a.push({element:l,datasetIndex:c,index:d})},!0),a}function nW(e,t,s,n){let i=[];function a(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=s8(o,{x:t.x,y:t.y});qd(h,d,u)&&i.push({element:o,datasetIndex:l,index:c})}return dp(e,s,t,a),i}function rW(e,t,s,n,i,a){let o=[];const l=sW(s);let c=Number.POSITIVE_INFINITY;function d(u,h,m){const f=u.inRange(t.x,t.y,i);if(n&&!f)return;const g=u.getCenterPoint(i);if(!(!!a||e.isPointInArea(g))&&!f)return;const v=l(t,g);v<c?(o=[{element:u,datasetIndex:h,index:m}],c=v):v===c&&o.push({element:u,datasetIndex:h,index:m})}return dp(e,s,t,d),o}function D0(e,t,s,n,i,a){return!a&&!e.isPointInArea(t)?[]:s==="r"&&!n?nW(e,t,s,i):rW(e,t,s,n,i,a)}function ww(e,t,s,n,i){const a=[],o=s==="x"?"inXRange":"inYRange";let l=!1;return dp(e,s,t,(c,d,u)=>{c[o]&&c[o](t[s],i)&&(a.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(t.x,t.y,i))}),n&&!l?[]:a}var iW={modes:{index(e,t,s,n){const i=Ma(t,e),a=s.axis||"x",o=s.includeInvisible||!1,l=s.intersect?M0(e,i,a,n,o):D0(e,i,a,!1,n,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,s,n){const i=Ma(t,e),a=s.axis||"xy",o=s.includeInvisible||!1;let l=s.intersect?M0(e,i,a,n,o):D0(e,i,a,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(e,t,s,n){const i=Ma(t,e),a=s.axis||"xy",o=s.includeInvisible||!1;return M0(e,i,a,n,o)},nearest(e,t,s,n){const i=Ma(t,e),a=s.axis||"xy",o=s.includeInvisible||!1;return D0(e,i,a,s.intersect,n,o)},x(e,t,s,n){const i=Ma(t,e);return ww(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=Ma(t,e);return ww(e,i,"y",s.intersect,n)}}};const S8=["left","top","right","bottom"];function fc(e,t){return e.filter(s=>s.pos===t)}function Nw(e,t){return e.filter(s=>S8.indexOf(s.pos)===-1&&s.box.axis===t)}function pc(e,t){return e.sort((s,n)=>{const i=t?n:s,a=t?s:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function aW(e){const t=[];let s,n,i,a,o,l;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:a,options:{stack:o,stackWeight:l=1}}=i,t.push({index:s,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:l});return t}function oW(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:a}=s;if(!n||!S8.includes(i))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return t}function lW(e,t){const s=oW(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let a,o,l;for(a=0,o=e.length;a<o;++a){l=e[a];const{fullSize:c}=l.box,d=s[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&t.availableWidth,l.height=i):(l.width=n,l.height=u?u*i:c&&t.availableHeight)}return s}function cW(e){const t=aW(e),s=pc(t.filter(d=>d.box.fullSize),!0),n=pc(fc(t,"left"),!0),i=pc(fc(t,"right")),a=pc(fc(t,"top"),!0),o=pc(fc(t,"bottom")),l=Nw(t,"x"),c=Nw(t,"y");return{fullSize:s,leftAndTop:n.concat(a),rightAndBottom:i.concat(c).concat(o).concat(l),chartArea:fc(t,"chartArea"),vertical:n.concat(i).concat(c),horizontal:a.concat(o).concat(l)}}function Sw(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function C8(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function dW(e,t,s,n){const{pos:i,box:a}=s,o=e.maxPadding;if(!ct(i)){s.size&&(e[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?a.height:a.width),s.size=h.size/h.count,e[i]+=s.size}a.getPadding&&C8(o,a.getPadding());const l=Math.max(0,t.outerWidth-Sw(o,e,"left","right")),c=Math.max(0,t.outerHeight-Sw(o,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,s.horizontal?{same:d,other:u}:{same:u,other:d}}function uW(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function hW(e,t){const s=t.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{a[o]=Math.max(t[o],s[o])}),a}return n(e?["left","right"]:["top","bottom"])}function Lc(e,t,s,n){const i=[];let a,o,l,c,d,u;for(a=0,o=e.length,d=0;a<o;++a){l=e[a],c=l.box,c.update(l.width||t.w,l.height||t.h,hW(l.horizontal,t));const{same:h,other:m}=dW(t,s,l,n);d|=h&&i.length,u=u||m,c.fullSize||i.push(l)}return d&&Lc(i,t,s,n)||u}function ch(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function Cw(e,t,s,n){const i=s.padding;let{x:a,y:o}=t;for(const l of e){const c=l.box,d=n[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=t.w*u,m=d.size||c.height;Ud(d.start)&&(o=d.start),c.fullSize?ch(c,i.left,o,s.outerWidth-i.right-i.left,m):ch(c,t.left+d.placed,o,h,m),d.start=o,d.placed+=h,o=c.bottom}else{const h=t.h*u,m=d.size||c.width;Ud(d.start)&&(a=d.start),c.fullSize?ch(c,a,i.top,m,s.outerHeight-i.bottom-i.top):ch(c,a,t.top+d.placed,m,h),d.start=a,d.placed+=h,a=c.right}}t.x=a,t.y=o}var Wn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=Yn(e.options.layout.padding),a=Math.max(t-i.width,0),o=Math.max(s-i.height,0),l=cW(e.boxes),c=l.vertical,d=l.horizontal;vt(e.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=c.reduce((p,v)=>v.box.options&&v.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),m=Object.assign({},i);C8(m,Yn(n));const f=Object.assign({maxPadding:m,w:a,h:o,x:i.left,y:i.top},i),g=lW(c.concat(d),h);Lc(l.fullSize,f,h,g),Lc(c,f,h,g),Lc(d,f,h,g)&&Lc(c,f,h,g),uW(f),Cw(l.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,Cw(l.rightAndBottom,f,h,g),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},vt(l.chartArea,p=>{const v=p.box;Object.assign(v,e.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class P8{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class mW extends P8{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Wh="$chartjs",fW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Pw=e=>e===null||e==="";function pW(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Wh]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Pw(i)){const a=cw(e,"width");a!==void 0&&(e.width=a)}if(Pw(n))if(e.style.height==="")e.height=e.width/(t||2);else{const a=cw(e,"height");a!==void 0&&(e.height=a)}return e}const k8=xq?{passive:!0}:!1;function gW(e,t,s){e&&e.addEventListener(t,s,k8)}function xW(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,k8)}function yW(e,t){const s=fW[e.type]||e.type,{x:n,y:i}=Ma(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Zm(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function bW(e,t,s){const n=e.canvas,i=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||Zm(l.addedNodes,n),o=o&&!Zm(l.removedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function vW(e,t,s){const n=e.canvas,i=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||Zm(l.removedNodes,n),o=o&&!Zm(l.addedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const Kd=new Map;let kw=0;function A8(){const e=window.devicePixelRatio;e!==kw&&(kw=e,Kd.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function jW(e,t){Kd.size||window.addEventListener("resize",A8),Kd.set(e,t)}function wW(e){Kd.delete(e),Kd.size||window.removeEventListener("resize",A8)}function NW(e,t,s){const n=e.canvas,i=n&&D1(n);if(!i)return;const a=a8((l,c)=>{const d=i.clientWidth;s(l,c),d<i.clientWidth&&s()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||a(d,u)});return o.observe(i),jW(e,a),o}function O0(e,t,s){s&&s.disconnect(),t==="resize"&&wW(e)}function SW(e,t,s){const n=e.canvas,i=a8(a=>{e.ctx!==null&&s(yW(a,e))},e);return gW(n,t,i),i}class CW extends P8{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(pW(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Wh])return!1;const n=s[Wh].initial;["height","width"].forEach(a=>{const o=n[a];yt(o)?s.removeAttribute(a):s.setAttribute(a,o)});const i=n.style||{};return Object.keys(i).forEach(a=>{s.style[a]=i[a]}),s.width=s.width,delete s[Wh],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),o={attach:bW,detach:vW,resize:NW}[s]||SW;i[s]=o(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:O0,detach:O0,resize:O0}[s]||xW)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return gq(t,s,n,i)}isAttached(t){const s=t&&D1(t);return!!(s&&s.isConnected)}}function PW(e){return!M1()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?mW:CW}var yh;let vi=(yh=class{constructor(){Ve(this,"x");Ve(this,"y");Ve(this,"active",!1);Ve(this,"options");Ve(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return Hd(this.x)&&Hd(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}},Ve(yh,"defaults",{}),Ve(yh,"defaultRoutes"),yh);function kW(e,t){const s=e.options.ticks,n=AW(e),i=Math.min(s.maxTicksLimit||n,n),a=s.major.enabled?EW(t):[],o=a.length,l=a[0],c=a[o-1],d=[];if(o>i)return _W(t,d,a,o/i),d;const u=TW(a,t,i);if(o>0){let h,m;const f=o>1?Math.round((c-l)/(o-1)):null;for(dh(t,d,u,yt(f)?0:l-f,l),h=0,m=o-1;h<m;h++)dh(t,d,u,a[h],a[h+1]);return dh(t,d,u,c,yt(f)?t.length:c+f),d}return dh(t,d,u),d}function AW(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function TW(e,t,s){const n=MW(e),i=t.length/s;if(!n)return Math.max(i,1);const a=pH(n);for(let o=0,l=a.length-1;o<l;o++){const c=a[o];if(c>i)return c}return Math.max(i,1)}function EW(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function _W(e,t,s,n){let i=0,a=s[0],o;for(n=Math.ceil(n),o=0;o<e.length;o++)o===a&&(t.push(e[o]),i++,a=s[i*n])}function dh(e,t,s,n,i){const a=ot(n,0),o=Math.min(ot(i,e.length),e.length);let l=0,c,d,u;for(s=Math.ceil(s),i&&(c=i-n,s=c/Math.floor(c/s)),u=a;u<0;)l++,u=Math.round(a+l*s);for(d=Math.max(a,0);d<o;d++)d===u&&(t.push(e[d]),l++,u=Math.round(a+l*s))}function MW(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const DW=e=>e==="left"?"right":e==="right"?"left":e,Aw=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,Tw=(e,t)=>Math.min(t||e,e);function Ew(e,t){const s=[],n=e.length/t,i=e.length;let a=0;for(;a<i;a+=n)s.push(e[Math.floor(a)]);return s}function OW(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),a=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(i),d;if(!(s&&(n===1?d=Math.max(c-a,o-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(i-1))/2,c+=i<t?d:-d,c<a-l||c>o+l)))return c}function RW(e,t){vt(e,s=>{const n=s.gc,i=n.length/2;let a;if(i>t){for(a=0;a<i;++a)delete s.data[n[a]];n.splice(0,i)}})}function gc(e){return e.drawTicks?e.tickLength:0}function _w(e,t){if(!e.display)return 0;const s=$s(e.font,t),n=Yn(e.padding);return(rs(e.text)?e.text.length:1)*s.lineHeight+n.height}function IW(e,t){return No(e,{scale:t,type:"scale"})}function LW(e,t,s){return No(e,{tick:s,index:t,type:"tick"})}function FW(e,t,s){let n=C1(e);return(s&&t!=="right"||!s&&t==="right")&&(n=DW(n)),n}function VW(e,t,s,n){const{top:i,left:a,bottom:o,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let h=0,m,f,g;const p=o-i,v=l-a;if(e.isHorizontal()){if(f=Ms(n,a,l),ct(s)){const b=Object.keys(s)[0],y=s[b];g=u[b].getPixelForValue(y)+p-t}else s==="center"?g=(d.bottom+d.top)/2+p-t:g=Aw(e,s,t);m=l-a}else{if(ct(s)){const b=Object.keys(s)[0],y=s[b];f=u[b].getPixelForValue(y)-v+t}else s==="center"?f=(d.left+d.right)/2-v+t:f=Aw(e,s,t);g=Ms(n,o,i),h=s==="left"?-hs:hs}return{titleX:f,titleY:g,maxWidth:m,rotation:h}}class Xl extends vi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=pr(t,Number.POSITIVE_INFINITY),s=pr(s,Number.NEGATIVE_INFINITY),n=pr(n,Number.POSITIVE_INFINITY),i=pr(i,Number.NEGATIVE_INFINITY),{min:pr(t,n),max:pr(s,i),minDefined:Us(t),maxDefined:Us(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),o;if(i&&a)return{min:s,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,t),i||(s=Math.min(s,o.min)),a||(n=Math.max(n,o.max));return s=a&&s>n?n:s,n=i&&s>n?s:n,{min:pr(s,pr(n,s)),max:pr(n,pr(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dt(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:a,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=KH(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?Ew(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=kW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dt(this.options.afterUpdate,[this])}beforeSetDimensions(){Dt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Dt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,a;for(n=0,i=t.length;n<i;n++)a=t[n],a.label=Dt(s.callback,[a.value,n,t],this)}afterTickToLabelConversion(){Dt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=Tw(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,a=s.maxRotation;let o=i,l,c,d;if(!this._isVisible()||!s.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,m=u.highest.height,f=Bs(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/n:f/(n-1),h+6>l&&(l=f/(n-(t.offset?.5:1)),c=this.maxHeight-gc(t.grid)-s.padding-_w(t.title,this.chart.options.font),d=Math.sqrt(h*h+m*m),o=bH(Math.min(Math.asin(Bs((u.highest.height+6)/l,-1,1)),Math.asin(Bs(c/d,-1,1))-Math.asin(Bs(m/d,-1,1)))),o=Math.max(i,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){Dt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Dt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:a}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=_w(i,s.options.font);if(l?(t.width=this.maxWidth,t.height=gc(a)+c):(t.height=this.maxHeight,t.width=gc(a)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:m}=this._getLabelSizes(),f=n.padding*2,g=ei(this.labelRotation),p=Math.cos(g),v=Math.sin(g);if(l){const b=n.mirror?0:v*h.width+p*m.height;t.height=Math.min(this.maxHeight,t.height+b+f)}else{const b=n.mirror?0:p*h.width+v*m.height;t.width=Math.min(this.maxWidth,t.width+b+f)}this._calculatePadding(d,u,v,p)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:a,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,f=0;c?d?(m=i*t.width,f=n*s.height):(m=n*t.height,f=i*s.width):a==="start"?f=s.width:a==="end"?m=t.width:a!=="inner"&&(m=t.width/2,f=s.width/2),this.paddingLeft=Math.max((m-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=s.height/2,h=t.height/2;a==="start"?(u=0,h=t.height):a==="end"&&(u=s.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)yt(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=Ew(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:a}=this,o=[],l=[],c=Math.floor(s/Tw(s,n));let d=0,u=0,h,m,f,g,p,v,b,y,w,j,N;for(h=0;h<s;h+=c){if(g=t[h].label,p=this._resolveTickFontOptions(h),i.font=v=p.string,b=a[v]=a[v]||{data:{},gc:[]},y=p.lineHeight,w=j=0,!yt(g)&&!rs(g))w=rw(i,b.data,b.gc,w,g),j=y;else if(rs(g))for(m=0,f=g.length;m<f;++m)N=g[m],!yt(N)&&!rs(N)&&(w=rw(i,b.data,b.gc,w,N),j+=y);o.push(w),l.push(j),d=Math.max(w,d),u=Math.max(j,u)}RW(a,s);const S=o.indexOf(d),P=l.indexOf(u),C=F=>({width:o[F]||0,height:l[F]||0});return{first:C(0),last:C(s-1),widest:C(S),highest:C(P),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return jH(this._alignToPixels?Pa(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=LW(this.getContext(),t,n))}return this.$context||(this.$context=IW(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=ei(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),a=this._getLabelSizes(),o=t.autoSkipPadding||0,l=a?a.widest.width+o:0,c=a?a.highest.height+o:0;return this.isHorizontal()?c*n>l*i?l/n:c/i:c*i<l*n?c/n:l/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:a,position:o,border:l}=i,c=a.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),m=gc(a),f=[],g=l.setContext(this.getContext()),p=g.display?g.width:0,v=p/2,b=function(_){return Pa(n,_,p)};let y,w,j,N,S,P,C,F,T,te,A,q;if(o==="top")y=b(this.bottom),P=this.bottom-m,F=y-v,te=b(t.top)+v,q=t.bottom;else if(o==="bottom")y=b(this.top),te=t.top,q=b(t.bottom)-v,P=y+v,F=this.top+m;else if(o==="left")y=b(this.right),S=this.right-m,C=y-v,T=b(t.left)+v,A=t.right;else if(o==="right")y=b(this.left),T=t.left,A=b(t.right)-v,S=y+v,C=this.left+m;else if(s==="x"){if(o==="center")y=b((t.top+t.bottom)/2+.5);else if(ct(o)){const _=Object.keys(o)[0],$=o[_];y=b(this.chart.scales[_].getPixelForValue($))}te=t.top,q=t.bottom,P=y+v,F=P+m}else if(s==="y"){if(o==="center")y=b((t.left+t.right)/2);else if(ct(o)){const _=Object.keys(o)[0],$=o[_];y=b(this.chart.scales[_].getPixelForValue($))}S=y-v,C=S-m,T=t.left,A=t.right}const z=ot(i.ticks.maxTicksLimit,h),B=Math.max(1,Math.ceil(h/z));for(w=0;w<h;w+=B){const _=this.getContext(w),$=a.setContext(_),M=l.setContext(_),D=$.lineWidth,J=$.color,K=M.dash||[],ce=M.dashOffset,U=$.tickWidth,le=$.tickColor,re=$.tickBorderDash||[],ie=$.tickBorderDashOffset;j=OW(this,w,c),j!==void 0&&(N=Pa(n,j,D),d?S=C=T=A=N:P=F=te=q=N,f.push({tx1:S,ty1:P,tx2:C,ty2:F,x1:T,y1:te,x2:A,y2:q,width:D,color:J,borderDash:K,borderDashOffset:ce,tickWidth:U,tickColor:le,tickBorderDash:re,tickBorderDashOffset:ie}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:a}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=a,m=gc(n.grid),f=m+u,g=h?-u:f,p=-ei(this.labelRotation),v=[];let b,y,w,j,N,S,P,C,F,T,te,A,q="middle";if(i==="top")S=this.bottom-g,P=this._getXAxisLabelAlignment();else if(i==="bottom")S=this.top+g,P=this._getXAxisLabelAlignment();else if(i==="left"){const B=this._getYAxisLabelAlignment(m);P=B.textAlign,N=B.x}else if(i==="right"){const B=this._getYAxisLabelAlignment(m);P=B.textAlign,N=B.x}else if(s==="x"){if(i==="center")S=(t.top+t.bottom)/2+f;else if(ct(i)){const B=Object.keys(i)[0],_=i[B];S=this.chart.scales[B].getPixelForValue(_)+f}P=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")N=(t.left+t.right)/2-f;else if(ct(i)){const B=Object.keys(i)[0],_=i[B];N=this.chart.scales[B].getPixelForValue(_)}P=this._getYAxisLabelAlignment(m).textAlign}s==="y"&&(c==="start"?q="top":c==="end"&&(q="bottom"));const z=this._getLabelSizes();for(b=0,y=l.length;b<y;++b){w=l[b],j=w.label;const B=a.setContext(this.getContext(b));C=this.getPixelForTick(b)+a.labelOffset,F=this._resolveTickFontOptions(b),T=F.lineHeight,te=rs(j)?j.length:1;const _=te/2,$=B.color,M=B.textStrokeColor,D=B.textStrokeWidth;let J=P;o?(N=C,P==="inner"&&(b===y-1?J=this.options.reverse?"left":"right":b===0?J=this.options.reverse?"right":"left":J="center"),i==="top"?d==="near"||p!==0?A=-te*T+T/2:d==="center"?A=-z.highest.height/2-_*T+T:A=-z.highest.height+T/2:d==="near"||p!==0?A=T/2:d==="center"?A=z.highest.height/2-_*T:A=z.highest.height-te*T,h&&(A*=-1),p!==0&&!B.showLabelBackdrop&&(N+=T/2*Math.sin(p))):(S=C,A=(1-te)*T/2);let K;if(B.showLabelBackdrop){const ce=Yn(B.backdropPadding),U=z.heights[b],le=z.widths[b];let re=A-ce.top,ie=0-ce.left;switch(q){case"middle":re-=U/2;break;case"bottom":re-=U;break}switch(P){case"center":ie-=le/2;break;case"right":ie-=le;break;case"inner":b===y-1?ie-=le:b>0&&(ie-=le/2);break}K={left:ie,top:re,width:le+ce.width,height:U+ce.height,color:B.backdropColor}}v.push({label:j,font:F,textOffset:A,options:{rotation:p,color:$,strokeColor:M,strokeWidth:D,textAlign:J,textBaseline:q,translation:[N,S],backdrop:K}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-ei(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,o=this._getLabelSizes(),l=t+a,c=o.widest.width;let d,u;return s==="left"?i?(u=this.right+a,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):s==="right"?i?(u=this.left+a,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:a,height:o}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,a,o),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,o;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(s.display)for(a=0,o=i.length;a<o;++a){const c=i[a];s.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),o=n.display?a.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,m;this.isHorizontal()?(d=Pa(t,this.left,o)-o/2,u=Pa(t,this.right,l)+l/2,h=m=c):(h=Pa(t,this.top,o)-o/2,m=Pa(t,this.bottom,l)+l/2,d=u=c),s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.beginPath(),s.moveTo(d,h),s.lineTo(u,m),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&op(n,i);const a=this.getLabelItems(t);for(const o of a){const l=o.options,c=o.font,d=o.label,u=o.textOffset;Gd(n,d,0,u,c,l)}i&&lp(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const a=$s(n.font),o=Yn(n.padding),l=n.align;let c=a.lineHeight/2;s==="bottom"||s==="center"||ct(s)?(c+=o.bottom,rs(n.text)&&(c+=a.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:m}=VW(this,c,s,l);Gd(t,n.text,0,0,a,{color:n.color,maxWidth:h,rotation:m,textAlign:FW(l,s,i),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=ot(t.grid&&t.grid.z,-1),i=ot(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Xl.prototype.draw?[{z:s,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,o;for(a=0,o=s.length;a<o;++a){const l=s[a];l[n]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return $s(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class uh{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;zW(s)&&(n=this.register(s));const i=this.items,a=t.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,BW(t,o,n),this.override&&es.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in es[i]&&(delete es[i][n],this.override&&delete bo[n])}}function BW(e,t,s){const n=zd(Object.create(null),[s?es.get(s):{},es.get(t),e.defaults]);es.set(t,n),e.defaultRoutes&&$W(t,e.defaultRoutes),e.descriptors&&es.describe(t,e.descriptors)}function $W(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),a=[e].concat(n).join("."),o=t[s].split("."),l=o.pop(),c=o.join(".");es.route(a,i,c,l)})}function zW(e){return"id"in e&&"defaults"in e}class UW{constructor(){this.controllers=new uh(no,"datasets",!0),this.elements=new uh(vi,"elements"),this.plugins=new uh(Object,"plugins"),this.scales=new uh(Xl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):vt(i,o=>{const l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,s,n){const i=N1(t);Dt(n["before"+i],[],n),s[t](n),Dt(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var yr=new UW;class HW{constructor(){this._init=void 0}notify(t,s,n,i){if(s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const a=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(a,t,s,n);return s==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,s,n,i){i=i||{};for(const a of t){const o=a.plugin,l=o[n],c=[s,i,a.options];if(Dt(l,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){yt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=ot(n.options&&n.options.plugins,{}),a=qW(n);return i===!1&&!s?[]:GW(t,a,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(a,o)=>a.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function qW(e){const t={},s=[],n=Object.keys(yr.plugins.items);for(let a=0;a<n.length;a++)s.push(yr.getPlugin(n[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const o=i[a];s.indexOf(o)===-1&&(s.push(o),t[o.id]=!0)}return{plugins:s,localIds:t}}function WW(e,t){return!t&&e===!1?null:e===!0?{}:e}function GW(e,{plugins:t,localIds:s},n,i){const a=[],o=e.getContext();for(const l of t){const c=l.id,d=WW(n[c],i);d!==null&&a.push({plugin:l,options:KW(e.config,{plugin:l,local:s[c]},d,o)})}return a}function KW(e,{plugin:t,local:s},n,i){const a=e.pluginScopeKeys(t),o=e.getOptionScopes(n,a);return s&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qx(e,t){const s=es.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function QW(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function YW(e,t){return e===t?"_index_":"_value_"}function Mw(e){if(e==="x"||e==="y"||e==="r")return e}function XW(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Yx(e,...t){if(Mw(e))return e;for(const s of t){const n=s.axis||XW(s.position)||e.length>1&&Mw(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Dw(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function JW(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return Dw(e,"x",s[0])||Dw(e,"y",s[0])}return{}}function ZW(e,t){const s=bo[e.type]||{scales:{}},n=t.scales||{},i=Qx(e.type,t),a=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!ct(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Yx(o,l,JW(o,e),es.scales[l.type]),d=YW(c,i),u=s.scales||{};a[o]=td(Object.create(null),[{axis:c},l,u[c],u[d]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||Qx(l,t),u=(bo[l]||{}).scales||{};Object.keys(u).forEach(h=>{const m=QW(h,c),f=o[m+"AxisID"]||m;a[f]=a[f]||Object.create(null),td(a[f],[{axis:m},n[f],u[h]])})}),Object.keys(a).forEach(o=>{const l=a[o];td(l,[es.scales[l.type],es.scale])}),a}function T8(e){const t=e.options||(e.options={});t.plugins=ot(t.plugins,{}),t.scales=ZW(e,t)}function E8(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function eG(e){return e=e||{},e.data=E8(e.data),T8(e),e}const Ow=new Map,_8=new Set;function hh(e,t){let s=Ow.get(e);return s||(s=t(),Ow.set(e,s),_8.add(s)),s}const xc=(e,t,s)=>{const n=yo(t,s);n!==void 0&&e.add(n)};class tG{constructor(t){this._config=eG(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=E8(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),T8(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return hh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return hh(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return hh(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return hh(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:a}=this,o=this._cachedScopes(t,n),l=o.get(s);if(l)return l;const c=new Set;s.forEach(u=>{t&&(c.add(t),u.forEach(h=>xc(c,t,h))),u.forEach(h=>xc(c,i,h)),u.forEach(h=>xc(c,bo[a]||{},h)),u.forEach(h=>xc(c,es,h)),u.forEach(h=>xc(c,Gx,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),_8.has(s)&&o.set(s,d),d}chartOptionScopes(){const{options:t,type:s}=this;return[t,bo[s]||{},es.datasets[s]||{},{type:s},es,Gx]}resolveNamedOptions(t,s,n,i=[""]){const a={$shared:!0},{resolver:o,subPrefixes:l}=Rw(this._resolverCache,t,i);let c=o;if(nG(o,s)){a.$shared=!1,n=pa(n)?n():n;const d=this.createResolver(t,n,l);c=Vl(o,n,d)}for(const d of s)a[d]=c[d];return a}createResolver(t,s,n=[""],i){const{resolver:a}=Rw(this._resolverCache,t,n);return ct(s)?Vl(a,s,void 0,i):a}}function Rw(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let a=n.get(i);return a||(a={resolver:T1(t,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,a)),a}const sG=e=>ct(e)&&Object.getOwnPropertyNames(e).some(t=>pa(e[t]));function nG(e,t){const{isScriptable:s,isIndexable:n}=d8(e);for(const i of t){const a=s(i),o=n(i),l=(o||a)&&e[i];if(a&&(pa(l)||sG(l))||o&&rs(l))return!0}return!1}var rG="4.5.1";const iG=["top","bottom","left","right","chartArea"];function Iw(e,t){return e==="top"||e==="bottom"||iG.indexOf(e)===-1&&t==="x"}function Lw(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function Fw(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),Dt(s&&s.onComplete,[e],t)}function aG(e){const t=e.chart,s=t.options.animation;Dt(s&&s.onProgress,[e],t)}function M8(e){return M1()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Gh={},Vw=e=>{const t=M8(e);return Object.values(Gh).filter(s=>s.canvas===t).pop()};function oG(e,t,s){const n=Object.keys(e);for(const i of n){const a=+i;if(a>=t){const o=e[i];delete e[i],(s>0||a>t)&&(e[a+s]=o)}}}function lG(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}var Pi;let ju=(Pi=class{static register(...t){yr.add(...t),Bw()}static unregister(...t){yr.remove(...t),Bw()}constructor(t,s){const n=this.config=new tG(s),i=M8(t),a=Vw(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||PW(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=aH(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new HW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=CH(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Gh[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ur.listen(this,"complete",Fw),Ur.listen(this,"progress",aG),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:a}=this;return yt(t)?s&&a?a:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return yr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iw(this.canvas,this.ctx),this}stop(){return Ur.stop(this),this}resize(t,s){Ur.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,s,a),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,lw(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Dt(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};vt(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let a=[];s&&(a=a.concat(Object.keys(s).map(o=>{const l=s[o],c=Yx(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),vt(a,o=>{const l=o.options,c=l.id,d=Yx(c,l),u=ot(l.type,o.dtype);(l.position===void 0||Iw(l.position,d)!==Iw(o.dposition))&&(l.position=o.dposition),i[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const m=yr.getScale(u);h=new m({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,t)}),vt(i,(o,l)=>{o||delete n[l]}),vt(n,o=>{Wn.configure(this,o,o.options),Wn.addBox(this,o)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,a)=>i.index-a.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(Lw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const a=s[n];let o=this.getDatasetMeta(n);const l=a.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=a.indexAxis||Qx(l,this.options),o.order=a.order||0,o.index=n,o.label=""+a.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=yr.getController(l),{datasetElementType:d,dataElementType:u}=es.datasets[l];Object.assign(c,{dataElementType:yr.getElement(u),datasetElementType:d&&yr.getElement(d)}),o.controller=new c(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){vt(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),m=!i&&a.indexOf(h)===-1;h.buildOrUpdateElements(m),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||vt(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Lw("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){vt(this.scales,t=>{Wn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Q4(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of s){const o=n==="_removeElements"?-a:a;oG(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=a=>new Set(t.filter(o=>o[0]===a).map((o,l)=>l+","+o.splice(1).join(","))),i=n(0);for(let a=1;a<s;a++)if(!Q4(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wn.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],vt(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,pa(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ur.has(this)?this.attached&&!Ur.running(this)&&Ur.start(this):(this.draw(),Fw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,a;for(i=0,a=s.length;i<a;++i){const o=s[i];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=v8(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&op(s,i),t.controller.draw(),i&&lp(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return Wd(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const a=iW.modes[s];return typeof a=="function"?a(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(a=>a&&a._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=No(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",a=this.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,i);Ud(s)?(a.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(a,{visible:n}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),Ur.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),iw(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Gh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(a,o)=>{s.addEventListener(this,a,o),t[a]=o},i=(a,o,l)=>{a.offsetX=o,a.offsetY=l,this._eventHandler(a)};vt(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(c,d)=>{s.addEventListener(this,c,d),t[c]=d},i=(c,d)=>{t[c]&&(s.removeEventListener(this,c,d),delete t[c])},a=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",a),n("detach",o)};o=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",l)},s.isAttached(this.canvas)?l():o()}unbindEvents(){vt(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},vt(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let a,o,l,c;for(s==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:a,index:o})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[o],index:o}});!Km(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,a=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=a(s,t),l=n?t:a(t,s);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:a}=this,o=s,l=this._getActiveElements(t,i,n,o),c=hH(t),d=lG(t,this._lastEvent,n,c);n&&(this._lastEvent=null,Dt(a.onHover,[t,l,this],this),c&&Dt(a.onClick,[t,l,this],this));const u=!Km(l,i);return(u||s)&&(this._active=l,this._updateHoverStyles(l,i,s)),this._lastEvent=d,u}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}},Ve(Pi,"defaults",es),Ve(Pi,"instances",Gh),Ve(Pi,"overrides",bo),Ve(Pi,"registry",yr),Ve(Pi,"version",rG),Ve(Pi,"getChart",Vw),Pi);function Bw(){return vt(ju.instances,e=>e._plugins.invalidate())}function cG(e,t,s){const{startAngle:n,x:i,y:a,outerRadius:o,innerRadius:l,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,Sn(n-s));if(e.beginPath(),e.arc(i,a,o-d/2,n+h/2,s-h/2),l>0){const m=Math.min(d/l,Sn(n-s));e.arc(i,a,l+d/2,s-m/2,n+m/2,!0)}else{const m=Math.min(d/2,o*Sn(n-s));if(u==="round")e.arc(i,a,m,s-jt/2,n+jt/2,!0);else if(u==="bevel"){const f=2*m*m,g=-f*Math.cos(s+jt/2)+i,p=-f*Math.sin(s+jt/2)+a,v=f*Math.cos(n+jt/2)+i,b=f*Math.sin(n+jt/2)+a;e.lineTo(g,p),e.lineTo(v,b)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function dG(e,t,s){const{startAngle:n,pixelMargin:i,x:a,y:o,outerRadius:l,innerRadius:c}=t;let d=i/l;e.beginPath(),e.arc(a,o,l,n-d,s+d),c>i?(d=i/c,e.arc(a,o,c,s+d,n-d,!0)):e.arc(a,o,i,s+hs,n-hs),e.closePath(),e.clip()}function uG(e){return A1(e,["outerStart","outerEnd","innerStart","innerEnd"])}function hG(e,t,s,n){const i=uG(e.options.borderRadius),a=(s-t)/2,o=Math.min(a,n*t/2),l=c=>{const d=(s-Math.min(a,c))*n/2;return Bs(c,0,Math.min(a,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Bs(i.innerStart,0,o),innerEnd:Bs(i.innerEnd,0,o)}}function Eo(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function ef(e,t,s,n,i,a){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=t,h=Math.max(t.outerRadius+n+s-d,0),m=u>0?u+n+s+d:0;let f=0;const g=i-c;if(n){const B=u>0?u-n:0,_=h>0?h-n:0,$=(B+_)/2,M=$!==0?g*$/($+n):g;f=(g-M)/2}const p=Math.max(.001,g*h-s/jt)/h,v=(g-p)/2,b=c+v+f,y=i-v-f,{outerStart:w,outerEnd:j,innerStart:N,innerEnd:S}=hG(t,m,h,y-b),P=h-w,C=h-j,F=b+w/P,T=y-j/C,te=m+N,A=m+S,q=b+N/te,z=y-S/A;if(e.beginPath(),a){const B=(F+T)/2;if(e.arc(o,l,h,F,B),e.arc(o,l,h,B,T),j>0){const D=Eo(C,T,o,l);e.arc(D.x,D.y,j,T,y+hs)}const _=Eo(A,y,o,l);if(e.lineTo(_.x,_.y),S>0){const D=Eo(A,z,o,l);e.arc(D.x,D.y,S,y+hs,z+Math.PI)}const $=(y-S/m+(b+N/m))/2;if(e.arc(o,l,m,y-S/m,$,!0),e.arc(o,l,m,$,b+N/m,!0),N>0){const D=Eo(te,q,o,l);e.arc(D.x,D.y,N,q+Math.PI,b-hs)}const M=Eo(P,b,o,l);if(e.lineTo(M.x,M.y),w>0){const D=Eo(P,F,o,l);e.arc(D.x,D.y,w,b-hs,F)}}else{e.moveTo(o,l);const B=Math.cos(F)*h+o,_=Math.sin(F)*h+l;e.lineTo(B,_);const $=Math.cos(T)*h+o,M=Math.sin(T)*h+l;e.lineTo($,M)}e.closePath()}function mG(e,t,s,n,i){const{fullCircles:a,startAngle:o,circumference:l}=t;let c=t.endAngle;if(a){ef(e,t,s,n,c,i);for(let d=0;d<a;++d)e.fill();isNaN(l)||(c=o+(l%Bt||Bt))}return ef(e,t,s,n,c,i),e.fill(),c}function fG(e,t,s,n,i){const{fullCircles:a,startAngle:o,circumference:l,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:m,borderRadius:f}=c,g=c.borderAlign==="inner";if(!d)return;e.setLineDash(h||[]),e.lineDashOffset=m,g?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let p=t.endAngle;if(a){ef(e,t,s,n,p,i);for(let v=0;v<a;++v)e.stroke();isNaN(l)||(p=o+(l%Bt||Bt))}g&&dG(e,t,p),c.selfJoin&&p-o>=jt&&f===0&&u!=="miter"&&cG(e,t,p),a||(ef(e,t,s,n,p,i),e.stroke())}class Fc extends vi{constructor(s){super();Ve(this,"circumference");Ve(this,"endAngle");Ve(this,"fullCircles");Ve(this,"innerRadius");Ve(this,"outerRadius");Ve(this,"pixelMargin");Ve(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const a=this.getProps(["x","y"],i),{angle:o,distance:l}=s8(a,{x:s,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=ot(m,d-c),p=qd(o,c,d)&&c!==d,v=g>=Bt||p,b=ti(l,u+f,h+f);return v&&b}getCenterPoint(s){const{x:n,y:i,startAngle:a,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:d,spacing:u}=this.options,h=(a+o)/2,m=(l+c+u+d)/2;return{x:n+Math.cos(h)*m,y:i+Math.sin(h)*m}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Bt?Math.floor(i/Bt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const c=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(c)*a,Math.sin(c)*a);const d=1-Math.sin(Math.min(jt,i||0)),u=a*d;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,mG(s,this,u,o,l),fG(s,this,u,o,l),s.restore()}}Ve(Fc,"id","arc"),Ve(Fc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Ve(Fc,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ve(Fc,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function D8(e,t,s=t){e.lineCap=ot(s.borderCapStyle,t.borderCapStyle),e.setLineDash(ot(s.borderDash,t.borderDash)),e.lineDashOffset=ot(s.borderDashOffset,t.borderDashOffset),e.lineJoin=ot(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ot(s.borderWidth,t.borderWidth),e.strokeStyle=ot(s.borderColor,t.borderColor)}function pG(e,t,s){e.lineTo(s.x,s.y)}function gG(e){return e.stepped?VH:e.tension||e.cubicInterpolationMode==="monotone"?BH:pG}function O8(e,t,s={}){const n=e.length,{start:i=0,end:a=n-1}=s,{start:o,end:l}=t,c=Math.max(i,o),d=Math.min(a,l),u=i<o&&a<o||i>l&&a>l;return{count:n,start:c,loop:t.loop,ilen:d<c&&!u?n+d-c:d-c}}function xG(e,t,s,n){const{points:i,options:a}=t,{count:o,start:l,loop:c,ilen:d}=O8(i,s,n),u=gG(a);let{move:h=!0,reverse:m}=n||{},f,g,p;for(f=0;f<=d;++f)g=i[(l+(m?d-f:f))%o],!g.skip&&(h?(e.moveTo(g.x,g.y),h=!1):u(e,p,g,m,a.stepped),p=g);return c&&(g=i[(l+(m?d:0))%o],u(e,p,g,m,a.stepped)),!!c}function yG(e,t,s,n){const i=t.points,{count:a,start:o,ilen:l}=O8(i,s,n),{move:c=!0,reverse:d}=n||{};let u=0,h=0,m,f,g,p,v,b;const y=j=>(o+(d?l-j:j))%a,w=()=>{p!==v&&(e.lineTo(u,v),e.lineTo(u,p),e.lineTo(u,b))};for(c&&(f=i[y(0)],e.moveTo(f.x,f.y)),m=0;m<=l;++m){if(f=i[y(m)],f.skip)continue;const j=f.x,N=f.y,S=j|0;S===g?(N<p?p=N:N>v&&(v=N),u=(h*u+j)/++h):(w(),e.lineTo(j,N),g=S,h=0,p=v=N),b=N}w()}function Xx(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?yG:xG}function bG(e){return e.stepped?yq:e.tension||e.cubicInterpolationMode==="monotone"?bq:Da}function vG(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),D8(e,t.options),e.stroke(i)}function jG(e,t,s,n){const{segments:i,options:a}=t,o=Xx(t);for(const l of i)D8(e,a,l.style),e.beginPath(),o(e,t,l,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const wG=typeof Path2D=="function";function NG(e,t,s,n){wG&&!t.options.segment?vG(e,t,s,n):jG(e,t,s,n)}class si extends vi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;dq(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Cq(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],a=this.points,o=b8(this,{property:s,start:i,end:i});if(!o.length)return;const l=[],c=bG(n);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:m}=o[d],f=a[h],g=a[m];if(f===g){l.push(f);continue}const p=Math.abs((i-f[s])/(g[s]-f[s])),v=c(f,g,p,n.stepped);v[s]=t[s],l.push(v)}return l.length===1?l[0]:l}pathSegment(t,s,n){return Xx(this)(t,this,s,n)}path(t,s,n){const i=this.segments,a=Xx(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const l of i)o&=a(t,this,l,{start:s,end:s+n-1});return!!o}draw(t,s,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),NG(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ve(si,"id","line"),Ve(si,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ve(si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ve(si,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function $w(e,t,s,n){const i=e.options,{[s]:a}=e.getProps([s],n);return Math.abs(t-a)<i.radius+i.hitRadius}class id extends vi{constructor(s){super();Ve(this,"parsed");Ve(this,"skip");Ve(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const a=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(s-o,2)+Math.pow(n-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(s,n){return $w(this,s,"x",n)}inYRange(s,n){return $w(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!Wd(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,Kx(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}Ve(id,"id","point"),Ve(id,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ve(id,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function R8(e,t){const{x:s,y:n,base:i,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let l,c,d,u,h;return e.horizontal?(h=o/2,l=Math.min(s,i),c=Math.max(s,i),d=n-h,u=n+h):(h=a/2,l=s-h,c=s+h,d=Math.min(n,i),u=Math.max(n,i)),{left:l,top:d,right:c,bottom:u}}function Xi(e,t,s,n){return e?0:Bs(t,s,n)}function SG(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,a=c8(n);return{t:Xi(i.top,a.top,0,s),r:Xi(i.right,a.right,0,t),b:Xi(i.bottom,a.bottom,0,s),l:Xi(i.left,a.left,0,t)}}function CG(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=ll(i),o=Math.min(t,s),l=e.borderSkipped,c=n||ct(i);return{topLeft:Xi(!c||l.top||l.left,a.topLeft,0,o),topRight:Xi(!c||l.top||l.right,a.topRight,0,o),bottomLeft:Xi(!c||l.bottom||l.left,a.bottomLeft,0,o),bottomRight:Xi(!c||l.bottom||l.right,a.bottomRight,0,o)}}function PG(e){const t=R8(e),s=t.right-t.left,n=t.bottom-t.top,i=SG(e,s/2,n/2),a=CG(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function R0(e,t,s,n){const i=t===null,a=s===null,l=e&&!(i&&a)&&R8(e,n);return l&&(i||ti(t,l.left,l.right))&&(a||ti(s,l.top,l.bottom))}function kG(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function AG(e,t){e.rect(t.x,t.y,t.w,t.h)}function I0(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,a=(e.x+e.w!==s.x+s.w?t:0)-n,o=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+a,h:e.h+o,radius:e.radius}}class ad extends vi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:o}=PG(this),l=kG(o.radius)?Xm:AG;t.save(),(o.w!==a.w||o.h!==a.h)&&(t.beginPath(),l(t,I0(o,s,a)),t.clip(),l(t,I0(a,-s,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,I0(a,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return R0(this,t,s,n)}inXRange(t,s){return R0(this,t,null,s)}inYRange(t,s){return R0(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(s+i)/2:s,y:a?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Ve(ad,"id","bar"),Ve(ad,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ve(ad,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function TG(e,t,s){const n=e.segments,i=e.points,a=t.points,o=[];for(const l of n){let{start:c,end:d}=l;d=up(c,d,i);const u=Jx(s,i[c],i[d],l.loop);if(!t.segments){o.push({source:l,target:u,start:i[c],end:i[d]});continue}const h=b8(t,u);for(const m of h){const f=Jx(s,a[m.start],a[m.end],m.loop),g=y8(l,i,f);for(const p of g)o.push({source:p,target:m,start:{[s]:zw(u,f,"start",Math.max)},end:{[s]:zw(u,f,"end",Math.min)}})}}return o}function Jx(e,t,s,n){if(n)return;let i=t[e],a=s[e];return e==="angle"&&(i=Sn(i),a=Sn(a)),{property:e,start:i,end:a}}function EG(e,t){const{x:s=null,y:n=null}=e||{},i=t.points,a=[];return t.segments.forEach(({start:o,end:l})=>{l=up(o,l,i);const c=i[o],d=i[l];n!==null?(a.push({x:c.x,y:n}),a.push({x:d.x,y:n})):s!==null&&(a.push({x:s,y:c.y}),a.push({x:s,y:d.y}))}),a}function up(e,t,s){for(;t>e;t--){const n=s[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function zw(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function I8(e,t){let s=[],n=!1;return rs(e)?(n=!0,s=e):s=EG(e,t),s.length?new si({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function Uw(e){return e&&e.fill!==!1}function _G(e,t,s){let i=e[t].fill;const a=[t];let o;if(!s)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!Us(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;a.push(i),i=o.fill}return!1}function MG(e,t,s){const n=IG(e);if(ct(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Us(i)&&Math.floor(i)===i?DG(n[0],t,i,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function DG(e,t,s,n){return(e==="-"||e==="+")&&(s=t+s),s===t||s<0||s>=n?!1:s}function OG(e,t){let s=null;return e==="start"?s=t.bottom:e==="end"?s=t.top:ct(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}function RG(e,t,s){let n;return e==="start"?n=s:e==="end"?n=t.options.reverse?t.min:t.max:ct(e)?n=e.value:n=t.getBaseValue(),n}function IG(e){const t=e.options,s=t.fill;let n=ot(s&&s.target,s);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function LG(e){const{scale:t,index:s,line:n}=e,i=[],a=n.segments,o=n.points,l=FG(t,s);l.push(I8({x:null,y:t.bottom},n));for(let c=0;c<a.length;c++){const d=a[c];for(let u=d.start;u<=d.end;u++)VG(i,o[u],l)}return new si({points:i,options:{}})}function FG(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const a=n[i];if(a.index===t)break;a.hidden||s.unshift(a.dataset)}return s}function VG(e,t,s){const n=[];for(let i=0;i<s.length;i++){const a=s[i],{first:o,last:l,point:c}=BG(a,t,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(e.push(c),!l)break}}e.push(...n)}function BG(e,t,s){const n=e.interpolate(t,s);if(!n)return{};const i=n[s],a=e.segments,o=e.points;let l=!1,c=!1;for(let d=0;d<a.length;d++){const u=a[d],h=o[u.start][s],m=o[u.end][s];if(ti(i,h,m)){l=i===h,c=i===m;break}}return{first:l,last:c,point:n}}class L8{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,s,n){const{x:i,y:a,radius:o}=this;return s=s||{start:0,end:Bt},t.arc(i,a,o,s.end,s.start,!0),!n.bounds}interpolate(t){const{x:s,y:n,radius:i}=this,a=t.angle;return{x:s+Math.cos(a)*i,y:n+Math.sin(a)*i,angle:a}}}function $G(e){const{chart:t,fill:s,line:n}=e;if(Us(s))return zG(t,s);if(s==="stack")return LG(e);if(s==="shape")return!0;const i=UG(e);return i instanceof L8?i:I8(i,n)}function zG(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}function UG(e){return(e.scale||{}).getPointPositionForValue?qG(e):HG(e)}function HG(e){const{scale:t={},fill:s}=e,n=OG(s,t);if(Us(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function qG(e){const{scale:t,fill:s}=e,n=t.options,i=t.getLabels().length,a=n.reverse?t.max:t.min,o=RG(s,t,a),l=[];if(n.grid.circular){const c=t.getPointPositionForValue(0,a);return new L8({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)l.push(t.getPointPositionForValue(c,o));return l}function L0(e,t,s){const n=$G(t),{chart:i,index:a,line:o,scale:l,axis:c}=t,d=o.options,u=d.fill,h=d.backgroundColor,{above:m=h,below:f=h}=u||{},g=i.getDatasetMeta(a),p=v8(i,g);n&&o.points.length&&(op(e,s),WG(e,{line:o,target:n,above:m,below:f,area:s,scale:l,axis:c,clip:p}),lp(e))}function WG(e,t){const{line:s,target:n,above:i,below:a,area:o,scale:l,clip:c}=t,d=s._loop?"angle":t.axis;e.save();let u=a;a!==i&&(d==="x"?(Hw(e,n,o.top),F0(e,{line:s,target:n,color:i,scale:l,property:d,clip:c}),e.restore(),e.save(),Hw(e,n,o.bottom)):d==="y"&&(qw(e,n,o.left),F0(e,{line:s,target:n,color:a,scale:l,property:d,clip:c}),e.restore(),e.save(),qw(e,n,o.right),u=i)),F0(e,{line:s,target:n,color:u,scale:l,property:d,clip:c}),e.restore()}function Hw(e,t,s){const{segments:n,points:i}=t;let a=!0,o=!1;e.beginPath();for(const l of n){const{start:c,end:d}=l,u=i[c],h=i[up(c,d,i)];a?(e.moveTo(u.x,u.y),a=!1):(e.lineTo(u.x,s),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(h.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function qw(e,t,s){const{segments:n,points:i}=t;let a=!0,o=!1;e.beginPath();for(const l of n){const{start:c,end:d}=l,u=i[c],h=i[up(c,d,i)];a?(e.moveTo(u.x,u.y),a=!1):(e.lineTo(s,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(s,h.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function F0(e,t){const{line:s,target:n,property:i,color:a,scale:o,clip:l}=t,c=TG(s,n,i);for(const{source:d,target:u,start:h,end:m}of c){const{style:{backgroundColor:f=a}={}}=d,g=n!==!0;e.save(),e.fillStyle=f,GG(e,o,l,g&&Jx(i,h,m)),e.beginPath();const p=!!s.pathSegment(e,d);let v;if(g){p?e.closePath():Ww(e,n,m,i);const b=!!n.pathSegment(e,u,{move:p,reverse:!0});v=p&&b,v||Ww(e,n,h,i)}e.closePath(),e.fill(v?"evenodd":"nonzero"),e.restore()}}function GG(e,t,s,n){const i=t.chart.chartArea,{property:a,start:o,end:l}=n||{};if(a==="x"||a==="y"){let c,d,u,h;a==="x"?(c=o,d=i.top,u=l,h=i.bottom):(c=i.left,d=o,u=i.right,h=l),e.beginPath(),s&&(c=Math.max(c,s.left),u=Math.min(u,s.right),d=Math.max(d,s.top),h=Math.min(h,s.bottom)),e.rect(c,d,u-c,h-d),e.clip()}}function Ww(e,t,s,n){const i=t.interpolate(s,n);i&&e.lineTo(i.x,i.y)}var F8={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,i=[];let a,o,l,c;for(o=0;o<n;++o)a=e.getDatasetMeta(o),l=a.dataset,c=null,l&&l.options&&l instanceof si&&(c={visible:e.isDatasetVisible(o),index:o,fill:MG(l,o,n),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:l}),a.$filler=c,i.push(c);for(o=0;o<n;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=_G(i,o,s.propagate))},beforeDraw(e,t,s){const n=s.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;l&&(l.line.updateControlPoints(a,l.axis),n&&l.fill&&L0(e.ctx,l,a))}},beforeDatasetsDraw(e,t,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const a=n[i].$filler;Uw(a)&&L0(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;!Uw(n)||s.drawTime!=="beforeDatasetDraw"||L0(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Gw=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},KG=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Kw extends vi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=Dt(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=$s(n.font),a=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=Gw(n,a);let d,u;s.font=i.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,a,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,i,l,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:a,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=i+l;let h=t;a.textAlign="left",a.textBaseline="middle";let m=-1,f=-u;return this.legendItems.forEach((g,p)=>{const v=n+s/2+a.measureText(g.text).width;(p===0||d[d.length-1]+v+2*l>o)&&(h+=u,d[d.length-(p>0?0:1)]=0,f+=u,m++),c[p]={left:0,top:f,row:m,width:v,height:i},d[d.length-1]+=v+l}),h}_fitCols(t,s,n,i){const{ctx:a,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-t;let h=l,m=0,f=0,g=0,p=0;return this.legendItems.forEach((v,b)=>{const{itemWidth:y,itemHeight:w}=QG(n,s,a,v,i);b>0&&f+w+2*l>u&&(h+=m+l,d.push({width:m,height:f}),g+=m+l,p++,m=f=0),c[b]={left:g,top:f,col:p,width:y,height:w},m=Math.max(m,y),f+=w+l}),h+=m,d.push({width:m,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:a}}=this,o=cl(a,this.left,this.width);if(this.isHorizontal()){let l=0,c=Ms(n,this.left+i,this.right-this.lineWidths[l]);for(const d of s)l!==d.row&&(l=d.row,c=Ms(n,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+t+i,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+i}else{let l=0,c=Ms(n,this.top+t+i,this.bottom-this.columnSizes[l].height);for(const d of s)d.col!==l&&(l=d.col,c=Ms(n,this.top+t+i,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+i,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;op(t,this),this._draw(),lp(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:a,labels:o}=t,l=es.color,c=cl(t.rtl,this.left,this.width),d=$s(o.font),{padding:u}=o,h=d.size,m=h/2;let f;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:g,boxHeight:p,itemHeight:v}=Gw(o,h),b=function(S,P,C){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const F=ot(C.lineWidth,1);if(i.fillStyle=ot(C.fillStyle,l),i.lineCap=ot(C.lineCap,"butt"),i.lineDashOffset=ot(C.lineDashOffset,0),i.lineJoin=ot(C.lineJoin,"miter"),i.lineWidth=F,i.strokeStyle=ot(C.strokeStyle,l),i.setLineDash(ot(C.lineDash,[])),o.usePointStyle){const T={radius:p*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:F},te=c.xPlus(S,g/2),A=P+m;l8(i,T,te,A,o.pointStyleWidth&&g)}else{const T=P+Math.max((h-p)/2,0),te=c.leftForLtr(S,g),A=ll(C.borderRadius);i.beginPath(),Object.values(A).some(q=>q!==0)?Xm(i,{x:te,y:T,w:g,h:p,radius:A}):i.rect(te,T,g,p),i.fill(),F!==0&&i.stroke()}i.restore()},y=function(S,P,C){Gd(i,C.text,S,P+v/2,d,{strikethrough:C.hidden,textAlign:c.textAlign(C.textAlign)})},w=this.isHorizontal(),j=this._computeTitleHeight();w?f={x:Ms(a,this.left+u,this.right-n[0]),y:this.top+u+j,line:0}:f={x:this.left+u,y:Ms(a,this.top+j+u,this.bottom-s[0].height),line:0},p8(this.ctx,t.textDirection);const N=v+u;this.legendItems.forEach((S,P)=>{i.strokeStyle=S.fontColor,i.fillStyle=S.fontColor;const C=i.measureText(S.text).width,F=c.textAlign(S.textAlign||(S.textAlign=o.textAlign)),T=g+m+C;let te=f.x,A=f.y;c.setWidth(this.width),w?P>0&&te+T+u>this.right&&(A=f.y+=N,f.line++,te=f.x=Ms(a,this.left+u,this.right-n[f.line])):P>0&&A+N>this.bottom&&(te=f.x=te+s[f.line].width+u,f.line++,A=f.y=Ms(a,this.top+j+u,this.bottom-s[f.line].height));const q=c.x(te);if(b(q,A,S),te=PH(F,te+g+m,w?te+T:this.right,t.rtl),y(c.x(te),A,S),w)f.x+=T+u;else if(typeof S.text!="string"){const z=d.lineHeight;f.y+=V8(S,z)+u}else f.y+=N}),g8(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=$s(s.font),i=Yn(s.padding);if(!s.display)return;const a=cl(t.rtl,this.left,this.width),o=this.ctx,l=s.position,c=n.size/2,d=i.top+c;let u,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,h=Ms(t.align,h,this.right-m);else{const g=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);u=d+Ms(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const f=Ms(l,h,h+m);o.textAlign=a.textAlign(C1(l)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,Gd(o,s.text,f,u,n)}_computeTitleHeight(){const t=this.options.title,s=$s(t.font),n=Yn(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,a;if(ti(t,this.left,this.right)&&ti(s,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],ti(t,i.left,i.left+i.width)&&ti(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!JG(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=KG(i,n);i&&!a&&Dt(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!a&&Dt(s.onHover,[t,n,this],this)}else n&&Dt(s.onClick,[t,n,this],this)}}function QG(e,t,s,n,i){const a=YG(n,e,t,s),o=XG(i,n,t.lineHeight);return{itemWidth:a,itemHeight:o}}function YG(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((a,o)=>a.length>o.length?a:o)),t+s.size/2+n.measureText(i).width}function XG(e,t,s){let n=e;return typeof t.text!="string"&&(n=V8(t,s)),n}function V8(e,t){const s=e.text?e.text.length:0;return t*s}function JG(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var B8={id:"legend",_element:Kw,start(e,t,s){const n=e.legend=new Kw({ctx:e.ctx,options:s,chart:e});Wn.configure(e,n,s),Wn.addBox(e,n)},stop(e){Wn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;Wn.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:a,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(s?0:void 0),u=Yn(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class $8 extends vi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=rs(n.text)?n.text.length:1;this._padding=Yn(n.padding);const a=i*$s(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:a,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=Ms(l,n,a),h=s+t,d=a-n):(o.position==="left"?(u=n+t,h=Ms(l,i,s),c=jt*-.5):(u=a-t,h=Ms(l,s,i),c=jt*.5),d=i-s),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=$s(s.font),a=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(a);Gd(t,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:d,textAlign:C1(s.align),textBaseline:"middle",translation:[o,l]})}}function ZG(e,t){const s=new $8({ctx:e.ctx,options:t,chart:e});Wn.configure(e,s,t),Wn.addBox(e,s),e.titleBlock=s}var z8={id:"title",_element:$8,start(e,t,s){ZG(e,s)},stop(e){const t=e.titleBlock;Wn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;Wn.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vc={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,a=0;for(t=0,s=e.length;t<s;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),i+=c.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,a,o,l;for(a=0,o=e.length;a<o;++a){const c=e[a].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Wx(t,d);u<i&&(i=u,l=c)}}if(l){const c=l.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function gr(e,t){return t&&(rs(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Hr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function eK(e,t){const{element:s,datasetIndex:n,index:i}=t,a=e.getDatasetMeta(n).controller,{label:o,value:l}=a.getLabelAndValue(i);return{chart:e,label:o,parsed:a.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:l,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function Qw(e,t){const s=e.chart.ctx,{body:n,footer:i,title:a}=e,{boxWidth:o,boxHeight:l}=t,c=$s(t.bodyFont),d=$s(t.titleFont),u=$s(t.footerFont),h=a.length,m=i.length,f=n.length,g=Yn(t.padding);let p=g.height,v=0,b=n.reduce((j,N)=>j+N.before.length+N.lines.length+N.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,h&&(p+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b){const j=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;p+=f*j+(b-f)*c.lineHeight+(b-1)*t.bodySpacing}m&&(p+=t.footerMarginTop+m*u.lineHeight+(m-1)*t.footerSpacing);let y=0;const w=function(j){v=Math.max(v,s.measureText(j).width+y)};return s.save(),s.font=d.string,vt(e.title,w),s.font=c.string,vt(e.beforeBody.concat(e.afterBody),w),y=t.displayColors?o+2+t.boxPadding:0,vt(n,j=>{vt(j.before,w),vt(j.lines,w),vt(j.after,w)}),y=0,s.font=u.string,vt(e.footer,w),s.restore(),v+=g.width,{width:v,height:p}}function tK(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function sK(e,t,s,n){const{x:i,width:a}=n,o=s.caretSize+s.caretPadding;if(e==="left"&&i+a+o>t.width||e==="right"&&i-a-o<0)return!0}function nK(e,t,s,n){const{x:i,width:a}=s,{width:o,chartArea:{left:l,right:c}}=e;let d="center";return n==="center"?d=i<=(l+c)/2?"left":"right":i<=a/2?d="left":i>=o-a/2&&(d="right"),sK(d,e,t,s)&&(d="center"),d}function Yw(e,t,s){const n=s.yAlign||t.yAlign||tK(e,s);return{xAlign:s.xAlign||t.xAlign||nK(e,t,s,n),yAlign:n}}function rK(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function iK(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function Xw(e,t,s,n){const{caretSize:i,caretPadding:a,cornerRadius:o}=e,{xAlign:l,yAlign:c}=s,d=i+a,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:f}=ll(o);let g=rK(t,l);const p=iK(t,c,d);return c==="center"?l==="left"?g+=d:l==="right"&&(g-=d):l==="left"?g-=Math.max(u,m)+i:l==="right"&&(g+=Math.max(h,f)+i),{x:Bs(g,0,n.width-t.width),y:Bs(p,0,n.height-t.height)}}function mh(e,t,s){const n=Yn(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function Jw(e){return gr([],Hr(e))}function aK(e,t,s){return No(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function Zw(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const U8={beforeTitle:Br,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:Br,beforeBody:Br,beforeLabel:Br,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return yt(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Br,afterBody:Br,beforeFooter:Br,footer:Br,afterFooter:Br};function tn(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?U8[t].call(s,n):i}class Zx extends vi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,a=new j8(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=aK(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=tn(n,"beforeTitle",this,t),a=tn(n,"title",this,t),o=tn(n,"afterTitle",this,t);let l=[];return l=gr(l,Hr(i)),l=gr(l,Hr(a)),l=gr(l,Hr(o)),l}getBeforeBody(t,s){return Jw(tn(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return vt(t,a=>{const o={before:[],lines:[],after:[]},l=Zw(n,a);gr(o.before,Hr(tn(l,"beforeLabel",this,a))),gr(o.lines,tn(l,"label",this,a)),gr(o.after,Hr(tn(l,"afterLabel",this,a))),i.push(o)}),i}getAfterBody(t,s){return Jw(tn(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=tn(n,"beforeFooter",this,t),a=tn(n,"footer",this,t),o=tn(n,"afterFooter",this,t);let l=[];return l=gr(l,Hr(i)),l=gr(l,Hr(a)),l=gr(l,Hr(o)),l}_createItems(t){const s=this._active,n=this.chart.data,i=[],a=[],o=[];let l=[],c,d;for(c=0,d=s.length;c<d;++c)l.push(eK(this.chart,s[c]));return t.filter&&(l=l.filter((u,h,m)=>t.filter(u,h,m,n))),t.itemSort&&(l=l.sort((u,h)=>t.itemSort(u,h,n))),vt(l,u=>{const h=Zw(t.callbacks,u);i.push(tn(h,"labelColor",this,u)),a.push(tn(h,"labelPointStyle",this,u)),o.push(tn(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=l,l}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let a,o=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const l=Vc[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=Qw(this,n),d=Object.assign({},l,c),u=Yw(this.chart,n,d),h=Xw(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const a=this.getCaretPosition(t,n,i);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:a}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=ll(l),{x:m,y:f}=t,{width:g,height:p}=s;let v,b,y,w,j,N;return a==="center"?(j=f+p/2,i==="left"?(v=m,b=v-o,w=j+o,N=j-o):(v=m+g,b=v+o,w=j-o,N=j+o),y=v):(i==="left"?b=m+Math.max(c,u)+o:i==="right"?b=m+g-Math.max(d,h)-o:b=this.caretX,a==="top"?(w=f,j=w-o,v=b-o,y=b+o):(w=f+p,j=w+o,v=b+o,y=b-o),N=w),{x1:v,x2:b,x3:y,y1:w,y2:j,y3:N}}drawTitle(t,s,n){const i=this.title,a=i.length;let o,l,c;if(a){const d=cl(n.rtl,this.x,this.width);for(t.x=mh(this,n.titleAlign,n),s.textAlign=d.textAlign(n.titleAlign),s.textBaseline="middle",o=$s(n.titleFont),l=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,c=0;c<a;++c)s.fillText(i[c],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===a&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,s,n,i,a){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=a,u=$s(a.bodyFont),h=mh(this,"left",a),m=i.x(h),f=c<u.lineHeight?(u.lineHeight-c)/2:0,g=s.y+f;if(a.usePointStyle){const p={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=i.leftForLtr(m,d)+d/2,b=g+c/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Kx(t,p,v,b),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Kx(t,p,v,b)}else{t.lineWidth=ct(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(m,d),v=i.leftForLtr(i.xPlus(m,1),d-2),b=ll(o.borderRadius);Object.values(b).some(y=>y!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Xm(t,{x:p,y:g,w:d,h:c,radius:b}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Xm(t,{x:v,y:g+1,w:d-2,h:c-2,radius:b}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(p,g,d,c),t.strokeRect(p,g,d,c),t.fillStyle=o.backgroundColor,t.fillRect(v,g+1,d-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:a,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=$s(n.bodyFont);let m=h.lineHeight,f=0;const g=cl(n.rtl,this.x,this.width),p=function(C){s.fillText(C,g.x(t.x+f),t.y+m/2),t.y+=m+a},v=g.textAlign(o);let b,y,w,j,N,S,P;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,t.x=mh(this,v,n),s.fillStyle=n.bodyColor,vt(this.beforeBody,p),f=l&&v!=="right"?o==="center"?d/2+u:d+2+u:0,j=0,S=i.length;j<S;++j){for(b=i[j],y=this.labelTextColors[j],s.fillStyle=y,vt(b.before,p),w=b.lines,l&&w.length&&(this._drawColorBox(s,t,j,g,n),m=Math.max(h.lineHeight,c)),N=0,P=w.length;N<P;++N)p(w[N]),m=h.lineHeight;vt(b.after,p)}f=0,m=h.lineHeight,vt(this.afterBody,p),t.y-=a}drawFooter(t,s,n){const i=this.footer,a=i.length;let o,l;if(a){const c=cl(n.rtl,this.x,this.width);for(t.x=mh(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",o=$s(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,l=0;l<a;++l)s.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:a,yAlign:o}=this,{x:l,y:c}=t,{width:d,height:u}=n,{topLeft:h,topRight:m,bottomLeft:f,bottomRight:g}=ll(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(l+h,c),o==="top"&&this.drawCaret(t,s,n,i),s.lineTo(l+d-m,c),s.quadraticCurveTo(l+d,c,l+d,c+m),o==="center"&&a==="right"&&this.drawCaret(t,s,n,i),s.lineTo(l+d,c+u-g),s.quadraticCurveTo(l+d,c+u,l+d-g,c+u),o==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(l+f,c+u),s.quadraticCurveTo(l,c+u,l,c+u-f),o==="center"&&a==="left"&&this.drawCaret(t,s,n,i),s.lineTo(l,c+h),s.quadraticCurveTo(l,c,l+h,c),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const o=Vc[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Qw(this,t),c=Object.assign({},o,this._size),d=Yw(s,t,c),u=Xw(t,c,d,s);(i._to!==u.x||a._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Yn(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(a,t,i,s),p8(t,s.textDirection),a.y+=o.top,this.drawTitle(a,t,s),this.drawBody(a,t,s),this.drawFooter(a,t,s),g8(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),a=!Km(n,i),o=this._positionChanged(i,s);(a||o)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],o=this._getActiveElements(t,a,s,n),l=this._positionChanged(o,t),c=s||!Km(o,a)||l;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),c}_getActiveElements(t,s,n,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,a.mode,a,n);return a.reverse&&o.reverse(),o}_positionChanged(t,s){const{caretX:n,caretY:i,options:a}=this,o=Vc[a.position].call(this,t,s);return o!==!1&&(n!==o.x||i!==o.y)}}Ve(Zx,"positioners",Vc);var H8={id:"tooltip",_element:Zx,positioners:Vc,afterInit(e,t,s){s&&(e.tooltip=new Zx({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:U8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const oK=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function lK(e,t,s,n){const i=e.indexOf(t);if(i===-1)return oK(e,t,s,n);const a=e.lastIndexOf(t);return i!==a?s:i}const cK=(e,t)=>e===null?null:Bs(Math.round(e),0,t);function eN(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class tf extends Xl{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:a}of s)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(yt(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:lK(n,t,ot(s,t),this._addedLabels),cK(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let a=this.getLabels();a=t===0&&s===a.length-1?a:a.slice(t,s+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=s;o++)i.push({value:o});return i}getLabelForValue(t){return eN.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Ve(tf,"id","category"),Ve(tf,"defaults",{ticks:{callback:eN}});function dK(e,t){const s=[],{bounds:i,step:a,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:m}=e,f=a||1,g=u-1,{min:p,max:v}=t,b=!yt(o),y=!yt(l),w=!yt(d),j=(v-p)/(h+1);let N=X4((v-p)/g/f)*f,S,P,C,F;if(N<1e-14&&!b&&!y)return[{value:p},{value:v}];F=Math.ceil(v/N)-Math.floor(p/N),F>g&&(N=X4(F*N/g/f)*f),yt(c)||(S=Math.pow(10,c),N=Math.ceil(N*S)/S),i==="ticks"?(P=Math.floor(p/N)*N,C=Math.ceil(v/N)*N):(P=p,C=v),b&&y&&a&&xH((l-o)/a,N/1e3)?(F=Math.round(Math.min((l-o)/N,u)),N=(l-o)/F,P=o,C=l):w?(P=b?o:P,C=y?l:C,F=d-1,N=(C-P)/F):(F=(C-P)/N,sd(F,Math.round(F),N/1e3)?F=Math.round(F):F=Math.ceil(F));const T=Math.max(J4(N),J4(P));S=Math.pow(10,yt(c)?T:c),P=Math.round(P*S)/S,C=Math.round(C*S)/S;let te=0;for(b&&(m&&P!==o?(s.push({value:o}),P<o&&te++,sd(Math.round((P+te*N)*S)/S,o,tN(o,j,e))&&te++):P<o&&te++);te<F;++te){const A=Math.round((P+te*N)*S)/S;if(y&&A>l)break;s.push({value:A})}return y&&m&&C!==l?s.length&&sd(s[s.length-1].value,l,tN(l,j,e))?s[s.length-1].value=l:s.push({value:l}):(!y||C===l)&&s.push({value:C}),s}function tN(e,t,{horizontal:s,minRotation:n}){const i=ei(n),a=(s?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class uK extends Xl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return yt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const o=c=>i=s?i:c,l=c=>a=n?a:c;if(t){const c=Rr(i),d=Rr(a);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(i===a){let c=a===0?1:Math.abs(a*.05);l(a+c),t||o(i-c)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},a=this._range||this,o=dK(i,a);return t.bounds==="ticks"&&yH(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return k1(t,this.chart.options.locale,this.options.ticks.format)}}class sf extends uK{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Us(t)?t:0,this.max=Us(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=ei(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ve(sf,"id","linear"),Ve(sf,"defaults",{ticks:{callback:o8.formatters.numeric}});const hp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},on=Object.keys(hp);function sN(e,t){return e-t}function nN(e,t){if(yt(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:a}=e._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),Us(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(i&&(o=i==="week"&&(Hd(a)||a===!0)?s.startOf(o,"isoWeek",a):s.startOf(o,i)),+o)}function rN(e,t,s,n){const i=on.length;for(let a=on.indexOf(e);a<i-1;++a){const o=hp[on[a]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-t)/(l*o.size))<=n)return on[a]}return on[i-1]}function hK(e,t,s,n,i){for(let a=on.length-1;a>=on.indexOf(s);a--){const o=on[a];if(hp[o].common&&e._adapter.diff(i,n,o)>=t-1)return o}return on[s?on.indexOf(s):0]}function mK(e){for(let t=on.indexOf(e)+1,s=on.length;t<s;++t)if(hp[on[t]].common)return on[t]}function iN(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=S1(s,t),a=s[n]>=t?s[n]:s[i];e[a]=!0}}function fK(e,t,s,n){const i=e._adapter,a=+i.startOf(t[0].value,n),o=t[t.length-1].value;let l,c;for(l=a;l<=o;l=+i.add(l,1,n))c=s[l],c>=0&&(t[c].major=!0);return t}function aN(e,t,s){const n=[],i={},a=t.length;let o,l;for(o=0;o<a;++o)l=t[o],i[l]=o,n.push({value:l,major:!1});return a===0||!s?n:fK(e,n,i,s)}class nf extends Xl{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new eW._date(t.adapters.date);i.init(s),td(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:nN(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:a,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=Us(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),a=Us(a)&&!isNaN(a)?a:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,o=this.max,l=NH(i,a,o);return this._unit=s.unit||(n.autoSkip?rN(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):hK(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:mK(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),aN(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?n=a:n=(a-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=Bs(s,0,o),n=Bs(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,a=i.time,o=a.unit||rN(a.minUnit,s,n,this._getLabelCapacity(s)),l=ot(i.ticks.stepSize,1),c=o==="week"?a.isoWeekday:!1,d=Hd(c)||c===!0,u={};let h=s,m,f;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":o),t.diff(n,s,o)>1e5*l)throw new Error(s+" and "+n+" are too far apart with stepSize of "+l+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(m=h,f=0;m<n;m=+t.add(m,l,o),f++)iN(u,m,g);return(m===n||i.bounds==="ticks"||f===1)&&iN(u,m,g),Object.keys(u).sort(sN).map(p=>+p)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,a=this._unit,o=s||i[a];return this._adapter.format(t,o)}_tickFormatFunction(t,s,n,i){const a=this.options,o=a.ticks.callback;if(o)return Dt(o,[t,s,n],this);const l=a.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],m=n[s],f=d&&h&&m&&m.major;return this._adapter.format(t,i||(f?h:u))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=ei(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*a+l*o,h:n*o+l*a}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,a=this._tickFormatFunction(t,0,aN(this,[t],this._majorUnit),i),o=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(nN(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return r8(t.sort(sN))}}Ve(nf,"id","time"),Ve(nf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function fh(e,t,s){let n=0,i=e.length-1,a,o,l,c;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=za(e,"pos",t)),{pos:a,time:l}=e[n],{pos:o,time:c}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=za(e,"time",t)),{time:a,pos:l}=e[n],{time:o,pos:c}=e[i]);const d=o-a;return d?l+(c-l)*(t-a)/d:l}class oN extends nf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=fh(s,this.min),this._tableRange=fh(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],a=[];let o,l,c,d,u;for(o=0,l=t.length;o<l;++o)d=t[o],d>=s&&d<=n&&i.push(d);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,l=i.length;o<l;++o)u=i[o+1],c=i[o-1],d=i[o],Math.round((u+c)/2)!==d&&a.push({time:d,pos:o/(l-1)});return a}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(fh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return fh(this._table,n*this._tableRange+this._minPos,!0)}}Ve(oN,"id","timeseries"),Ve(oN,"defaults",nf.defaults);const q8="label";function lN(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function pK(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function W8(e,t){e.labels=t}function G8(e,t,s=q8){const n=[];e.datasets=t.map(i=>{const a=e.datasets.find(o=>o[s]===i[s]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function gK(e,t=q8){const s={labels:[],datasets:[]};return W8(s,e.labels),G8(s,e.datasets,t),s}function xK(e,t){const{height:s=150,width:n=300,redraw:i=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=e,f=x.useRef(null),g=x.useRef(null),p=()=>{f.current&&(g.current=new ju(f.current,{type:o,data:gK(l,a),options:c&&{...c},plugins:d}),lN(t,g.current))},v=()=>{lN(t,null),g.current&&(g.current.destroy(),g.current=null)};return x.useEffect(()=>{!i&&g.current&&c&&pK(g.current,c)},[i,c]),x.useEffect(()=>{!i&&g.current&&W8(g.current.config.data,l.labels)},[i,l.labels]),x.useEffect(()=>{!i&&g.current&&l.datasets&&G8(g.current.config.data,l.datasets,a)},[i,l.datasets]),x.useEffect(()=>{g.current&&(i?(v(),setTimeout(p)):g.current.update(h))},[i,c,l.labels,l.datasets,h]),x.useEffect(()=>{g.current&&(v(),setTimeout(p))},[o]),x.useEffect(()=>(p(),()=>v()),[]),r.jsx("canvas",{ref:f,role:"img",height:s,width:n,...m,children:u})}const yK=x.forwardRef(xK);function R1(e,t){return ju.register(t),x.forwardRef((s,n)=>r.jsx(yK,{...s,ref:n,type:e}))}const ey=R1("line",qh),K8=R1("bar",Hh),bK=R1("doughnut",Ic),vK=e=>{const t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${s}-${n}`},ni={getAppointments:async(e={})=>(await ee.get("/appointments",{params:e})).data,getAppointment:async e=>(await ee.get(`/appointments/${e}`)).data,createAppointment:async e=>(await ee.post("/appointments",e)).data,updateAppointment:async(e,t)=>(await ee.put(`/appointments/${e}`,t)).data,updateStatus:async(e,t,s=null)=>(await ee.put(`/appointments/${e}/status`,{status:t,reason:s})).data,getTodayCount:async()=>(await ee.get("/appointments/today/count")).data,getCalendarData:async(e,t,s=null)=>{const n={month:e,year:t};return s&&(n.doctorId=s),(await ee.get("/appointments/calendar",{params:n})).data},getTodayAppointments:async()=>{var s;const e=vK(new Date);return((s=(await ee.get("/appointments",{params:{startDate:e,endDate:e,limit:50}})).data)==null?void 0:s.data)||[]},getDoctors:async()=>(await ee.get("/appointments/doctors")).data};ju.register(tf,sf,id,si,ad,z8,H8,B8,F8);const ph=({icon:e,title:t,value:s,change:n,changeType:i,color:a})=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s}),n&&r.jsxs("p",{className:`text-sm mt-1 ${i==="increase"?"text-green-600":"text-red-600"}`,children:[i==="increase"?"+":"-",n,"% from yesterday"]})]}),r.jsx("div",{className:`w-12 h-12 ${a} rounded-xl flex items-center justify-center`,children:r.jsx(e,{className:"text-xl text-white"})})]})}),yc=({icon:e,title:t,to:s,color:n})=>r.jsxs(Ke,{to:s,className:"flex items-center gap-3 p-4 bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[r.jsx("div",{className:`w-10 h-10 ${n} rounded-lg flex items-center justify-center`,children:r.jsx(e,{className:"text-white"})}),r.jsx("span",{className:"font-medium text-gray-700",children:t}),r.jsx(Ld,{className:"ml-auto text-gray-400"})]}),jK=({type:e,message:t,time:s})=>{const n={warning:"bg-yellow-100 text-yellow-800 border-yellow-200",danger:"bg-red-100 text-red-800 border-red-200",info:"bg-blue-100 text-blue-800 border-blue-200"};return r.jsxs("div",{className:`p-3 rounded-lg border ${n[e]} flex items-start gap-3`,children:[r.jsx(UP,{className:"mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",children:t}),r.jsx("p",{className:"text-xs opacity-75 mt-1",children:s})]})]})};function Q8(){var j,N,S,P,C,F,T,te,A,q,z,B,_,$,M,D,J,K,ce,U,le,re,ie;const{user:e,normalizeRole:t}=dr(),[s]=x.useState("7days"),{activeViewUser:n}=dr(),{data:i}=Te({queryKey:["rolePermissions"],queryFn:()=>ut.getRolePermissions(),staleTime:5*60*1e3}),a=((j=i==null?void 0:i.data)==null?void 0:j.data)||(i==null?void 0:i.data)||i||null,o=t?t((n==null?void 0:n.role)||(e==null?void 0:e.role)||"STAFF"):n&&n.role||e&&e.role||"STAFF",l=!!(n&&n.id&&e&&n.id!==e.id),c=(e==null?void 0:e.isClinicAdmin)===!0||(e==null?void 0:e.clinicRole)==="ADMIN"||(e==null?void 0:e.isOwner)===!0||["SUPER_ADMIN","ADMIN"].includes(((e==null?void 0:e.role)||"").toString().toUpperCase()),d=Y=>{if(c&&!l)return!0;if(!a)return["DOCTOR","ADMIN","SUPER_ADMIN"].includes((o||"").toString().toUpperCase());let Se=(o||"").toString().toUpperCase();a[Se]||(["NURSE","LAB_TECHNICIAN"].includes(Se)&&a.STAFF?Se="STAFF":Se==="STAFF"&&a.DOCTOR&&(Se="DOCTOR"));const je=a[Se];return je?je.includes(Y):!1},{data:u,isLoading:h}=Te({queryKey:["dashboardStats",(n==null?void 0:n.id)||null],queryFn:()=>qo.getStats((n==null?void 0:n.id)||null),placeholderData:{todayOPD:0,totalRevenue:0,appointments:0,pendingBills:0},enabled:d("dashboard:view")}),{data:m}=Te({queryKey:["patientTrend",s,(n==null?void 0:n.id)||null],queryFn:()=>qo.getPatientTrend(s,(n==null?void 0:n.id)||null),placeholderData:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],data:[12,19,15,25,22,30,28]},enabled:d("dashboard:view")}),{data:f}=Te({queryKey:["revenueTrend",s,(n==null?void 0:n.id)||null],queryFn:()=>qo.getRevenueTrend(s,(n==null?void 0:n.id)||null),placeholderData:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],data:[5e3,8e3,6500,9e3,7500,12e3,10500]},enabled:d("dashboard:view")}),{data:g}=Te({queryKey:["todayAppointments"],queryFn:()=>ni.getTodayAppointments(),placeholderData:[],enabled:d("dashboard:view")}),{data:p}=Te({queryKey:["recentPatients"],queryFn:()=>ls.getRecent(5),placeholderData:[],enabled:d("dashboard:view")}),{data:v}=Te({queryKey:["dashboardAlerts",(n==null?void 0:n.id)||null],queryFn:()=>qo.getAlerts((n==null?void 0:n.id)||null),placeholderData:[],enabled:d("dashboard:view")});if(!d("dashboard:view"))return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-100 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome to your workspace"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["Hi ",(e==null?void 0:e.name)||"there",", welcome to DocClinic."]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d("patients:read")||d("patients:create")?r.jsxs(Ke,{to:"/patients",className:"block p-4 bg-blue-50 rounded-lg hover:shadow-md transition",children:[r.jsx("p",{className:"font-medium text-blue-700",children:"Patients"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Search and manage patient records"})]}):null,d("appointments:read")||d("appointments:create")?r.jsxs(Ke,{to:"/appointments",className:"block p-4 bg-green-50 rounded-lg hover:shadow-md transition",children:[r.jsx("p",{className:"font-medium text-green-700",children:"Appointments"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"View schedule or book a patient"})]}):null,d("prescriptions:read")||d("prescriptions:create")?r.jsxs(Ke,{to:"/prescriptions",className:"block p-4 bg-purple-50 rounded-lg hover:shadow-md transition",children:[r.jsx("p",{className:"font-medium text-purple-700",children:"Prescriptions"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create and view prescriptions"})]}):null]})]})})});const b={labels:(m==null?void 0:m.labels)||[],datasets:[{label:"Patients",data:(m==null?void 0:m.data)||[],fill:!0,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]},y={labels:(f==null?void 0:f.labels)||[],datasets:[{label:"Revenue ()",data:(f==null?void 0:f.data)||[],backgroundColor:"rgba(16, 185, 129, 0.8)",borderRadius:8}]},w={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:["DOCTOR","SUPER_ADMIN"].includes((o||"").toString().toUpperCase())?`Welcome back, Dr. ${(e==null?void 0:e.name)||"Doctor"}!`:`Welcome, ${(e==null?void 0:e.name)||"Staff"}.`}),r.jsx("p",{className:"text-gray-500 mt-1",children:d("appointments:read")||d("patients:read")?"Here's what's happening at your clinic today.":"Welcome to your workspace."})]}),d("appointments:read")||d("reports:collections")?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx(ph,{icon:xo,title:"Today's OPD",value:((S=(N=u==null?void 0:u.data)==null?void 0:N.appointments)==null?void 0:S.total)||0,change:Math.abs((C=(P=u==null?void 0:u.data)==null?void 0:P.appointments)==null?void 0:C.growth)||0,changeType:((T=(F=u==null?void 0:u.data)==null?void 0:F.appointments)==null?void 0:T.growth)>=0?"increase":"decrease",color:"bg-blue-500"}),r.jsx(ph,{icon:Ki,title:"Today's Revenue",value:`${(((A=(te=u==null?void 0:u.data)==null?void 0:te.revenue)==null?void 0:A.total)||0).toLocaleString()}`,change:Math.abs((z=(q=u==null?void 0:u.data)==null?void 0:q.revenue)==null?void 0:z.growth)||0,changeType:((_=(B=u==null?void 0:u.data)==null?void 0:B.revenue)==null?void 0:_.growth)>=0?"increase":"decrease",color:"bg-green-500"}),r.jsx(ph,{icon:V4,title:"New Patients",value:((M=($=u==null?void 0:u.data)==null?void 0:$.patients)==null?void 0:M.newToday)||0,change:((J=(D=u==null?void 0:u.data)==null?void 0:D.appointments)==null?void 0:J.completed)||0,changeType:"increase",color:"bg-purple-500"}),r.jsx(ph,{icon:x1,title:"Bills Today",value:((ce=(K=u==null?void 0:u.data)==null?void 0:K.bills)==null?void 0:ce.count)||0,change:((le=(U=u==null?void 0:u.data)==null?void 0:U.appointments)==null?void 0:le.pending)||0,changeType:"decrease",color:"bg-orange-500"})]}):null,r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patient Count"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Last 7 days trend"})]}),r.jsx(ol,{className:"text-blue-500"})]}),r.jsx("div",{className:"h-64",children:r.jsx(ey,{data:b,options:w})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Revenue"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Last 7 days"})]}),r.jsx(Ki,{className:"text-green-500"})]}),r.jsx("div",{className:"h-64",children:r.jsx(K8,{data:y,options:w})})]})]}),(d("appointments:create")||d("prescriptions:create")||d("patients:create")||c)&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid md:grid-cols-3 lg:grid-cols-5 gap-4",children:[d("appointments:create")&&r.jsx(yc,{icon:V4,title:"New Appointment",to:"/appointments/new",color:"bg-blue-500"}),d("prescriptions:create")&&r.jsx(yc,{icon:ap,title:"New Prescription",to:"/prescriptions/new",color:"bg-purple-500"}),d("patients:create")&&r.jsx(yc,{icon:Js,title:"Add Patient",to:"/patients/new",color:"bg-green-500"}),c&&r.jsx(yc,{icon:Vx,title:"Help Center",to:"/help-center",color:"bg-indigo-500"}),c&&r.jsx(yc,{icon:Vx,title:"Quick Guide",to:"/help-center#quick-guide",color:"bg-slate-600"})]})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Alerts"}),r.jsx(Zz,{className:"text-gray-400"})]}),r.jsx("div",{className:"space-y-3",children:((ie=(re=v==null?void 0:v.data)==null?void 0:re.alerts)==null?void 0:ie.length)>0?v.data.alerts.map((Y,oe)=>r.jsx(jK,{type:Y.type,message:Y.message,time:Y.title},oe)):r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No alerts at this time"})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Patients"}),r.jsx(Ke,{to:"/patients",className:"text-blue-600 text-sm hover:underline",children:"View all"})]}),r.jsx("div",{className:"space-y-3",children:(p==null?void 0:p.length)>0?p.map(Y=>{var oe;return r.jsxs(Ke,{to:`/patients/${Y.id}`,className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-medium",children:((oe=Y.name)==null?void 0:oe.charAt(0))||"P"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 truncate",children:Y.name}),r.jsx("p",{className:"text-sm text-gray-500",children:Y.phone})]})]},Y.id)}):r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent patients"})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Today's Appointments"}),r.jsx(Ke,{to:"/appointments",className:"text-blue-600 text-sm hover:underline",children:"View all"})]}),r.jsx("div",{className:"space-y-3",children:(g==null?void 0:g.length)>0?g.slice(0,5).map(Y=>{var oe,Se;return r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(Or,{className:"text-purple-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 truncate",children:((oe=Y.patient)==null?void 0:oe.name)||Y.patientName||"Unknown Patient"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[Y.timeSlot||Y.time||"-"," - ",Y.type||"Consultation"]})]}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Y.status==="CONFIRMED"||Y.status==="confirmed"?"bg-green-100 text-green-700":Y.status==="COMPLETED"||Y.status==="completed"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:((Se=Y.status)==null?void 0:Se.toLowerCase())||"scheduled"})]},Y.id)}):r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No appointments today"})})]})]})]})})}const wK=Object.freeze(Object.defineProperty({__proto__:null,default:Q8},Symbol.toStringTag,{value:"Module"})),NK=e=>{if(!e||typeof e!="string")return"";const t=e.trim(),s=/^(\d{2})\/(\d{2})\/(\d{4})$/.exec(t);if(!s)return"";const[,n,i,a]=s,o=Number(n),l=Number(i),c=Number(a);if(!o||!l||!c||l<1||l>12||o<1||o>31)return"";const d=new Date(c,l-1,o);return d.getFullYear()!==c||d.getMonth()!==l-1||d.getDate()!==o?"":`${a}-${i}-${n}`};function Y8(){var D,J;const e=yn(),[t,s]=r6(),n=Ht(),[i,a]=x.useState(t.get("search")||""),[o,l]=x.useState(1),[c,d]=x.useState(!1),[u,h]=x.useState(t.get("action")==="new"),[m,f]=x.useState({gender:"",minAge:"",maxAge:"",fromDate:"",toDate:""}),g=10,p=st("patients:create",["SUPER_ADMIN","DOCTOR","RECEPTIONIST"]);x.useEffect(()=>{const K=t.get("action"),ce=t.get("search");K==="new"&&(p&&h(!0),s({},{replace:!0})),ce&&(a(ce),s({},{replace:!0}))},[t,s,p]);const{register:v,handleSubmit:b,reset:y,formState:{errors:w}}=Vt(),{data:j,isLoading:N,isError:S}=Te({queryKey:["patients",o,g,i,m],queryFn:()=>ls.getAll({page:o,limit:g,search:i,...m}),placeholderData:K=>K}),P=We({mutationFn:K=>ls.createPatient(K),onSuccess:()=>{X.success("Patient added successfully"),n.invalidateQueries({queryKey:["patients"]}),h(!1),y()},onError:K=>{var ce,U;X.error(((U=(ce=K.response)==null?void 0:ce.data)==null?void 0:U.message)||"Failed to add patient")}}),C=K=>{const ce=K.dateOfBirth?NK(K.dateOfBirth):"";if(K.dateOfBirth&&!ce){X.error("Date of birth format should be dd/mm/yyyy");return}const U=K.allergies?K.allergies.split(",").map(re=>re.trim()).filter(Boolean):void 0,le=K.medicalHistory?K.medicalHistory.split(`
`).map(re=>re.trim()).filter(Boolean):void 0;P.mutate({...K,dateOfBirth:ce||void 0,allergies:U,medicalHistory:le,insurance:K.insurance?K.insurance.trim():void 0})},F=(j==null?void 0:j.data)||[],T=((D=j==null?void 0:j.pagination)==null?void 0:D.totalPages)||1,te=((J=j==null?void 0:j.pagination)==null?void 0:J.total)||0,A=K=>{a(K.target.value),l(1)},q=(K,ce)=>{f(U=>({...U,[K]:ce})),l(1)},z=()=>{f({gender:"",minAge:"",maxAge:"",fromDate:"",toDate:""}),l(1)},B=K=>{e(`/patients/${K}`)},_=K=>(K==null?void 0:K.toLowerCase())==="male"?r.jsx(fU,{className:"text-blue-500"}):(K==null?void 0:K.toLowerCase())==="female"?r.jsx(lU,{className:"text-pink-500"}):r.jsx(xo,{className:"text-gray-400"}),$=K=>K?new Date(K).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",M=K=>{if(!K)return null;const ce=new Date(K);if(Number.isNaN(ce.getTime()))return null;const U=new Date;let le=U.getFullYear()-ce.getFullYear();const re=U.getMonth()-ce.getMonth();return(re<0||re===0&&U.getDate()<ce.getDate())&&le--,le};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patients"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and view all patient records"})]}),p&&r.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[r.jsx(Js,{}),"Add Patient"]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:i,onChange:A,placeholder:"Search by name, phone, or patient ID...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),r.jsxs("button",{onClick:()=>d(!c),className:`inline-flex items-center gap-2 px-4 py-2.5 border rounded-lg font-medium transition ${c||m.gender||m.minAge||m.maxAge||m.fromDate||m.toDate?"border-blue-500 text-blue-600 bg-blue-50":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(y1,{}),"Filters",(m.gender||m.minAge||m.maxAge||m.fromDate||m.toDate)&&r.jsx("span",{className:"bg-blue-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:[m.gender,m.minAge,m.maxAge,m.fromDate,m.toDate].filter(Boolean).length})]})]}),c&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),r.jsxs("select",{value:m.gender,onChange:K=>q("gender",K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All"}),r.jsx("option",{value:"MALE",children:"Male"}),r.jsx("option",{value:"FEMALE",children:"Female"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Age"}),r.jsx("input",{type:"text",inputMode:"numeric",value:m.minAge,onChange:K=>q("minAge",K.target.value.replace(/[^\d]/g,"")),placeholder:"e.g. 18",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Age"}),r.jsx("input",{type:"text",inputMode:"numeric",value:m.maxAge,onChange:K=>q("maxAge",K.target.value.replace(/[^\d]/g,"")),placeholder:"e.g. 60",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),r.jsx("input",{type:"date",lang:"en-GB",value:m.fromDate,onChange:K=>q("fromDate",K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),r.jsx("input",{type:"date",lang:"en-GB",value:m.toDate,onChange:K=>q("toDate",K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("button",{onClick:z,className:"inline-flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition",children:[r.jsx(go,{}),"Clear Filters"]})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Patient ID"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Name"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Phone"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Age"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Gender"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Last Visit"})]})}),r.jsx("tbody",{children:N?[...Array(5)].map((K,ce)=>r.jsxs("tr",{className:"animate-pulse",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})})]},ce)):S?r.jsx("tr",{children:r.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[r.jsx("div",{className:"text-red-500 mb-2",children:"Failed to load patients"}),r.jsx("button",{onClick:()=>window.location.reload(),className:"text-blue-600 hover:underline",children:"Try again"})]})}):F.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[r.jsx(xo,{className:"text-4xl text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No patients found"}),i&&r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your search or filters"})]})}):F.map(K=>{var ce;return r.jsxs("tr",{onClick:()=>B(K.id),className:"border-b border-gray-50 hover:bg-blue-50 cursor-pointer transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm font-medium text-blue-600",children:K.patientId||`P${String(K.id).padStart(5,"0")}`})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-medium text-sm",children:((ce=K.name)==null?void 0:ce.charAt(0))||"P"})}),r.jsx("span",{className:"font-medium text-gray-900",children:K.name})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:K.phone||"-"}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:K.age?`${K.age} yrs`:K.dateOfBirth?`${M(K.dateOfBirth)} yrs`:"-"}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[_(K.gender),r.jsx("span",{className:"text-gray-600 capitalize",children:K.gender||"-"})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:$(K.lastVisit)})]},K.id)})})]})}),!N&&F.length>0&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex flex-col sm:flex-row items-center justify-between gap-4",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(o-1)*g+1," to"," ",Math.min(o*g,te)," of ",te," patients"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>l(K=>Math.max(1,K-1)),disabled:o===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:r.jsx(yi,{className:"text-gray-600"})}),[...Array(Math.min(5,T))].map((K,ce)=>{let U;return T<=5||o<=3?U=ce+1:o>=T-2?U=T-4+ce:U=o-2+ce,r.jsx("button",{onClick:()=>l(U),className:`w-10 h-10 rounded-lg font-medium transition ${o===U?"bg-blue-600 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:U},U)}),r.jsx("button",{onClick:()=>l(K=>Math.min(T,K+1)),disabled:o===T,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:r.jsx(bi,{className:"text-gray-600"})})]})]})]})]}),r.jsx(At,{isOpen:u,onClose:()=>{h(!1),y()},title:"Add New Patient",size:"lg",children:r.jsxs("form",{onSubmit:b(C),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...v("name",{required:"Name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Patient name"}),w.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",...v("phone",{required:"Phone is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"10-digit phone number"}),w.phone&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.phone.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",...v("email"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),r.jsx("input",{type:"text",inputMode:"numeric",...v("dateOfBirth"),placeholder:"dd/mm/yyyy",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),r.jsxs("select",{...v("gender"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select gender"}),r.jsx("option",{value:"MALE",children:"Male"}),r.jsx("option",{value:"FEMALE",children:"Female"}),r.jsx("option",{value:"OTHER",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),r.jsxs("select",{...v("bloodGroup"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select blood group"}),r.jsx("option",{value:"A+",children:"A+"}),r.jsx("option",{value:"A-",children:"A-"}),r.jsx("option",{value:"B+",children:"B+"}),r.jsx("option",{value:"B-",children:"B-"}),r.jsx("option",{value:"AB+",children:"AB+"}),r.jsx("option",{value:"AB-",children:"AB-"}),r.jsx("option",{value:"O+",children:"O+"}),r.jsx("option",{value:"O-",children:"O-"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("textarea",{...v("address"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allergies (comma separated)"}),r.jsx("input",{type:"text",...v("allergies"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g. Penicillin, Pollen"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance"}),r.jsx("input",{type:"text",...v("insurance"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Insurance provider / policy"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical History (one per line)"}),r.jsx("textarea",{...v("medicalHistory"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe medical history entries, one per line"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:()=>{h(!1),y()},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:P.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:P.isPending?"Saving...":"Save Patient"})]})]})})]})}const SK=Object.freeze(Object.defineProperty({__proto__:null,default:Y8},Symbol.toStringTag,{value:"Module"})),Ar={getPrescriptions:async(e={})=>(await ee.get("/prescriptions",{params:e})).data,getPrescription:async e=>(await ee.get(`/prescriptions/${e}`)).data,createPrescription:async e=>(await ee.post("/prescriptions",e)).data,updatePrescription:async(e,t)=>(await ee.put(`/prescriptions/${e}`,t)).data,deletePrescription:async e=>(await ee.delete(`/prescriptions/${e}`)).data,sendPrescription:async(e,t)=>(await ee.post(`/prescriptions/${e}/send`,{method:t})).data,getPrescriptionPdf:async e=>(await ee.get(`/prescriptions/${e}/pdf`,{responseType:"blob"})).data,searchLabTests:async e=>(await ee.get("/prescriptions/lab-tests/search",{params:{q:e}})).data,searchMedicines:async(e,t=20)=>(await ee.get("/prescriptions/medicines/search",{params:{q:e,limit:t}})).data,getByPatientId:async(e,t={})=>{var n;const s=await ee.get("/prescriptions",{params:{patientId:e,...t}});return((n=s.data)==null?void 0:n.data)||s.data},getDocuments:async e=>{var s;const t=await ee.get(`/prescriptions/${e}/documents`);return((s=t.data)==null?void 0:s.data)||t.data},uploadDocument:async(e,t)=>{const s=new FormData;return s.append("file",t.file),t.title&&s.append("title",t.title),t.category&&s.append("category",t.category),t.notes&&s.append("notes",t.notes),(await ee.post(`/prescriptions/${e}/documents`,s,{headers:{"Content-Type":"multipart/form-data"}})).data}},cN=e=>{if(!e||typeof e!="string")return"";const t=e.trim(),s=/^(\d{2})\/(\d{2})\/(\d{4})$/.exec(t);if(!s)return"";const[,n,i,a]=s,o=Number(n),l=Number(i),c=Number(a);if(!o||!l||!c||l<1||l>12||o<1||o>31)return"";const d=new Date(c,l-1,o);return d.getFullYear()!==c||d.getMonth()!==l-1||d.getDate()!==o?"":`${a}-${i}-${n}`},CK=e=>{if(!e||typeof e!="string"||!e.includes("-"))return"";const[t,s,n]=e.split("T")[0].split("-");return!t||!s||!n?"":`${n}/${s}/${t}`},PK=[{id:"overview",label:"Overview",icon:Bd},{id:"history",label:"History",icon:zx},{id:"prescriptions",label:"Prescriptions",icon:ap},{id:"documents",label:"Documents",icon:HP},{id:"bills",label:"Bills",icon:x1},{id:"vitals",label:"Vitals",icon:ol}],kK={overview:"Profile and medical summary",history:"Visits and timeline",prescriptions:"Issued medicines",documents:"Reports and uploads",bills:"Invoices and payments",vitals:"Trends and records"};function X8(){var G,ge;const{id:e}=iu(),t=yn(),s=xn(),n=Ht(),[i,a]=x.useState("overview"),[o,l]=x.useState(!1),[c,d]=x.useState(!1),[u,h]=x.useState(null),[m,f]=x.useState(""),[g,p]=x.useState("OTHER"),[v,b]=x.useState(""),[y,w]=x.useState({bloodPressure:"",pulse:"",temperature:"",weight:"",height:"",spO2:"",bloodSugar:"",notes:""}),{register:j,handleSubmit:N,reset:S,setValue:P,watch:C,formState:{errors:F}}=Vt();x.useEffect(()=>{s.pathname.endsWith("/edit")&&l(!0)},[s.pathname]);const{data:T,isLoading:te,isError:A}=Te({queryKey:["patient",e],queryFn:()=>ls.getPatient(e),enabled:!!e});x.useEffect(()=>{T&&S({name:T.name||"",phone:T.phone||"",email:T.email||"",gender:T.gender?String(T.gender).toUpperCase():"",dateOfBirth:T.dateOfBirth?CK(T.dateOfBirth):"",age:T.age||"",bloodGroup:T.bloodGroup||"",address:T.address||"",city:T.city||"",emergencyContact:T.emergencyContact||"",allergies:T.allergies&&Array.isArray(T.allergies)?T.allergies.join(", "):"",medicalHistory:T.medicalHistory&&Array.isArray(T.medicalHistory)?T.medicalHistory.join(`
`):"",insurance:T.insurance||""})},[T,S]);const q=C("dateOfBirth");x.useEffect(()=>{if(!q)return;const O=Y(q);typeof O=="number"&&!Number.isNaN(O)&&P("age",O,{shouldValidate:!0,shouldDirty:!0})},[q,P]);const{data:z}=Te({queryKey:["patientPrescriptions",e],queryFn:()=>Ar.getByPatientId(e),enabled:!!e&&i==="prescriptions"}),{data:B}=Te({queryKey:["patientVitals",e],queryFn:()=>ls.getVitals(e),enabled:!!e&&i==="vitals"}),{data:_}=Te({queryKey:["patientBills",e],queryFn:()=>ls.getBills(e),enabled:!!e&&i==="bills"}),{data:$}=Te({queryKey:["patientHistory",e],queryFn:()=>ls.getHistory(e),enabled:!!e&&i==="history"}),{data:M}=Te({queryKey:["patientDocuments",e],queryFn:()=>ls.getDocuments(e),enabled:!!e&&i==="documents"}),D=st("prescriptions:create",["DOCTOR","ADMIN","SUPER_ADMIN"]),J=st("appointments:create",["DOCTOR","SUPER_ADMIN","RECEPTIONIST"]),K=We({mutationFn:O=>ls.addVitals(e,O),onSuccess:()=>{n.invalidateQueries({queryKey:["patientVitals",e]}),X.success("Vitals added successfully")},onError:()=>{X.error("Failed to add vitals")}}),ce=We({mutationFn:O=>ls.updatePatient(e,O),onSuccess:()=>{n.invalidateQueries({queryKey:["patient",e]}),n.invalidateQueries({queryKey:["patients"]}),X.success("Patient updated successfully"),l(!1),t(`/patients/${e}`)},onError:O=>{var E,Q;X.error(((Q=(E=O.response)==null?void 0:E.data)==null?void 0:Q.message)||"Failed to update patient")}}),U=We({mutationFn:O=>ls.uploadDocument(e,O),onSuccess:()=>{n.invalidateQueries({queryKey:["patientDocuments",e]}),X.success("Document uploaded"),h(null),f(""),p("OTHER"),b("")},onError:O=>{var E,Q;X.error(((Q=(E=O.response)==null?void 0:E.data)==null?void 0:Q.message)||"Failed to upload document")}}),le=()=>{l(!1),t(`/patients/${e}`)},re=O=>{const E=O.dateOfBirth?cN(O.dateOfBirth):"";if(O.dateOfBirth&&!E){X.error("Date of birth format should be dd/mm/yyyy");return}const Q=O.allergies?O.allergies.split(",").map(fe=>fe.trim()).filter(Boolean):void 0,V=O.medicalHistory?O.medicalHistory.split(`
`).map(fe=>fe.trim()).filter(Boolean):void 0;ce.mutate({...O,dateOfBirth:E||void 0,allergies:Q,medicalHistory:V,insurance:O.insurance?O.insurance.trim():null})},ie=O=>O?new Date(O).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",Y=O=>{if(!O)return"-";const E=O.includes("/")?cN(O):O;if(!E)return"-";const Q=new Date,V=new Date(E);let fe=Q.getFullYear()-V.getFullYear();const be=Q.getMonth()-V.getMonth();return(be<0||be===0&&Q.getDate()<V.getDate())&&fe--,fe},oe=O=>B!=null&&B.length?B.find(E=>E[O]!==null&&E[O]!==void 0&&E[O]!==""):null,Se=(O,E)=>E==null||E===""?{label:"No data",className:"bg-gray-100 text-gray-600"}:O==="spO2"?Number(E)>=95?{label:"Normal",className:"bg-green-100 text-green-700"}:Number(E)>=90?{label:"Low",className:"bg-yellow-100 text-yellow-700"}:{label:"Critical",className:"bg-red-100 text-red-700"}:O==="pulse"?Number(E)>=60&&Number(E)<=100?{label:"Normal",className:"bg-green-100 text-green-700"}:{label:"Review",className:"bg-yellow-100 text-yellow-700"}:O==="temperature"?Number(E)>=97&&Number(E)<=99?{label:"Normal",className:"bg-green-100 text-green-700"}:Number(E)>99?{label:"Fever",className:"bg-red-100 text-red-700"}:{label:"Low",className:"bg-yellow-100 text-yellow-700"}:{label:"Recorded",className:"bg-blue-100 text-blue-700"},je=()=>{const O={bloodPressure:y.bloodPressure||null,pulse:y.pulse?Number(y.pulse):null,temperature:y.temperature?Number(y.temperature):null,weight:y.weight?Number(y.weight):null,height:y.height?Number(y.height):null,spO2:y.spO2?Number(y.spO2):null,bloodSugar:y.bloodSugar?Number(y.bloodSugar):null,notes:y.notes||null};K.mutate(O,{onSuccess:()=>{w({bloodPressure:"",pulse:"",temperature:"",weight:"",height:"",spO2:"",bloodSugar:"",notes:""}),d(!1)}})},ne=oe("pulse"),ke=oe("spO2"),Ee=oe("temperature"),Ue=oe("bloodPressure"),se=Se("pulse",ne==null?void 0:ne.pulse),me=Se("spO2",ke==null?void 0:ke.spO2),W=Se("temperature",Ee==null?void 0:Ee.temperature),pe=Array.isArray(z)?z:Array.isArray(z==null?void 0:z.data)?z.data:[],Ce=Array.isArray(M)?M:Array.isArray(M==null?void 0:M.data)?M.data:[],_e=O=>{const E=O==null?void 0:O.diagnosis;if(Array.isArray(E))return E.filter(Boolean).join(", ")||"Prescription";if(typeof E=="string"){const Q=E.trim();if(!Q)return"Prescription";if(Q.startsWith("[")&&Q.endsWith("]")||Q.startsWith("{")&&Q.endsWith("}"))try{const V=JSON.parse(Q);if(Array.isArray(V))return V.filter(Boolean).join(", ")||"Prescription";if(typeof V=="string")return V||"Prescription"}catch{}return Q}return"Prescription"},I=O=>{const E=O==null?void 0:O.doctor;return E?typeof E=="string"?E:typeof E=="object"&&(E.name||E.fullName)||"N/A":"N/A"};if(te)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx(Uh,{className:"animate-spin text-4xl text-blue-600"})});if(A||!T)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-500 mb-4",children:"Failed to load patient details"}),r.jsx("button",{onClick:()=>t("/patients"),className:"text-blue-600 hover:underline",children:"Back to Patients"})]})});const k=()=>{if(!u){X.error("Please select a file");return}U.mutate({file:u,title:m,category:g,notes:v})};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("button",{onClick:()=>t("/patients"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:r.jsx(np,{className:"text-gray-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patient Details"}),r.jsxs("p",{className:"text-gray-500",children:["ID: ",T.patientId||`P${String(T.id).padStart(5,"0")}`]})]}),r.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[r.jsx(yu,{}),"Edit Patient"]})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:T.photo?r.jsx("img",{src:T.photo,alt:T.name,className:"w-24 h-24 rounded-full object-cover"}):r.jsx("span",{className:"text-3xl font-bold text-blue-600",children:((G=T.name)==null?void 0:G.charAt(0))||"P"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:T.name}),r.jsxs("p",{className:"text-gray-500",children:[T.age||Y(T.dateOfBirth)," years  ",T.gender||"N/A"]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[r.jsx(Gm,{className:"text-blue-500"}),r.jsx("span",{children:T.phone||"No phone"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[r.jsx(po,{className:"text-blue-500"}),r.jsx("span",{children:T.email||"No email"})]}),r.jsxs("div",{className:"flex items-start gap-3 text-gray-600",children:[r.jsx($x,{className:"text-blue-500 mt-1"}),r.jsx("span",{children:T.address||"No address"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[r.jsx(ma,{className:"text-blue-500"}),r.jsxs("span",{children:["Registered: ",ie(T.createdAt)]})]})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 space-y-3",children:[D&&r.jsxs(Ke,{to:`/prescriptions/new?patientId=${e}`,className:"w-full inline-flex items-center justify-center gap-2 bg-green-600 text-white py-2.5 rounded-lg font-medium hover:bg-green-700 transition",children:[r.jsx(ap,{}),"New Prescription"]}),J&&r.jsxs(Ke,{to:`/appointments/new?patientId=${e}`,className:"w-full inline-flex items-center justify-center gap-2 border border-blue-600 text-blue-600 py-2.5 rounded-lg font-medium hover:bg-blue-50 transition",children:[r.jsx(ma,{}),"Book Appointment"]})]})]})}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:r.jsx("div",{className:"p-3",children:r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2.5",children:PK.map(O=>r.jsxs("button",{onClick:()=>a(O.id),className:`text-left rounded-xl border px-3 py-3 transition min-h-[88px] ${i===O.id?"border-blue-300 bg-blue-50 text-blue-700 shadow-sm":"border-gray-200 bg-white text-gray-600 hover:border-blue-200 hover:bg-blue-50/40"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`inline-flex h-7 w-7 items-center justify-center rounded-lg ${i===O.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"}`,children:r.jsx(O.icon,{className:"text-sm"})}),r.jsx("span",{className:"font-semibold text-sm leading-5 break-words",children:O.label})]}),r.jsx("p",{className:"mt-2 text-xs leading-4 text-gray-500",children:kK[O.id]})]},O.id))})})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[i==="overview"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Blood Group"}),r.jsx("p",{className:"font-medium text-gray-900",children:T.bloodGroup||"Not recorded"})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Date of Birth"}),r.jsx("p",{className:"font-medium text-gray-900",children:ie(T.dateOfBirth)})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Emergency Contact"}),r.jsx("p",{className:"font-medium text-gray-900",children:T.emergencyContact||"Not recorded"})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Insurance"}),r.jsx("p",{className:"font-medium text-gray-900",children:T.insurance||"Not recorded"})]})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Qz,{className:"text-red-500"}),"Allergies"]})}),T.allergies&&T.allergies.length>0?r.jsx("div",{className:"flex flex-wrap gap-2",children:T.allergies.map((O,E)=>r.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:O},E))}):r.jsx("p",{className:"text-gray-500",children:"No known allergies"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Medical History"}),T.medicalHistory&&T.medicalHistory.length>0?r.jsx("ul",{className:"space-y-2",children:T.medicalHistory.map((O,E)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(b1,{className:"text-blue-500 mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:O})]},E))}):r.jsx("p",{className:"text-gray-500",children:"No medical history recorded"})]})]}),i==="history"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Visit History"}),((ge=$==null?void 0:$.appointments)==null?void 0:ge.length)>0?r.jsx("div",{className:"space-y-4",children:$.appointments.map((O,E)=>r.jsxs("div",{className:"block p-4 border border-gray-100 rounded-lg bg-white",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("p",{className:"font-medium text-gray-900",children:O.reason||"General Checkup"}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${O.status==="COMPLETED"?"bg-green-100 text-green-700":O.status==="CANCELLED"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:O.status})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:ie(O.date)}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:O.notes||"No notes"})]},O.id||E))}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No visit history available"})]}),i==="prescriptions"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Prescriptions"}),r.jsxs(Ke,{to:`/prescriptions/new?patientId=${e}`,className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[r.jsx(Js,{}),"New Prescription"]})]}),pe.length>0?r.jsx("div",{className:"space-y-4",children:pe.map(O=>{var E;return r.jsxs(Ke,{to:`/prescriptions/${O.id}`,className:"block p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("p",{className:"font-medium text-gray-900",children:_e(O)}),r.jsx("span",{className:"text-sm text-gray-500",children:ie(O.date||O.createdAt)})]}),r.jsxs("p",{className:"text-gray-600 text-sm",children:[((E=O.medicines)==null?void 0:E.length)||0," medicines prescribed"]}),r.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["Dr. ",I(O)]})]},O.id)})}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No prescriptions yet"})]}),i==="documents"&&r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Patient Documents"})}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Upload supporting documents (lab report, ultrasound, referral, etc.)"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsx("input",{type:"file",onChange:O=>{var E;return h(((E=O.target.files)==null?void 0:E[0])||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white"}),r.jsx("input",{type:"text",value:m,onChange:O=>f(O.target.value),placeholder:"Document title (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),r.jsxs("select",{value:g,onChange:O=>p(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white",children:[r.jsx("option",{value:"LAB_REPORT",children:"Lab Report"}),r.jsx("option",{value:"ULTRASOUND",children:"Ultrasound"}),r.jsx("option",{value:"PRESCRIPTION",children:"Prescription"}),r.jsx("option",{value:"OTHER",children:"Other"})]}),r.jsx("input",{type:"text",value:v,onChange:O=>b(O.target.value),placeholder:"Notes (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),r.jsx("div",{className:"flex justify-end mt-3",children:r.jsxs("button",{type:"button",onClick:k,disabled:U.isPending,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition disabled:opacity-50",children:[U.isPending?r.jsx(Uh,{className:"animate-spin"}):r.jsx(QP,{}),"Upload"]})})]}),Ce.length>0?r.jsx("div",{className:"space-y-3",children:Ce.map(O=>r.jsx("a",{href:O.accessUrl||O.filePath,target:"_blank",rel:"noreferrer",className:"block p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition",children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:O.title||O.fileName}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[O.category||"OTHER","  ",ie(O.uploadedAt)]}),O.notes?r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:O.notes}):null]}),r.jsx("span",{className:"text-sm text-blue-600",children:"Open"})]})},O.id))}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No documents uploaded yet"})]}),i==="bills"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bills & Invoices"}),(_==null?void 0:_.length)>0?r.jsx("div",{className:"space-y-4",children:_.map(O=>{var E;return r.jsxs(Ke,{to:`/billing/${O.id}`,className:"block p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("p",{className:"font-medium text-gray-900",children:["Invoice #",O.billNo]}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${O.paymentStatus==="PAID"?"bg-green-100 text-green-700":O.paymentStatus==="PARTIAL"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:O.paymentStatus})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:ie(O.date)}),r.jsxs("p",{className:"font-semibold text-gray-900 mt-2",children:["",((E=O.totalAmount)==null?void 0:E.toLocaleString())||0]})]},O.id)})}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No bills generated"})]}),i==="vitals"&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vitals Record"}),r.jsxs("button",{onClick:()=>d(O=>!O),disabled:K.isPending,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition disabled:opacity-50",children:[r.jsx(Js,{}),c?"Close Form":"Add Vitals"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-4",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 p-3 bg-white",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Latest BP"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(Ue==null?void 0:Ue.bloodPressure)||"-"})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 p-3 bg-white",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Latest Pulse"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ne!=null&&ne.pulse?`${ne.pulse} bpm`:"-"}),r.jsx("span",{className:`inline-flex mt-1 px-2 py-0.5 rounded-full text-xs ${se.className}`,children:se.label})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 p-3 bg-white",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Latest Temperature"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ee!=null&&Ee.temperature?`${Ee.temperature} F`:"-"}),r.jsx("span",{className:`inline-flex mt-1 px-2 py-0.5 rounded-full text-xs ${W.className}`,children:W.label})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 p-3 bg-white",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Latest SpO2"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ke!=null&&ke.spO2?`${ke.spO2}%`:"-"}),r.jsx("span",{className:`inline-flex mt-1 px-2 py-0.5 rounded-full text-xs ${me.className}`,children:me.label})]})]}),c&&r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 mb-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Vitals help track trends between visits and flag issues early."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[r.jsx("input",{type:"text",placeholder:"BP (e.g. 120/80)",value:y.bloodPressure,onChange:O=>w(E=>({...E,bloodPressure:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),r.jsx("input",{type:"text",inputMode:"numeric",placeholder:"Pulse",value:y.pulse,onChange:O=>w(E=>({...E,pulse:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),r.jsx("input",{type:"text",inputMode:"decimal",placeholder:"Temperature (F)",value:y.temperature,onChange:O=>w(E=>({...E,temperature:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),r.jsx("input",{type:"text",inputMode:"numeric",placeholder:"SpO2 (%)",value:y.spO2,onChange:O=>w(E=>({...E,spO2:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),r.jsx("input",{type:"text",inputMode:"decimal",placeholder:"Weight (kg)",value:y.weight,onChange:O=>w(E=>({...E,weight:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),r.jsx("input",{type:"text",inputMode:"decimal",placeholder:"Height (cm)",value:y.height,onChange:O=>w(E=>({...E,height:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),r.jsx("input",{type:"text",inputMode:"decimal",placeholder:"Blood Sugar (optional)",value:y.bloodSugar,onChange:O=>w(E=>({...E,bloodSugar:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg md:col-span-2"}),r.jsx("textarea",{placeholder:"Notes (optional)",value:y.notes,onChange:O=>w(E=>({...E,notes:O.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg md:col-span-4 resize-none"})]}),r.jsx("div",{className:"flex justify-end mt-3",children:r.jsxs("button",{type:"button",onClick:je,disabled:K.isPending,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition disabled:opacity-50",children:[K.isPending?r.jsx(Uh,{className:"animate-spin"}):null,"Save Vitals"]})})]}),(B==null?void 0:B.length)>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-100",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Date"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"BP"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Pulse"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Temp"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Weight"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Height"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"SpO2"})]})}),r.jsx("tbody",{children:B.map((O,E)=>r.jsxs("tr",{className:"border-b border-gray-50",children:[r.jsx("td",{className:"py-3 px-4 text-gray-900",children:ie(O.recordedAt)}),r.jsx("td",{className:"py-3 px-4 text-gray-600",children:O.bloodPressure||"-"}),r.jsx("td",{className:"py-3 px-4 text-gray-600",children:O.pulse?`${O.pulse} bpm`:"-"}),r.jsx("td",{className:"py-3 px-4 text-gray-600",children:O.temperature?`${O.temperature} F`:"-"}),r.jsx("td",{className:"py-3 px-4 text-gray-600",children:O.weight?`${O.weight} kg`:"-"}),r.jsx("td",{className:"py-3 px-4 text-gray-600",children:O.height?`${O.height} cm`:"-"}),r.jsx("td",{className:"py-3 px-4 text-gray-600",children:O.spO2?`${O.spO2}%`:"-"})]},O.id||E))})]})}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No vitals recorded"})]})]})]})]})]}),r.jsx(At,{isOpen:o,onClose:le,title:"Edit Patient",size:"lg",children:r.jsxs("form",{onSubmit:N(re),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient Name *"}),r.jsx("input",{type:"text",...j("name",{required:"Name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),F.name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.name.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),r.jsx("input",{type:"tel",...j("phone",{required:"Phone is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),F.phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.phone.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",...j("email"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),r.jsxs("select",{...j("gender"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select Gender"}),r.jsx("option",{value:"MALE",children:"Male"}),r.jsx("option",{value:"FEMALE",children:"Female"}),r.jsx("option",{value:"OTHER",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),r.jsx("input",{type:"text",inputMode:"numeric",...j("dateOfBirth"),placeholder:"dd/mm/yyyy",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allergies (comma separated)"}),r.jsx("input",{type:"text",...j("allergies"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Penicillin, Pollen"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance"}),r.jsx("input",{type:"text",...j("insurance"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Insurance provider / policy"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical History (one per line)"}),r.jsx("textarea",{...j("medicalHistory"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe medical history entries, one per line"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),r.jsxs("select",{...j("bloodGroup"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select Blood Group"}),r.jsx("option",{value:"A+",children:"A+"}),r.jsx("option",{value:"A-",children:"A-"}),r.jsx("option",{value:"B+",children:"B+"}),r.jsx("option",{value:"B-",children:"B-"}),r.jsx("option",{value:"AB+",children:"AB+"}),r.jsx("option",{value:"AB-",children:"AB-"}),r.jsx("option",{value:"O+",children:"O+"}),r.jsx("option",{value:"O-",children:"O-"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),r.jsx("input",{type:"text",...j("city"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("textarea",{...j("address"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact"}),r.jsx("input",{type:"text",...j("emergencyContact"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:le,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:ce.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:ce.isPending?"Saving...":"Save Changes"})]})]})})]})}const AK=Object.freeze(Object.defineProperty({__proto__:null,default:X8},Symbol.toStringTag,{value:"Module"})),dN={SCHEDULED:"bg-blue-100 text-blue-700",CONFIRMED:"bg-indigo-100 text-indigo-700",COMPLETED:"bg-green-100 text-green-700",CANCELLED:"bg-red-100 text-red-700",NO_SHOW:"bg-gray-100 text-gray-700"},TK=[{key:"all",label:"All"},{key:"SCHEDULED",label:"Scheduled"},{key:"COMPLETED",label:"Completed"},{key:"CANCELLED",label:"Cancelled"}],EK=[{key:"all",label:"All Types"},{key:"CONSULTATION",label:"Consultation"},{key:"FOLLOW_UP",label:"Follow-up"}],_K=[{value:"CONSULTATION",label:"Consultation"},{value:"FOLLOW_UP",label:"Follow-up"},{value:"PROCEDURE",label:"Procedure"},{value:"EMERGENCY",label:"Emergency"}],bc=e=>{const t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${s}-${n}`},V0=e=>{if(!e||typeof e!="string")return"";const t=e.trim(),s=/^(\d{2})\/(\d{2})\/(\d{4})$/.exec(t);if(!s)return"";const[,n,i,a]=s,o=Number(n),l=Number(i),c=Number(a);if(!o||!l||!c||l<1||l>12||o<1||o>31)return"";const d=new Date(c,l-1,o);return d.getFullYear()!==c||d.getMonth()!==l-1||d.getDate()!==o?"":`${a}-${i}-${n}`},MK=e=>{if(!e||typeof e!="string"||!e.includes("-"))return"";const[t,s,n]=e.split("-");return!t||!s||!n?"":`${n}/${s}/${t}`};function Kh(){var je,ne,ke,Ee,Ue;const[e,t]=r6(),s=Ht(),n=xn(),[i,a]=x.useState(e.get("action")==="new"||n.pathname.endsWith("/new")),[o,l]=x.useState("all"),[c,d]=x.useState("all"),[u,h]=x.useState("today"),[m,f]=x.useState({start:"",end:""}),[g,p]=x.useState(""),[v,b]=x.useState(1),[y,w]=x.useState(null),[j,N]=x.useState(null),S=10;x.useEffect(()=>{(e.get("action")==="new"||n.pathname.endsWith("/new"))&&(a(!0),t({},{replace:!0}))},[e,t,n.pathname]);const{register:P,handleSubmit:C,reset:F,control:T,formState:{errors:te}}=Vt(),A=()=>{const se=new Date;if(se.setHours(0,0,0,0),u==="today")return{startDate:bc(se),endDate:bc(se)};if(u==="week"){const me=new Date(se);return me.setDate(se.getDate()+7),{startDate:bc(se),endDate:bc(me)}}else if(u==="custom"&&m.start&&m.end){const me=V0(m.start),W=V0(m.end);return!me||!W?{}:{startDate:me,endDate:W}}return{}},{data:q,isLoading:z}=Te({queryKey:["appointments",v,S,o,c,u,m,g],queryFn:()=>ni.getAppointments({page:v,limit:S,status:o==="all"?void 0:o,type:c==="all"?void 0:c,search:g||void 0,...A()}),placeholderData:se=>se}),B=(q==null?void 0:q.data)||[],_=((je=q==null?void 0:q.pagination)==null?void 0:je.totalPages)||1,{data:$}=Te({queryKey:["patients-list"],queryFn:()=>ls.getPatients({limit:100})}),M=(($==null?void 0:$.data)||[]).map(se=>({value:se.id,label:`${se.name} (${se.patientId||`P${String(se.id).padStart(5,"0")}`})`})),{data:D}=Te({queryKey:["doctors-list"],queryFn:()=>ni.getDoctors(),enabled:i}),J=((D==null?void 0:D.data)||[]).map(se=>({value:se.id,label:se.name})),K=We({mutationFn:ni.createAppointment,onSuccess:()=>{X.success("Appointment created successfully"),s.invalidateQueries({queryKey:["appointments"]}),a(!1),F()},onError:se=>{var me,W;X.error(((W=(me=se.response)==null?void 0:me.data)==null?void 0:W.message)||"Failed to create appointment")}}),ce=We({mutationFn:({id:se,status:me})=>ni.updateStatus(se,me),onSuccess:()=>{X.success("Status updated"),s.invalidateQueries({queryKey:["appointments"]}),w(null),N(null)},onError:se=>{var me,W;X.error(((W=(me=se.response)==null?void 0:me.data)==null?void 0:W.message)||"Failed to update status")}}),U=se=>{var W,pe,Ce;const me=V0(se.date);if(!me){X.error("Use date format dd/mm/yyyy");return}try{if(me&&se.time&&new Date(`${me}T${se.time}`)<new Date){X.error("Appointment date and time cannot be in the past");return}}catch{}K.mutate({patientId:(W=se.patient)==null?void 0:W.value,date:me,timeSlot:se.time,type:((pe=se.type)==null?void 0:pe.value)||"CONSULTATION",symptoms:se.reason,notes:se.notes,doctorId:(Ce=se.doctor)==null?void 0:Ce.value})},le=(se,me)=>{ce.mutate({id:se,status:me})},re=se=>{const me=[];return se.status!=="COMPLETED"&&me.push({key:"complete",label:"Mark Completed",status:"COMPLETED",icon:Os,iconClass:"text-green-500"}),se.status==="REVIEW"&&(me.push({key:"approve",label:"Approve (Schedule)",status:"SCHEDULED",icon:Os,iconClass:"text-green-500"}),me.push({key:"reject",label:"Reject",status:"CANCELLED",icon:go,iconClass:"text-red-500"})),se.status!=="CANCELLED"&&me.push({key:"cancel",label:"Cancel",status:"CANCELLED",icon:go,iconClass:"text-red-500"}),se.status==="CANCELLED"&&me.push({key:"reschedule",label:"Reschedule",status:"SCHEDULED",icon:Or,iconClass:"text-blue-500"}),me},ie=(se,me)=>{if(y===me.id){w(null),N(null);return}const W=se.currentTarget.getBoundingClientRect(),pe=240,Ce=re(me).length||1,_e=Math.max(56,Ce*42+12),I=8,k=window.innerWidth,G=window.innerHeight;let ge=W.right-pe;ge<8&&(ge=8),ge+pe>k-8&&(ge=k-pe-8);let O=W.bottom+I;O+_e>G-8&&(O=W.top-_e-I),O<8&&(O=8),N({top:O,left:ge,width:pe}),w(me.id)};x.useEffect(()=>{const se=W=>{var Ce,_e;const pe=W.target;(Ce=pe.closest)!=null&&Ce.call(pe,"[data-apt-action-trigger]")||(_e=pe.closest)!=null&&_e.call(pe,"[data-apt-action-menu]")||(w(null),N(null))},me=W=>{W.key==="Escape"&&(w(null),N(null))};return document.addEventListener("mousedown",se),document.addEventListener("keydown",me),()=>{document.removeEventListener("mousedown",se),document.removeEventListener("keydown",me)}},[]);const Y=se=>{if(!se)return"-";const[me,W]=se.split(":"),pe=parseInt(me,10),Ce=pe>=12?"PM":"AM";return`${pe%12||12}:${W} ${Ce}`},oe=se=>se?new Date(se).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",Se=st("appointments:create",["DOCTOR","SUPER_ADMIN","RECEPTIONIST"]);return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Appointments"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and schedule patient appointments"})]}),Se&&r.jsx(ps,{iconLeft:Js,onClick:()=>a(!0),children:"New Appointment"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ma,{className:"text-gray-400"}),r.jsxs("select",{value:u,onChange:se=>{h(se.target.value),b(1)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"custom",children:"Custom Range"})]})]}),u==="custom"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",inputMode:"numeric",value:m.start,onChange:se=>f(me=>({...me,start:se.target.value})),placeholder:"dd/mm/yyyy",className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-500",children:"to"}),r.jsx("input",{type:"text",inputMode:"numeric",value:m.end,onChange:se=>f(me=>({...me,end:se.target.value})),placeholder:"dd/mm/yyyy",className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:g,onChange:se=>{p(se.target.value),b(1)},placeholder:"Search by patient name...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsx("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-100",children:TK.map(se=>r.jsx("button",{onClick:()=>{l(se.key),b(1)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${o===se.key?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:se.label},se.key))}),r.jsx("div",{className:"flex gap-2 mt-3",children:EK.map(se=>r.jsx("button",{onClick:()=>{d(se.key),b(1)},className:`px-4 py-2 rounded-lg font-medium transition-colors ${c===se.key?"bg-emerald-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:se.label},se.key))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-visible",children:[r.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Time"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Patient"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Type"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Status"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Actions"})]})}),r.jsx("tbody",{children:z?[...Array(5)].map((se,me)=>r.jsxs("tr",{className:"animate-pulse",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})})]},me)):B.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[r.jsx(xo,{className:"text-4xl text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No appointments found"})]})}):B.map(se=>{var me,W,pe,Ce;return r.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Or,{className:"text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:Y(se.timeSlot)}),r.jsx("p",{className:"text-sm text-gray-500",children:oe(se.date)})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-medium text-sm",children:((W=(me=se.patient)==null?void 0:me.name)==null?void 0:W.charAt(0))||"P"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:((pe=se.patient)==null?void 0:pe.name)||"Unknown Patient"}),r.jsx("p",{className:"text-sm text-gray-500",children:((Ce=se.patient)==null?void 0:Ce.phone)||"-"})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"capitalize text-gray-700",children:se.type||"Consultation"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium capitalize ${dN[se.status]||dN.scheduled}`,children:se.status})}),r.jsx("td",{className:"px-6 py-4 relative overflow-visible",children:r.jsx("div",{className:"relative inline-block",children:r.jsxs("button",{"data-apt-action-trigger":!0,onClick:_e=>ie(_e,se),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border border-blue-200 bg-blue-50 text-blue-700 hover:bg-blue-100 font-medium text-sm transition-colors",children:[r.jsx(Or,{className:"text-blue-600"}),"Quick Actions"]})})})]},se.id)})})]})}),_>1&&r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",v," of ",_]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>b(se=>Math.max(1,se-1)),disabled:v===1,className:"px-3 py-1 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsx("button",{onClick:()=>b(se=>Math.min(_,se+1)),disabled:v===_,className:"px-3 py-1 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}),y&&j&&(()=>{const se=B.find(W=>W.id===y);if(!se)return null;const me=re(se);return r.jsxs("div",{"data-apt-action-menu":!0,className:"fixed bg-white rounded-xl shadow-xl border border-gray-200 py-2 z-[9999]",style:{top:`${j.top}px`,left:`${j.left}px`,width:`${j.width}px`},children:[r.jsx("div",{className:"px-3 pb-1 mb-1 border-b border-gray-100",children:r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Actions"})}),me.map(W=>{const pe=W.icon;return r.jsxs("button",{onClick:()=>le(se.id,W.status),className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gray-50 flex items-center gap-2 transition-colors",children:[r.jsx(pe,{className:W.iconClass}),W.label]},W.key)})]})})(),r.jsx(At,{isOpen:i,onClose:()=>{a(!1),F()},title:"New Appointment",size:"lg",footer:r.jsxs(r.Fragment,{children:[r.jsx(ps,{variant:"secondary",onClick:()=>{a(!1),F()},children:"Cancel"}),Se?r.jsx(ps,{onClick:C(U),loading:K.isPending,children:"Create Appointment"}):r.jsx(ps,{variant:"secondary",disabled:!0,children:"Permission required"})]}),children:r.jsxs("form",{className:"space-y-4",children:[r.jsx(ir,{label:"Patient",name:"patient",control:T,options:M,placeholder:"Search and select patient...",rules:{required:"Patient is required"},error:(ne=te.patient)==null?void 0:ne.message,isSearchable:!0}),r.jsx(ir,{label:"Doctor",name:"doctor",control:T,options:J,placeholder:"Select doctor (optional)",error:(ke=te.doctor)==null?void 0:ke.message,isSearchable:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Qs,{label:"Date",type:"text",inputMode:"numeric",placeholder:"dd/mm/yyyy",helperText:`Today: ${MK(bc(new Date))}`,...P("date",{required:"Date is required"}),error:(Ee=te.date)==null?void 0:Ee.message}),r.jsx(Qs,{label:"Time",type:"time",...P("time",{required:"Time is required"}),error:(Ue=te.time)==null?void 0:Ue.message})]}),r.jsx(ir,{label:"Appointment Type",name:"type",control:T,options:_K,placeholder:"Select type..."}),r.jsx(Qs,{label:"Reason for Visit",placeholder:"Brief description...",...P("reason")}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Notes"}),r.jsx("textarea",{...P("notes"),rows:3,placeholder:"Additional notes...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]})})]})})}const DK=Object.freeze(Object.defineProperty({__proto__:null,default:Kh},Symbol.toStringTag,{value:"Module"})),uN={scheduled:"bg-blue-500",confirmed:"bg-indigo-500",completed:"bg-green-500",cancelled:"bg-red-500","no-show":"bg-gray-500"},hN={scheduled:"bg-blue-100 border-blue-200",confirmed:"bg-indigo-100 border-indigo-200",completed:"bg-green-100 border-green-200",cancelled:"bg-red-100 border-red-200","no-show":"bg-gray-100 border-gray-200"},OK=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],RK=["January","February","March","April","May","June","July","August","September","October","November","December"];function J8(){const[e,t]=x.useState("month"),[s,n]=x.useState(new Date),[i,a]=x.useState(null),[o,l]=x.useState(!1),[c,d]=x.useState(""),u=s.getMonth(),h=s.getFullYear();x.useEffect(()=>{const A=String(u+1).padStart(2,"0");d(`${h}-${A}`)},[u,h]);const{data:m,isLoading:f}=Te({queryKey:["calendar",u+1,h],queryFn:()=>ni.getCalendarData(u+1,h)}),g=(m==null?void 0:m.data)||{},p=x.useMemo(()=>{const A=new Date(h,u,1),q=new Date(h,u+1,0),z=A.getDay(),B=q.getDate(),_=[];for(let M=0;M<z;M++){const D=new Date(h,u,-z+M+1);_.push({date:D,isCurrentMonth:!1,dayNumber:D.getDate()})}for(let M=1;M<=B;M++){const D=new Date(h,u,M);_.push({date:D,isCurrentMonth:!0,dayNumber:M})}const $=42-_.length;for(let M=1;M<=$;M++){const D=new Date(h,u+1,M);_.push({date:D,isCurrentMonth:!1,dayNumber:M})}return _},[u,h]),v=x.useMemo(()=>{if(e!=="week")return[];const A=new Date(s);return A.setDate(s.getDate()-s.getDay()),Array.from({length:7},(q,z)=>{const B=new Date(A);return B.setDate(A.getDate()+z),{date:B,isCurrentMonth:B.getMonth()===u,dayNumber:B.getDate()}})},[s,e,u]),b=e==="week"?v:p,y=()=>{if(e==="month")n(new Date(h,u-1,1));else{const A=new Date(s);A.setDate(s.getDate()-7),n(A)}},w=()=>{if(e==="month")n(new Date(h,u+1,1));else{const A=new Date(s);A.setDate(s.getDate()+7),n(A)}},j=()=>{n(new Date)},N=A=>{if(d(A),!A||!A.includes("-"))return;const[q,z]=A.split("-"),B=Number(q),_=Number(z);!B||!_||n(new Date(B,_-1,1))},S=A=>A.toISOString().split("T")[0],P=A=>{const q=S(A);return g[q]||[]},C=A=>{a(A.date),l(!0)},F=A=>{if(!A)return"-";const[q,z]=A.split(":"),B=parseInt(q,10),_=B>=12?"PM":"AM";return`${B%12||12}:${z} ${_}`},T=A=>{const q=new Date;return A.getDate()===q.getDate()&&A.getMonth()===q.getMonth()&&A.getFullYear()===q.getFullYear()},te=i?P(i):[];return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Appointment Calendar"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"View and manage appointments on the calendar"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>t("week"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="week"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100 border border-gray-300"}`,children:"Week"}),r.jsx("button",{onClick:()=>t("month"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${e==="month"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100 border border-gray-300"}`,children:"Month"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(yi,{className:"text-gray-600"})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e==="month"?`${RK[u]} ${h}`:`Week of ${s.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}`}),r.jsx("button",{onClick:w,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(bi,{className:"text-gray-600"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"month",lang:"en-GB",value:c,onChange:A=>N(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm","aria-label":"Jump to month and year"}),r.jsx("button",{onClick:j,className:"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg font-medium transition-colors",children:"Today"})]})]}),r.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 bg-gray-50 border-b border-gray-100",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Status:"}),Object.entries(uN).map(([A,q])=>r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("span",{className:`w-3 h-3 rounded-full ${q}`}),r.jsx("span",{className:"text-sm text-gray-600 capitalize",children:A})]},A))]}),r.jsxs("div",{className:"p-4",children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:OK.map(A=>r.jsx("div",{className:"text-center text-sm font-semibold text-gray-500 py-2",children:A},A))}),f?r.jsx("div",{className:"grid grid-cols-7 gap-1",children:[...Array(e==="week"?7:35)].map((A,q)=>r.jsx("div",{className:"aspect-square p-2 animate-pulse bg-gray-100 rounded-lg"},q))}):r.jsx("div",{className:`grid grid-cols-7 gap-1 ${e==="week"?"":"grid-rows-6"}`,children:b.map((A,q)=>{const z=P(A.date),B=z.length>0,_=T(A.date),$=z.reduce((M,D)=>(M[D.status]=(M[D.status]||0)+1,M),{});return r.jsxs("div",{onClick:()=>C(A),className:`
                        ${e==="week"?"min-h-[150px]":"aspect-square"}
                        p-2 rounded-lg cursor-pointer transition-all border
                        ${A.isCurrentMonth?"bg-white hover:bg-gray-50":"bg-gray-50 text-gray-400"}
                        ${_?"ring-2 ring-blue-500 ring-offset-2":"border-gray-100"}
                        ${B&&A.isCurrentMonth?"hover:shadow-md":""}
                      `,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:`text-sm font-medium ${_?"w-7 h-7 flex items-center justify-center bg-blue-600 text-white rounded-full":""}`,children:A.dayNumber}),B&&A.isCurrentMonth&&r.jsx("span",{className:"text-xs text-gray-500",children:z.length})]}),B&&A.isCurrentMonth&&r.jsxs("div",{className:"space-y-1",children:[Object.entries($).slice(0,e==="week"?5:3).map(([M,D])=>r.jsxs("div",{className:`text-xs px-1.5 py-0.5 rounded truncate ${hN[M]} border`,children:[D," ",M]},M)),Object.keys($).length>(e==="week"?5:3)&&r.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",Object.keys($).length-(e==="week"?5:3)," more"]})]})]},q)})})]})]}),r.jsx(At,{isOpen:o,onClose:()=>l(!1),title:i?i.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"Appointments",size:"lg",children:r.jsx("div",{className:"space-y-3",children:te.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ma,{className:"text-4xl text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No appointments scheduled for this day"})]}):te.map(A=>{var q,z;return r.jsxs("div",{className:`p-4 rounded-lg border ${hN[A.status]}`,children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm",children:r.jsx(xo,{className:"text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:((q=A.patient)==null?void 0:q.name)||"Unknown Patient"}),r.jsx("p",{className:"text-sm text-gray-500",children:A.type||"Consultation"})]})]}),r.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium capitalize ${uN[A.status]} text-white`,children:A.status})]}),r.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Or,{className:"text-gray-400"}),F(A.time)]}),((z=A.patient)==null?void 0:z.phone)&&r.jsx("div",{className:"flex items-center gap-1",children:r.jsx("span",{children:A.patient.phone})})]}),A.reason&&r.jsx("p",{className:"mt-2 text-sm text-gray-600 bg-white/50 p-2 rounded",children:A.reason})]},A.id)})})})]})})}const IK=Object.freeze(Object.defineProperty({__proto__:null,default:J8},Symbol.toStringTag,{value:"Module"}));function Z8(){var B,_,$,M;const e=yn(),{user:t}=dr(),[s,n]=x.useState(""),[i,a]=x.useState(1),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[u,h]=x.useState(null),m=10,f=String((t==null?void 0:t.role)||"").toUpperCase(),g=f==="ADMIN"||f==="SUPER_ADMIN"||(t==null?void 0:t.isClinicAdmin)===!0,{data:p}=Te({queryKey:["prescription-doctors-filter"],queryFn:()=>ni.getDoctors(),enabled:g,staleTime:5*60*1e3}),v=(p==null?void 0:p.data)||[],{data:b,isLoading:y}=Te({queryKey:["prescriptions",i,m,s,o],queryFn:()=>Ar.getPrescriptions({page:i,limit:m,search:s||void 0,doctorId:o!=="all"?o:void 0}),placeholderData:D=>D,refetchInterval:5*60*1e3}),w=(b==null?void 0:b.data)||[],j=((B=b==null?void 0:b.pagination)==null?void 0:B.totalPages)||1,N=((_=b==null?void 0:b.pagination)==null?void 0:_.total)||0,S=We({mutationFn:({id:D,method:J})=>Ar.sendPrescription(D,J),onSuccess:D=>{D.whatsappUrl?(window.open(D.whatsappUrl,"_blank"),X.success("WhatsApp opened. Send the message to complete.")):X.success("Prescription sent successfully"),d(!1),h(null)},onError:D=>{var J,K;X.error(((K=(J=D.response)==null?void 0:J.data)==null?void 0:K.message)||"Failed to send prescription")}}),P=D=>{n(D.target.value),a(1)},C=D=>{l(D.target.value),a(1)},F=D=>{e(`/prescriptions/${D.id}`)},T=D=>{e(`/prescriptions/${D.id}?print=true`)},te=D=>{h(D),d(!0)},A=D=>{u&&S.mutate({id:u.id,method:D})},q=D=>D?new Date(D).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",z=st("prescriptions:create",["DOCTOR","ADMIN","SUPER_ADMIN"]);return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Prescriptions"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"View and manage patient prescriptions"})]}),z&&r.jsx(Ke,{to:"/prescriptions/new",children:r.jsx(ps,{iconLeft:Js,children:"New Prescription"})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:s,onChange:P,placeholder:"Search by patient name or prescription ID...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),g&&r.jsx("div",{className:"w-full md:w-72",children:r.jsxs("select",{value:o,onChange:C,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition bg-white",children:[r.jsx("option",{value:"all",children:"All Doctors"}),v.map(D=>r.jsx("option",{value:D.id,children:D.name},D.id))]})})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Prescription ID"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Date"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Patient"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Doctor"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Diagnosis"}),r.jsx("th",{className:"text-left px-6 py-4 text-sm font-semibold text-gray-600",children:"Actions"})]})}),r.jsx("tbody",{children:y?[...Array(5)].map((D,J)=>r.jsxs("tr",{className:"animate-pulse",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})})]},J)):w.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[r.jsx(dU,{className:"text-4xl text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500",children:"No prescriptions found"}),s&&r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your search term"})]})}):w.map(D=>{var J,K,ce,U,le;return r.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm font-medium text-blue-600",children:D.prescriptionNo||`RX${String(D.id).padStart(5,"0")}`})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:q(D.createdAt)}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-medium text-sm",children:((K=(J=D.patient)==null?void 0:J.name)==null?void 0:K.charAt(0))||"P"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:((ce=D.patient)==null?void 0:ce.name)||"Unknown Patient"}),r.jsx("p",{className:"text-sm text-gray-500",children:((U=D.patient)==null?void 0:U.patientId)||"-"})]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-700",children:((le=D.doctor)==null?void 0:le.name)||"-"}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("p",{className:"text-gray-700 truncate max-w-xs",children:D.diagnosis||"-"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>F(D),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View",children:r.jsx(Ls,{})}),r.jsx("button",{onClick:()=>T(D),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Print",children:r.jsx(Ll,{})}),r.jsx("button",{onClick:()=>te(D),className:"p-2 text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Send",children:r.jsx(ip,{})})]})})]},D.id)})})]})}),j>1&&r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(i-1)*m+1," -"," ",Math.min(i*m,N)," of ",N," prescriptions"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>a(D=>Math.max(1,D-1)),disabled:i===1,className:"p-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:r.jsx(yi,{className:"text-gray-600"})}),r.jsxs("span",{className:"px-3 py-1 text-sm text-gray-700",children:["Page ",i," of ",j]}),r.jsx("button",{onClick:()=>a(D=>Math.min(j,D+1)),disabled:i===j,className:"p-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:r.jsx(bi,{className:"text-gray-600"})})]})]})]}),r.jsx(At,{isOpen:c,onClose:()=>{d(!1),h(null)},title:"Send Prescription",size:"sm",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-600",children:"How would you like to send this prescription to the patient?"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>A("whatsapp"),disabled:S.isPending,className:"w-full flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-green-50 hover:border-green-300 transition-colors",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(fo,{className:"text-green-600 text-lg"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"WhatsApp"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Send via WhatsApp to ",(($=u==null?void 0:u.patient)==null?void 0:$.phone)||"patient"]})]})]}),r.jsxs("button",{onClick:()=>A("email"),disabled:S.isPending,className:"w-full flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(po,{className:"text-blue-600 text-lg"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Email"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Send via email to ",((M=u==null?void 0:u.patient)==null?void 0:M.email)||"patient"]})]})]})]}),S.isPending&&r.jsx("p",{className:"text-center text-sm text-gray-500",children:"Sending..."}),S.isError&&r.jsx("p",{className:"text-center text-sm text-red-600",children:"Failed to send. Please try again."}),S.isSuccess&&r.jsx("p",{className:"text-center text-sm text-green-600",children:"Prescription sent successfully!"})]})})]})})}const LK=Object.freeze(Object.defineProperty({__proto__:null,default:Z8},Symbol.toStringTag,{value:"Module"})),mN={billTemplateId:"classic",prescriptionTemplateId:"modern"},FK=[{value:"classic",label:"Classic Invoice"},{value:"modern",label:"Modern Card"},{value:"compact",label:"Compact Minimal"},{value:"custom",label:"Custom HTML"}],VK=[{value:"modern",label:"Modern Clinical"},{value:"classic",label:"Classic Doctor Pad"},{value:"compact",label:"Compact Sheet"},{value:"custom",label:"Custom HTML"}];function od(e){const t=e&&typeof e=="object"?e:{};return{billTemplateId:String(t.billTemplateId||mN.billTemplateId),prescriptionTemplateId:String(t.prescriptionTemplateId||mN.prescriptionTemplateId),customBillHtml:String(t.customBillHtml||""),customPrescriptionHtml:String(t.customPrescriptionHtml||"")}}function at(e){return String(e??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/'/g,"&#39;")}function ty(e){if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?"-":t.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}function Ci(e){return`INR ${Number(e||0).toFixed(2)}`}function BK(e){if(!e)return"-";const t=String(e).trim().toLowerCase();return t?t==="before"||t==="before food"||t==="before_food"?"Before Food":t==="after"||t==="after food"||t==="after_food"?"After Food":t==="with"||t==="with food"||t==="with_food"?"With Food":String(e):"-"}function ek(e){return e?String(e).replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,"").replace(/\son[a-z]+\s*=\s*\"[^\"]*\"/gi,"").replace(/\son[a-z]+\s*=\s*'[^']*'/gi,"").trim():""}function tk(e,t){return Object.entries(t).reduce((s,[n,i])=>{const a=new RegExp(`{{\\s*${n}\\s*}}`,"g");return s.replace(a,String(i??""))},e)}function sk(e,t){return/<html[\s>]/i.test(e)?e:`<!doctype html><html><head><meta charset="utf-8"><title>${at(t||"Print")}</title><style>body{font-family:Arial,sans-serif;padding:20px;color:#111}table{width:100%;border-collapse:collapse}th,td{padding:8px;border:1px solid #ddd}h1,h2,h3{margin:0 0 10px}</style></head><body>${e}</body></html>`}function $K(e,t={}){var i,a,o;const n=(Array.isArray(e==null?void 0:e.items)?e.items:[]).map((l,c)=>{const d=Number((l==null?void 0:l.quantity)||0),u=Number((l==null?void 0:l.unitPrice)||0),h=d*u;return`<tr><td>${c+1}</td><td>${at((l==null?void 0:l.description)||"")}</td><td style="text-align:center">${d}</td><td style="text-align:right">${Ci(u)}</td><td style="text-align:right">${Ci(h)}</td></tr>`}).join("");return{clinicName:at((t==null?void 0:t.clinicName)||"Clinic"),clinicPhone:at((t==null?void 0:t.phone)||""),clinicAddress:at((t==null?void 0:t.address)||""),billNo:at((e==null?void 0:e.billNo)||(e==null?void 0:e.id)||"-"),billDate:at(ty(e==null?void 0:e.createdAt)),patientName:at(((i=e==null?void 0:e.patient)==null?void 0:i.name)||"-"),patientPhone:at(((a=e==null?void 0:e.patient)==null?void 0:a.phone)||"-"),doctorName:at(((o=e==null?void 0:e.doctor)==null?void 0:o.name)||"-"),paymentStatus:at(String((e==null?void 0:e.paymentStatus)||"PENDING")),itemsTableRows:n,subtotal:at(Ci((e==null?void 0:e.subtotal)||0)),discount:at(Ci((e==null?void 0:e.discountAmount)||0)),tax:at(Ci((e==null?void 0:e.taxAmount)||0)),total:at(Ci((e==null?void 0:e.totalAmount)||0)),paid:at(Ci((e==null?void 0:e.paidAmount)||0)),due:at(Ci((e==null?void 0:e.dueAmount)||0)),notes:at((e==null?void 0:e.notes)||"")}}function zK(e,t={}){var u,h,m,f,g;const n=(Array.isArray(e==null?void 0:e.medicines)?e.medicines:[]).map((p,v)=>`<tr><td>${v+1}</td><td>${at((p==null?void 0:p.medicineName)||"-")}${p!=null&&p.isExternal?' <span style="color:#b45309;font-size:11px;">(External Purchase)</span>':""}</td><td>${at((p==null?void 0:p.dosage)||"-")}</td><td>${at((p==null?void 0:p.frequency)||"-")}</td><td>${at((p==null?void 0:p.duration)||"-")}</td><td>${at(BK(p==null?void 0:p.timing))}</td></tr>`).join(""),i=Array.isArray(e==null?void 0:e.diagnosis)?e.diagnosis:[],a=i.length?`<ul>${i.map(p=>`<li>${at(p)}</li>`).join("")}</ul>`:"<div>-</div>",o=Array.isArray(e==null?void 0:e.labTests)?e.labTests:[],l=o.length?`<ul>${o.map(p=>`<li>${at((p==null?void 0:p.testName)||"")}${p!=null&&p.isExternal?' <span style="color:#b45309;font-size:11px;">(External Lab)</span>':""}${p!=null&&p.instructions?` - ${at(p.instructions)}`:""}</li>`).join("")}</ul>`:"<div>-</div>",c=(e==null?void 0:e.vitalsSnapshot)||{},d=Object.entries(c).filter(([,p])=>p!=null&&String(p)!=="").map(([p,v])=>`<li>${at(p)}: ${at(v)}</li>`).join("")||"<li>-</li>";return{clinicName:at((t==null?void 0:t.clinicName)||"Clinic"),clinicPhone:at((t==null?void 0:t.phone)||""),clinicAddress:at((t==null?void 0:t.address)||""),prescriptionNo:at((e==null?void 0:e.prescriptionNo)||(e==null?void 0:e.id)||"-"),prescriptionDate:at(ty(e==null?void 0:e.createdAt)),patientName:at(((u=e==null?void 0:e.patient)==null?void 0:u.name)||"-"),patientId:at(((h=e==null?void 0:e.patient)==null?void 0:h.patientId)||"-"),patientPhone:at(((m=e==null?void 0:e.patient)==null?void 0:m.phone)||"-"),doctorName:at(((f=e==null?void 0:e.doctor)==null?void 0:f.name)||(e==null?void 0:e.doctorName)||((g=e==null?void 0:e.doctor)==null?void 0:g.fullName)||"-"),diagnosisList:a,medicinesTableRows:n,labTestsList:l,clinicalNotes:at((e==null?void 0:e.clinicalNotes)||"-"),advice:at((e==null?void 0:e.advice)||"-"),followUpDate:at(ty(e==null?void 0:e.followUpDate)),vitalsList:`<ul>${d}</ul>`}}function UK(e){return`<!doctype html><html><head><meta charset="utf-8"><title>Bill ${e.billNo}</title><style>body{font-family:Arial,sans-serif;padding:24px;color:#1f2937}.h{display:flex;justify-content:space-between;align-items:flex-start;border-bottom:2px solid #111;padding-bottom:12px;margin-bottom:16px}.m{margin:6px 0}table{width:100%;border-collapse:collapse;margin-top:14px}th,td{border:1px solid #d1d5db;padding:8px}th{background:#f3f4f6;text-align:left}.right{text-align:right}.totals{margin-top:12px;margin-left:auto;max-width:360px}.totals .r{display:flex;justify-content:space-between;padding:3px 0}.totals .t{font-weight:700;border-top:1px solid #111;padding-top:8px}small{color:#6b7280}</style></head><body><div class="h"><div><h2 style="margin:0">${e.clinicName}</h2><div class="m">${e.clinicAddress}</div><div class="m">${e.clinicPhone}</div></div><div><div><strong>Bill:</strong> ${e.billNo}</div><div><strong>Date:</strong> ${e.billDate}</div><div><strong>Status:</strong> ${e.paymentStatus}</div></div></div><div><strong>Patient:</strong> ${e.patientName}<br><strong>Phone:</strong> ${e.patientPhone}<br><strong>Doctor:</strong> ${e.doctorName}</div><table><thead><tr><th>#</th><th>Description</th><th style="text-align:center">Qty</th><th class="right">Price</th><th class="right">Amount</th></tr></thead><tbody>${e.itemsTableRows}</tbody></table><div class="totals"><div class="r"><span>Subtotal</span><span>${e.subtotal}</span></div><div class="r"><span>Discount</span><span>${e.discount}</span></div><div class="r"><span>Tax</span><span>${e.tax}</span></div><div class="r t"><span>Total</span><span>${e.total}</span></div><div class="r"><span>Paid</span><span>${e.paid}</span></div><div class="r"><span>Due</span><span>${e.due}</span></div></div><p><small>${e.notes}</small></p></body></html>`}function HK(e){return`<!doctype html><html><head><meta charset="utf-8"><title>Bill ${e.billNo}</title><style>body{font-family:Segoe UI,Arial,sans-serif;background:#f8fafc;padding:20px}.card{max-width:900px;margin:0 auto;background:#fff;border:1px solid #e2e8f0;border-radius:14px;overflow:hidden}.top{background:linear-gradient(135deg,#0ea5e9,#2563eb);color:#fff;padding:18px 22px;display:flex;justify-content:space-between}.body{padding:20px}.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.box{background:#f8fafc;border:1px solid #e2e8f0;border-radius:10px;padding:10px}table{width:100%;border-collapse:collapse;margin-top:14px}th,td{padding:10px;border-bottom:1px solid #e2e8f0}th{font-size:12px;text-transform:uppercase;color:#64748b;text-align:left}.r{text-align:right}</style></head><body><div class="card"><div class="top"><div><h2 style="margin:0">${e.clinicName}</h2><div>${e.clinicAddress}</div></div><div style="text-align:right"><div><strong>${e.billNo}</strong></div><div>${e.billDate}</div><div>${e.paymentStatus}</div></div></div><div class="body"><div class="grid"><div class="box"><strong>Patient</strong><div>${e.patientName}</div><div>${e.patientPhone}</div></div><div class="box"><strong>Doctor</strong><div>${e.doctorName}</div></div><div class="box"><strong>Contact</strong><div>${e.clinicPhone}</div></div></div><table><thead><tr><th>#</th><th>Description</th><th style="text-align:center">Qty</th><th class="r">Price</th><th class="r">Amount</th></tr></thead><tbody>${e.itemsTableRows}</tbody></table><div style="display:grid;grid-template-columns:1fr auto;gap:8px;margin-top:14px"><div></div><div><div>Subtotal: ${e.subtotal}</div><div>Discount: ${e.discount}</div><div>Tax: ${e.tax}</div><div style="font-weight:700">Total: ${e.total}</div><div>Paid: ${e.paid}</div><div>Due: ${e.due}</div></div></div></div></div></body></html>`}function qK(e){return`<!doctype html><html><head><meta charset="utf-8"><title>Bill ${e.billNo}</title><style>body{font-family:Arial,sans-serif;font-size:12px;padding:12px}table{width:100%;border-collapse:collapse;margin-top:8px}th,td{border:1px solid #ccc;padding:6px}.r{text-align:right}</style></head><body><h3 style="margin:0">${e.clinicName}</h3><div>${e.clinicAddress} | ${e.clinicPhone}</div><hr><div>Bill ${e.billNo} | ${e.billDate} | ${e.paymentStatus}</div><div>Patient: ${e.patientName} (${e.patientPhone}) | Doctor: ${e.doctorName}</div><table><thead><tr><th>#</th><th>Description</th><th>Qty</th><th class="r">Price</th><th class="r">Amt</th></tr></thead><tbody>${e.itemsTableRows}</tbody></table><div style="text-align:right;margin-top:8px">Total ${e.total} | Paid ${e.paid} | Due ${e.due}</div></body></html>`}function WK(e){return`<!doctype html><html><head><meta charset="utf-8"><title>Prescription ${e.prescriptionNo}</title><style>body{font-family:Segoe UI,Arial,sans-serif;background:#f8fafc;padding:18px;color:#0f172a}.card{max-width:900px;margin:0 auto;background:#fff;border:1px solid #e2e8f0;border-radius:14px;overflow:hidden}.top{background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#fff;padding:16px 20px;display:flex;justify-content:space-between}.body{padding:20px}.sec{margin-bottom:14px}.sec h4{margin:0 0 8px 0;color:#1d4ed8}table{width:100%;border-collapse:collapse}th,td{padding:8px;border-bottom:1px solid #e2e8f0;text-align:left}th{font-size:12px;color:#64748b;text-transform:uppercase}</style></head><body><div class="card"><div class="top"><div><h2 style="margin:0">${e.clinicName}</h2><div>${e.clinicAddress}</div><div>${e.clinicPhone}</div></div><div style="text-align:right"><div><strong>${e.prescriptionNo}</strong></div><div>${e.prescriptionDate}</div></div></div><div class="body"><div class="sec"><strong>Patient:</strong> ${e.patientName} (${e.patientId}) | ${e.patientPhone}<br><strong>Doctor:</strong> ${e.doctorName}</div><div class="sec"><h4>Vitals</h4>${e.vitalsList}</div><div class="sec"><h4>Diagnosis</h4>${e.diagnosisList}</div><div class="sec"><h4>Medicines</h4><table><thead><tr><th>#</th><th>Medicine</th><th>Dosage</th><th>Frequency</th><th>Duration</th><th>Timing</th></tr></thead><tbody>${e.medicinesTableRows}</tbody></table></div><div class="sec"><h4>Lab Tests</h4>${e.labTestsList}</div><div class="sec"><h4>Clinical Notes</h4><div>${e.clinicalNotes}</div></div><div class="sec"><h4>Advice</h4><div>${e.advice}</div></div><div class="sec"><strong>Follow-up:</strong> ${e.followUpDate}</div></div></div></body></html>`}function GK(e){return`<!doctype html><html><head><meta charset="utf-8"><title>Prescription ${e.prescriptionNo}</title><style>body{font-family:Arial,sans-serif;padding:20px}table{width:100%;border-collapse:collapse;margin-top:8px}th,td{border:1px solid #ddd;padding:7px}h3,h4{margin:8px 0}</style></head><body><h3>${e.clinicName}</h3><div>${e.clinicAddress} | ${e.clinicPhone}</div><hr><div><strong>Rx:</strong> ${e.prescriptionNo} | <strong>Date:</strong> ${e.prescriptionDate}</div><div><strong>Patient:</strong> ${e.patientName} (${e.patientId}) | ${e.patientPhone}</div><div><strong>Doctor:</strong> ${e.doctorName}</div><h4>Diagnosis</h4>${e.diagnosisList}<h4>Medicines</h4><table><thead><tr><th>#</th><th>Medicine</th><th>Dosage</th><th>Frequency</th><th>Duration</th><th>Timing</th></tr></thead><tbody>${e.medicinesTableRows}</tbody></table><h4>Lab Tests</h4>${e.labTestsList}<h4>Advice</h4><div>${e.advice}</div></body></html>`}function KK(e){return`<!doctype html><html><head><meta charset="utf-8"><title>Prescription ${e.prescriptionNo}</title><style>body{font-family:Arial,sans-serif;font-size:12px;padding:12px}table{width:100%;border-collapse:collapse}th,td{border:1px solid #ccc;padding:6px}</style></head><body><strong>${e.clinicName}</strong><br>${e.prescriptionNo} | ${e.prescriptionDate}<hr>Patient: ${e.patientName} (${e.patientId})<br>Doctor: ${e.doctorName}<br><br>Medicines:<table><thead><tr><th>#</th><th>Medicine</th><th>Dose</th><th>Freq</th><th>Duration</th><th>Timing</th></tr></thead><tbody>${e.medicinesTableRows}</tbody></table><div style="margin-top:8px">Advice: ${e.advice}</div></body></html>`}function nk(e,t,s){const n=od(s),i=$K(e,t);if(n.billTemplateId==="custom"&&n.customBillHtml){const a=ek(n.customBillHtml);return sk(tk(a,i),`Bill ${i.billNo}`)}return n.billTemplateId==="modern"?HK(i):n.billTemplateId==="compact"?qK(i):UK(i)}function rk(e,t,s){const n=od(s),i=zK(e,t);if(n.prescriptionTemplateId==="custom"&&n.customPrescriptionHtml){const a=ek(n.customPrescriptionHtml);return sk(tk(a,i),`Prescription ${i.prescriptionNo}`)}return n.prescriptionTemplateId==="classic"?GK(i):n.prescriptionTemplateId==="compact"?KK(i):WK(i)}const fN={bill:["{{clinicName}}","{{clinicPhone}}","{{clinicAddress}}","{{billNo}}","{{billDate}}","{{patientName}}","{{patientPhone}}","{{doctorName}}","{{paymentStatus}}","{{itemsTableRows}}","{{subtotal}}","{{discount}}","{{tax}}","{{total}}","{{paid}}","{{due}}","{{notes}}"],prescription:["{{clinicName}}","{{clinicPhone}}","{{clinicAddress}}","{{prescriptionNo}}","{{prescriptionDate}}","{{patientName}}","{{patientId}}","{{patientPhone}}","{{doctorName}}","{{vitalsList}}","{{diagnosisList}}","{{medicinesTableRows}}","{{labTestsList}}","{{clinicalNotes}}","{{advice}}","{{followUpDate}}"]};function ik(){var A,q,z,B,_;const{id:e}=iu(),t=yn(),s=Ht(),[n,i]=x.useState(!1),[a,o]=x.useState(null),[l,c]=x.useState(""),[d,u]=x.useState("OTHER"),[h,m]=x.useState(""),{data:f,isLoading:g,error:p}=Te({queryKey:["prescription",e],queryFn:()=>Ar.getPrescription(e),enabled:!!e}),{data:v}=Te({queryKey:["clinic-settings"],queryFn:()=>ut.getClinicSettings()}),{data:b}=Te({queryKey:["print-templates"],queryFn:()=>ut.getPrintTemplates()}),y=f==null?void 0:f.data,w=Array.isArray(y==null?void 0:y.documents)?y.documents:[],j=We({mutationFn:$=>Ar.uploadDocument(e,$),onSuccess:()=>{s.invalidateQueries({queryKey:["prescription",e]}),X.success("Document uploaded"),o(null),c(""),u("OTHER"),m("")},onError:$=>{var M,D;X.error(((D=(M=$.response)==null?void 0:M.data)==null?void 0:D.message)||"Failed to upload document")}}),N=()=>{if(!y)return;const $=window.open("","_blank");if(!$){X.error("Please allow popups to print");return}const M=rk(y,v||{},b||{});$.document.write(M),$.document.close(),$.onload=()=>$.print()},S=async $=>{var M,D;try{const J=await Ar.sendPrescription(e,$);J.whatsappUrl?(window.open(J.whatsappUrl,"_blank"),X.success("WhatsApp opened. Send the message to complete.")):X.success(`Prescription sent via ${$}`),i(!1)}catch(J){X.error(((D=(M=J.response)==null?void 0:M.data)==null?void 0:D.message)||"Failed to send prescription")}},P=$=>$?new Date($).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",C=$=>{if(!$)return"-";const M=String($).trim().toLowerCase();return M?M==="before"||M==="before food"||M==="before_food"?"Before Food":M==="after"||M==="after food"||M==="after_food"?"After Food":M==="with"||M==="with food"||M==="with_food"?"With Food":String($):"-"},F=()=>{if(!a){X.error("Please select a file");return}j.mutate({file:a,title:l,category:d,notes:h})};if(g)return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(p||!y)return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[r.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load prescription"}),r.jsx("button",{onClick:()=>t("/prescriptions"),className:"text-blue-600 hover:underline",children:"Back to Prescriptions"})]})});const T=y.vitalsSnapshot||{},te=Array.isArray(y.diagnosis)?y.diagnosis:[];return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>t("/prescriptions"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:r.jsx(np,{className:"text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:y.prescriptionNo||`RX${String(y.id).padStart(5,"0")}`}),r.jsx("p",{className:"text-gray-500 mt-1",children:P(y.createdAt)})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[r.jsx(Ll,{}),"Print"]}),r.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[r.jsx(ip,{}),"Send"]})]})]}),r.jsxs("div",{id:"prescription-print-area",className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-4",children:[r.jsx(Bd,{}),r.jsx("h2",{className:"text-lg font-semibold",children:"Patient Information"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),r.jsx("p",{className:"font-medium",children:((A=y.patient)==null?void 0:A.name)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Patient ID"}),r.jsx("p",{className:"font-medium",children:((q=y.patient)==null?void 0:q.patientId)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),r.jsx("p",{className:"font-medium",children:((z=y.patient)==null?void 0:z.phone)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),r.jsx("p",{className:"font-medium",children:P(y.createdAt)})]})]})]}),(T.bp||T.pulse||T.temp||T.spo2||T.weight)&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-4",children:[r.jsx(b1,{}),r.jsx("h2",{className:"text-lg font-semibold",children:"Vitals"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[T.bp&&r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Blood Pressure"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:T.bp})]}),T.pulse&&r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Pulse"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[T.pulse," bpm"]})]}),T.temp&&r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Temperature"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[T.temp,"F"]})]}),T.spo2&&r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"SpO2"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[T.spo2,"%"]})]}),T.weight&&r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Weight"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[T.weight," kg"]})]})]})]}),(te.length>0||y.clinicalNotes)&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-purple-600 mb-4",children:[r.jsx(KP,{}),r.jsx("h2",{className:"text-lg font-semibold",children:"Diagnosis & Notes"})]}),te.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Diagnosis"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:te.map(($,M)=>r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:$},M))})]}),y.clinicalNotes&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Clinical Notes"}),r.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:y.clinicalNotes})]})]}),y.medicines&&y.medicines.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-4",children:[r.jsx(Fd,{}),r.jsx("h2",{className:"text-lg font-semibold",children:"Medicines"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-100",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"#"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Medicine"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Dosage"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Frequency"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Duration"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Timing"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-600",children:"Fulfillment"})]})}),r.jsx("tbody",{children:y.medicines.map(($,M)=>r.jsxs("tr",{className:"border-b border-gray-50",children:[r.jsx("td",{className:"py-3 px-4 text-gray-500",children:M+1}),r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("p",{className:"font-medium text-gray-900",children:$.medicineName}),$.genericName&&r.jsx("p",{className:"text-sm text-gray-500",children:$.genericName})]}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:$.dosage||"-"}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:$.frequency||"-"}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:$.duration||"-"}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:C($.timing)}),r.jsx("td",{className:"py-3 px-4",children:$.isExternal?r.jsx("span",{className:"inline-flex items-center rounded-full bg-amber-100 px-2.5 py-1 text-xs font-medium text-amber-800",children:"External Purchase"}):r.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-2.5 py-1 text-xs font-medium text-emerald-800",children:"In-house"})})]},$.id))})]})})]}),y.labTests&&y.labTests.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-orange-600 mb-4",children:[r.jsx(Il,{}),r.jsx("h2",{className:"text-lg font-semibold",children:"Lab Tests"})]}),r.jsx("div",{className:"space-y-3",children:y.labTests.map(($,M)=>{var D;return r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"w-6 h-6 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-sm font-medium",children:M+1}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:$.testName}),$.instructions&&r.jsx("p",{className:"text-sm text-gray-500",children:$.instructions}),((D=$.lab)==null?void 0:D.name)&&r.jsxs("p",{className:"text-sm text-blue-600",children:["Lab: ",$.lab.name]}),r.jsx("div",{className:"mt-1",children:$.isExternal?r.jsx("span",{className:"inline-flex items-center rounded-full bg-amber-100 px-2.5 py-1 text-xs font-medium text-amber-800",children:"External Lab"}):r.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-2.5 py-1 text-xs font-medium text-emerald-800",children:"In-house Lab"})})]})]},$.id)})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 mb-4",children:[r.jsx(zx,{}),r.jsx("h2",{className:"text-lg font-semibold",children:"Supporting Documents"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[r.jsx("input",{type:"file",onChange:$=>{var M;return o(((M=$.target.files)==null?void 0:M[0])||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white"}),r.jsx("input",{type:"text",value:l,onChange:$=>c($.target.value),placeholder:"Title (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),r.jsxs("select",{value:d,onChange:$=>u($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white",children:[r.jsx("option",{value:"LAB_REPORT",children:"Lab Report"}),r.jsx("option",{value:"ULTRASOUND",children:"Ultrasound"}),r.jsx("option",{value:"PRESCRIPTION",children:"Prescription"}),r.jsx("option",{value:"OTHER",children:"Other"})]}),r.jsx("input",{type:"text",value:h,onChange:$=>m($.target.value),placeholder:"Notes (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),r.jsx("div",{className:"flex justify-end mb-4",children:r.jsxs("button",{type:"button",onClick:F,disabled:j.isPending,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:[j.isPending?r.jsx(Uh,{className:"animate-spin"}):r.jsx(QP,{}),"Upload"]})}),w.length>0?r.jsx("div",{className:"space-y-2",children:w.map($=>r.jsxs("a",{href:$.accessUrl||$.filePath,target:"_blank",rel:"noreferrer",className:"block border border-gray-200 rounded-lg px-3 py-2 hover:bg-gray-50",children:[r.jsx("p",{className:"font-medium text-gray-900",children:$.title||$.fileName}),r.jsxs("p",{className:"text-sm text-gray-500",children:[$.category||"OTHER","  ",P($.uploadedAt)]})]},$.id))}):r.jsx("p",{className:"text-gray-500",children:"No documents uploaded for this prescription."})]}),y.advice&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-4",children:[r.jsx(zx,{}),r.jsx("h2",{className:"text-lg font-semibold",children:"Advice"})]}),r.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:y.advice})]}),y.followUpDate&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-teal-600 mb-4",children:[r.jsx(nU,{}),r.jsx("h2",{className:"text-lg font-semibold",children:"Follow-up"})]}),r.jsxs("p",{className:"text-gray-700",children:["Next visit scheduled for: ",r.jsx("span",{className:"font-medium",children:P(y.followUpDate)})]})]})]}),r.jsx(At,{isOpen:n,onClose:()=>i(!1),title:"Send Prescription",size:"sm",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-600",children:"How would you like to send this prescription to the patient?"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>S("whatsapp"),className:"w-full flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-green-50 hover:border-green-300 transition-colors",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(fo,{className:"text-green-600 text-lg"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"WhatsApp"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Send via WhatsApp to ",((B=y.patient)==null?void 0:B.phone)||"patient"]})]})]}),r.jsxs("button",{onClick:()=>S("email"),className:"w-full flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(po,{className:"text-blue-600 text-lg"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Email"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Send via email to ",((_=y.patient)==null?void 0:_.email)||"patient"]})]})]})]})]})})]})})}const QK=Object.freeze(Object.defineProperty({__proto__:null,default:ik},Symbol.toStringTag,{value:"Module"})),Cr={getBills:async(e={})=>(await ee.get("/billing",{params:e})).data,getBill:async e=>(await ee.get(`/billing/${e}`)).data,createBill:async e=>(await ee.post("/billing",e)).data,updateBill:async(e,t)=>(await ee.put(`/billing/${e}`,t)).data,recordPayment:async(e,t)=>{var i;const s={...t,method:((i=t.method)==null?void 0:i.toUpperCase())||"CASH"};return(await ee.post(`/billing/${e}/payment`,s)).data},getSummary:async(e,t={})=>{const s={period:e,...t};return(await ee.get("/billing/summary",{params:s})).data},getPatients:async(e={})=>(await ee.get("/billing/patients",{params:e})).data,getDoctors:async()=>(await ee.get("/billing/doctors")).data,getPrefill:async(e,t={})=>(await ee.get(`/billing/prefill/${e}`,{params:t})).data},YK=[{value:"1-0-0",label:"1-0-0 (Morning)"},{value:"0-1-0",label:"0-1-0 (Afternoon)"},{value:"0-0-1",label:"0-0-1 (Night)"},{value:"1-1-0",label:"1-1-0 (Morning, Afternoon)"},{value:"1-0-1",label:"1-0-1 (Morning, Night)"},{value:"0-1-1",label:"0-1-1 (Afternoon, Night)"},{value:"1-1-1",label:"1-1-1 (Thrice a day)"},{value:"1-1-1-1",label:"1-1-1-1 (Four times)"},{value:"sos",label:"SOS (As needed)"},{value:"stat",label:"STAT (Immediately)"}],XK=[{value:"3",label:"3 Days"},{value:"5",label:"5 Days"},{value:"7",label:"7 Days"},{value:"10",label:"10 Days"},{value:"14",label:"14 Days"},{value:"15",label:"15 Days"},{value:"21",label:"21 Days"},{value:"30",label:"30 Days"},{value:"60",label:"60 Days"},{value:"90",label:"90 Days"}],JK=[{value:"before",label:"Before Food"},{value:"after",label:"After Food"},{value:"with",label:"With Food"},{value:"any",label:"Any Time"}];function sy(){var G,ge,O,E,Q;const e=yn(),{user:t}=dr();if(!st("prescriptions:create",["DOCTOR","ADMIN","SUPER_ADMIN"]))return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Access denied"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"You do not have permission to create prescriptions."})]})})});const n=`${(t==null?void 0:t.role)||""} ${(t==null?void 0:t.effectiveRole)||""} ${(t==null?void 0:t.clinicRole)||""}`.toUpperCase().split(/[^A-Z0-9]+/i).map(V=>V.trim()).filter(Boolean),i=n.includes("SUPER_ADMIN")||n.includes("ADMIN"),a=n.includes("DOCTOR"),o=Ht(),[l,c]=x.useState(""),[d,u]=x.useState(""),[h,m]=x.useState(!1),[f,g]=x.useState(!1),p=x.useRef(null),[v,b]=x.useState(!1),[y,w]=x.useState(null),{register:j,handleSubmit:N,control:S,watch:P,setValue:C,formState:{errors:F}}=Vt({defaultValues:{doctor:null,patient:null,vitals:{bloodPressureSystolic:"",bloodPressureDiastolic:"",heartRate:"",temperature:"",weight:"",height:"",oxygenSaturation:""},diagnosis:"",notes:"",medicines:[],labTests:[]}}),{fields:T,append:te,remove:A}=Lx({control:S,name:"medicines"}),{fields:q,append:z,remove:B}=Lx({control:S,name:"labTests"}),{data:_}=Te({queryKey:["patients-list"],queryFn:()=>ls.getPatients({limit:100})}),$=((_==null?void 0:_.data)||[]).map(V=>({value:V.id,label:`${V.name} (${V.patientId||`P${String(V.id).padStart(5,"0")}`})`,patient:V})),{data:M}=Te({queryKey:["prescription-doctors-list"],queryFn:()=>ni.getDoctors(),enabled:i}),D=((M==null?void 0:M.data)||[]).map(V=>({value:V.id,label:V.name})),J=P("doctor"),K=i?J==null?void 0:J.value:a?t==null?void 0:t.id:void 0,ce=i?J==null?void 0:J.label:(t==null?void 0:t.name)||"You",U=()=>{var V;return(V=P("patient"))==null?void 0:V.value},{data:le}=Te({queryKey:["patient-appointments",U(),K],queryFn:()=>ni.getAppointments({patientId:U(),status:"SCHEDULED",doctorId:K,limit:50}),enabled:!!U()&&(!!K||!i)}),re=((le==null?void 0:le.data)||[]).map(V=>({value:V.id,label:`${V.appointmentNo||""} ${V.date?`- ${new Date(V.date).toLocaleDateString("en-GB")}`:""}`,appt:V})),{data:ie}=Te({queryKey:["medicines-search",l],queryFn:()=>Ar.searchMedicines(l,10),enabled:l.length>=2}),Y=(ie==null?void 0:ie.data)||[],{data:oe}=Te({queryKey:["lab-tests-search",d],queryFn:()=>Ar.searchLabTests(d),enabled:d.length>=2}),Se=(oe==null?void 0:oe.data)||[],{data:je}=Te({queryKey:["consultation-fees"],queryFn:()=>ut.getConsultationFees()}),ne=((G=je==null?void 0:je.data)==null?void 0:G.fees)||{},{data:ke}=Te({queryKey:["tax-settings"],queryFn:()=>ut.getTaxSettings()}),Ee=We({mutationFn:Ar.createPrescription,onSuccess:async V=>{var be,Fe,Z;X.success("Prescription saved successfully");const fe=V.data||V;try{const he=p.current||{};let ye=[];try{const we=await Cr.getPrefill(fe.patientId||he.patientId,{prescriptionId:fe.id});ye=(((be=we==null?void 0:we.data)==null?void 0:be.items)||[]).map(ae=>({description:ae.description||"",quantity:Number(ae.quantity)||1,unitPrice:Number(ae.unitPrice)||0,type:ae.type==="medicine"?"pharmacy":ae.type==="lab"?"lab_test":ae.type||"other",productId:ae.productId||null,labId:ae.labId||null,labTestId:ae.labTestId||null,doctorId:ae.doctorId||null}))}catch{const Be=[];let ae=0,Ae="Consultation";if(he.appointmentId&&Array.isArray(le==null?void 0:le.data)){const R=(le.data||[]).find(Ie=>Ie.id===he.appointmentId);R&&(ae=R.consultationFee||0,Ae=`Consultation (${R.appointmentNo||""})`)}if(!ae){const R=he.doctorId||(t==null?void 0:t.id);ae=Number((ne==null?void 0:ne[R])||0)}Be.push({description:Ae,quantity:1,unitPrice:ae,type:"consultation"}),(he.medicines||[]).forEach(R=>{R!=null&&R.isExternal||Be.push({description:R.medicineName||R.name||R.medicine||"",quantity:Number(R.quantity)||1,unitPrice:Number(R.price||R.unitPrice||0),type:"pharmacy",productId:R.productId||null})}),(he.labTests||[]).forEach(R=>{R!=null&&R.isExternal||Be.push({description:R.testName||R.name||"",quantity:1,unitPrice:Number(R.price||0),type:"lab_test",labId:R.labId||null,labTestId:R.testId||null})}),ye=Be}if(ye.length>0){let we=ke;if(!we)try{we=await ut.getTaxSettings()}catch{we=null}const Be={patientId:fe.patientId||he.patientId,type:"MIXED",items:ye,notes:`Draft bill for prescription ${fe.prescriptionNo||""}`,doctorId:fe.doctorId||he.doctorId||(t==null?void 0:t.id),defaultConsultationGstPercent:Number((we==null?void 0:we.consultationGST)||0),defaultPharmacyGstPercent:Number((we==null?void 0:we.pharmacyGST)||0),defaultLabTestGstPercent:Number((we==null?void 0:we.labGST)||0),defaultConsultationDiscountPercent:0,defaultPharmacyDiscountPercent:0,defaultLabTestDiscountPercent:0};try{await Cr.createBill(Be);try{o.invalidateQueries({queryKey:["bills"]})}catch{}X.success("Draft bill created automatically")}catch(ae){console.error("Failed creating draft bill:",ae),X.error(((Z=(Fe=ae==null?void 0:ae.response)==null?void 0:Fe.data)==null?void 0:Z.message)||"Auto bill creation failed")}}}catch(he){console.error("Failed to create draft bill for prescription:",he)}try{const he=await Ar.getPrescriptionPdf(fe.id),ye=window.URL.createObjectURL(he),we=window.open(ye,"_blank");we&&(we.onload=()=>{we.print()})}catch{console.log("PDF not available, navigating to prescriptions")}try{o.setQueriesData({queryKey:["prescriptions"]},he=>he&&(he&&typeof he=="object"&&Array.isArray(he.data)?{...he,data:[fe,...he.data]}:Array.isArray(he)?[fe,...he]:he))}catch(he){console.error("Failed to update prescriptions cache optimistically",he)}e("/prescriptions")},onError:V=>{var fe,be;X.error(((be=(fe=V.response)==null?void 0:fe.data)==null?void 0:be.message)||"Failed to save prescription"),console.error("Failed to create prescription:",V)}}),Ue=V=>{var be,Fe,Z,he;if(i&&!((be=V.doctor)!=null&&be.value)){X.error("Please select doctor");return}const fe={appointmentId:(Fe=V.appointment)==null?void 0:Fe.value,doctorId:i?(Z=V.doctor)==null?void 0:Z.value:void 0,patientId:(he=V.patient)==null?void 0:he.value,vitalsSnapshot:{bloodPressureSystolic:V.vitals.bloodPressureSystolic?parseInt(V.vitals.bloodPressureSystolic):null,bloodPressureDiastolic:V.vitals.bloodPressureDiastolic?parseInt(V.vitals.bloodPressureDiastolic):null,heartRate:V.vitals.heartRate?parseInt(V.vitals.heartRate):null,temperature:V.vitals.temperature?parseFloat(V.vitals.temperature):null,weight:V.vitals.weight?parseFloat(V.vitals.weight):null,height:V.vitals.height?parseFloat(V.vitals.height):null,oxygenSaturation:V.vitals.oxygenSaturation?parseInt(V.vitals.oxygenSaturation):null},diagnosis:V.diagnosis,clinicalNotes:V.notes,medicines:V.medicines.map(ye=>{var we,Be,ae,Ae;return{productId:ye.medicineId,medicineName:ye.name,price:ye.price?parseFloat(ye.price):0,dosage:((we=ye.dosage)==null?void 0:we.value)||ye.dosage,duration:((Be=ye.duration)==null?void 0:Be.value)||ye.duration,timing:((ae=ye.mealTiming)==null?void 0:ae.value)||ye.mealTiming,frequency:((Ae=ye.dosage)==null?void 0:Ae.value)||ye.dosage,instructions:ye.instructions,quantity:ye.quantity?parseInt(ye.quantity):1,isExternal:!!ye.isExternal}}),labTests:V.labTests.map(ye=>({testId:ye.testId||null,testName:ye.name,price:ye.price?parseFloat(ye.price):0,instructions:ye.instructions,isExternal:!!ye.isExternal,labId:ye.labId||null}))};p.current=fe,Ee.mutate(fe)},se=V=>{te({medicineId:V.id,name:V.name,price:V.price||V.sellingPrice||V.mrp||0,dosage:null,duration:null,mealTiming:null,instructions:"",quantity:"",isExternal:!1}),c(""),m(!1)},me=V=>{te({medicineId:null,name:V,price:0,dosage:null,duration:null,mealTiming:null,instructions:"",quantity:1,isExternal:!0}),c(""),m(!1)},W=V=>{z({testId:V.id||null,labId:V.labId||null,name:V.name,price:V.price||null,labName:V.labName||null,instructions:"",isExternal:(V.isCatalog,!1)}),u(""),g(!1)},pe=V=>{z({testId:null,labId:null,name:V,price:null,labName:null,instructions:"",isExternal:!0}),u(""),g(!1)},Ce=(ge=P("patient"))==null?void 0:ge.patient,_e=(O=P("patient"))==null?void 0:O.value,{data:I}=Te({queryKey:["patient-documents-for-prescription",_e],queryFn:()=>ls.getDocuments(_e),enabled:!!_e}),k=Array.isArray(I)?I:Array.isArray(I==null?void 0:I.data)?I.data:[];return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:r.jsx(np,{className:"text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"New Prescription"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Create a new prescription for a patient"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Doctor: ",r.jsx("strong",{className:"text-gray-900",children:ce||"Select doctor"})]})]})]}),r.jsxs("form",{onSubmit:N(Ue),className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(xo,{className:"text-blue-600"})}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patient Information"})]}),i&&r.jsx("div",{className:"mb-4",children:r.jsx(ir,{label:"Select Doctor",name:"doctor",control:S,options:D,placeholder:"Search and select doctor...",rules:{required:"Doctor is required"},error:(E=F.doctor)==null?void 0:E.message,isSearchable:!0})}),r.jsx(ir,{label:"Select Patient",name:"patient",control:S,options:$,placeholder:"Search and select patient...",rules:{required:"Patient is required"},error:(Q=F.patient)==null?void 0:Q.message,isSearchable:!0}),Ce&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Age:"}),r.jsx("span",{className:"ml-2 font-medium",children:Ce.age?`${Ce.age} yrs`:"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Gender:"}),r.jsx("span",{className:"ml-2 font-medium capitalize",children:Ce.gender||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Phone:"}),r.jsx("span",{className:"ml-2 font-medium",children:Ce.phone||"-"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Blood Group:"}),r.jsx("span",{className:"ml-2 font-medium",children:Ce.bloodGroup||"-"})]})]}),Ce.allergies&&r.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg",children:[r.jsx("span",{className:"text-red-700 text-sm font-medium",children:"Allergies: "}),r.jsx("span",{className:"text-red-600 text-sm",children:Ce.allergies})]})]}),re.length>0&&r.jsx("div",{className:"mt-4",children:r.jsx(Mc,{name:"appointment",control:S,render:({field:V})=>r.jsx(ir,{...V,label:"Select Appointment (optional)",options:re,placeholder:"Select appointment...",isClearable:!0,isSearchable:!0,onChange:fe=>{V.onChange(fe),w(fe)}})})}),_e&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(HP,{className:"text-blue-600"}),r.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Existing Patient Documents"})]}),k.length>0?r.jsx("div",{className:"space-y-2 max-h-44 overflow-y-auto pr-1",children:k.slice(0,8).map(V=>r.jsxs("a",{href:V.accessUrl||V.filePath,target:"_blank",rel:"noreferrer",className:"block text-sm border border-gray-200 rounded-lg px-3 py-2 hover:bg-gray-50",children:[r.jsx("p",{className:"font-medium text-gray-900",children:V.title||V.fileName}),r.jsxs("p",{className:"text-xs text-gray-500",children:[V.category||"OTHER","  ",new Date(V.uploadedAt).toLocaleDateString("en-GB")]})]},V.id))}):r.jsx("p",{className:"text-sm text-gray-500",children:"No previous documents uploaded for this patient."})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(b1,{className:"text-red-600"})}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Vitals"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Blood Pressure"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{...j("vitals.bloodPressureSystolic"),type:"number",placeholder:"Sys",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-400",children:"/"}),r.jsx("input",{...j("vitals.bloodPressureDiastolic"),type:"number",placeholder:"Dia",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-500",children:"mmHg"})]})]}),r.jsx(Qs,{label:"Heart Rate",type:"number",placeholder:"72",...j("vitals.heartRate"),helperText:"bpm"}),r.jsx(Qs,{label:"Temperature",type:"number",step:"0.1",placeholder:"98.6",...j("vitals.temperature"),helperText:"F"}),r.jsx(Qs,{label:"SpO2",type:"number",placeholder:"98",...j("vitals.oxygenSaturation"),helperText:"%"}),r.jsx(Qs,{label:"Weight",type:"number",step:"0.1",placeholder:"70",...j("vitals.weight"),helperText:"kg"}),r.jsx(Qs,{label:"Height",type:"number",placeholder:"170",...j("vitals.height"),helperText:"cm"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(KP,{className:"text-purple-600"})}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Diagnosis"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Diagnosis ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{...j("diagnosis",{required:"Diagnosis is required"}),rows:2,placeholder:"Enter diagnosis...",className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 resize-none ${F.diagnosis?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`}),F.diagnosis&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:F.diagnosis.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Additional Notes"}),r.jsx("textarea",{...j("notes"),rows:2,placeholder:"Any additional notes or advice...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Fd,{className:"text-green-600"})}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Medicines"})]})}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:l,onChange:V=>{c(V.target.value),m(!0)},onFocus:()=>m(!0),placeholder:"Search medicines from pharmacy...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),h&&l.length>=2&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Y.length===0?r.jsxs("div",{children:[r.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No medicines found"}),r.jsx("div",{className:"px-4 py-3 border-t border-gray-100",children:r.jsxs("button",{type:"button",onClick:()=>me(l),className:"w-full text-left px-3 py-2 bg-yellow-50 text-yellow-900 rounded-md",children:['Add "',l,'" as external medicine']})})]}):Y.map(V=>r.jsxs("button",{type:"button",onClick:()=>se(V),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0",children:[r.jsx("p",{className:"font-medium text-gray-900",children:V.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[V.category&&`${V.category}  `,"Stock: ",V.stock||0,"  ",V.price]})]},V.id))})]}),T.length>0?r.jsx("div",{className:"space-y-4",children:T.map((V,fe)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{children:r.jsx("p",{className:"font-medium text-gray-900",children:V.name})}),r.jsx("button",{type:"button",onClick:()=>A(fe),className:"p-1.5 text-red-500 hover:bg-red-50 rounded transition-colors",children:r.jsx(Fl,{size:14})})]}),r.jsx("div",{className:"flex items-center gap-3 mb-3",children:r.jsxs("label",{className:"inline-flex items-center text-sm",children:[r.jsx("input",{type:"checkbox",...j(`medicines.${fe}.isExternal`),className:"form-checkbox h-4 w-4 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Patient will buy externally"})]})}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[r.jsx(Mc,{name:`medicines.${fe}.dosage`,control:S,render:({field:be})=>r.jsx(ir,{...be,label:"Dosage",options:YK,placeholder:"Select...",menuPlacement:"auto"})}),r.jsx(Mc,{name:`medicines.${fe}.duration`,control:S,render:({field:be})=>r.jsx(ir,{...be,label:"Duration",options:XK,placeholder:"Select...",menuPlacement:"auto"})}),r.jsx(Mc,{name:`medicines.${fe}.mealTiming`,control:S,render:({field:be})=>r.jsx(ir,{...be,label:"Timing",options:JK,placeholder:"Select...",menuPlacement:"auto"})}),r.jsx(Qs,{label:"Quantity",type:"number",placeholder:"10",...j(`medicines.${fe}.quantity`)}),r.jsx(Qs,{label:"Instructions",placeholder:"Special instructions...",...j(`medicines.${fe}.instructions`)})]})]},V.id))}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Fd,{className:"text-3xl text-gray-300 mx-auto mb-2"}),r.jsx("p",{children:"No medicines added. Search above to add medicines."})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:r.jsx(Il,{className:"text-orange-600"})}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lab Tests"})]})}),r.jsxs("div",{className:"relative mb-4",children:[r.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:d,onChange:V=>{u(V.target.value),g(!0)},onFocus:()=>g(!0),placeholder:"Search lab tests...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),f&&d.length>=2&&r.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[Se.length===0?r.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No lab tests found"}):Se.map(V=>r.jsx("button",{type:"button",onClick:()=>W(V),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:V.name}),V.category&&r.jsx("p",{className:"text-sm text-gray-500",children:V.category}),V.labName&&r.jsxs("p",{className:"text-xs text-gray-400",children:["From: ",V.labName]})]}),V.price!=null&&r.jsxs("div",{className:"text-sm font-medium text-gray-800",children:[V.price," ",V.currency||"INR"]})]})},V.id||V.name)),Se.length===0&&d.length>=2&&r.jsx("div",{className:"px-4 py-3 border-t border-gray-100",children:r.jsxs("button",{type:"button",onClick:()=>pe(d),className:"w-full text-left px-3 py-2 bg-yellow-50 text-yellow-900 rounded-md",children:['Add "',d,'" as external lab test']})})]})]}),q.length>0?r.jsx("div",{className:"space-y-3",children:q.map((V,fe)=>r.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"font-medium text-gray-900",children:V.name})}),r.jsx("input",{...j(`labTests.${fe}.instructions`),placeholder:"Special instructions...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),r.jsxs("label",{className:"inline-flex items-center ml-3",children:[r.jsx("input",{type:"checkbox",...j(`labTests.${fe}.isExternal`),className:"form-checkbox h-4 w-4 text-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Patient will buy externally"})]}),r.jsx("button",{type:"button",onClick:()=>B(fe),className:"p-2 text-red-500 hover:bg-red-50 rounded transition-colors",children:r.jsx(Fl,{size:14})})]},V.id))}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Il,{className:"text-3xl text-gray-300 mx-auto mb-2"}),r.jsx("p",{children:"No lab tests added. Search above to add tests."})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-4",children:[r.jsx(ps,{type:"button",variant:"secondary",onClick:()=>e(-1),children:"Cancel"}),r.jsx(ps,{type:"submit",iconLeft:jn,iconRight:Ll,loading:Ee.isPending,children:"Save & Print"})]}),Ee.isError&&r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-red-700",children:"Failed to create prescription. Please try again."})})]})]})})}const ZK=Object.freeze(Object.defineProperty({__proto__:null,default:sy},Symbol.toStringTag,{value:"Module"})),Rs={getProducts:async(e={})=>(await ee.get("/pharmacy/products",{params:e})).data,getProduct:async e=>(await ee.get(`/pharmacy/products/${e}`)).data,createProduct:async e=>(await ee.post("/pharmacy/products",e)).data,updateProduct:async(e,t)=>(await ee.put(`/pharmacy/products/${e}`,t)).data,updateStock:async(e,t)=>{const s={quantity:t.quantity,type:t.type,notes:t.notes};return t.expiryDate&&(s.expiryDate=t.expiryDate),t.batchNumber&&(s.batchNumber=t.batchNumber),t.costPrice!==void 0&&t.costPrice!==null&&t.costPrice!==""&&(s.costPrice=t.costPrice),t.reference&&(s.reference=t.reference),t.creditAccountName&&(s.creditAccountName=t.creditAccountName),(await ee.post(`/pharmacy/products/${e}/stock`,s)).data},getLowStock:async(e=null)=>{const t=e?{threshold:e}:{};return(await ee.get("/pharmacy/low-stock",{params:t})).data},getStockHistory:async(e={})=>(await ee.get("/pharmacy/stock-history",{params:e})).data,getBatches:async e=>(await ee.get(`/pharmacy/products/${e}/batches`)).data,downloadOpeningStockTemplate:async()=>(await ee.get("/pharmacy/stock/opening-import/template",{responseType:"blob"})).data,importOpeningStock:async(e,t={})=>{const s={};return typeof t.dryRun<"u"&&(s.dryRun=t.dryRun),t.openingDate&&(s.openingDate=t.openingDate),t.creditAccountName&&(s.creditAccountName=t.creditAccountName),(await ee.post("/pharmacy/stock/opening-import",e,{params:s,headers:{"Content-Type":"multipart/form-data"}})).data}},eQ=[{id:"all",label:"All Products"},{id:"lowStock",label:"Low Stock"},{id:"expiring",label:"Expiring Soon"}];function ak(){var ae,Ae;const e=Ht(),t=yn(),[s,n]=x.useState("all"),[i,a]=x.useState(""),[o,l]=x.useState(1),[c,d]=x.useState(!1),[u,h]=x.useState(!1),[m,f]=x.useState(!1),[g,p]=x.useState(null),v=10,{register:b,handleSubmit:y,reset:w,setValue:j,watch:N,formState:{errors:S}}=Vt({defaultValues:{name:"",sku:"",genericName:"",category:"",unit:"units",price:"",costPrice:"",stock:"0",creditAccountName:"Inventory Adjustment",minStock:"10",expiryDate:""}}),{register:P,handleSubmit:C,reset:F,watch:T,formState:{errors:te}}=Vt({defaultValues:{quantity:"",costPrice:"",creditAccountName:"Inventory Adjustment",reference:"",notes:"",expiryDate:"",batchNumber:""}}),{data:A,isLoading:q}=Te({queryKey:["products",s,o,v,i],queryFn:()=>{const R={page:o,limit:v,search:i};return s==="lowStock"?R.stockStatus="low":s==="expiring"&&(R.expiringWithin=30),Rs.getProducts(R)},placeholderData:R=>R}),z=(A==null?void 0:A.data)||[],B=((ae=A==null?void 0:A.pagination)==null?void 0:ae.totalPages)||1,_=((Ae=A==null?void 0:A.pagination)==null?void 0:Ae.total)||0,$=We({mutationFn:R=>Rs.createProduct(R),onSuccess:()=>{X.success("Product added successfully"),e.invalidateQueries(["products"]),d(!1),w()},onError:R=>{var Ie,$e;X.error((($e=(Ie=R.response)==null?void 0:Ie.data)==null?void 0:$e.message)||"Failed to add product")}}),M=We({mutationFn:({id:R,data:Ie})=>Rs.updateProduct(R,Ie),onSuccess:()=>{X.success("Product updated successfully"),e.invalidateQueries(["products"]),h(!1),p(null),w()},onError:R=>{var Ie,$e;X.error((($e=(Ie=R.response)==null?void 0:Ie.data)==null?void 0:$e.message)||"Failed to update product")}}),D=We({mutationFn:R=>Rs.updateStock(R.id,R),onSuccess:()=>{X.success("Stock updated successfully"),e.invalidateQueries(["products"]),f(!1),p(null),F()},onError:R=>{var Ie,$e;X.error((($e=(Ie=R.response)==null?void 0:Ie.data)==null?void 0:$e.message)||"Failed to update stock")}}),J=We({mutationFn:R=>Rs.updateProduct(R,{isActive:!1}),onSuccess:()=>{X.success("Product deleted successfully"),e.invalidateQueries(["products"])},onError:R=>{var Ie,$e;X.error((($e=(Ie=R.response)==null?void 0:Ie.data)==null?void 0:$e.message)||"Failed to delete product")}}),K=R=>{a(R.target.value),l(1)},ce=R=>{n(R),l(1)},U=R=>{$.mutate({code:R.sku||void 0,name:R.name,genericName:R.genericName,category:R.category,mrp:parseFloat(R.price),sellingPrice:parseFloat(R.price),purchasePrice:R.costPrice?parseFloat(R.costPrice):void 0,quantity:parseInt(R.stock)||0,creditAccountName:R.creditAccountName||"Inventory Adjustment",minStock:R.minStock?parseInt(R.minStock):10,unit:R.unit||"pcs",expiryDate:R.expiryDate||void 0})},le=R=>{g&&M.mutate({id:g.id,data:{name:R.name,genericName:R.genericName,category:R.category,mrp:parseFloat(R.price),sellingPrice:parseFloat(R.price),purchasePrice:R.costPrice?parseFloat(R.costPrice):void 0,minStock:R.minStock?parseInt(R.minStock):10,unit:R.unit||"pcs",expiryDate:R.expiryDate||void 0}})},re=R=>{p(R),j("name",R.name),j("sku",R.code),j("genericName",R.genericName||""),j("category",R.category||""),j("price",R.sellingPrice||R.mrp||""),j("costPrice",R.purchasePrice||""),j("minStock",R.minStock||10),j("unit",R.unit||"pcs"),j("expiryDate",R.expiryDate?R.expiryDate.split("T")[0]:""),h(!0)},ie=R=>{g&&D.mutate({id:g.id,quantity:parseInt(R.quantity),type:"PURCHASE",notes:R.notes,reference:R.reference||void 0,costPrice:Number(R.costPrice),creditAccountName:R.creditAccountName||"Inventory Adjustment",expiryDate:R.expiryDate||void 0,batchNumber:R.batchNumber||void 0})},Y=R=>{p(R),F({quantity:"",costPrice:R.purchasePrice?String(R.purchasePrice):"",creditAccountName:"Inventory Adjustment",reference:"",notes:"",expiryDate:"",batchNumber:""}),f(!0)},[oe,Se]=x.useState(!1),[je,ne]=x.useState([]),[ke,Ee]=x.useState(!1),[Ue,se]=x.useState(!1),[me,W]=x.useState(null),[pe,Ce]=x.useState(new Date().toISOString().slice(0,10)),[_e,I]=x.useState("Opening Stock Adjustment"),[k,G]=x.useState(null),[ge,O]=x.useState([]),E=We({mutationFn:async({dryRun:R})=>{if(!me)throw new Error("Please choose a CSV file");const Ie=new FormData;return Ie.append("file",me),Rs.importOpeningStock(Ie,{dryRun:R,openingDate:pe,creditAccountName:_e})},onSuccess:async(R,Ie)=>{G((R==null?void 0:R.summary)||null),O((R==null?void 0:R.errors)||[]),Ie.dryRun?((R==null?void 0:R.errors)||[]).length===0?X.success("Validation successful. You can import now."):X.error("Validation found issues. Please fix the CSV and retry."):(X.success("Opening stock imported successfully"),e.invalidateQueries(["products"]),e.invalidateQueries(["dashboardStats"]),se(!1),W(null),G(null),O([]))},onError:R=>{var Ie,$e;X.error((($e=(Ie=R==null?void 0:R.response)==null?void 0:Ie.data)==null?void 0:$e.message)||(R==null?void 0:R.message)||"Opening stock import failed")}}),Q=async()=>{try{const R=await Rs.downloadOpeningStockTemplate(),Ie=window.URL.createObjectURL(R),$e=document.createElement("a");$e.href=Ie,$e.download="opening_stock_import_sample.csv",document.body.appendChild($e),$e.click(),$e.remove(),window.URL.revokeObjectURL(Ie)}catch{X.error("Failed to download template")}},V=async R=>{p(R),Se(!0),Ee(!0);try{const Ie=await Rs.getBatches(R.id);ne(Ie.data||[])}catch{ne([])}finally{Ee(!1)}},fe=R=>{window.confirm(`Are you sure you want to delete "${R.name}"?`)&&J.mutate(R.id)},be=R=>R?new Date(R).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",Fe=R=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(R||0),Z=R=>R.quantity<(R.minStock||10),he=R=>{if(!R.expiryDate)return!1;const Ie=new Date(R.expiryDate),$e=new Date;return $e.setDate($e.getDate()+30),Ie<=$e},ye=Number(N("stock")||0),we=Number(N("costPrice")||0),Be=ye>0&&we>0?ye*we:0;return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pharmacy"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Manage inventory and stock levels"})]}),r.jsxs("div",{className:"flex gap-2",children:[st("pharmacy:create",["SUPER_ADMIN","DOCTOR","PHARMACIST"])&&r.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[r.jsx(Js,{}),"Add Product"]}),st("purchases:create",["SUPER_ADMIN","ACCOUNTANT","PHARMACIST"])&&r.jsxs("button",{type:"button",onClick:()=>t("/pharmacy/upload"),className:"inline-flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-indigo-700 transition",children:[r.jsx(N0,{}),"Upload Invoice"]}),st("pharmacy:create",["SUPER_ADMIN","DOCTOR","PHARMACIST"])&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onClick:Q,className:"inline-flex items-center justify-center gap-2 bg-slate-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-slate-700 transition",children:"Download Import Template"}),r.jsx("button",{type:"button",onClick:()=>se(!0),className:"inline-flex items-center justify-center gap-2 bg-violet-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-violet-700 transition",children:"Import Opening Stock"})]}),st("purchases:read",["SUPER_ADMIN","ACCOUNTANT","PHARMACIST"])&&r.jsx("button",{type:"button",onClick:()=>t("/pharmacy/purchases"),className:"inline-flex items-center justify-center gap-2 bg-gray-700 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-gray-800 transition",children:"Draft Purchase"}),st("purchases:read",["SUPER_ADMIN","ACCOUNTANT","PHARMACIST"])&&r.jsx("button",{type:"button",onClick:()=>t("/pharmacy/suppliers"),className:"inline-flex items-center justify-center gap-2 bg-teal-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-teal-700 transition",children:"Suppliers"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[r.jsx("div",{className:"flex border-b border-gray-100",children:eQ.map(R=>r.jsxs("button",{onClick:()=>ce(R.id),className:`flex-1 px-4 py-3 text-sm font-medium transition ${s===R.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[R.label,R.id==="lowStock"&&r.jsx("span",{className:"ml-2 bg-red-100 text-red-600 px-2 py-0.5 rounded-full text-xs",children:"!"}),R.id==="expiring"&&r.jsx("span",{className:"ml-2 bg-yellow-100 text-yellow-600 px-2 py-0.5 rounded-full text-xs",children:r.jsx(Or,{className:"inline w-3 h-3"})})]},R.id))}),r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:i,onChange:K,placeholder:"Search by product name or code...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:q?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):z.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(N0,{className:"text-4xl mb-4"}),r.jsx("p",{className:"font-medium",children:"No products found"}),r.jsx("p",{className:"text-sm mt-1",children:i?"Try adjusting your search":"Add your first product to get started"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Code"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stock"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"MRP"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Expiry"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:z.map(R=>r.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-mono text-gray-600",children:R.code||"-"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.name}),R.category&&r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:R.category})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`text-sm font-medium ${Z(R)?"text-red-600":"text-gray-900"}`,children:[R.quantity," ",R.unit||"units"]}),Z(R)&&r.jsx(UP,{className:"text-red-500 text-xs"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900",children:Fe(R.sellingPrice||R.mrp)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`text-sm ${he(R)?"text-yellow-600 font-medium":"text-gray-600"}`,children:be(R.expiryDate)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsxs("button",{onClick:()=>Y(R),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 transition",children:[r.jsx(Js,{className:"text-xs"}),"Stock"]}),r.jsxs("button",{onClick:()=>V(R),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-gray-50 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-100 transition",children:[r.jsx(N0,{className:"text-xs"}),"Batches"]}),r.jsx("button",{onClick:()=>re(R),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",children:r.jsx(yu,{})}),r.jsx("button",{onClick:()=>fe(R),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition",children:r.jsx(Fl,{})})]})})]},R.id))})]})}),r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing"," ",r.jsx("span",{className:"font-medium",children:(o-1)*v+1})," ","to"," ",r.jsx("span",{className:"font-medium",children:Math.min(o*v,_)})," ","of ",r.jsx("span",{className:"font-medium",children:_})," products"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>l(R=>Math.max(1,R-1)),disabled:o===1,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition",children:r.jsx(yi,{className:"text-gray-600"})}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",o," of ",B]}),r.jsx("button",{onClick:()=>l(R=>Math.min(B,R+1)),disabled:o===B,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition",children:r.jsx(bi,{className:"text-gray-600"})})]})]})]})})]}),r.jsx(At,{isOpen:c,onClose:()=>{d(!1),w()},title:"Add New Product",size:"lg",children:r.jsxs("form",{onSubmit:y(U),className:"space-y-4",children:[r.jsxs("div",{className:"rounded-xl border border-blue-100 bg-blue-50 p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Product Master + Opening Stock"}),r.jsx("p",{className:"text-xs text-blue-800 mt-1",children:"If opening stock is entered, ledger will auto-post: Dr Inventory / Cr selected account."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Product Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{...b("name",{required:"Product name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter product name"}),S.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:S.name.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU / Code"}),r.jsx("input",{...b("sku"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter SKU or product code"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Generic Name"}),r.jsx("input",{...b("genericName"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter generic name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsxs("select",{...b("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select category"}),r.jsx("option",{value:"Tablets",children:"Tablets"}),r.jsx("option",{value:"Capsules",children:"Capsules"}),r.jsx("option",{value:"Syrups",children:"Syrups"}),r.jsx("option",{value:"Injections",children:"Injections"}),r.jsx("option",{value:"Drops",children:"Drops"}),r.jsx("option",{value:"Ointments",children:"Ointments"}),r.jsx("option",{value:"Supplies",children:"Supplies"}),r.jsx("option",{value:"Equipment",children:"Equipment"}),r.jsx("option",{value:"Other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),r.jsxs("select",{...b("unit"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"units",children:"Units"}),r.jsx("option",{value:"strips",children:"Strips"}),r.jsx("option",{value:"bottles",children:"Bottles"}),r.jsx("option",{value:"boxes",children:"Boxes"}),r.jsx("option",{value:"packs",children:"Packs"}),r.jsx("option",{value:"ml",children:"ML"}),r.jsx("option",{value:"gm",children:"GM"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["MRP () ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",step:"0.01",...b("price",{required:"MRP is required",min:{value:.01,message:"MRP must be greater than 0"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}),S.price&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:S.price.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Price ()"}),r.jsx("input",{type:"number",step:"0.01",...b("costPrice",{validate:R=>Number(N("stock")||0)>0&&(!R||Number(R)<=0)?"Cost price is required when opening stock is entered":!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}),S.costPrice&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:S.costPrice.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Initial Stock"}),r.jsx("input",{type:"number",...b("stock",{min:{value:0,message:"Initial stock cannot be negative"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",defaultValue:0}),S.stock&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:S.stock.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opening Stock Credit Account"}),r.jsx("input",{...b("creditAccountName",{validate:R=>Number(N("stock")||0)>0&&!String(R||"").trim()?"Credit account is required when opening stock is entered":!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Inventory Adjustment"}),S.creditAccountName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:S.creditAccountName.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Stock Level"}),r.jsx("input",{type:"number",...b("minStock"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"10"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manufacturer"}),r.jsx("input",{...b("manufacturer"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter manufacturer name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",...b("expiryDate"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3 text-sm",children:[r.jsx("p",{className:"font-medium text-gray-800 mb-1",children:"Opening Stock Ledger Preview"}),r.jsxs("p",{className:"text-gray-600",children:["Quantity: ",ye||0]}),r.jsxs("p",{className:"text-gray-600",children:["Unit Cost: ",Fe(we||0)]}),r.jsxs("p",{className:"text-gray-600",children:["Amount: ",Fe(Be||0)]}),r.jsxs("p",{className:"text-gray-600",children:["Posting: Dr Inventory / Cr ",N("creditAccountName")||"Inventory Adjustment"]})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",...b("requiresPrescription"),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Requires Prescription"})]})}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[r.jsx("button",{type:"button",onClick:()=>{d(!1),w()},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:$.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:$.isPending?"Adding...":"Add Product"})]})]})}),r.jsx(At,{isOpen:m,onClose:()=>{f(!1),p(null),F()},title:"Add Stock (Auto Ledger Entry)",size:"lg",children:g&&r.jsxs("form",{onSubmit:C(ie),className:"space-y-4",children:[r.jsxs("div",{className:"rounded-xl border border-blue-100 bg-blue-50 p-4",children:[r.jsx("p",{className:"font-semibold text-blue-900",children:g.name}),r.jsxs("p",{className:"text-sm text-blue-800 mt-1",children:["Current Stock: ",g.quantity," ",g.unit||"units"]}),r.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Saving this form will always create ledger entry: Dr Inventory / Cr selected account."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity to Add ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",...P("quantity",{required:"Quantity is required",min:{value:1,message:"Quantity must be at least 1"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Enter quantity in ${g.unit||"units"}`}),te.quantity&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:te.quantity.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit Cost (INR) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",step:"0.01",...P("costPrice",{required:"Unit cost is required",min:{value:.01,message:"Unit cost must be greater than 0"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}),te.costPrice&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:te.costPrice.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Credit Account ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{...P("creditAccountName",{required:"Credit account is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Inventory Adjustment"}),te.creditAccountName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:te.creditAccountName.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference (Invoice/Purchase ID)"}),r.jsx("input",{...P("reference"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional reference"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch Number"}),r.jsx("input",{...P("batchNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional batch number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",...P("expiryDate"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{...P("notes"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Reason or remarks for stock addition"})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-3 text-sm",children:[r.jsx("p",{className:"font-medium text-gray-800 mb-1",children:"Ledger Preview"}),r.jsxs("p",{className:"text-gray-600",children:["New Stock: ",Number(g.quantity||0)+Number(T("quantity")||0)," ",g.unit||"units"]}),r.jsxs("p",{className:"text-gray-600",children:["Amount: ",Fe(Number(T("quantity")||0)*Number(T("costPrice")||0)||0)]}),r.jsxs("p",{className:"text-gray-600",children:["Dr Inventory / Cr ",T("creditAccountName")||"Inventory Adjustment"]})]}),r.jsxs("div",{className:"flex justify-end items-center gap-3 pt-4 border-t border-gray-100",children:[r.jsx("button",{type:"button",onClick:()=>{f(!1),p(null),F()},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:D.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:D.isPending?"Posting...":"Add Stock + Post Ledger"})]})]})}),r.jsx(At,{isOpen:oe,onClose:()=>{Se(!1),p(null),ne([])},title:`Batches  ${(g==null?void 0:g.name)||""}`,size:"md",children:ke?r.jsx("div",{className:"py-6 text-center text-gray-500",children:"Loading batches"}):je.length===0?r.jsx("div",{className:"py-6 text-center text-gray-500",children:"No batches found for this product."}):r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"text-xs text-gray-500 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-2",children:"Batch"}),r.jsx("th",{className:"text-left p-2",children:"Expiry"}),r.jsx("th",{className:"text-right p-2",children:"Qty"}),r.jsx("th",{className:"text-right p-2",children:"Cost"})]})}),r.jsx("tbody",{children:je.map(R=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"p-2",children:R.batchNumber||"-"}),r.jsx("td",{className:"p-2",children:R.expiryDate?new Date(R.expiryDate).toLocaleDateString("en-GB"):"-"}),r.jsx("td",{className:"p-2 text-right",children:R.quantity}),r.jsx("td",{className:"p-2 text-right",children:Fe(R.costPrice)})]},R.id))})]})})}),r.jsx(At,{isOpen:Ue,onClose:()=>{se(!1),G(null),O([])},title:"Import Opening Stock",size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Upload the CSV or XLSX template to bulk add existing stock at clinic onboarding. This creates one consolidated ledger entry: Debit ",r.jsx("strong",{children:"Inventory"}),", Credit ",r.jsx("strong",{children:_e||"Opening Stock Adjustment"}),"."]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opening Date"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",value:pe,onChange:R=>Ce(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credit Account"}),r.jsx("input",{value:_e,onChange:R=>I(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Opening Stock Adjustment"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CSV or XLSX File"}),r.jsx("input",{type:"file",accept:".csv,text/csv,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:R=>{var Ie;return W(((Ie=R.target.files)==null?void 0:Ie[0])||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),k&&r.jsxs("div",{className:"p-3 rounded border bg-gray-50 text-sm",children:[r.jsxs("div",{children:["Rows: ",r.jsx("strong",{children:k.rows||0})]}),r.jsxs("div",{children:["Total Stock Value: ",r.jsx("strong",{children:Fe(k.totalStockValue||0)})]}),k.ledgerPreview&&r.jsxs("div",{className:"text-gray-600 mt-1",children:["Ledger Preview: Dr ",k.ledgerPreview.debitAccount," / Cr ",k.ledgerPreview.creditAccount]}),k.ledgerPosted&&r.jsxs("div",{className:"text-gray-600 mt-1",children:["Ledger Posted: Dr ",k.ledgerPosted.debitAccount," / Cr ",k.ledgerPosted.creditAccount]})]}),ge.length>0&&r.jsx("div",{className:"p-3 rounded border border-red-200 bg-red-50 text-sm text-red-700 max-h-40 overflow-auto",children:ge.map((R,Ie)=>r.jsxs("div",{children:[R.sheet?`Sheet ${R.sheet}, `:"","Line ",R.line,": ",R.field," - ",R.message]},`${R.line}-${R.field}-${Ie}`))}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2 border-t border-gray-100",children:[r.jsx("button",{type:"button",onClick:()=>se(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"button",disabled:E.isPending||!me,onClick:()=>E.mutate({dryRun:!0}),className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition disabled:opacity-50",children:E.isPending?"Validating...":"Validate File"}),r.jsx("button",{type:"button",disabled:E.isPending||!me,onClick:()=>E.mutate({dryRun:!1}),className:"px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition disabled:opacity-50",children:E.isPending?"Importing...":"Import Stock"})]})]})}),r.jsx(At,{isOpen:u,onClose:()=>{h(!1),p(null),w()},title:"Edit Product",size:"lg",children:r.jsxs("form",{onSubmit:y(le),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Product Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{...b("name",{required:"Product name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter product name"}),S.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:S.name.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU / Code"}),r.jsx("input",{...b("sku"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100",placeholder:"SKU",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Generic Name"}),r.jsx("input",{...b("genericName"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter generic name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsxs("select",{...b("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select category"}),r.jsx("option",{value:"Tablets",children:"Tablets"}),r.jsx("option",{value:"Capsules",children:"Capsules"}),r.jsx("option",{value:"Syrups",children:"Syrups"}),r.jsx("option",{value:"Injections",children:"Injections"}),r.jsx("option",{value:"Drops",children:"Drops"}),r.jsx("option",{value:"Ointments",children:"Ointments"}),r.jsx("option",{value:"Supplies",children:"Supplies"}),r.jsx("option",{value:"Equipment",children:"Equipment"}),r.jsx("option",{value:"Other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),r.jsxs("select",{...b("unit"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"units",children:"Units"}),r.jsx("option",{value:"strips",children:"Strips"}),r.jsx("option",{value:"bottles",children:"Bottles"}),r.jsx("option",{value:"boxes",children:"Boxes"}),r.jsx("option",{value:"packs",children:"Packs"}),r.jsx("option",{value:"ml",children:"ML"}),r.jsx("option",{value:"gm",children:"GM"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["MRP () ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",step:"0.01",...b("price",{required:"MRP is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"}),S.price&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:S.price.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Price ()"}),r.jsx("input",{type:"number",step:"0.01",...b("costPrice"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Stock Level"}),r.jsx("input",{type:"number",...b("minStock"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"10"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",...b("expiryDate"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[r.jsx("button",{type:"button",onClick:()=>{h(!1),p(null),w()},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:M.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:M.isPending?"Saving...":"Save Changes"})]})]})})]})}const tQ=Object.freeze(Object.defineProperty({__proto__:null,default:ak},Symbol.toStringTag,{value:"Module"})),Kt={uploadInvoice:(e,t={})=>ee.post("/purchases/upload",e,{headers:{"Content-Type":"multipart/form-data"},...t}),getUpload:e=>ee.get(`/purchases/upload/${e}`),cancelUpload:e=>ee.post(`/purchases/upload/${e}/cancel`),createFromUpload:(e,t)=>ee.post(`/purchases/from-upload/${e}`,t),receivePurchase:e=>ee.post(`/purchases/${e}/receive`),returnPurchase:(e,t)=>ee.post(`/purchases/${e}/return`,t),getSuppliers:e=>ee.get(`/purchases/suppliers?q=${encodeURIComponent(e||"")}`).then(t=>{var s;return((s=t==null?void 0:t.data)==null?void 0:s.data)||(t==null?void 0:t.data)||t}),createSupplier:e=>ee.post("/purchases/suppliers",e).then(t=>{var s;return((s=t==null?void 0:t.data)==null?void 0:s.data)||(t==null?void 0:t.data)||t}),getSupplier:e=>ee.get(`/purchases/suppliers/${e}`).then(t=>{var s;return((s=t==null?void 0:t.data)==null?void 0:s.data)||(t==null?void 0:t.data)||t}),updateSupplier:(e,t)=>ee.put(`/purchases/suppliers/${e}`,t).then(s=>{var n;return((n=s==null?void 0:s.data)==null?void 0:n.data)||(s==null?void 0:s.data)||s}),deleteSupplier:e=>ee.delete(`/purchases/suppliers/${e}`).then(t=>(t==null?void 0:t.data)||t),createManualPurchase:e=>ee.post("/ledger/manual-purchase",e),getPurchases:(e={})=>ee.get("/purchases",{params:e}),getPurchase:e=>ee.get(`/purchases/${e}`),updatePurchase:(e,t)=>ee.patch(`/purchases/${e}`,t),deletePurchase:e=>ee.delete(`/purchases/${e}`).then(t=>(t==null?void 0:t.data)||t),getSupplier:e=>ee.get(`/purchases/suppliers/${e}`)};function sQ(){const[e,t]=x.useState(null),[s,n]=x.useState(null),[i,a]=x.useState(null),[o,l]=x.useState(""),[c,d]=x.useState(!0),[u,h]=x.useState(null),[m,f]=x.useState(""),[g,p]=x.useState([]),[v,b]=x.useState(!1),[y,w]=x.useState({}),[j,N]=x.useState(!1),[S,P]=x.useState(!1),[C,F]=x.useState({name:"",code:"",category:"",mrp:0,purchasePrice:0,sellingPrice:0,gstPercent:12,quantity:0,unit:"pcs",expiryDate:"",manufacturer:""}),[T,te]=x.useState(null),[A,q]=x.useState(!1),[z,B]=x.useState({name:"",phone:"",email:"",address:"",gstNumber:"",notes:""}),[_,$]=x.useState({}),[M,D]=x.useState({}),J=x.useRef({}),[K,ce]=x.useState([]),[U,le]=x.useState(""),[re,ie]=x.useState(""),[Y,oe]=x.useState(0),[Se,je]=x.useState(0),[ne,ke]=x.useState(0),[Ee,Ue]=x.useState(!1),[se,me]=x.useState(!1),W=x.useRef(null),pe=x.useRef({intervalId:null,timeoutId:null}),Ce=x.useRef(new Set),_e=We({mutationFn:({form:E,signal:Q})=>Kt.uploadInvoice(E,{signal:Q,timeout:3e5}),onSuccess:E=>{const Q=(E==null?void 0:E.data)||E||{},V=(Q==null?void 0:Q.data)||{},fe=Q.id||V.id||Q.uploadId||V.uploadId||null;n(fe);const be=Q.parsedJson||V.parsedJson||Q.parsed||V.parsed||null;let Fe=null;try{be&&(typeof be=="string"?Fe=JSON.parse(be):Fe=be)}catch{try{Fe=JSON.parse(JSON.stringify(be))}catch{Fe=null}}a(Fe),Fe?me(!1):(X.success("File uploaded. Parsing in background  waiting for results..."),fe&&I(fe))},onError:E=>{const Q=E==null?void 0:E.response;if(Q&&Q.data){const V=Q.data.message||Q.data.error||"Upload failed",fe=Q.data.data||Q.data.record||null;let be=null;try{if(fe&&fe.parsedJson){const Fe=fe.parsedJson;be=typeof Fe=="string"?JSON.parse(Fe):Fe,n(fe.id||s),a(be),X.error(`${V}  parsed preview available for review`);return}}catch{}X.error(V)}else X.error("Upload failed")}}),I=E=>{k(),me(!0);const Q=Date.now(),V=setInterval(async()=>{try{const be=await Kt.getUpload(E),Fe=(be==null?void 0:be.data)||be,Z=(Fe==null?void 0:Fe.data)||Fe;if(!Z)return;const he=Z.status;if(he==="PARSED"&&Z.parsedJson){let ye=null;try{ye=typeof Z.parsedJson=="string"?JSON.parse(Z.parsedJson):Z.parsedJson}catch{ye=null}a(ye),n(E),k(),me(!1);return}if(he==="FAILED"){X.error("Parsing failed on server"),k(),me(!1);return}if(he==="CANCELLED"){X("Upload cancelled"),k(),me(!1);return}if(Date.now()-Q>3e5){X.error("Parsing timed out after 5 minutes"),k(),me(!1);return}}catch(be){console.error("Polling error",be)}},3e3),fe=setTimeout(()=>{k(),me(!1)},305e3);pe.current={intervalId:V,timeoutId:fe}},k=()=>{try{pe.current.intervalId&&clearInterval(pe.current.intervalId),pe.current.timeoutId&&clearTimeout(pe.current.timeoutId)}catch{}pe.current={intervalId:null,timeoutId:null}};We({mutationFn:({id:E,body:Q})=>Kt.createFromUpload(E,Q),onSuccess:async(E,Q)=>{var be,Fe;const V=(E==null?void 0:E.data)||E||{},fe=V||(V==null?void 0:V.data);X.success("Purchase created from upload");try{if((be=Q==null?void 0:Q.body)!=null&&be.createAndReceive){const Z=fe.id||((Fe=fe==null?void 0:fe.data)==null?void 0:Fe.id)||(V==null?void 0:V.id);Z&&(await Kt.receivePurchase(Z),X.success("Purchase published and stock updated"))}}catch{X.error("Created purchase but failed to publish/receive")}window.location.href="/pharmacy/purchases"},onError:()=>X.error("Failed to create purchase")});const G=async()=>{if(!e)return X.error("Select a file");const E=new FormData;if(E.append("file",e),W.current)try{W.current.abort()}catch{}const Q=new AbortController;W.current=Q,me(!0),_e.mutate({form:E,signal:Q.signal},{onSettled:()=>{me(!1),W.current=null}})},ge=async()=>{try{W.current&&W.current.abort()}catch{}if(me(!1),s)try{await Kt.cancelUpload(s),X.success("Upload cancelled")}catch{X.error("Failed to cancel upload on server")}else X("Upload request aborted")};x.useEffect(()=>{var E,Q,V,fe,be,Fe,Z;if(i){ce(i.items&&Array.isArray(i.items)?i.items.map(we=>({name:we.name||we.description||"Item",productId:we.productId||null,quantity:Number(we.quantity||1),unitPrice:Number(we.unitPrice||0),taxAmount:Number(we.taxAmount||0),amount:Number(we.amount||(we.quantity||1)*(we.unitPrice||0)),batchNumber:we.batchNumber||"",expiryDate:we.expiryDate?we.expiryDate.split?we.expiryDate.split("T")[0]:we.expiryDate:""})):[]),le(i.invoiceNo||""),ie(i.invoiceDate?i.invoiceDate.split("T")[0]:""),oe(i.subtotal||((E=i.totals)==null?void 0:E.sub_total)||0);let he=i.taxAmount;if(!he&&Array.isArray(i.tax_summary)&&i.tax_summary.length){const we=i.tax_summary[0];he=Number(we.tax_amount||Number(we.sgst_amount||0)+Number(we.cgst_amount||0)||0)}je(he||0),ke(i.totalAmount||((Q=i.totals)==null?void 0:Q.net_amount)||+(Number(i.subtotal||0)+Number(he||0)).toFixed(2));const ye=((V=i.pharmacy_details)==null?void 0:V.name)||null;ye&&(h({name:ye,phone:((fe=i.pharmacy_details)==null?void 0:fe.phone)||"",email:((be=i.pharmacy_details)==null?void 0:be.email)||"",address:((Fe=i.pharmacy_details)==null?void 0:Fe.address)||"",gstNumber:((Z=i.pharmacy_details)==null?void 0:Z.gstin)||""}),(async()=>{try{const we=await Kt.getSuppliers(ye),Be=(we==null?void 0:we.data)||we;Array.isArray(Be)&&Be.length?d(!0):d(!1)}catch{d(!1)}})())}else ce([]),le(""),ie(""),oe(0),je(0),ke(0)},[i]),x.useEffect(()=>{if(!i)return;const E=s?`draft-purchase-ready-${s}`:`draft-purchase-ready-${Date.now()}`;Ce.current.has(E)||(Ce.current.add(E),Pc.add({id:E,title:"Draft Purchase Ready",message:i!=null&&i.invoiceNo?`Invoice ${i.invoiceNo} is ready for review.`:"A draft purchase is ready for review.",path:"/pharmacy/purchases",type:"purchase",unread:!0}))},[i,s]),x.useEffect(()=>{i&&X.success(E=>r.jsx("div",{className:"cursor-pointer",onClick:()=>{window.location.href="/pharmacy/purchases",X.dismiss(E.id)},children:"Draft purchase ready for invoice  check the draft purchase list"}),{duration:8e3})},[i]),x.useEffect(()=>{if(!m||m.length<2){p([]);return}b(!0);const E=setTimeout(()=>{Kt.getSuppliers(m).then(Q=>{const V=Q.data||Q;p(Array.isArray(V)?V:[])}).catch(()=>p([])).finally(()=>b(!1))},350);return()=>clearTimeout(E)},[m]),x.useEffect(()=>()=>{k();try{W.current&&W.current.abort()}catch{}},[]);const O=(E,Q,V)=>{ce(fe=>{const be=[...fe];be[E]={...be[E],[Q]:V};const Fe=Number(be[E].quantity||0),Z=Number(be[E].unitPrice||0);be[E].amount=+(Fe*Z).toFixed(2);const he=be.reduce((ye,we)=>ye+(Number(we.amount)||0),0);if(oe(he),ke(+(he+Number(Se||0)).toFixed(2)),Q==="name"){const ye=(V||"").toString();J.current[E]&&clearTimeout(J.current[E]),ye.length>=2?(D(we=>({...we,[E]:!0})),J.current[E]=setTimeout(async()=>{try{const we=await Rs.getProducts({search:ye,limit:10}),Be=we.data||we;$(ae=>({...ae,[E]:Array.isArray(Be)?Be:[]}))}catch{$(Be=>({...Be,[E]:[]}))}finally{D(we=>({...we,[E]:!1}))}},300)):($(we=>({...we,[E]:[]})),D(we=>({...we,[E]:!1})),J.current[E]&&(clearTimeout(J.current[E]),delete J.current[E]))}return be})};return r.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm",children:[r.jsx("h2",{className:"text-lg font-medium mb-4",children:"Upload Purchase Invoice"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("input",{type:"file",onChange:E=>t(E.target.files[0])}),r.jsx("div",{className:"text-xs text-gray-600 mt-2",children:"Note: Invoice scanning can take a few minutes. Please wait until parsing completes."})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ps,{onClick:G,loading:_e.isLoading||se,children:"Upload & Parse"}),(_e.isLoading||se)&&r.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded text-sm",onClick:ge,children:"Cancel Upload"})]}),r.jsx(ps,{variant:"secondary",onClick:()=>t(null),children:"Reset"})]}),S&&r.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-96",children:[r.jsx("h3",{className:"text-lg font-medium mb-3",children:"Create Product"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Name",value:C.name,onChange:E=>F(Q=>({...Q,name:E.target.value}))}),r.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Code / SKU",value:C.code,onChange:E=>F(Q=>({...Q,code:E.target.value}))}),r.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Category",value:C.category,onChange:E=>F(Q=>({...Q,category:E.target.value}))}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx("input",{type:"number",min:"0",step:"0.01",className:"p-2 border rounded",placeholder:"MRP",value:C.mrp,onChange:E=>F(Q=>({...Q,mrp:Number(E.target.value)}))}),r.jsx("input",{type:"number",min:"0",step:"0.01",className:"p-2 border rounded",placeholder:"Purchase Price",value:C.purchasePrice,onChange:E=>F(Q=>({...Q,purchasePrice:Number(E.target.value)}))}),r.jsx("input",{type:"number",min:"0",step:"0.01",className:"p-2 border rounded",placeholder:"Selling Price",value:C.sellingPrice,onChange:E=>F(Q=>({...Q,sellingPrice:Number(E.target.value)}))})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx("input",{type:"number",min:"0",className:"p-2 border rounded",placeholder:"GST %",value:C.gstPercent,onChange:E=>F(Q=>({...Q,gstPercent:Number(E.target.value)}))}),r.jsx("input",{type:"number",min:"0",className:"p-2 border rounded",placeholder:"Quantity",value:C.quantity,onChange:E=>F(Q=>({...Q,quantity:Number(E.target.value)}))}),r.jsx("input",{className:"p-2 border rounded",placeholder:"Unit",value:C.unit,onChange:E=>F(Q=>({...Q,unit:E.target.value}))})]}),r.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Manufacturer",value:C.manufacturer,onChange:E=>F(Q=>({...Q,manufacturer:E.target.value}))}),r.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Expiry Date",type:"date",lang:"en-GB",value:C.expiryDate,onChange:E=>F(Q=>({...Q,expiryDate:E.target.value}))})]}),r.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[r.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>{P(!1),te(null)},children:"Cancel"}),r.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",disabled:j,onClick:async()=>{try{N(!0);const E={code:C.code,name:C.name,genericName:"",manufacturer:C.manufacturer,category:C.category,mrp:C.mrp,purchasePrice:C.purchasePrice,sellingPrice:C.sellingPrice,gstPercent:C.gstPercent,quantity:C.quantity,unit:C.unit,batchNumber:null,expiryDate:C.expiryDate||null},Q=await Rs.createProduct(E),V=Q.data||Q,fe=V||(V==null?void 0:V.data);T!==null&&(O(T,"productId",fe.id||(fe==null?void 0:fe.id)),O(T,"name",fe.name||C.name),O(T,"unitPrice",fe.purchasePrice||fe.sellingPrice||0)),X.success("Product created"),P(!1),te(null)}catch{X.error("Failed to create product")}finally{N(!1)}},children:"Create Product"})]})]})})]})}const wn={getEntries:(e={})=>ee.get("/ledger",{params:e}),getSummary:(e={})=>ee.get("/ledger/summary",{params:e}),getAccounts:e=>ee.get("/accounts",{params:{q:e}}),createAccount:e=>ee.post("/accounts",e),getDetail:e=>ee.get(`/ledger/${e}`),exportEntries:(e={})=>ee.get("/ledger/export",{params:e,responseType:"blob"}),createManualEntry:e=>ee.post("/ledger/manual",e),createManualPurchase:e=>ee.post("/ledger/manual/purchase",e)};function ok(){var Na,_t,kt,wi;const[e,t]=x.useState(1),[s]=x.useState(20),[n,i]=x.useState({account:"",type:"",refType:"",from:"",to:""}),[a,o]=x.useState(!1),[l,c]=x.useState(""),[d,u]=x.useState(!1),[h,m]=x.useState(""),f=st("ledger:create",["ADMIN","SUPER_ADMIN"]),g=st("ledger:create"),p=yn(),[v,b]=x.useState(!1),[y,w]=x.useState(""),[j,N]=x.useState(""),[S,P]=x.useState(""),[C,F]=x.useState(""),[T,te]=x.useState(""),[A,q]=x.useState("JOURNAL"),[z,B]=x.useState(""),[_,$]=x.useState(""),[M,D]=x.useState([]),[J,K]=x.useState(null),[ce,U]=x.useState(!1),[le,re]=x.useState(""),[ie,Y]=x.useState(""),[oe,Se]=x.useState([]),[je,ne]=x.useState(""),[ke,Ee]=x.useState([]),[Ue,se]=x.useState(!1),[me,W]=x.useState({name:"",mrp:"",purchasePrice:"",sellingPrice:"",gstPercent:""}),[pe,Ce]=x.useState(""),[_e,I]=x.useState(""),[k,G]=x.useState([]),[ge,O]=x.useState(null),[E,Q]=x.useState(""),[V,fe]=x.useState([]),[be,Fe]=x.useState(null);x.useEffect(()=>{if(!_e){G([]);return}const ve=setTimeout(async()=>{var tt;try{const ft=((tt=(await wn.getAccounts(_e)).data)==null?void 0:tt.data)||[];G(ft)}catch{G([])}},250);return()=>clearTimeout(ve)},[_e]),x.useEffect(()=>{if(!E){fe([]);return}const ve=setTimeout(async()=>{var tt;try{const ft=((tt=(await wn.getAccounts(E)).data)==null?void 0:tt.data)||[];fe(ft)}catch{fe([])}},250);return()=>clearTimeout(ve)},[E]),x.useEffect(()=>{if(!je)return Ee([]);const ve=setTimeout(async()=>{var tt;try{const He=await Rs.getProducts({search:je,limit:10}),ft=((tt=He==null?void 0:He.data)==null?void 0:tt.data)||(He==null?void 0:He.data)||[];Ee(ft)}catch{Ee([])}},250);return()=>clearTimeout(ve)},[je]),x.useEffect(()=>{if(!_)return D([]);const ve=setTimeout(async()=>{var tt;try{const He=await Kt.getSuppliers(_),ft=((tt=He==null?void 0:He.data)==null?void 0:tt.data)||(He==null?void 0:He.data)||[];D(ft)}catch{D([])}},250);return()=>clearTimeout(ve)},[_]);const{data:Z,isLoading:he,refetch:ye}=Te({queryKey:["ledger",e,s,n],queryFn:()=>wn.getEntries({page:e,limit:s,...n}),keepPreviousData:!0}),{data:we,isLoading:Be,refetch:ae}=Te({queryKey:["ledgerSummary",n],queryFn:()=>wn.getSummary(n)}),Ae=Z==null?void 0:Z.data,R=(Ae==null?void 0:Ae.data)||[],Ie=(Ae==null?void 0:Ae.pagination)||{page:1,total:0,totalPages:0},$e=(ve,tt)=>i(He=>({...He,[ve]:tt})),Hs=()=>{t(1),ye(),ae()},Jl=async()=>{var ve,tt;if(!n.from||!n.to){X.error("Select both From and To dates for export");return}if(new Date(n.from)>new Date(n.to)){X.error("From date cannot be after To date");return}try{o(!0);const He=await wn.exportEntries({from:n.from,to:n.to,account:n.account||void 0,type:n.type||void 0}),ft=new Blob([He.data],{type:"text/csv;charset=utf-8"}),Xn=window.URL.createObjectURL(ft),hr=document.createElement("a");hr.href=Xn,hr.download=`ledger-${n.from}-to-${n.to}.csv`,document.body.appendChild(hr),hr.click(),hr.remove(),window.URL.revokeObjectURL(Xn),X.success("Ledger export downloaded")}catch(He){console.error("Ledger export failed",He),X.error(((tt=(ve=He==null?void 0:He.response)==null?void 0:ve.data)==null?void 0:tt.message)||"Failed to export ledger")}finally{o(!1)}},[Zl,ji]=x.useState(!1),[So,ja]=x.useState(!1),[nt,wa]=x.useState(null),as=st("purchases:update",["PHARMACIST","ADMIN","SUPER_ADMIN"]),[Co,de]=x.useState(!1),[L,Ne]=x.useState({}),De=async ve=>{var tt;ji(!0),ja(!0);try{const ft=((tt=(await wn.getDetail(ve)).data)==null?void 0:tt.data)||null;wa(ft),de(!1),Ne({})}catch(He){console.error("Failed to load detail",He),wa(null)}finally{ja(!1)}},St=()=>{if(!(nt!=null&&nt.purchase))return;const ve={};nt.purchase.items.forEach(tt=>{ve[tt.id]={qty:""}}),Ne(ve),de(!0)},mt=(ve,tt)=>{Ne(He=>({...He,[ve]:{...He[ve]||{},qty:tt}}))},et=async()=>{var tt,He;if(!(nt!=null&&nt.purchase))return;const ve=Object.entries(L).map(([ft,Xn])=>({purchaseItemId:ft,quantity:Number(Xn.qty||0)})).filter(ft=>ft.quantity>0);if(ve.length===0)return X.error("Select at least one item with quantity > 0");try{await Kt.returnPurchase(nt.purchase.id,{items:ve,note:"Return created from ledger UI"}),de(!1),ji(!1),t(1),await ye(),await ae(),X.success("Return processed")}catch(ft){console.error(ft),X.error(((He=(tt=ft.response)==null?void 0:tt.data)==null?void 0:He.message)||"Failed to process return")}},xt=Re.useMemo(()=>{var ft,Xn,hr;if(!(nt!=null&&nt.purchase))return{items:0,tax:0,total:0};let ve=0;const tt=Number(((ft=nt==null?void 0:nt.purchase)==null?void 0:ft.subtotal)||0)>0?Number(((Xn=nt==null?void 0:nt.purchase)==null?void 0:Xn.taxAmount)||0)/Number(((hr=nt==null?void 0:nt.purchase)==null?void 0:hr.subtotal)||1)*100:0;nt.purchase.items.forEach(mr=>{const mp=L[mr.id],L1=Number((mp==null?void 0:mp.qty)||0);if(L1<=0)return;const xk=Number(mr.unitPrice||0)*L1;ve+=xk});const He=Number((ve*(tt/100)).toFixed(2));return{items:ve,tax:He,total:ve+He}},[nt,L]),{data:Je,refetch:Ss}=Te({queryKey:["accounts",l],queryFn:()=>wn.getAccounts(l),enabled:!!l,keepPreviousData:!0}),Cs=((Na=Je==null?void 0:Je.data)==null?void 0:Na.data)||[];x.useEffect(()=>{if(!l)return;const ve=setTimeout(()=>Ss(),300);return()=>clearTimeout(ve)},[l,Ss]);const Yt=async()=>{var ve,tt;if(!(!h||!h.trim()))try{await wn.createAccount({name:h.trim()}),u(!1),m(""),c(""),Ss(),i(He=>({...He,account:h.trim()})),ye(),ae(),X.success("Account created")}catch(He){console.error("Create account failed",He),X.error(((tt=(ve=He.response)==null?void 0:ve.data)==null?void 0:tt.message)||"Failed to create account")}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ledger"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Account ledger entries"})]}),r.jsx("div",{children:g&&r.jsx("button",{onClick:()=>p("/ledger/manual"),className:"px-3 py-2 bg-green-600 text-white rounded",children:"Add Manual Entry"})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Search Ledger"}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Filter by account, type, reference, and date period."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[r.jsxs("div",{className:"relative md:col-span-4",children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Account"}),r.jsx("input",{type:"text",placeholder:"Search account name",value:n.account,onChange:ve=>{$e("account",ve.target.value),c(ve.target.value)},className:"h-10 px-3 border rounded-lg w-full"}),l&&r.jsx("div",{className:"absolute z-20 bg-white border rounded mt-1 w-full max-h-48 overflow-auto",children:Cs.length===0?r.jsxs("div",{className:"p-2 text-sm text-gray-500",children:["No accounts. ",f&&r.jsx("button",{onClick:()=>u(!0),className:"text-blue-600 underline",children:"Create"})]}):Cs.map(ve=>r.jsx("div",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>{i(tt=>({...tt,account:ve.name})),c("")},children:ve.name},ve.id))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Entry Type"}),r.jsxs("select",{value:n.type,onChange:ve=>$e("type",ve.target.value),className:"h-10 px-3 border rounded-lg w-full",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"DEBIT",children:"Debit"}),r.jsx("option",{value:"CREDIT",children:"Credit"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ref Type"}),r.jsxs("select",{value:n.refType,onChange:ve=>$e("refType",ve.target.value),className:"h-10 px-3 border rounded-lg w-full",children:[r.jsx("option",{value:"",children:"All Ref Types"}),r.jsx("option",{value:"BILL",children:"BILL"}),r.jsx("option",{value:"BILL_PAYMENT",children:"BILL_PAYMENT"}),r.jsx("option",{value:"PURCHASE",children:"PURCHASE"}),r.jsx("option",{value:"RETURN",children:"RETURN"}),r.jsx("option",{value:"PAYMENT",children:"PAYMENT"}),r.jsx("option",{value:"ADJUSTMENT",children:"ADJUSTMENT"}),r.jsx("option",{value:"MANUAL",children:"MANUAL"}),r.jsx("option",{value:"STOCK",children:"STOCK"}),r.jsx("option",{value:"OPENING_STOCK_IMPORT",children:"OPENING_STOCK_IMPORT"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From Date"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",value:n.from,onChange:ve=>$e("from",ve.target.value),className:"h-10 px-3 border rounded-lg w-full"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To Date"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",value:n.to,onChange:ve=>$e("to",ve.target.value),className:"h-10 px-3 border rounded-lg w-full"})]}),r.jsxs("div",{className:"md:col-span-12 flex flex-wrap gap-2 justify-start md:justify-end pt-1",children:[r.jsx("button",{onClick:Hs,className:"h-10 px-4 bg-blue-600 text-white rounded-lg text-sm font-medium",children:"Apply Filters"}),r.jsx("button",{onClick:Jl,disabled:a,className:"h-10 px-4 bg-emerald-600 text-white rounded-lg text-sm font-medium disabled:opacity-60",children:a?"Exporting...":"Export CSV"}),r.jsx("button",{onClick:()=>{i({account:"",type:"",refType:"",from:"",to:""}),t(1),ye()},className:"h-10 px-4 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:"Reset"})]})]})]}),Zl&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl p-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Ledger Entry Detail"}),r.jsx("button",{onClick:()=>ji(!1),className:"text-gray-600",children:"Close"})]}),So?r.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading"}):nt?r.jsxs("div",{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Account"}),r.jsx("div",{className:"font-medium",children:nt.entry.account})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Amount"}),r.jsx("div",{className:"font-medium",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(nt.entry.amount)})]})]}),nt.purchase&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("h4",{className:"font-semibold",children:["Purchase: ",nt.purchase.invoiceNo]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Supplier: ",((_t=nt.purchase.supplier)==null?void 0:_t.name)||""]}),r.jsx("div",{className:"mt-2 overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"text-xs text-gray-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left",children:"Item"}),r.jsx("th",{children:"Qty"}),r.jsx("th",{children:"Rate"}),r.jsx("th",{className:"text-right",children:"Amount"})]})}),r.jsx("tbody",{children:nt.purchase.items.map(ve=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{children:ve.name}),r.jsx("td",{className:"text-center",children:ve.quantity}),r.jsx("td",{className:"text-right",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.unitPrice)}),r.jsx("td",{className:"text-right",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.amount)})]},ve.id))}),r.jsxs("tfoot",{children:[r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{colSpan:3,className:"text-right text-sm text-gray-600",children:"Subtotal"}),r.jsx("td",{className:"text-right font-medium",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(nt.purchase.subtotal)})]}),as&&r.jsx("div",{className:"mt-4",children:r.jsx("button",{onClick:St,className:"px-3 py-1 bg-yellow-500 text-white rounded",children:"Create Return"})}),Co&&r.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded",children:[r.jsx("h5",{className:"font-semibold",children:"Return Items"}),r.jsxs("div",{className:"mt-2 max-h-64 overflow-y-auto pr-1",children:[r.jsxs("div",{className:"hidden md:flex items-center gap-3 text-xs text-gray-500 mb-2 px-2",children:[r.jsx("div",{className:"flex-1",children:"Item"}),r.jsx("div",{className:"w-24 text-right",children:"Qty"}),r.jsx("div",{className:"w-28"})]}),nt.purchase.items.map(ve=>{var tt,He;return r.jsxs("div",{className:"flex items-center gap-3 py-2 border-b",children:[r.jsxs("div",{className:"flex-1",children:[ve.name," ",r.jsxs("span",{className:"text-xs text-gray-500",children:["(available ",ve.quantity,")"]})]}),r.jsx("div",{className:"w-24",children:r.jsx("input",{"aria-label":`return-qty-${ve.id}`,placeholder:"Qty",type:"number",min:0,max:ve.quantity,value:((tt=L[ve.id])==null?void 0:tt.qty)??"",onChange:ft=>mt(ve.id,ft.target.value),className:"p-1 border rounded w-full text-right"})}),r.jsx("div",{className:"w-28 text-right text-sm text-gray-700",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Number(ve.unitPrice||0)*Number(((He=L[ve.id])==null?void 0:He.qty)||0))}),r.jsx("div",{className:"w-8",children:r.jsx("button",{className:"px-2 py-1 text-sm bg-red-100 rounded",onClick:()=>mt(ve.id,0),children:"Clear"})})]},ve.id)})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"text-right text-sm text-gray-700",children:["Items: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(xt.items),"  GST: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(xt.tax),"  Total: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(xt.total)]}),r.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>de(!1),className:"px-3 py-1 border rounded",children:"Cancel"}),r.jsx("button",{onClick:et,className:"px-3 py-1 bg-red-600 text-white rounded",children:"Submit Return"})]})]})]}),r.jsxs("tr",{children:[r.jsx("td",{colSpan:3,className:"text-right text-sm text-gray-600",children:"Tax"}),r.jsx("td",{className:"text-right",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(nt.purchase.taxAmount)})]}),r.jsxs("tr",{children:[r.jsx("td",{colSpan:3,className:"text-right text-sm text-gray-600",children:"Total"}),r.jsx("td",{className:"text-right font-semibold",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(nt.purchase.totalAmount)})]})]})]})})]}),nt.relatedEntries&&nt.relatedEntries.length>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Related Payments / Adjustments"}),r.jsx("div",{className:"mt-2 text-sm",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"text-xs text-gray-500",children:r.jsxs("tr",{children:[r.jsx("th",{children:"Date"}),r.jsx("th",{children:"Account"}),r.jsx("th",{children:"Type"}),r.jsx("th",{className:"text-right",children:"Amount"}),r.jsx("th",{children:"Note"})]})}),r.jsx("tbody",{children:nt.relatedEntries.map(ve=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"text-xs text-gray-600",children:new Date(ve.createdAt).toLocaleString()}),r.jsx("td",{children:ve.account}),r.jsx("td",{children:ve.type}),r.jsx("td",{className:"text-right",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.amount)}),r.jsx("td",{className:"text-sm text-gray-600",children:ve.note||"-"})]},ve.id))})]})})]})]}):r.jsx("div",{className:"py-8 text-center text-gray-500",children:"No details available"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-4",children:[r.jsx("div",{className:"lg:col-span-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Account Balances"}),r.jsx("input",{className:"flex-1 p-2 border rounded",placeholder:"Search account",value:n.account,onChange:ve=>{$e("account",ve.target.value),c(ve.target.value)}}),r.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>{u(ve=>!ve),m("")},children:d?"Close":"New"}),Be?r.jsx("div",{className:"mt-3 py-4 text-sm text-gray-500",children:"Loading balances"}):r.jsx("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3",children:(((wi=(kt=we==null?void 0:we.data)==null?void 0:kt.data)==null?void 0:wi.accounts)||[]).map(ve=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[r.jsx("div",{className:"text-xs text-gray-500",children:ve.account}),r.jsx("div",{className:"text-lg font-medium text-gray-900",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.balance)}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Debit: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.debit),"  Credit: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.credit)]})]},ve.account))})]})}),d&&r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white rounded p-4 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Create Account"}),r.jsx("input",{className:"mt-3 p-2 border w-full",value:h,onChange:ve=>m(ve.target.value),placeholder:"Account name"}),r.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[r.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>u(!1),children:"Cancel"}),r.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",onClick:Yt,children:"Create"})]})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:he?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):R.length===0?r.jsx("div",{className:"p-8 text-gray-500",children:"No ledger entries found"}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600",children:"Account"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600",children:"Ref"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600",children:"Notes"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map(ve=>r.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(ve.createdAt).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ve.account}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ve.type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ve.amount)}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:[ve.refType," ",ve.refId||""]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ve.note||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:r.jsx("button",{onClick:()=>De(ve.id),className:"px-2 py-1 text-sm bg-gray-100 rounded",children:"View"})})]},ve.id))})]})}),r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing page ",Ie.page," of ",Ie.totalPages,"  ",Ie.total," entries"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>t(ve=>Math.max(1,ve-1)),disabled:e===1,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Prev"}),r.jsx("button",{onClick:()=>t(ve=>Math.min(Ie.totalPages||1,ve+1)),disabled:e===(Ie.totalPages||1),className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]})]})]})})]})})}const nQ=Object.freeze(Object.defineProperty({__proto__:null,default:ok},Symbol.toStringTag,{value:"Module"})),gh=["PURCHASE","RETURN"],rQ=["PURCHASE","RETURN","PAYMENT"];function lk(){const e=yn(),t=xn(),s=st("ledger:create"),[n,i]=x.useState("JOURNAL"),[a,o]=x.useState("CASH"),[l,c]=x.useState(""),[d,u]=x.useState(""),[h,m]=x.useState(""),[f,g]=x.useState(""),[p,v]=x.useState(""),[b,y]=x.useState(""),[w,j]=x.useState([]),[N,S]=x.useState(null),[P,C]=x.useState(""),[F,T]=x.useState([]),[te,A]=x.useState(null),[q,z]=x.useState(!0),[B,_]=x.useState(!0),[$,M]=x.useState(""),[D,J]=x.useState(""),[K,ce]=x.useState([]),[U,le]=x.useState(null),[re,ie]=x.useState(!1),[Y,oe]=x.useState(""),[Se,je]=x.useState(""),[ne,ke]=x.useState([]),[Ee,Ue]=x.useState(""),[se,me]=x.useState([]),[W,pe]=x.useState(!1),[Ce,_e]=x.useState({name:"",mrp:"",purchasePrice:"",sellingPrice:"",gstPercent:"",sku:"",category:"",initialStock:""}),[I,k]=x.useState("");x.useEffect(()=>{if(!b)return j([]);const Z=setTimeout(async()=>{var he;try{const ye=await wn.getAccounts(b);j(((he=ye.data)==null?void 0:he.data)||[])}catch{j([])}},250);return()=>clearTimeout(Z)},[b]),x.useEffect(()=>{if(!P)return T([]);const Z=setTimeout(async()=>{var he;try{const ye=await wn.getAccounts(P);T(((he=ye.data)==null?void 0:he.data)||[])}catch{T([])}},250);return()=>clearTimeout(Z)},[P]),x.useEffect(()=>{if(!Ee)return me([]);const Z=setTimeout(async()=>{var he;try{const ye=await Rs.getProducts({search:Ee,limit:10});me(((he=ye==null?void 0:ye.data)==null?void 0:he.data)||(ye==null?void 0:ye.data)||[])}catch{me([])}},250);return()=>clearTimeout(Z)},[Ee]),x.useEffect(()=>{if(!D)return ce([]);const Z=setTimeout(async()=>{var he;try{const ye=await Kt.getSuppliers(D);ce(((he=ye==null?void 0:ye.data)==null?void 0:he.data)||(ye==null?void 0:ye.data)||[])}catch{ce([])}},250);return()=>clearTimeout(Z)},[D]),x.useEffect(()=>{const Z=ne.reduce((we,Be)=>we+Number(Be.unitPrice||0)*Number(Be.quantity||0),0),he=ne.reduce((we,Be)=>we+Number(Be.unitPrice||0)*Number(Be.quantity||0)*(Number(Be.gstPercent||0)/100),0),ye=Z+he;if(gh.includes(n)&&m(String(Number(ye.toFixed(2)))),n==="PURCHASE"){c("Inventory"),u(U!=null&&U.name?`Payable - ${U.name}`:"Accounts Payable"),z(!1),_(!1);return}if(n==="RETURN"){c(U!=null&&U.name?`Payable - ${U.name}`:"Accounts Payable"),u("Inventory"),z(!1),_(!1);return}if(n==="PAYMENT"){c(U!=null&&U.name?`Payable - ${U.name}`:"Accounts Payable"),u(a==="BANK"?"Bank":a==="UPI"?"UPI":"Cash"),z(!1),_(!1);return}if(n==="ADJUSTMENT"){l||c("Inventory"),d||u("Inventory Adjustment"),z(!0),_(!0);return}z(!0),_(!0)},[n,ne,U,a,l,d]),x.useEffect(()=>{const Z=t==null?void 0:t.state;Z&&(Z.mode&&i(Z.mode),Array.isArray(Z.items)&&Z.items.length&&ke(Z.items.map(he=>({productId:he.productId,name:he.name,quantity:Number(he.quantity||1),unitPrice:Number(he.unitPrice||0),gstPercent:Number(he.gstPercent||0),batchNumber:he.batchNumber||"",expiryDate:he.expiryDate||""}))),Z.supplierName&&M(Z.supplierName))},[t]),x.useEffect(()=>{try{const Z=localStorage.getItem("manualPrefill");if(!Z)return;const he=JSON.parse(Z);he.mode&&i(he.mode),Array.isArray(he.items)&&he.items.length&&ke(he.items),he.supplierName&&M(he.supplierName),localStorage.removeItem("manualPrefill")}catch{}},[]);const G=async()=>{var he,ye,we;const Z=Y==null?void 0:Y.trim();if(je(""),!Z)return je("Enter supplier name");try{const Be=await Kt.createSupplier({name:Z}),ae=((he=Be.data)==null?void 0:he.data)||Be.data||Be;le(ae),M(ae.name),oe(""),ie(!1),X.success("Supplier created")}catch(Be){X.error(((we=(ye=Be.response)==null?void 0:ye.data)==null?void 0:we.message)||"Failed to create supplier")}},ge=async()=>{var Z,he,ye;if(k(""),!Ce.name||!Ce.mrp){k("Provide product name and MRP");return}try{const we={name:Ce.name,code:Ce.sku||void 0,category:Ce.category||"medicine",mrp:parseFloat(Ce.mrp),sellingPrice:Ce.sellingPrice?parseFloat(Ce.sellingPrice):parseFloat(Ce.mrp),purchasePrice:Ce.purchasePrice?parseFloat(Ce.purchasePrice):parseFloat(Ce.mrp),gstPercent:Ce.gstPercent?parseFloat(Ce.gstPercent):0,quantity:Ce.initialStock?parseInt(Ce.initialStock,10):0},Be=await Rs.createProduct(we),ae=((Z=Be.data)==null?void 0:Z.data)||Be.data||Be;ke(Ae=>[...Ae,{productId:ae.id,name:ae.name,quantity:1,unitPrice:ae.purchasePrice||ae.mrp||0,gstPercent:ae.gstPercent||0,batchNumber:"",expiryDate:""}]),pe(!1),_e({name:"",mrp:"",purchasePrice:"",sellingPrice:"",gstPercent:"",sku:"",category:"",initialStock:""}),X.success("Product created and added")}catch(we){X.error(((ye=(he=we.response)==null?void 0:he.data)==null?void 0:ye.message)||"Failed to create product")}},O=async(Z,he)=>{var Be,ae,Ae;if(Z!=null&&Z.id)return Z.id;const ye=he==null?void 0:he.trim();if(!ye)return null;const we=await wn.createAccount({name:ye});return((ae=(Be=we.data)==null?void 0:Be.data)==null?void 0:ae.id)||((Ae=we.data)==null?void 0:Ae.id)||null},E=async()=>{if(!N&&!l||!te&&!d||!h)return X.error("Provide debit, credit and amount"),!1;const Z=await O(N,l),he=await O(te,d),ye=n==="PAYMENT"?"PAYMENT":n==="ADJUSTMENT"?"ADJUSTMENT":"MANUAL";return await wn.createManualEntry({debitAccountId:Z,creditAccountId:he,amount:Number(h),note:f||void 0,date:p||void 0,refType:ye}),!0},Q=async()=>gh.includes(n)?ne.length===0?(X.error("Add at least one item"),!1):(await wn.createManualPurchase({mode:n,supplierId:U==null?void 0:U.id,supplierName:$||void 0,items:ne,note:f||void 0,date:p||void 0}),!0):!1,V=async()=>{var Z,he;try{if(gh.includes(n)){if(!await Q())return}else if(!await E())return;X.success("Manual entry created"),e("/ledger")}catch(ye){X.error(((he=(Z=ye==null?void 0:ye.response)==null?void 0:Z.data)==null?void 0:he.message)||"Failed to create manual entry")}};if(!s)return r.jsx("div",{className:"min-h-screen p-6",children:r.jsx("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded",children:"You do not have permission to access this page."})});const fe=rQ.includes(n),be=gh.includes(n),Fe=Number(h||0);return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-5xl mx-auto bg-white rounded p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Create Manual Ledger Entry"}),r.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>e("/ledger"),children:"Back"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-sm text-gray-600 bg-yellow-50 border-l-4 border-yellow-300 p-3 rounded",children:"Quick help: pick mode first. Purchases/returns update stock. Payments and adjustments only post ledger entries."}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Mode"}),r.jsxs("select",{value:n,onChange:Z=>i(Z.target.value),className:"p-2 border rounded w-full",children:[r.jsx("option",{value:"JOURNAL",children:"Journal (debit/credit)"}),r.jsx("option",{value:"PURCHASE",children:"Manual Purchase (add stock)"}),r.jsx("option",{value:"RETURN",children:"Manual Return (reduce stock)"}),r.jsx("option",{value:"PAYMENT",children:"Supplier Payment"}),r.jsx("option",{value:"ADJUSTMENT",children:"Adjustment Entry"})]})]}),fe&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Supplier / Distributor"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Supplier name",value:U?U.name:D||$,onChange:Z=>{J(Z.target.value),M(Z.target.value),le(null)}}),K.length>0&&D&&r.jsx("div",{className:"absolute z-30 bg-white border rounded mt-1 w-full max-h-48 overflow-auto",children:K.map(Z=>r.jsxs("div",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>{le(Z),M(Z.name),J(""),ce([])},children:[Z.name," ",Z.phone?`- ${Z.phone}`:""]},Z.id))}),r.jsxs("div",{className:"mt-2 flex gap-2",children:[r.jsx("button",{className:"px-2 py-1 text-sm border rounded",onClick:()=>{ie(Z=>!Z),je("")},children:re?"Close":"Create supplier"}),U&&r.jsx("button",{className:"px-2 py-1 text-sm border rounded",onClick:()=>{le(null),M("")},children:"Clear"})]}),re&&r.jsxs("div",{className:"mt-3 p-3 border rounded bg-gray-50",children:[r.jsx("div",{className:"text-sm font-medium",children:"Create supplier"}),r.jsx("input",{className:"mt-2 p-2 border w-full",value:Y,onChange:Z=>{oe(Z.target.value),je("")},placeholder:"Supplier name"}),Se&&r.jsx("div",{className:"text-sm text-red-600 mt-2",children:Se}),r.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[r.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>ie(!1),children:"Cancel"}),r.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded",onClick:G,children:"Create"})]})]})]})]}),n==="PAYMENT"&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Payment Method"}),r.jsxs("select",{className:"p-2 border rounded w-full",value:a,onChange:Z=>o(Z.target.value),children:[r.jsx("option",{value:"CASH",children:"Cash"}),r.jsx("option",{value:"BANK",children:"Bank"}),r.jsx("option",{value:"UPI",children:"UPI"})]})]}),be&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Add product"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{className:"flex-1 p-2 border rounded",placeholder:"Search medicine",value:Ee,onChange:Z=>Ue(Z.target.value)}),r.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>{pe(Z=>!Z),k("")},children:W?"Close":"New"})]}),se.length>0&&Ee&&r.jsx("div",{className:"border bg-white max-h-44 overflow-auto mt-1",children:se.map(Z=>r.jsxs("div",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>{ke(he=>[...he,{productId:Z.id,name:Z.name,quantity:1,unitPrice:Z.purchasePrice||Z.mrp||0,gstPercent:Z.gstPercent||0,batchNumber:"",expiryDate:""}]),Ue(""),me([])},children:[Z.name," - ",Z.code||""]},Z.id))})]}),W&&r.jsxs("div",{className:"mt-3 p-3 border rounded bg-gray-50",children:[r.jsx("div",{className:"text-sm font-medium",children:"Create product"}),I&&r.jsx("div",{className:"text-sm text-red-600 mt-2",children:I}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[r.jsx("input",{className:"p-2 border",placeholder:"Name",value:Ce.name,onChange:Z=>_e(he=>({...he,name:Z.target.value}))}),r.jsx("input",{className:"p-2 border",placeholder:"SKU (optional)",value:Ce.sku,onChange:Z=>_e(he=>({...he,sku:Z.target.value}))}),r.jsx("input",{className:"p-2 border",placeholder:"MRP",value:Ce.mrp,onChange:Z=>_e(he=>({...he,mrp:Z.target.value}))}),r.jsx("input",{className:"p-2 border",placeholder:"Purchase Price",value:Ce.purchasePrice,onChange:Z=>_e(he=>({...he,purchasePrice:Z.target.value}))}),r.jsx("input",{className:"p-2 border",placeholder:"Selling Price",value:Ce.sellingPrice,onChange:Z=>_e(he=>({...he,sellingPrice:Z.target.value}))}),r.jsx("input",{className:"p-2 border",placeholder:"GST %",value:Ce.gstPercent,onChange:Z=>_e(he=>({...he,gstPercent:Z.target.value}))}),r.jsx("input",{className:"p-2 border col-span-2",placeholder:"Category",value:Ce.category,onChange:Z=>_e(he=>({...he,category:Z.target.value}))}),r.jsx("input",{className:"p-2 border col-span-2",placeholder:"Initial Stock (optional)",value:Ce.initialStock,onChange:Z=>_e(he=>({...he,initialStock:Z.target.value}))})]}),r.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[r.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>pe(!1),children:"Cancel"}),r.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded",onClick:ge,children:"Create and Add"})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Items"}),r.jsx("div",{className:"space-y-2",children:ne.map((Z,he)=>{const ye=Number(Z.quantity||0),we=Number(Z.unitPrice||0),Be=Number(Z.gstPercent||0),ae=ye*we,Ae=ae*(Be/100);return r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{children:Z.name}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[r.jsx("input",{"aria-label":`batch-${he}`,placeholder:"Batch",className:"p-1 border rounded w-36",value:Z.batchNumber||"",onChange:R=>ke(Ie=>Ie.map(($e,Hs)=>Hs===he?{...$e,batchNumber:R.target.value}:$e))}),r.jsx("input",{"aria-label":`expiry-${he}`,type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",className:"p-1 border rounded w-36",value:Z.expiryDate||"",onChange:R=>ke(Ie=>Ie.map(($e,Hs)=>Hs===he?{...$e,expiryDate:R.target.value}:$e))})]})]}),r.jsx("input",{"aria-label":`quantity-${he}`,type:"number",min:1,className:"w-20 p-1 border rounded text-right",value:Z.quantity,onChange:R=>ke(Ie=>Ie.map(($e,Hs)=>Hs===he?{...$e,quantity:Number(R.target.value)}:$e))}),r.jsx("input",{"aria-label":`rate-${he}`,type:"number",step:"0.01",className:"w-28 p-1 border rounded text-right",value:Z.unitPrice,onChange:R=>ke(Ie=>Ie.map(($e,Hs)=>Hs===he?{...$e,unitPrice:Number(R.target.value)}:$e))}),r.jsx("input",{"aria-label":`gst-${he}`,type:"number",step:"0.01",className:"w-20 p-1 border rounded text-right",value:Z.gstPercent,onChange:R=>ke(Ie=>Ie.map(($e,Hs)=>Hs===he?{...$e,gstPercent:Number(R.target.value)}:$e))}),r.jsx("div",{className:"w-28 text-right text-sm text-gray-700",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ae+Ae)}),r.jsx("button",{className:"px-2 py-1 text-sm bg-red-100 rounded",onClick:()=>ke(R=>R.filter((Ie,$e)=>$e!==he)),children:"Remove"})]},he)})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-baseline justify-between",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Debit account"}),r.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-2",children:["Auto-selected for guided modes",r.jsx("button",{type:"button",className:"text-xs text-blue-600",onClick:()=>z(Z=>!Z),children:q?"Edit":"Lock"})]})]}),r.jsx("input",{readOnly:!q,className:`w-full p-2 border rounded ${q?"":"bg-gray-100"}`,placeholder:"Search debit account",value:b||l,onChange:Z=>{y(Z.target.value),c(Z.target.value),S(null)}}),w.length>0&&b&&r.jsx("div",{className:"border bg-white max-h-44 overflow-auto mt-1",children:w.map(Z=>r.jsx("div",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>{S(Z),y(Z.name),c(Z.name),j([])},children:Z.name},Z.id))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-baseline justify-between",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Credit account"}),r.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-2",children:["Auto-selected for guided modes",r.jsx("button",{type:"button",className:"text-xs text-blue-600",onClick:()=>_(Z=>!Z),children:B?"Edit":"Lock"})]})]}),r.jsx("input",{readOnly:!B,className:`w-full p-2 border rounded ${B?"":"bg-gray-100"}`,placeholder:"Search credit account",value:P||d,onChange:Z=>{C(Z.target.value),u(Z.target.value),A(null)}}),F.length>0&&P&&r.jsx("div",{className:"border bg-white max-h-44 overflow-auto mt-1",children:F.map(Z=>r.jsx("div",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>{A(Z),C(Z.name),u(Z.name),T([])},children:Z.name},Z.id))})]}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Suggested mapping:",r.jsxs("ul",{className:"list-disc ml-5",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Purchase:"})," Debit Inventory, Credit Payable - Supplier"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Return:"})," Debit Payable - Supplier, Credit Inventory"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Payment:"})," Debit Payable - Supplier, Credit Cash/Bank/UPI"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Adjustment:"})," Uses refType ADJUSTMENT for audit clarity"]})]})]}),r.jsxs("div",{children:[r.jsx("input",{className:"w-full p-2 border rounded",placeholder:"Amount",type:"number",value:h,onChange:Z=>m(Z.target.value)}),r.jsx("input",{className:"w-full p-2 border rounded mt-2",placeholder:"Date (optional)",type:"date",lang:"en-GB",value:p,onChange:Z=>v(Z.target.value)}),r.jsx("textarea",{className:"w-full p-2 border rounded mt-2",placeholder:"Note (optional)",value:f,onChange:Z=>g(Z.target.value)}),Fe>0&&r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Amount preview: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Fe)]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>e("/ledger"),children:"Cancel"}),r.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded",onClick:V,children:"Create"})]})]})]})})}const iQ=Object.freeze(Object.defineProperty({__proto__:null,default:lk},Symbol.toStringTag,{value:"Module"}));function ck(){const{data:e,isLoading:t,refetch:s}=Te({queryKey:["suppliers"],queryFn:()=>Kt.getSuppliers(""),keepPreviousData:!0}),n=Array.isArray(e)?e:Array.isArray(e==null?void 0:e.data)?e.data:[],[i,a]=x.useState(null),[o,l]=x.useState({name:"",phone:"",email:"",address:"",gstNumber:"",notes:""}),c=Ht(),d=We({mutationFn:m=>Kt.createSupplier(m),onSuccess:async()=>{X.success("Supplier created"),l({name:"",phone:"",email:"",address:"",gstNumber:"",notes:""}),await s()}}),u=We({mutationFn:({id:m,body:f})=>Kt.updateSupplier(m,f),onSuccess:async()=>{X.success("Supplier updated"),a(null),await s()}}),h=We({mutationFn:m=>Kt.deleteSupplier(m),onMutate:async m=>{await c.cancelQueries({queryKey:["suppliers"]});const f=c.getQueryData(["suppliers"]);return c.setQueryData(["suppliers"],g=>(Array.isArray(g)?g:Array.isArray(g==null?void 0:g.data)?g.data:[]).filter(v=>v.id!==m)),{previous:f}},onError:(m,f,g)=>{g!=null&&g.previous&&c.setQueryData(["suppliers"],g.previous),X.error("Failed to delete supplier")},onSettled:async()=>{X.success("Supplier deleted"),await s()}});return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h1",{className:"text-2xl font-bold",children:"Suppliers"})}),r.jsxs("div",{className:"bg-white rounded p-4 mb-6",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Create Supplier"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("input",{className:"p-2 border rounded",placeholder:"Name",value:o.name,onChange:m=>l(f=>({...f,name:m.target.value}))}),r.jsx("input",{className:"p-2 border rounded",placeholder:"Phone",value:o.phone,onChange:m=>l(f=>({...f,phone:m.target.value}))}),r.jsx("input",{className:"p-2 border rounded",placeholder:"Email",value:o.email,onChange:m=>l(f=>({...f,email:m.target.value}))}),r.jsx("input",{className:"p-2 border rounded",placeholder:"GST Number",value:o.gstNumber,onChange:m=>l(f=>({...f,gstNumber:m.target.value}))}),r.jsx("input",{className:"p-2 border rounded col-span-2",placeholder:"Address",value:o.address,onChange:m=>l(f=>({...f,address:m.target.value}))}),r.jsx("input",{className:"p-2 border rounded col-span-2",placeholder:"Notes",value:o.notes,onChange:m=>l(f=>({...f,notes:m.target.value}))})]}),r.jsxs("div",{className:"mt-3 flex gap-2",children:[r.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded",onClick:()=>d.mutate(o),children:"Create"}),r.jsx("button",{className:"px-3 py-2 border rounded",onClick:()=>l({name:"",phone:"",email:"",address:"",gstNumber:"",notes:""}),children:"Reset"})]})]}),r.jsxs("div",{className:"bg-white rounded p-4",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Supplier List"}),t?r.jsx("div",{children:"Loading"}):r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"text-xs text-gray-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2 text-left",children:"Name"}),r.jsx("th",{className:"p-2",children:"Phone"}),r.jsx("th",{className:"p-2",children:"GST"}),r.jsx("th",{className:"p-2",children:" "})]})}),r.jsx("tbody",{children:n.map(m=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"p-2",children:m.name}),r.jsx("td",{className:"p-2",children:m.phone||"-"}),r.jsx("td",{className:"p-2",children:m.gstNumber||"-"}),r.jsxs("td",{className:"p-2 text-right",children:[r.jsx("button",{className:"px-2 py-1 mr-2 text-sm border rounded",onClick:()=>{a(m),l({name:m.name,phone:m.phone||"",email:m.email||"",address:m.address||"",gstNumber:m.gstNumber||"",notes:m.notes||""})},children:"Edit"}),r.jsx("button",{className:"px-2 py-1 text-sm bg-red-600 text-white rounded",onClick:()=>{confirm("Delete supplier?")&&h.mutate(m.id)},children:"Delete"})]})]},m.id))})]}),i&&r.jsxs("div",{className:"mt-4 p-3 border rounded",children:[r.jsx("h4",{className:"font-medium",children:"Edit Supplier"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[r.jsx("input",{className:"p-2 border rounded",placeholder:"Name",value:o.name,onChange:m=>l(f=>({...f,name:m.target.value}))}),r.jsx("input",{className:"p-2 border rounded",placeholder:"Phone",value:o.phone,onChange:m=>l(f=>({...f,phone:m.target.value}))}),r.jsx("input",{className:"p-2 border rounded",placeholder:"Email",value:o.email,onChange:m=>l(f=>({...f,email:m.target.value}))}),r.jsx("input",{className:"p-2 border rounded",placeholder:"GST Number",value:o.gstNumber,onChange:m=>l(f=>({...f,gstNumber:m.target.value}))}),r.jsx("input",{className:"p-2 border rounded col-span-2",placeholder:"Address",value:o.address,onChange:m=>l(f=>({...f,address:m.target.value}))}),r.jsx("input",{className:"p-2 border rounded col-span-2",placeholder:"Notes",value:o.notes,onChange:m=>l(f=>({...f,notes:m.target.value}))})]}),r.jsxs("div",{className:"mt-3 flex gap-2 justify-end",children:[r.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>a(null),children:"Cancel"}),r.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",onClick:()=>u.mutate({id:i.id,body:o}),children:"Save"})]})]})]})]})})}const aQ=Object.freeze(Object.defineProperty({__proto__:null,default:ck},Symbol.toStringTag,{value:"Module"}));function oQ(e){if(!(e!=null&&e.parsedJson))return null;try{return typeof e.parsedJson=="string"?JSON.parse(e.parsedJson):e.parsedJson}catch{return null}}function pN(e){var a,o;if(!e)return e;const t=oQ(e.upload);if(!t)return e;const s=Array.isArray(t.items)?t.items:[],n=Number((t==null?void 0:t.roundOff)??(t==null?void 0:t.round_off)??((a=t==null?void 0:t.totals)==null?void 0:a.roundOff)??((o=t==null?void 0:t.totals)==null?void 0:o.round_off)??(e==null?void 0:e.roundOff)??(e==null?void 0:e.roundoff)??0),i=Array.isArray(e.items)?e.items.map((l,c)=>{var d,u;return{...l,mrp:Number((l==null?void 0:l.mrp)??((d=s[c])==null?void 0:d.mrp)??((u=s[c])==null?void 0:u.MRP)??0)}}):[];return{...e,roundOff:n,roundoff:n,items:i}}function gN(e){if(!e)return"";const t=e.path||"";return t&&(/^https?:\/\//i.test(t)||t.startsWith("/"))?t:e.filename?`/uploads/purchases/${e.filename}`:""}function I1(){const e=st("purchases:read"),t=st("purchases:delete"),{data:s,isLoading:n,refetch:i}=Te({queryKey:["purchases","DRAFT"],queryFn:()=>Kt.getPurchases({status:"DRAFT",limit:50}),enabled:!!e}),a=(s==null?void 0:s.data)||s||{},o=Array.isArray(a==null?void 0:a.data)?a.data:Array.isArray(a)?a:[],[l,c]=x.useState({}),[d,u]=x.useState(null),[h,m]=x.useState(""),[f,g]=x.useState([]),[p,v]=x.useState(!1),[b,y]=x.useState(null),[w,j]=x.useState([]),[N,S]=x.useState({}),[P,C]=x.useState({}),[F,T]=x.useState({}),te=x.useRef({}),A=st("purchases:receive");x.useEffect(()=>{if(!h||h.length<2){g([]);return}v(!0);const z=setTimeout(async()=>{try{const B=await Kt.getSuppliers(h),_=(B==null?void 0:B.data)||B;g(Array.isArray(_)?_:[])}catch{g([])}finally{v(!1)}},300);return()=>clearTimeout(z)},[h]),x.useEffect(()=>{if(!d)return;const z=Array.isArray(d.items)?d.items.map(B=>({id:B.id,productId:B.productId,name:B.name,quantity:Number(B.quantity||0),unitPrice:Number(B.unitPrice||B.purchasePrice||0),mrp:Number(B.mrp||0),taxAmount:Number(B.taxAmount||0),amount:Number(B.amount||0),batchNumber:B.batchNumber||null,expiryDate:B.expiryDate?new Date(B.expiryDate).toISOString().slice(0,10):"",newEntry:!1})):[];j(z)},[d&&d.id]),x.useEffect(()=>{if(!d)return;const z=w.reduce((M,D)=>M+Number(D.amount||Number(D.quantity||0)*Number(D.unitPrice||0)),0),B=Number(d.taxAmount||0),_=Number((d.roundOff??d.roundoff)||0),$=+(z+B-_).toFixed(2);u(M=>({...M,subtotal:+(z.toFixed?z.toFixed(2):z),totalAmount:$,roundOff:_}))},[w,d==null?void 0:d.taxAmount,d==null?void 0:d.roundOff,d==null?void 0:d.roundoff]),x.useEffect(()=>()=>{try{Object.values(te.current||{}).forEach(z=>clearTimeout(z))}catch{}},[]);const q=(z,B)=>{if(T(_=>({..._,[z]:B})),te.current[z]&&clearTimeout(te.current[z]),!B||B.length<2){S(_=>({..._,[z]:[]})),C(_=>({..._,[z]:!1}));return}C(_=>({..._,[z]:!0})),te.current[z]=setTimeout(async()=>{try{const _=await Rs.getProducts({search:B,limit:10}),$=_.data||_;S(M=>({...M,[z]:Array.isArray($)?$:[]}))}catch{S($=>({...$,[z]:[]}))}finally{C(_=>({..._,[z]:!1}))}},300)};return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Purchases  Drafts"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Draft purchases created from uploads"})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-auto",children:n?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading"}):o.length===0?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"No draft purchases found"}):r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3 text-left",children:"Invoice No"}),r.jsx("th",{className:"p-3 text-left",children:"Supplier"}),r.jsx("th",{className:"p-3 text-left",children:"Date"}),r.jsx("th",{className:"p-3 text-right",children:"Total"}),r.jsx("th",{className:"p-3 text-left",children:"Status"})]})}),r.jsx("tbody",{children:o.map(z=>{var B,_;return r.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[r.jsx("td",{className:"p-3",children:z.invoiceNo}),r.jsx("td",{className:"p-3",children:((B=z.supplier)==null?void 0:B.name)||(l[z.supplierId]?l[z.supplierId].name:z.supplierId?"Assigned":"")}),r.jsx("td",{className:"p-3",children:z.invoiceDate?new Date(z.invoiceDate).toLocaleDateString("en-GB"):"-"}),r.jsx("td",{className:"p-3 text-right",children:(_=z.totalAmount)!=null&&_.toFixed?z.totalAmount.toFixed(2):z.totalAmount}),r.jsx("td",{className:"p-3",children:z.status}),r.jsxs("td",{className:"p-3 text-right flex items-center justify-end gap-2",children:[r.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-sm",onClick:async()=>{var $,M;try{const D=await Kt.getPurchase(z.id),J=pN((($=D==null?void 0:D.data)==null?void 0:$.data)||(D==null?void 0:D.data)||D);u(J),y(J.supplierId||null),m(((M=J.supplier)==null?void 0:M.name)||"")}catch(D){console.error("Failed to load purchase",D),X.error("Failed to load purchase")}},children:"Edit"}),t&&r.jsx("button",{className:"px-2 py-1 bg-red-600 text-white rounded text-sm",onClick:async()=>{var $,M;if(window.confirm("Delete this draft purchase? This cannot be undone."))try{await Kt.deletePurchase(z.id),X.success("Draft purchase deleted"),await i()}catch(D){console.error(D),X.error(((M=($=D==null?void 0:D.response)==null?void 0:$.data)==null?void 0:M.message)||"Failed to delete purchase")}},children:"Delete"})]})]},z.id)})})]})}),d&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mt-6 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Edit Draft Purchase"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Edit purchase details created from upload"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-3 py-1 border rounded",onClick:async()=>{u(null),await i()},children:"Back to list"}),r.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded",onClick:async()=>{var z,B;try{const _=w.map(J=>({...J}));for(let J=0;J<_.length;J++){const K=_[J];if(K.newEntry&&!K.productId){const ce=`SKU${Date.now().toString().slice(-6)}${Math.floor(Math.random()*900+100)}`,U={code:ce,name:K.name||`Product-${ce}`,genericName:"",manufacturer:"",category:"",mrp:K.mrp||0,purchasePrice:K.unitPrice||0,sellingPrice:K.unitPrice||0,gstPercent:0,quantity:0,unit:"pcs"};try{const le=await Rs.createProduct(U),re=le.data||le,ie=re||(re==null?void 0:re.data),Y=(ie==null?void 0:ie.id)||((z=ie==null?void 0:ie.data)==null?void 0:z.id);Y&&(_[J].productId=Y,j(oe=>oe.map((Se,je)=>je===J?{...Se,productId:Y}:Se)),X.success(`Created product ${ie.name||U.name}`))}catch(le){console.error("Failed to create product",le),X.error(`Failed to create product for item ${K.name}`)}}}const $={supplierId:b||null,invoiceNo:d.invoiceNo,invoiceDate:d.invoiceDate,notes:d.notes,subtotal:Number(d.subtotal||0),taxAmount:Number(d.taxAmount||0),roundOff:Number((d.roundOff??d.roundoff)||0),totalAmount:Number(d.totalAmount||0),items:_.map(J=>({name:J.name,productId:J.productId||void 0,quantity:Number(J.quantity||0),unitPrice:Number(J.unitPrice||0),mrp:Number(J.mrp||0),taxAmount:Number(J.taxAmount||0),amount:Number(J.amount||Number(J.quantity||0)*Number(J.unitPrice||0)),batchNumber:J.batchNumber||null,expiryDate:J.expiryDate||null}))};await Kt.updatePurchase(d.id,$),X.success("Purchase saved");const M=await Kt.getPurchase(d.id),D=pN(((B=M==null?void 0:M.data)==null?void 0:B.data)||(M==null?void 0:M.data)||M);if(u(D),D&&Array.isArray(D.items)){const J=D.items.map(K=>({id:K.id,productId:K.productId,name:K.name,quantity:Number(K.quantity||0),unitPrice:Number(K.unitPrice||K.purchasePrice||0),mrp:Number(K.mrp||0),taxAmount:Number(K.taxAmount||0),amount:Number(K.amount||0),batchNumber:K.batchNumber||null,expiryDate:K.expiryDate?new Date(K.expiryDate).toISOString().slice(0,10):""}));j(J)}if(await i(),A){if(window.confirm("Publish now and update stock/ledger (Receive)?"))try{await Kt.receivePurchase(d.id),X.success("Purchase published and stock updated"),u(null),await i()}catch(J){console.error(J),X.error("Saved but failed to publish (receive)")}}else u(null)}catch(_){console.error(_),X.error("Failed to publish purchase")}},children:"Publish"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"md:col-span-3",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Invoice No"}),r.jsx("input",{className:"w-full p-2 border rounded",value:d.invoiceNo||"",onChange:z=>u(B=>({...B,invoiceNo:z.target.value}))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Invoice Date"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",className:"w-full p-2 border rounded",value:d.invoiceDate?new Date(d.invoiceDate).toISOString().slice(0,10):"",onChange:z=>u(B=>({...B,invoiceDate:z.target.value}))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Supplier (search)"}),r.jsx("input",{value:h,onChange:z=>{m(z.target.value),y(null)},className:"w-full p-2 border rounded",placeholder:"Search suppliers by name"}),p&&r.jsx("div",{className:"text-xs text-gray-500",children:"Searching..."}),f.length>0&&r.jsx("ul",{className:"bg-white border rounded mt-1 max-h-48 overflow-auto text-sm",children:f.map(z=>r.jsxs("li",{className:`p-2 hover:bg-gray-50 cursor-pointer ${b===z.id?"bg-gray-100":""}`,onClick:()=>{y(z.id),m(z.name),g([])},children:[z.name," ",z.phone?` ${z.phone}`:""]},z.id))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Notes"}),r.jsx("textarea",{className:"w-full p-2 border rounded",value:d.notes||"",onChange:z=>u(B=>({...B,notes:z.target.value}))})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Items"}),r.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[40vh]",children:r.jsxs("table",{className:"min-w-max w-full text-sm border",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2 text-left",children:"Name"}),r.jsx("th",{className:"p-2",children:"Link Product"}),r.jsx("th",{className:"p-2",children:"Qty"}),r.jsx("th",{className:"p-2",children:"Unit Price"}),r.jsx("th",{className:"p-2",children:"MRP"}),r.jsx("th",{className:"p-2",children:"Batch"}),r.jsx("th",{className:"p-2",children:"Expiry"}),r.jsx("th",{className:"p-2",children:"Amount"})]})}),r.jsx("tbody",{children:Array.isArray(w)&&w.map((z,B)=>r.jsxs("tr",{className:"border-t",children:[r.jsxs("td",{className:"p-2 relative",children:[r.jsx("input",{className:"w-full p-1 border rounded",value:z.name||"",onChange:_=>j($=>$.map((M,D)=>D===B?{...M,name:_.target.value}:M))}),r.jsx("div",{className:"mt-1 text-xs",children:r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:!!z.newEntry,onChange:_=>j($=>$.map((M,D)=>D===B?{...M,newEntry:_.target.checked}:M))}),r.jsx("span",{children:"Mark as new product"})]})})]}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{className:"w-full p-1 border rounded",placeholder:"Search products",value:F[B]||"",onChange:_=>q(B,_.target.value)}),P[B]&&r.jsx("div",{className:"text-xs text-gray-500",children:"Searching products..."}),N[B]&&N[B].length>0&&r.jsx("ul",{className:"absolute left-0 right-0 bg-white border mt-1 max-h-56 overflow-auto z-20 text-sm",children:N[B].map(_=>r.jsxs("li",{className:"p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>{j($=>$.map((M,D)=>D===B?{...M,productId:_.id}:M)),S($=>({...$,[B]:[]})),T($=>({...$,[B]:_.name}))},children:[_.name," ",_.genericName?` ${_.genericName}`:""]},_.id))})]})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"number",min:0,className:"w-14 p-1 border rounded",value:String(z.quantity||0),onChange:_=>{const $=Number(_.target.value||0);j(M=>M.map((D,J)=>J===B?{...D,quantity:$,amount:+($*Number(D.unitPrice||0)).toFixed(2)}:D))}})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"number",step:"0.01",min:0,className:"w-20 p-1 border rounded",value:String(z.unitPrice||0),onChange:_=>{const $=Number(_.target.value||0);j(M=>M.map((D,J)=>J===B?{...D,unitPrice:$,amount:+(Number(D.quantity||0)*$).toFixed(2)}:D))}})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"number",step:"0.01",min:0,className:"w-20 p-1 border rounded",value:String(z.mrp||0),onChange:_=>j($=>$.map((M,D)=>D===B?{...M,mrp:Number(_.target.value||0)}:M))})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{className:"w-32 p-1 border rounded",value:z.batchNumber||"",onChange:_=>j($=>$.map((M,D)=>D===B?{...M,batchNumber:_.target.value}:M)),placeholder:"batch"})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",className:"w-36 p-1 border rounded",value:z.expiryDate||"",onChange:_=>j($=>$.map((M,D)=>D===B?{...M,expiryDate:_.target.value}:M))})}),r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"number",step:"0.01",min:0,className:"w-20 p-1 border rounded",value:String(z.amount||0),onChange:_=>{const $=Number(_.target.value||0);j(M=>M.map((D,J)=>J===B?{...D,amount:$,unitPrice:Number(D.quantity||0)>0?+($/Number(D.quantity||1)).toFixed(2):D.unitPrice}:D))}})})]},z.id||B))})]})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Totals"}),r.jsxs("div",{className:"p-3 border rounded",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal"}),r.jsx("span",{children:Number(d.subtotal||0).toFixed(2)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax"}),r.jsx("span",{children:Number(d.taxAmount||0).toFixed(2)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Roundoff (adjustment)"}),r.jsx("input",{type:"number",step:"0.01",className:"w-24 p-1 border rounded text-right",value:String(d.roundOff??d.roundoff??0),onChange:z=>u(B=>({...B,roundOff:Number(z.target.value||0)}))})]}),r.jsxs("div",{className:"flex justify-between font-semibold mt-2",children:[r.jsx("span",{children:"Total"}),r.jsx("span",{children:Number(d.totalAmount||0).toFixed(2)})]})]})]}),d.upload&&r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Parsed Invoice"}),r.jsx("div",{className:"border rounded p-2",children:gN(d.upload)?r.jsx("img",{src:gN(d.upload),alt:"invoice",className:"max-w-full h-auto rounded"}):d.upload.filename?r.jsx("img",{src:`/uploads/purchases/${d.upload.filename}`,alt:"invoice",className:"max-w-full h-auto rounded"}):r.jsx("pre",{className:"text-xs text-gray-600",children:d.upload.parsedJson?JSON.stringify(JSON.parse(d.upload.parsedJson),null,2):"No parsed data available"})})]})]})]})]})]})})})}function lQ(){return r.jsx(I1,{})}const cQ=Object.freeze(Object.defineProperty({__proto__:null,PurchasesWithEdit:lQ,default:I1},Symbol.toStringTag,{value:"Module"})),xN={pending:"bg-yellow-100 text-yellow-800",partial:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},dQ=[{value:"",label:"All Status"},{value:"pending",label:"Pending"},{value:"partial",label:"Partial"},{value:"paid",label:"Paid"},{value:"cancelled",label:"Cancelled"}];function ny(){var ne,ke,Ee,Ue,se,me;const e=yn(),t=Ht(),[s,n]=x.useState(""),[i,a]=x.useState(1),[o,l]=x.useState(!1),[c,d]=x.useState({status:"",startDate:"",endDate:""}),[u,h]=x.useState(!1),[m,f]=x.useState(null),[g,p]=x.useState(!1),v=10,{register:b,handleSubmit:y,reset:w,formState:{errors:j}}=Vt(),N=st("billing:create",["SUPER_ADMIN","DOCTOR","ACCOUNTANT","PHARMACIST","RECEPTIONIST"]),S=st("billing:edit",["SUPER_ADMIN","DOCTOR","ACCOUNTANT","PHARMACIST","RECEPTIONIST"]),{data:P,isLoading:C}=Te({queryKey:["bills",i,v,s,c],queryFn:()=>Cr.getBills({page:i,limit:v,search:s,...c}),placeholderData:W=>W}),{data:F}=Te({queryKey:["clinic-settings"],queryFn:()=>ut.getClinicSettings()}),{data:T}=Te({queryKey:["print-templates"],queryFn:()=>ut.getPrintTemplates()}),te=(P==null?void 0:P.data)||[],A=((ne=P==null?void 0:P.pagination)==null?void 0:ne.totalPages)||1,q=((ke=P==null?void 0:P.pagination)==null?void 0:ke.total)||0,z=We({mutationFn:({id:W,paymentData:pe})=>Cr.recordPayment(W,pe),onSuccess:()=>{X.success("Payment recorded successfully"),t.invalidateQueries(["bills"]),h(!1),f(null),w()},onError:W=>{var pe,Ce;X.error(((Ce=(pe=W.response)==null?void 0:pe.data)==null?void 0:Ce.message)||"Failed to record payment")}}),B=W=>{n(W.target.value),a(1)},_=(W,pe)=>{d(Ce=>({...Ce,[W]:pe})),a(1)},$=()=>{d({status:"",startDate:"",endDate:""}),a(1)},M=W=>{f(W),h(!0)},D=W=>{f(W),p(!0)},J=W=>String((W==null?void 0:W.paymentStatus)||(W==null?void 0:W.status)||"").toUpperCase()==="PAID",K=W=>{if(W!=null&&W.id){if(J(W)){if(!window.confirm("This bill is already PAID. Editing paid bills is a sensitive action and will be audited. Do you want to continue?"))return;const Ce=window.prompt("Enter reason for editing this PAID bill (required for audit log):");if(!Ce||!Ce.trim()){X.error("Reason is required to edit a paid bill.");return}e(`/billing/${W.id}/edit`,{state:{paidEditConfirmed:!0,paidEditReason:Ce.trim()}});return}e(`/billing/${W.id}/edit`)}},ce=W=>{const pe=window.open("","_blank");if(!pe){X.error("Please allow popups to print");return}const Ce=nk(W,F||{},T||{});pe.document.write(Ce),pe.document.close(),pe.onload=()=>pe.print()},U=W=>{m&&z.mutate({id:m.id,paymentData:{amount:parseFloat(W.amount),method:W.method,reference:W.reference,notes:W.notes}})},le=W=>W?new Date(W).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",re=W=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(W||0),ie=W=>W.dueAmount||0,Y=W=>{const pe=Number((W==null?void 0:W.subtotal)||0)-Number((W==null?void 0:W.discountAmount)||0),Ce=Number((W==null?void 0:W.taxAmount)||0);return pe<=0||Ce<=0?0:Math.round(Ce/pe*100*100)/100},oe=(W,pe)=>{const Ce=String((W==null?void 0:W.type)||"").trim().toLowerCase();if(Ce==="consultation")return"consultation";if(Ce==="medicine"||Ce==="pharmacy")return"pharmacy";if(Ce==="lab"||Ce==="lab_test"||Ce==="labtest")return"lab_test";if(W!=null&&W.productId)return"pharmacy";if(W!=null&&W.labId||W!=null&&W.labTestId)return"lab_test";if(W!=null&&W.doctorId)return"consultation";const _e=String(pe||"").toUpperCase();return _e==="CONSULTATION"?"consultation":_e==="PHARMACY"?"pharmacy":_e==="LAB_TEST"?"lab_test":"other"},Se=W=>{const pe={consultation:{label:"Consultation",taxable:0,gstAmount:0,rates:new Set},pharmacy:{label:"Pharmacy",taxable:0,gstAmount:0,rates:new Set},lab_test:{label:"Lab Test",taxable:0,gstAmount:0,rates:new Set}};return(Array.isArray(W==null?void 0:W.items)?W.items:[]).forEach(_e=>{const I=oe(_e,W==null?void 0:W.type);if(!pe[I])return;const k=Math.max(1,Number(_e==null?void 0:_e.quantity)||1),G=Math.max(0,Number(_e==null?void 0:_e.unitPrice)||0),ge=k*G,O=Number.isFinite(Number(_e==null?void 0:_e.discountAmount))?Math.max(0,Number(_e.discountAmount)):0,E=Number.isFinite(Number(_e==null?void 0:_e.amount))?Math.max(0,Number(_e.amount)):Math.max(0,ge-O);let Q=Number(_e==null?void 0:_e.gstPercent);Number.isFinite(Q)||(I==="consultation"&&(Q=Number(W==null?void 0:W.defaultConsultationGstPercent)||0),I==="pharmacy"&&(Q=Number(W==null?void 0:W.defaultPharmacyGstPercent)||0),I==="lab_test"&&(Q=Number(W==null?void 0:W.defaultLabTestGstPercent)||0)),Q=Math.max(0,Q||0);const V=E*Q/100;pe[I].taxable+=E,pe[I].gstAmount+=V,pe[I].rates.add(Q)}),Object.values(pe).filter(_e=>_e.taxable>0||_e.gstAmount>0)},je=c.status||c.startDate||c.endDate;return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Billing"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Manage invoices and payments"})]}),N&&r.jsxs(Ke,{to:"/billing/new",className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[r.jsx(Js,{}),"New Bill"]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:s,onChange:B,placeholder:"Search by bill number or patient name...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),r.jsx("select",{value:c.status,onChange:W=>_("status",W.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:dQ.map(W=>r.jsx("option",{value:W.value,children:W.label},W.value))}),r.jsxs("button",{onClick:()=>l(!o),className:`inline-flex items-center gap-2 px-4 py-2.5 border rounded-lg font-medium transition ${o||je?"border-blue-500 text-blue-600 bg-blue-50":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(y1,{}),"Date Filter",(c.startDate||c.endDate)&&r.jsx("span",{className:"bg-blue-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:"1"})]})]}),o&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),r.jsx("input",{type:"date",lang:"en-GB",value:c.startDate,onChange:W=>_("startDate",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),r.jsx("input",{type:"date",lang:"en-GB",value:c.endDate,onChange:W=>_("endDate",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition",children:[r.jsx(go,{}),"Clear Filters"]})})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:C?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):te.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(x1,{className:"text-4xl mb-4"}),r.jsx("p",{className:"font-medium",children:"No bills found"}),r.jsx("p",{className:"text-sm mt-1",children:s||je?"Try adjusting your search or filters":"Create your first bill to get started"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Bill No"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Patient"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Amount + GST"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:te.map(W=>{var pe,Ce,_e,I;return r.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-medium text-blue-600",children:W.billNo||W.id.slice(-8).toUpperCase()})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-600",children:le(W.createdAt)})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:((pe=W.patient)==null?void 0:pe.name)||"Unknown Patient"}),((Ce=W.patient)==null?void 0:Ce.phone)&&r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:W.patient.phone})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:re(W.totalAmount)}),W.status!=="paid"&&ie(W)>0&&r.jsxs("p",{className:"text-xs text-red-600 mt-0.5",children:["Due: ",re(ie(W))]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-medium capitalize ${xN[(_e=W.paymentStatus)==null?void 0:_e.toLowerCase()]||xN.pending}`,children:((I=W.paymentStatus)==null?void 0:I.toLowerCase())||"pending"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:()=>D(W),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View",children:r.jsx(Ls,{})}),r.jsx("button",{onClick:()=>ce(W),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition",title:"Print",children:r.jsx(Ll,{})}),W.status!=="paid"&&W.status!=="cancelled"&&r.jsxs("button",{onClick:()=>M(W),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 transition",title:"Record Payment",children:[r.jsx($4,{className:"text-xs"}),"Pay"]})]})})]},W.id)})})]})}),r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing"," ",r.jsx("span",{className:"font-medium",children:(i-1)*v+1})," ","to"," ",r.jsx("span",{className:"font-medium",children:Math.min(i*v,q)})," ","of ",r.jsx("span",{className:"font-medium",children:q})," bills"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>a(W=>Math.max(1,W-1)),disabled:i===1,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition",children:r.jsx(yi,{className:"text-gray-600"})}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",i," of ",A]}),r.jsx("button",{onClick:()=>a(W=>Math.min(A,W+1)),disabled:i===A,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition",children:r.jsx(bi,{className:"text-gray-600"})})]})]})]})})]}),r.jsx(At,{isOpen:u,onClose:()=>{h(!1),f(null),w()},title:"Record Payment",size:"md",children:m&&r.jsxs("form",{onSubmit:y(U),className:"space-y-4",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Bill Number"}),r.jsx("p",{className:"font-medium text-gray-900",children:m.billNo||m.id.slice(-8).toUpperCase()})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Balance Due"}),r.jsx("p",{className:"font-medium text-red-600",children:re(ie(m))})]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Payment Amount () ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",step:"0.01",...b("amount",{required:"Amount is required",min:{value:1,message:"Amount must be at least 1"},max:{value:ie(m),message:`Amount cannot exceed ${re(ie(m))}`}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount",defaultValue:ie(m)}),j.amount&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.amount.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Payment Method ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{...b("method",{required:"Payment method is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select method"}),r.jsx("option",{value:"cash",children:"Cash"}),r.jsx("option",{value:"card",children:"Card"}),r.jsx("option",{value:"upi",children:"UPI"}),r.jsx("option",{value:"netbanking",children:"Net Banking"}),r.jsx("option",{value:"insurance",children:"Insurance"}),r.jsx("option",{value:"other",children:"Other"})]}),j.method&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.method.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference / Transaction ID"}),r.jsx("input",{...b("reference"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter reference number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{...b("notes"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Optional payment notes"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[r.jsx("button",{type:"button",onClick:()=>{h(!1),f(null),w()},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:z.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:z.isPending?"Recording...":"Record Payment"})]})]})}),r.jsx(At,{isOpen:g,onClose:()=>{p(!1),f(null)},title:"Bill Details",size:"lg",children:m&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-start pb-4 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Bill Number"}),r.jsx("p",{className:"font-bold text-lg text-gray-900",children:m.billNo||m.id.slice(-8).toUpperCase()})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),r.jsx("p",{className:"font-medium text-gray-900",children:le(m.createdAt)})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Patient"}),r.jsx("p",{className:"font-medium text-gray-900",children:((Ee=m.patient)==null?void 0:Ee.name)||"Unknown Patient"}),((Ue=m.patient)==null?void 0:Ue.phone)&&r.jsx("p",{className:"text-sm text-gray-600",children:m.patient.phone}),((se=m.doctor)==null?void 0:se.name)&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Doctor: Dr. ",m.doctor.name]})]}),m.items&&m.items.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Items"}),r.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-gray-600",children:"Description"}),r.jsx("th",{className:"px-4 py-2 text-center text-gray-600",children:"Qty"}),r.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Price"}),r.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Total"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:m.items.map((W,pe)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 text-gray-900",children:W.description}),r.jsx("td",{className:"px-4 py-2 text-center text-gray-600",children:W.quantity}),r.jsx("td",{className:"px-4 py-2 text-right text-gray-600",children:re(W.unitPrice)}),r.jsx("td",{className:"px-4 py-2 text-right font-medium text-gray-900",children:re(W.quantity*W.unitPrice)})]},pe))})]})})]}),r.jsxs("div",{className:"border-t border-gray-100 pt-4 space-y-2",children:[Se(m).length>0&&r.jsxs("div",{className:"mb-3 rounded-lg border border-gray-200 bg-gray-50 p-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"GST Breakdown by Module"}),r.jsx("div",{className:"space-y-1",children:Se(m).map(W=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:[W.label," (",Array.from(W.rates).sort((pe,Ce)=>pe-Ce).join(", "),"%)"]}),r.jsx("span",{className:"text-gray-900 font-medium",children:re(W.gstAmount)})]},W.label))})]}),m.discount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Discount"}),r.jsxs("span",{className:"text-red-600",children:["-",re(m.discount)]})]}),Y(m)>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-500",children:["Tax (",Y(m),"%)"]}),r.jsx("span",{className:"text-gray-600",children:re(m.taxAmount||0)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[r.jsx("span",{className:"text-gray-900",children:"Total Amount"}),r.jsx("span",{className:"text-gray-900",children:re(m.totalAmount)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Paid"}),r.jsx("span",{className:"text-green-600",children:re(((me=m.payments)==null?void 0:me.reduce((W,pe)=>W+pe.amount,0))||0)})]}),r.jsxs("div",{className:"flex justify-between font-medium",children:[r.jsx("span",{className:"text-gray-700",children:"Balance Due"}),r.jsx("span",{className:ie(m)>0?"text-red-600":"text-green-600",children:re(ie(m))})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[r.jsxs("button",{onClick:()=>ce(m),className:"inline-flex items-center gap-2 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:[r.jsx(Ll,{}),"Print"]}),S&&r.jsx("button",{onClick:()=>{p(!1),K(m)},className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Edit"}),m.status!=="paid"&&m.status!=="cancelled"&&r.jsxs("button",{onClick:()=>{p(!1),M(m)},className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[r.jsx($4,{}),"Record Payment"]})]})]})})]})}const uQ=Object.freeze(Object.defineProperty({__proto__:null,default:ny},Symbol.toStringTag,{value:"Module"})),hQ=[{id:"consultation",label:"Consultation",color:"blue"},{id:"pharmacy",label:"Pharmacy",color:"green"},{id:"lab",label:"Lab Test",color:"purple"}],mQ=[{value:0,label:"No GST (0%)"},{value:5,label:"GST 5%"},{value:10,label:"GST 10%"},{value:12,label:"GST 12%"},{value:18,label:"GST 18%"},{value:20,label:"GST 20%"},{value:30,label:"GST 30%"}],fQ=[{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"upi",label:"UPI"},{value:"netbanking",label:"Net Banking"},{value:"insurance",label:"Insurance"}];function ry(){var de;const{id:e}=iu(),t=st("billing:create",["SUPER_ADMIN","DOCTOR","ACCOUNTANT","PHARMACIST","RECEPTIONIST"]),s=st("billing:edit",["SUPER_ADMIN","DOCTOR","ACCOUNTANT","PHARMACIST","RECEPTIONIST"]),n=!!e;if(n&&!s||!n&&!t)return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Access denied"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["You do not have permission to ",n?"edit":"create"," bills."]})]})})});const i=yn(),a=xn(),[o,l]=x.useState(""),[c,d]=x.useState(null),[u,h]=x.useState(!1),[m,f]=x.useState("consultation"),[g,p]=x.useState(""),[v,b]=x.useState(!1),[y,w]=x.useState(""),[j,N]=x.useState(null),[S,P]=x.useState(""),[C,F]=x.useState(!1),[T,te]=x.useState(!1),{register:A,control:q,handleSubmit:z,watch:B,setValue:_,formState:{errors:$}}=Vt({defaultValues:{items:[],discount:0,discountType:"fixed",gstRate:0,paymentMethod:"cash",paymentAmount:0,paymentReference:"",notes:"",defaultConsultationGstPercent:5,defaultPharmacyGstPercent:10,defaultLabTestGstPercent:20,defaultConsultationDiscountPercent:0,defaultPharmacyDiscountPercent:0,defaultLabTestDiscountPercent:0}}),M=()=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Module GST & Discount Defaults"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Consultation GST (%)"}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",...A("defaultConsultationGstPercent"),className:"input input-bordered w-full mb-2"}),r.jsx("label",{className:"block text-xs mb-1",children:"Consultation Discount (%)"}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",...A("defaultConsultationDiscountPercent"),className:"input input-bordered w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Pharmacy GST (%)"}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",...A("defaultPharmacyGstPercent"),className:"input input-bordered w-full mb-2"}),r.jsx("label",{className:"block text-xs mb-1",children:"Pharmacy Discount (%)"}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",...A("defaultPharmacyDiscountPercent"),className:"input input-bordered w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs mb-1",children:"Lab Test GST (%)"}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",...A("defaultLabTestGstPercent"),className:"input input-bordered w-full mb-2"}),r.jsx("label",{className:"block text-xs mb-1",children:"Lab Test Discount (%)"}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",...A("defaultLabTestDiscountPercent"),className:"input input-bordered w-full"})]})]})]}),{fields:D,append:J,remove:K,replace:ce}=Lx({control:q,name:"items"}),U=B("items")||D,le=B("discount")||0,re=B("discountType"),ie=Number(B("gstRate")||0),Y=Number(B("defaultConsultationGstPercent")||0),oe=Number(B("defaultPharmacyGstPercent")||0),Se=Number(B("defaultLabTestGstPercent")||0),je=Number(B("defaultConsultationDiscountPercent")||0),ne=Number(B("defaultPharmacyDiscountPercent")||0),ke=Number(B("defaultLabTestDiscountPercent")||0);x.useEffect(()=>{_("gstRate",0)},[_]);const Ee=B("paymentAmount")||0,{data:Ue}=Te({queryKey:["billing-doctors"],queryFn:()=>Cr.getDoctors(),enabled:!0}),se=(Ue==null?void 0:Ue.data)||[],[me,W]=x.useState(null),{user:pe,normalizeRole:Ce}=dr(),_e=Ce(pe==null?void 0:pe.role),I=_e==="DOCTOR",k=!!(pe!=null&&pe.isClinicAdmin||["SUPER_ADMIN","ACCOUNTANT"].includes(_e)),G=x.useMemo(()=>{try{const L=Array.isArray(se)?[...se]:[];return I&&pe&&(L.some(De=>De.id===pe.id)||L.unshift({id:pe.id,name:pe.name,email:pe.email})),L}catch{return se||[]}},[se,I,pe]),{data:ge}=Te({queryKey:["billing-patients-search",o,me==null?void 0:me.id],queryFn:()=>Cr.getPatients({search:o,limit:10,doctorId:me==null?void 0:me.id}),enabled:o.length>=2}),{data:O}=Te({queryKey:["products-search",g],queryFn:()=>Rs.getProducts({search:g,limit:10}),enabled:g.length>=2&&m==="pharmacy"}),E=(ge==null?void 0:ge.data)||[],Q=(O==null?void 0:O.data)||[],{data:V}=Te({queryKey:["labs-search",y],queryFn:()=>Ks.getLabs({search:y,limit:10}),enabled:m==="lab"&&y.length>=1}),fe=(V==null?void 0:V.data)||[],{data:be}=Te({queryKey:["lab-tests",j==null?void 0:j.id,S],queryFn:()=>Ks.getLabTests(j==null?void 0:j.id,{search:S,limit:50}),enabled:m==="lab"&&!!j&&S.length>=1}),Fe=(be==null?void 0:be.data)||[],{data:Z}=Te({queryKey:["consultation-fees"],queryFn:()=>ut.getConsultationFees()}),{data:he}=Te({queryKey:["tax-settings"],queryFn:()=>ut.getTaxSettings()}),ye=((de=Z==null?void 0:Z.data)==null?void 0:de.fees)||{},we=L=>Number((ye==null?void 0:ye[L])||0);x.useEffect(()=>{n||!he||(_("defaultConsultationGstPercent",Number(he.consultationGST??0)),_("defaultPharmacyGstPercent",Number(he.pharmacyGST??0)),_("defaultLabTestGstPercent",Number(he.labGST??0)))},[n,he,_]);const Be=L=>{const Ne=String((L==null?void 0:L.type)||"").toLowerCase();return Ne==="consultation"?"consultation":Ne==="pharmacy"||Ne==="medicine"?"pharmacy":Ne==="lab_test"||Ne==="lab"?"lab_test":L!=null&&L.productId?"pharmacy":L!=null&&L.labId||L!=null&&L.labTestId?"lab_test":L!=null&&L.doctorId?"consultation":"other"},ae=L=>{const Ne=Be(L);return Ne==="consultation"?{gstPercent:Y,discountPercent:je}:Ne==="pharmacy"?{gstPercent:oe,discountPercent:ne}:Ne==="lab_test"?{gstPercent:Se,discountPercent:ke}:{gstPercent:ie,discountPercent:0}},Ae=x.useMemo(()=>{const L=U||[],Ne={consultation:{label:"Consultation",subtotal:0,discount:0,taxable:0,gst:0,total:0},pharmacy:{label:"Pharmacy",subtotal:0,discount:0,taxable:0,gst:0,total:0},lab_test:{label:"Lab Test",subtotal:0,discount:0,taxable:0,gst:0,total:0},other:{label:"Other",subtotal:0,discount:0,taxable:0,gst:0,total:0}},De=L.map(_t=>{const kt=Be(_t),wi=Math.max(0,parseFloat(_t.quantity)||0),ve=Math.max(0,parseFloat(_t.unitPrice)||0),tt=wi*ve;let He=parseFloat(_t.discountAmount);if(!Number.isFinite(He)||He<0){let mr=parseFloat(_t.discountPercent);(!Number.isFinite(mr)||mr<0)&&(kt==="consultation"?mr=je:kt==="pharmacy"?mr=ne:kt==="lab_test"?mr=ke:mr=0),He=tt*mr/100}He>tt&&(He=tt);let ft=parseFloat(_t.gstPercent);(!Number.isFinite(ft)||ft<0)&&(kt==="consultation"?ft=Y:kt==="pharmacy"?ft=oe:kt==="lab_test"?ft=Se:ft=ie);const Xn=Math.max(0,tt-He),hr=Xn*ft/100;return Ne[kt].subtotal+=tt,Ne[kt].discount+=He,Ne[kt].taxable+=Xn,Ne[kt].gst+=hr,{moduleType:kt,taxableBeforeGlobal:Xn}}),St=Object.values(Ne).reduce((_t,kt)=>_t+kt.subtotal,0),mt=Object.values(Ne).reduce((_t,kt)=>_t+kt.discount,0),et=Object.values(Ne).reduce((_t,kt)=>_t+kt.taxable,0);let xt=0;re==="percentage"?xt=et*(parseFloat(le)||0)/100:xt=parseFloat(le)||0,xt>et&&(xt=et);const Je=et>0?(et-xt)/et:0,Ss=Object.keys(Ne).reduce((_t,kt)=>{const wi=Ne[kt],ve=wi.taxable*Je,tt=wi.gst*Je;return _t[kt]={...wi,taxable:ve,gst:tt,total:ve+tt},_t},{}),Cs=Object.values(Ss).reduce((_t,kt)=>_t+kt.gst,0),Na=Object.values(Ss).reduce((_t,kt)=>_t+kt.taxable,0)+Cs;return{subtotal:St,itemDiscountAmount:mt,globalDiscountAmount:xt,discountAmount:mt+xt,gstAmount:Cs,total:Na,moduleSummary:Ss,computedItems:De}},[JSON.stringify(U||[]),le,re,ie,Y,oe,Se,je,ne,ke]),R=Ht(),Ie=We({mutationFn:L=>Cr.createBill(L),onSuccess:L=>{X.success("Bill created successfully"),R.invalidateQueries(["bills"]),i("/billing")},onError:L=>{var Ne,De;X.error(((De=(Ne=L.response)==null?void 0:Ne.data)==null?void 0:De.message)||"Failed to create bill")}}),{data:$e}=Te({queryKey:["bill",e],queryFn:()=>e?Cr.getBill(e):Promise.resolve(null),enabled:!!e});x.useEffect(()=>{if($e&&e){const L=$e.data||$e;if(d(L.patient||null),L.doctor&&W({id:L.doctor.id,name:L.doctor.name}),L.type){const De=(L.type||"").toString().toUpperCase();f(De==="PHARMACY"?"pharmacy":De==="LAB_TEST"?"lab":"consultation")}const Ne=(L.items||[]).map(De=>({productId:De.productId||null,labId:De.labId||null,labTestId:De.labTestId||null,description:De.description||"",quantity:De.quantity||1,unitPrice:De.unitPrice||De.amount||0,type:Be(De),gstPercent:De.gstPercent??"",discountPercent:De.discountPercent??"",discountAmount:De.discountAmount??"",doctorId:De.doctorId||void 0}));try{_("items",Ne),L.discountPercent!==null&&L.discountPercent!==void 0?(_("discount",L.discountPercent||0),_("discountType","percentage")):(_("discount",L.discountAmount||0),_("discountType","fixed"));const De=Number(L.subtotal||0),St=Number(L.discountAmount||0),mt=De-St;if(mt>0){const et=Number(L.taxAmount||0)/mt*100||0;_("gstRate",Math.round(et*100)/100)}else _("gstRate",0);_("notes",L.notes||""),_("defaultConsultationGstPercent",L.defaultConsultationGstPercent??5),_("defaultPharmacyGstPercent",L.defaultPharmacyGstPercent??10),_("defaultLabTestGstPercent",L.defaultLabTestGstPercent??20),_("defaultConsultationDiscountPercent",L.defaultConsultationDiscountPercent??0),_("defaultPharmacyDiscountPercent",L.defaultPharmacyDiscountPercent??0),_("defaultLabTestDiscountPercent",L.defaultLabTestDiscountPercent??0)}catch{}}},[$e,e]);const Hs=We({mutationFn:({id:L,data:Ne})=>Cr.updateBill(L,Ne),onSuccess:()=>{X.success("Bill updated successfully"),R.invalidateQueries(["bills"]),i("/billing")},onError:L=>{var Ne,De;X.error(((De=(Ne=L.response)==null?void 0:Ne.data)==null?void 0:De.message)||"Failed to update bill")}}),Jl=async L=>{var Ne,De,St;d(L),l(L.name),h(!1);try{const mt=await Cr.getPrefill(L.id),et=mt==null?void 0:mt.data;if(et!=null&&et.hasPrefill&&Array.isArray(et.items)&&et.items.length>0){const xt=et.items.map(Yt=>({...Yt,type:Be(Yt)}));xt.forEach((Yt,Na)=>{const _t=ae(Yt);(Yt.gstPercent===""||Yt.gstPercent==null)&&(Yt.gstPercent=_t.gstPercent),(Yt.discountPercent===""||Yt.discountPercent==null)&&(Yt.discountAmount===""||Yt.discountAmount==null)&&(Yt.discountPercent=_t.discountPercent),xt[Na]=Yt}),ce(xt),_("items",xt),(Ne=et.doctor)!=null&&Ne.id&&W({id:et.doctor.id,name:et.doctor.name});const Je=Number(((De=et==null?void 0:et.excludedExternal)==null?void 0:De.medicines)||0),Ss=Number(((St=et==null?void 0:et.excludedExternal)==null?void 0:St.labTests)||0);Je+Ss>0?X.success(`Prefilled from prescription. Excluded external items: ${Je} medicine(s), ${Ss} lab test(s).`):X.success("Medicine and lab test amounts prefilled from latest prescription")}}catch(mt){console.error("Failed to prefill bill from prescription:",mt)}},Zl=L=>{W(L||null),d(null),l("")};x.useEffect(()=>{if(!k&&I&&pe){const L=G.find(Ne=>Ne.id===pe.id)||{id:pe.id,name:pe.name};W(L)}},[pe,I,k]);const ji=L=>{const Ne=U.findIndex(De=>De.productId===L.id);if(Ne>=0){const De=(parseInt(U[Ne].quantity)||0)+1;_(`items.${Ne}.quantity`,De),X.success(`${L.name} quantity updated`)}else J({productId:L.id,description:L.name,quantity:1,unitPrice:L.sellingPrice||L.mrp||0,type:"pharmacy",gstPercent:oe,discountPercent:ne}),X.success(`${L.name} added to bill`);p(""),b(!1)},So=L=>{N(L),w(L.name)},ja=L=>{J({productId:null,description:L.name,quantity:1,unitPrice:L.price||0,type:"lab_test",labId:(j==null?void 0:j.id)||L.labId||null,labTestId:L.id||null,gstPercent:Se,discountPercent:ke}),X.success(`${L.name} added to bill`),P(""),F(!1)},nt=()=>{const L=(me==null?void 0:me.id)||(I&&!k?pe==null?void 0:pe.id:void 0);J({productId:null,description:"",quantity:1,unitPrice:m==="consultation"?we(L):0,type:m==="consultation"?"consultation":m==="lab"?"lab_test":m==="pharmacy"?"pharmacy":"other",doctorId:m==="consultation"?(me==null?void 0:me.id)||(I&&!k?pe==null?void 0:pe.id:void 0):void 0,gstPercent:m==="consultation"?Y:m==="lab"?Se:m==="pharmacy"?oe:ie,discountPercent:m==="consultation"?je:m==="lab"?ke:m==="pharmacy"?ne:0})};x.useEffect(()=>{(U||[]).forEach((L,Ne)=>{const De=ae(L),St=(L==null?void 0:L.gstPercent)===""||(L==null?void 0:L.gstPercent)==null,mt=(L==null?void 0:L.discountPercent)===""||(L==null?void 0:L.discountPercent)==null,et=(L==null?void 0:L.discountAmount)===""||(L==null?void 0:L.discountAmount)==null;St&&_(`items.${Ne}.gstPercent`,De.gstPercent),mt&&et&&_(`items.${Ne}.discountPercent`,De.discountPercent)})},[U,Y,oe,Se,je,ne,ke,ie,_]),x.useEffect(()=>{if(m!=="consultation")return;const L=(me==null?void 0:me.id)||(I&&!k?pe==null?void 0:pe.id:void 0);if(!L)return;const Ne=we(L);Ne<=0||(U||[]).forEach((De,St)=>{((De==null?void 0:De.type)||"").toLowerCase()==="consultation"&&(De!=null&&De.doctorId||_(`items.${St}.doctorId`,L),(!(De!=null&&De.unitPrice)||Number(De.unitPrice)<=0)&&_(`items.${St}.unitPrice`,Ne))})},[m,me==null?void 0:me.id,ye,I,k,pe==null?void 0:pe.id,U,_]);const wa=L=>{var mt,et,xt;if(!c){X.error("Please select a patient");return}if(L.items.length===0){X.error("Please add at least one item");return}const Ne={pharmacy:"PHARMACY",consultation:"CONSULTATION",lab:"LAB_TEST"},De=String(L.discountType||"fixed").toLowerCase()==="percentage"?"PERCENTAGE":"AMOUNT",St={patientId:c.id,doctorId:me==null?void 0:me.id,type:Ne[m]||"MIXED",items:L.items.map(Je=>({description:Je.description,quantity:parseInt(Je.quantity),unitPrice:parseFloat(Je.unitPrice),type:Be(Je),gstPercent:Je.gstPercent!==""&&Je.gstPercent!=null?parseFloat(Je.gstPercent):null,discountPercent:Je.discountPercent!==""&&Je.discountPercent!=null?parseFloat(Je.discountPercent):null,discountAmount:Je.discountAmount!==""&&Je.discountAmount!=null?parseFloat(Je.discountAmount):null,productId:Je.productId||void 0,labId:Je.labId||void 0,labTestId:Je.labTestId||void 0,doctorId:Je.doctorId||void 0})),discount:parseFloat(L.discount)||0,discountType:De,taxConfig:{gstRate:parseFloat(L.gstRate)||0},notes:L.notes,defaultConsultationGstPercent:parseFloat(L.defaultConsultationGstPercent)||0,defaultPharmacyGstPercent:parseFloat(L.defaultPharmacyGstPercent)||0,defaultLabTestGstPercent:parseFloat(L.defaultLabTestGstPercent)||0,defaultConsultationDiscountPercent:parseFloat(L.defaultConsultationDiscountPercent)||0,defaultPharmacyDiscountPercent:parseFloat(L.defaultPharmacyDiscountPercent)||0,defaultLabTestDiscountPercent:parseFloat(L.defaultLabTestDiscountPercent)||0};if(T&&parseFloat(L.paymentAmount)>0&&(St.payment={amount:parseFloat(L.paymentAmount),method:L.paymentMethod,reference:L.paymentReference}),e){const Je=($e==null?void 0:$e.data)||$e||null;if(String((Je==null?void 0:Je.paymentStatus)||(Je==null?void 0:Je.status)||"").toUpperCase()==="PAID"){const Cs=!!((mt=a==null?void 0:a.state)!=null&&mt.paidEditConfirmed);let Yt=String(((et=a==null?void 0:a.state)==null?void 0:et.paidEditReason)||"").trim();if(!Cs||!Yt){if(!window.confirm("This bill is already PAID. Editing it will be logged as a sensitive activity. Continue?")){X.error("Paid bill edit cancelled.");return}if(Yt=((xt=window.prompt("Enter reason for editing this PAID bill (required):"))==null?void 0:xt.trim())||"",!Yt){X.error("Reason is required to edit a paid bill.");return}}St.paidEditConfirmed=!0,St.paidEditReason=Yt}Hs.mutate({id:e,data:St})}else Ie.mutate(St)},as=L=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(L||0),Co=L=>{const Ne=Be(L),De=Math.max(0,Number((L==null?void 0:L.quantity)||0)),St=Math.max(0,Number((L==null?void 0:L.unitPrice)||0)),mt=De*St;let et=Number(L==null?void 0:L.discountAmount);if(!Number.isFinite(et)||et<0){let Cs=Number(L==null?void 0:L.discountPercent);(!Number.isFinite(Cs)||Cs<0)&&(Ne==="consultation"?Cs=je:Ne==="pharmacy"?Cs=ne:Ne==="lab_test"?Cs=ke:Cs=0),et=mt*Cs/100}et>mt&&(et=mt);let xt=Number(L==null?void 0:L.gstPercent);(!Number.isFinite(xt)||xt<0)&&(Ne==="consultation"?xt=Y:Ne==="pharmacy"?xt=oe:Ne==="lab_test"?xt=Se:xt=ie);const Je=Math.max(0,mt-et),Ss=Je*xt/100;return{subtotal:mt,discountAmount:et,taxable:Je,gstAmount:Ss,total:Je+Ss}};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("button",{onClick:()=>i("/billing"),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:r.jsx(np,{className:"text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"New Bill"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Create a new invoice"})]})]}),r.jsx("form",{onSubmit:z(wa),children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[M(),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Bd,{className:"text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Patient"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("div",{className:"w-1/3",children:[r.jsxs("select",{value:(me==null?void 0:me.id)||"",onChange:L=>{const Ne=L.target.value,De=G.find(St=>St.id===Ne)||null;Zl(De)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[k&&r.jsx("option",{value:"",children:"All Doctors"}),G.map(L=>r.jsx("option",{value:L.id,children:L.name},L.id))]}),!k&&r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Listing patients for all doctors is restricted to clinic admins and accountants."})]}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:o,onChange:L=>{l(L.target.value),h(!0),L.target.value||d(null)},onFocus:()=>h(!0),placeholder:"Search patient by name or phone...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]})]}),u&&E.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:E.map(L=>r.jsxs("button",{type:"button",onClick:()=>Jl(L),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0",children:[r.jsx("p",{className:"font-medium text-gray-900",children:L.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[L.phone," ",L.email&&` ${L.email}`]})]},L.id))})]}),c&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"font-medium text-blue-900",children:c.name}),r.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:[c.phone,c.email&&`  ${c.email}`]}),c.patientId&&r.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["ID: ",c.patientId]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bill Type"}),r.jsx("div",{className:"flex flex-wrap gap-3",children:hQ.map(L=>r.jsx("button",{type:"button",onClick:()=>f(L.id),className:`px-4 py-2 rounded-lg font-medium transition ${m===L.id?L.color==="blue"?"bg-blue-600 text-white":L.color==="green"?"bg-green-600 text-white":"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:L.label},L.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(z4,{className:"text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Items"})]}),r.jsxs("button",{type:"button",onClick:nt,className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:[r.jsx(Js,{}),"Add Item"]})]}),m==="pharmacy"&&r.jsxs("div",{className:"relative mb-4",children:[r.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:g,onChange:L=>{p(L.target.value),b(!0)},onFocus:()=>b(!0),placeholder:"Search and add products...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),v&&Q.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:Q.map(L=>r.jsxs("button",{type:"button",onClick:()=>ji(L),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:L.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Stock: ",L.quantity," ",L.unit||"units"]})]}),r.jsx("span",{className:"font-medium text-gray-900",children:as(L.sellingPrice||L.mrp)})]},L.id))})]}),m==="lab"&&r.jsxs("div",{className:"mb-4 bg-white rounded p-4 border border-gray-100",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Lab"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:y,onChange:L=>{w(L.target.value)},onFocus:()=>w(y),placeholder:"Search labs...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),y&&fe.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-auto",children:fe.map(L=>{var Ne;return r.jsx("button",{type:"button",onClick:()=>So(L),className:"w-full text-left px-4 py-2 hover:bg-gray-50 border-b border-gray-100",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:L.name}),L.contactPerson&&r.jsx("p",{className:"text-xs text-gray-500",children:L.contactPerson})]}),r.jsx("div",{className:"text-sm text-gray-500",children:((Ne=L._count)==null?void 0:Ne.bills)||""})]})},L.id)})})]})]}),j&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["Selected Lab: ",r.jsx("strong",{children:j.name})]}),r.jsxs("div",{className:"relative mb-2",children:[r.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:S,onChange:L=>{P(L.target.value),F(!0)},onFocus:()=>F(!0),placeholder:"Search lab tests...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),C&&S.length>=1&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Fe.length===0?r.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No lab tests found"}):Fe.map(L=>r.jsx("button",{type:"button",onClick:()=>ja(L),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-0",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:L.name}),L.category&&r.jsx("p",{className:"text-sm text-gray-500",children:L.category})]}),r.jsxs("div",{className:"text-sm font-medium text-gray-800",children:[L.price," ",L.currency||"INR"]})]})},L.id))})]})]})]}),D.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(z4,{className:"text-3xl mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No items added yet"}),r.jsx("p",{className:"text-sm mt-1",children:m==="pharmacy"?"Search and add products above":'Click "Add Item" to add items'})]}):r.jsx("div",{className:"space-y-4",children:D.map((L,Ne)=>r.jsxs("div",{className:`rounded-xl border shadow-sm overflow-hidden ${Ne%2===0?"bg-white border-gray-200":"bg-slate-50/70 border-slate-300"}`,children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200/80 bg-white/70",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-[11px] font-semibold bg-gray-100 text-gray-700",children:["Item ",Ne+1]}),r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-[11px] font-semibold bg-blue-50 border border-blue-100 text-blue-700 uppercase",children:Be((U==null?void 0:U[Ne])||L).replace("_"," ")})]}),r.jsx("button",{type:"button",onClick:()=>K(Ne),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Remove item",children:r.jsx(Fl,{})})]}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[r.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-gray-500 mb-2",children:"Line 1: Item Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[r.jsxs("div",{className:Be((U==null?void 0:U[Ne])||L)==="consultation"?"md:col-span-6":"md:col-span-9",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),r.jsx("input",{...A(`items.${Ne}.description`,{required:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Item description"})]}),Be((U==null?void 0:U[Ne])||L)==="consultation"&&r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Doctor"}),r.jsxs("select",{...A(`items.${Ne}.doctorId`,{onChange:De=>{var et;const St=(et=De==null?void 0:De.target)==null?void 0:et.value;if(!St)return;const mt=we(St);_(`items.${Ne}.unitPrice`,Number.isFinite(mt)?mt:0)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[!k&&r.jsx("option",{value:pe==null?void 0:pe.id,children:pe==null?void 0:pe.name}),k&&r.jsx("option",{value:"",children:"Select doctor"}),G.map(De=>r.jsx("option",{value:De.id,children:De.name},De.id))]})]}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Qty"}),r.jsx("input",{type:"number",min:"1",...A(`items.${Ne}.quantity`,{required:!0,min:1}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Price (INR)"}),r.jsx("input",{type:"number",step:"0.01",min:"0",...A(`items.${Ne}.unitPrice`,{required:!0,min:0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]})]}),r.jsxs("div",{className:"rounded-lg border border-blue-100 bg-blue-50/40 p-3",children:[r.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-blue-700 mb-2",children:"Line 2: GST & Discount"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"GST (%)"}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",...A(`items.${Ne}.gstPercent`),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Discount (%)"}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",...A(`items.${Ne}.discountPercent`),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Discount Amount"}),r.jsx("input",{type:"number",step:"0.01",min:"0",...A(`items.${Ne}.discountAmount`),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]})]})]}),r.jsx("div",{className:"mt-3 text-xs text-gray-500 border-t border-gray-100 pt-2",children:(()=>{const De=Co((U==null?void 0:U[Ne])||L);return`Line Total ${as(De.total)} | Taxable ${as(De.taxable)} | GST ${as(De.gstAmount)}`})()})]},L.id))})]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 shadow-sm overflow-hidden bg-white",children:[r.jsx("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200/80 bg-white/70",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-[11px] font-semibold bg-gray-100 text-gray-700",children:"Billing Rules"}),r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-[11px] font-semibold bg-blue-50 border border-blue-100 text-blue-700 uppercase",children:[r.jsx(qP,{className:"text-[10px]"}),"Bill-Level Discount"]})]})}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3",children:[r.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-gray-500 mb-2",children:"Discount Controls"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[r.jsxs("div",{className:"md:col-span-6",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Discount Type"}),r.jsxs("select",{...A("discountType"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[r.jsx("option",{value:"fixed",children:"Fixed Amount (INR)"}),r.jsx("option",{value:"percentage",children:"Percentage (%)"})]})]}),r.jsxs("div",{className:"md:col-span-6",children:[r.jsxs("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:["Discount ",re==="percentage"?"(%)":"(INR)"]}),r.jsx("input",{type:"number",step:"0.01",min:"0",...A("discount"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0"})]})]})]}),r.jsxs("div",{className:"rounded-lg border border-blue-100 bg-blue-50/40 p-3",children:[r.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-blue-700 mb-2",children:"Tax Fallback"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:r.jsxs("div",{className:"md:col-span-6",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Fallback GST For Other Items"}),r.jsx("select",{...A("gstRate"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:mQ.map(L=>r.jsx("option",{value:L.value,children:L.label},L.value))})]})})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),r.jsx("textarea",{...A("notes"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Any additional notes for this bill..."})]})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 sticky top-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bill Summary"}),r.jsxs("div",{className:"space-y-3",children:[Object.values(Ae.moduleSummary||{}).filter(L=>L.subtotal>0).map(L=>r.jsxs("div",{className:"rounded-lg border border-gray-100 p-3 bg-gray-50/60",children:[r.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-800",children:[r.jsx("span",{children:L.label}),r.jsx("span",{children:as(L.total)})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:"Subtotal"}),r.jsx("span",{children:as(L.subtotal)})]}),L.discount>0&&r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:"Item Discount"}),r.jsxs("span",{children:["-",as(L.discount)]})]}),L.gst>0&&r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:"GST"}),r.jsxs("span",{children:["+",as(L.gst)]})]})]},L.label)),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Subtotal"}),r.jsx("span",{className:"text-gray-900",children:as(Ae.subtotal)})]}),Ae.itemDiscountAmount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Item Discounts"}),r.jsxs("span",{className:"text-red-600",children:["-",as(Ae.itemDiscountAmount)]})]}),Ae.globalDiscountAmount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Bill Discount"}),r.jsxs("span",{className:"text-red-600",children:["-",as(Ae.globalDiscountAmount)]})]}),Ae.gstAmount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"GST"}),r.jsxs("span",{className:"text-gray-900",children:["+",as(Ae.gstAmount)]})]}),r.jsx("div",{className:"border-t border-gray-100 pt-3",children:r.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[r.jsx("span",{className:"text-gray-900",children:"Total"}),r.jsx("span",{className:"text-blue-600",children:as(Ae.total)})]})})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:T,onChange:L=>te(L.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Collect Payment Now"})]}),T&&r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),r.jsx("select",{...A("paymentMethod"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:fQ.map(L=>r.jsx("option",{value:L.value,children:L.label},L.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ()"}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:Ae.total,...A("paymentAmount"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:Ae.total.toFixed(2)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference / Transaction ID"}),r.jsx("input",{...A("paymentReference"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional"})]}),Ee>0&&Ee<Ae.total&&r.jsxs("p",{className:"text-sm text-yellow-600 bg-yellow-50 p-2 rounded",children:["Balance due after payment:"," ",r.jsx("span",{className:"font-medium",children:as(Ae.total-Ee)})]})]})]}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsxs("button",{type:"submit",disabled:Ie.isPending||!c||D.length===0,className:"w-full inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-3 rounded-lg font-medium hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(jn,{}),Ie.isPending?"Creating...":"Create Bill"]}),r.jsx("button",{type:"button",onClick:()=>i("/billing"),className:"w-full px-4 py-2.5 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cancel"})]})]})})]})})]}),(u||v)&&r.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>{h(!1),b(!1)}})]})}const pQ=Object.freeze(Object.defineProperty({__proto__:null,default:ry},Symbol.toStringTag,{value:"Module"})),B0=["Administration","Medical","Nursing","Pharmacy","Laboratory","Reception","Housekeeping","Accounts"],yN=["Doctor","Nurse","Pharmacist","Lab Technician","Receptionist","Administrator","Accountant","Cleaner","Security","Manager"];function dk(){var Se,je;const e=Ht(),[t,s]=x.useState(""),[n,i]=x.useState(1),[a,o]=x.useState(!1),[l,c]=x.useState(!1),[d,u]=x.useState(null),[h,m]=x.useState(""),f=10,{register:g,handleSubmit:p,reset:v,formState:{errors:b}}=Vt(),{register:y,handleSubmit:w,reset:j,setValue:N,formState:{errors:S}}=Vt(),{data:P,isLoading:C}=Te({queryKey:["staff",n,f,t,h],queryFn:()=>js.getAll({page:n,limit:f,search:t,department:h}),placeholderData:ne=>ne}),F=(P==null?void 0:P.data)||[],T=((Se=P==null?void 0:P.pagination)==null?void 0:Se.totalPages)||1,te=((je=P==null?void 0:P.pagination)==null?void 0:je.total)||0,A=We({mutationFn:ne=>js.create(ne),onSuccess:()=>{X.success("Staff member added successfully"),e.invalidateQueries(["staff"]),o(!1),v()},onError:ne=>{var ke,Ee;X.error(((Ee=(ke=ne.response)==null?void 0:ke.data)==null?void 0:Ee.message)||"Failed to add staff member")}}),q=We({mutationFn:({id:ne,data:ke})=>js.update(ne,ke),onSuccess:()=>{X.success("Staff member updated successfully"),e.invalidateQueries(["staff"]),c(!1),u(null),j()},onError:ne=>{var ke,Ee;X.error(((Ee=(ke=ne.response)==null?void 0:ke.data)==null?void 0:Ee.message)||"Failed to update staff member")}}),z=We({mutationFn:ne=>js.deactivate(ne),onSuccess:()=>{X.success("Staff member deactivated successfully"),e.invalidateQueries(["staff"])},onError:ne=>{var ke,Ee;X.error(((Ee=(ke=ne.response)==null?void 0:ke.data)==null?void 0:Ee.message)||"Failed to deactivate staff member")}}),B=We({mutationFn:ne=>js.activate(ne),onSuccess:()=>{X.success("Staff member activated successfully"),e.invalidateQueries(["staff"])},onError:ne=>{var ke,Ee;X.error(((Ee=(ke=ne.response)==null?void 0:ke.data)==null?void 0:Ee.message)||"Failed to activate staff member")}}),_=ne=>{s(ne.target.value),i(1)},$=ne=>{A.mutate({...ne,salary:ne.salary?parseFloat(ne.salary):void 0})},M=ne=>{d&&q.mutate({id:d.id,data:{...ne,salary:ne.salary?parseFloat(ne.salary):void 0}})},D=ne=>{var ke,Ee,Ue,se;u(ne),N("name",((ke=ne.user)==null?void 0:ke.name)||ne.name||""),N("email",((Ee=ne.user)==null?void 0:Ee.email)||ne.email||""),N("phone",((Ue=ne.user)==null?void 0:Ue.phone)||ne.phone||""),N("designation",ne.designation||""),N("department",ne.department||""),N("salary",ne.salary||""),N("joiningDate",((se=ne.joiningDate)==null?void 0:se.split("T")[0])||""),c(!0)},[J,K]=x.useState(!1),[ce,U]=x.useState(null),[le,re]=x.useState(""),ie=async()=>{var ne,ke,Ee,Ue;try{const se=le?{newPassword:le}:{},me=await ee.post(`/staff/${ce}/reset-password`,se),W=(ne=me.data)==null?void 0:ne.tempPassword;alert((((ke=me.data)==null?void 0:ke.message)||"Password updated")+(W?`
Temporary password: ${W}`:"")),K(!1),re(""),e.invalidateQueries(["staff"])}catch(se){console.error(se),alert(((Ue=(Ee=se==null?void 0:se.response)==null?void 0:Ee.data)==null?void 0:Ue.message)||"Failed to reset password")}},Y=ne=>{var Ee;const ke=((Ee=ne.user)==null?void 0:Ee.name)||ne.name||ne.employeeId||"this staff member";window.confirm(`Are you sure you want to deactivate "${ke}"?`)&&z.mutate(ne.id)},oe=ne=>{B.mutate(ne.id)};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Management"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Manage employees and their details"})]}),r.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[r.jsx(Js,{}),"Add Staff"]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:t,onChange:_,placeholder:"Search by name, employee ID, or phone...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),r.jsxs("select",{value:h,onChange:ne=>{m(ne.target.value),i(1)},className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Departments"}),B0.map(ne=>r.jsx("option",{value:ne,children:ne},ne))]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:C?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):F.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(Oc,{className:"text-4xl mb-4"}),r.jsx("p",{className:"font-medium",children:"No staff members found"}),r.jsx("p",{className:"text-sm mt-1",children:t?"Try adjusting your search":"Add your first staff member to get started"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Employee ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Designation"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Phone"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:F.map(ne=>{var ke,Ee,Ue,se,me,W,pe,Ce;return r.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"font-mono text-sm text-gray-900",children:ne.employeeId||"EMP-"+((ke=ne.id)==null?void 0:ke.slice(-6).toUpperCase())})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-medium text-sm",children:(((Ee=ne.user)==null?void 0:Ee.name)||ne.name||"S").charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:((Ue=ne.user)==null?void 0:Ue.name)||ne.name||"Unknown"}),r.jsx("p",{className:"text-sm text-gray-500",children:((se=ne.user)==null?void 0:se.email)||ne.email||"-"})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-gray-900",children:ne.designation||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:ne.department||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:((me=ne.user)==null?void 0:me.phone)||ne.phone||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${(((W=ne.user)==null?void 0:W.isActive)??ne.isActive)!==!1?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:(((pe=ne.user)==null?void 0:pe.isActive)??ne.isActive)!==!1?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:()=>D(ne),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit",children:r.jsx(yu,{})}),(((Ce=ne.user)==null?void 0:Ce.isActive)??ne.isActive)!==!1?r.jsx("button",{onClick:()=>Y(ne),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Deactivate",children:r.jsx(wU,{})}):r.jsx("button",{onClick:()=>oe(ne),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition",title:"Activate",children:r.jsx(vU,{})}),r.jsx("button",{onClick:()=>{U(ne.id),K(!0)},className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition",title:"Reset Password",children:"Reset PW"})]})})]},ne.id)})})]})}),r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(n-1)*f+1," to"," ",Math.min(n*f,te)," of ",te," staff members"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>i(ne=>Math.max(1,ne-1)),disabled:n===1,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:r.jsx(yi,{className:"text-gray-600"})}),r.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",n," of ",T]}),r.jsx("button",{onClick:()=>i(ne=>Math.min(T,ne+1)),disabled:n===T,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:r.jsx(bi,{className:"text-gray-600"})})]})]})]})}),r.jsx(At,{isOpen:a,onClose:()=>{o(!1),v()},title:"Add Staff Member",size:"lg",children:r.jsxs("form",{autoComplete:"off",onSubmit:p($),className:"space-y-4",children:[r.jsx("input",{type:"text",name:"fake-username",autoComplete:"username",style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}}),r.jsx("input",{type:"password",name:"fake-password",autoComplete:"current-password",style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...g("name",{required:"Name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full name"}),b.name&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:b.name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",autoComplete:"off",...g("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email"}),b.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:b.email.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",r.jsx("span",{className:"text-gray-400 text-xs",children:"(optional)"})]}),r.jsx("input",{type:"password",autoComplete:"new-password",...g("password"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Set initial password (leave blank to auto-generate)"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",...g("phone",{required:"Phone is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"}),b.phone&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:b.phone.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{...g("department",{required:"Department is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Department"}),B0.map(ne=>r.jsx("option",{value:ne,children:ne},ne))]}),b.department&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:b.department.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Designation ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{...g("designation",{required:"Designation is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Designation"}),yN.map(ne=>r.jsx("option",{value:ne,children:ne},ne))]}),b.designation&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:b.designation.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salary"}),r.jsx("input",{type:"number",...g("salary"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter monthly salary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",...g("joiningDate"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("input",{type:"text",...g("address"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter address"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{o(!1),v()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:A.isPending,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:A.isPending?"Adding...":"Add Staff"})]})]})}),r.jsx(At,{isOpen:l,onClose:()=>{c(!1),u(null),j()},title:"Edit Staff Member",size:"lg",children:r.jsxs("form",{autoComplete:"off",onSubmit:w(M),className:"space-y-4",children:[r.jsx("input",{type:"text",name:"fake-username-edit",autoComplete:"username",style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}}),r.jsx("input",{type:"password",name:"fake-password-edit",autoComplete:"current-password",style:{position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...y("name",{required:"Name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full name"}),S.name&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",...y("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email"}),S.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.email.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",...y("phone",{required:"Phone is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"}),S.phone&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.phone.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{...y("department",{required:"Department is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Department"}),B0.map(ne=>r.jsx("option",{value:ne,children:ne},ne))]}),S.department&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.department.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Designation ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{...y("designation",{required:"Designation is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Designation"}),yN.map(ne=>r.jsx("option",{value:ne,children:ne},ne))]}),S.designation&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.designation.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salary"}),r.jsx("input",{type:"number",...y("salary"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter monthly salary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",...y("joiningDate"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",r.jsx("span",{className:"text-gray-400 text-xs",children:"(optional)"})]}),r.jsx("input",{type:"password",...y("password"),autoComplete:"new-password",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Set new password (leave blank to keep existing)"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{c(!1),u(null),j()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:q.isPending,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:q.isPending?"Saving...":"Save Changes"})]})]})}),J&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Reset Password"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Enter a new password for the staff member, or leave blank to auto-generate a temporary password."}),r.jsx("input",{type:"password",value:le,onChange:ne=>re(ne.target.value),placeholder:"New password (optional)",className:"w-full px-3 py-2 border rounded mb-4",autoComplete:"new-password"}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>{K(!1),re("")},className:"px-3 py-2 border rounded",children:"Cancel"}),r.jsx("button",{onClick:ie,className:"px-3 py-2 bg-yellow-600 text-white rounded",children:"Reset Password"})]})]})})]})})}const gQ=Object.freeze(Object.defineProperty({__proto__:null,default:dk},Symbol.toStringTag,{value:"Module"})),xQ=["January","February","March","April","May","June","July","August","September","October","November","December"];function uk(){const e=Ht(),t=new Date,[s,n]=x.useState("view"),[i,a]=x.useState(t.getMonth()),[o,l]=x.useState(t.getFullYear()),[c,d]=x.useState(""),[u,h]=x.useState(""),[m,f]=x.useState(t.toISOString().split("T")[0]),g=x.useMemo(()=>new Date(o,i+1,0).getDate(),[i,o]),p=x.useMemo(()=>Array.from({length:g},(U,le)=>le+1),[g]),v=x.useMemo(()=>{const U=new Date().getFullYear();return Array.from({length:7},(le,re)=>U-5+re)},[]),{data:b,isLoading:y}=Te({queryKey:["staff","all",c],queryFn:()=>js.getAll({limit:100,department:c})}),w=(b==null?void 0:b.data)||[],{data:j,isLoading:N}=Te({queryKey:["attendance-date",m],queryFn:()=>js.getAttendance({date:m,limit:500}),staleTime:5e3}),S=(j==null?void 0:j.data)||[],{data:P,isLoading:C}=Te({queryKey:["attendance",i,o,c],queryFn:()=>js.getAttendance({month:i+1,year:o,department:c,limit:1e3}),enabled:s==="monthly"}),F=(P==null?void 0:P.data)||[],T=x.useMemo(()=>{const U=S.filter(oe=>oe.status==="PRESENT").length,le=S.filter(oe=>oe.status==="ABSENT").length,re=S.filter(oe=>oe.status==="ON_LEAVE").length,ie=S.filter(oe=>oe.status==="HALF_DAY").length,Y=w.length-S.length;return{totalStaff:w.length,presentToday:U,absentToday:le,onLeave:re,halfDay:ie,notMarked:Y>0?Y:0}},[S,w]),{data:te}=Te({queryKey:["attendance-summary",i,o],queryFn:()=>js.getAttendanceSummary({month:i+1,year:o})}),A=T,q=We({mutationFn:U=>js.markAttendance(U),onSuccess:()=>{X.success("Attendance marked successfully"),e.invalidateQueries({queryKey:["attendance-date",m]}),e.invalidateQueries({queryKey:["attendance"]}),e.invalidateQueries({queryKey:["attendance-summary"]}),e.refetchQueries({queryKey:["attendance-date",m]})},onError:U=>{var le,re;X.error(((re=(le=U.response)==null?void 0:le.data)==null?void 0:re.message)||"Failed to mark attendance")}}),z=(U,le)=>{const ie=(s==="view"||s==="mark"?S:F).find(oe=>{const Se=new Date(oe.date),je=`${Se.getFullYear()}-${String(Se.getMonth()+1).padStart(2,"0")}-${String(Se.getDate()).padStart(2,"0")}`;return oe.staffId===U&&je===le});return ie!=null&&ie.status?{PRESENT:"present",ABSENT:"absent",ON_LEAVE:"leave",HALF_DAY:"half-day",LATE:"late"}[ie.status]||ie.status.toLowerCase():null},B=(U,le)=>{const re=`${o}-${String(i+1).padStart(2,"0")}-${String(le).padStart(2,"0")}`;return z(U,re)},_=(U,le,re=m)=>{q.mutate({staffId:U,date:new Date(re).toISOString(),status:le.toUpperCase().replace("-","_").replace("LEAVE","ON_LEAVE")})},$=U=>{U==="prev"?i===0?(a(11),l(o-1)):a(i-1):i===11?(a(0),l(o+1)):a(i+1)},M=U=>new Date(o,i,U).getDay()===0,D=U=>{const le=new Date(o,i,U),re=new Date;return re.setHours(0,0,0,0),le>re},J=y||C,K=({staffId:U,currentStatus:le})=>{const re=[{key:"present",label:"Present",color:"bg-green-500 hover:bg-green-600",activeRing:"ring-green-500"},{key:"absent",label:"Absent",color:"bg-red-500 hover:bg-red-600",activeRing:"ring-red-500"},{key:"leave",label:"Leave",color:"bg-yellow-500 hover:bg-yellow-600",activeRing:"ring-yellow-500"},{key:"half-day",label:"Half Day",color:"bg-blue-500 hover:bg-blue-600",activeRing:"ring-blue-500"}];return r.jsx("div",{className:"flex flex-wrap gap-2",children:re.map(({key:ie,label:Y,color:oe,activeRing:Se})=>r.jsx("button",{onClick:()=>_(U,ie),disabled:q.isPending,className:`
              px-4 py-2 rounded-lg text-white font-medium transition-all text-sm
              ${oe}
              ${le===ie?`ring-2 ring-offset-2 ${Se} scale-105`:"opacity-60 hover:opacity-100"}
              disabled:opacity-50 disabled:cursor-not-allowed
            `,children:Y},ie))})},ce=({status:U})=>{const le={present:"bg-green-500 text-white",absent:"bg-red-500 text-white",leave:"bg-yellow-500 text-white","half-day":"bg-blue-500 text-white"},re={present:"P",absent:"A",leave:"L","half-day":"H"};return r.jsx("span",{className:`inline-flex items-center justify-center w-7 h-7 rounded-full text-xs font-bold ${le[U]||"bg-gray-200 text-gray-500"}`,children:re[U]||"-"})};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-full mx-auto",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Attendance"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Track and manage daily attendance records"})]})}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(Oc,{className:"text-blue-600 text-xl"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Staff"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.totalStaff||w.length})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(fa,{className:"text-green-600 text-xl"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Present Today"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:A.presentToday})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:r.jsx(Vd,{className:"text-red-600 text-xl"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Absent Today"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:A.absentToday})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:r.jsx(pU,{className:"text-yellow-600 text-xl"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"On Leave"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:A.onLeave})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[r.jsxs("div",{className:"flex border-b border-gray-100",children:[r.jsxs("button",{onClick:()=>n("view"),className:`flex-1 flex items-center justify-center gap-2 px-6 py-4 font-medium transition ${s==="view"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Ls,{}),r.jsx("span",{children:"View Attendance"})]}),r.jsxs("button",{onClick:()=>n("mark"),className:`flex-1 flex items-center justify-center gap-2 px-6 py-4 font-medium transition ${s==="mark"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(sU,{}),r.jsx("span",{children:"Mark Attendance"})]}),r.jsxs("button",{onClick:()=>n("monthly"),className:`flex-1 flex items-center justify-center gap-2 px-6 py-4 font-medium transition ${s==="monthly"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(uU,{}),r.jsx("span",{children:"Monthly View"})]})]}),r.jsx("div",{className:"p-4",children:s==="view"?r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ma,{className:"text-gray-400"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",value:m,onChange:U=>f(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("select",{value:u,onChange:U=>h(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"PRESENT",children:"Present Only"}),r.jsx("option",{value:"ABSENT",children:"Absent Only"}),r.jsx("option",{value:"ON_LEAVE",children:"On Leave Only"}),r.jsx("option",{value:"NOT_MARKED",children:"Not Marked"})]}),u&&r.jsx("button",{onClick:()=>h(""),className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear Filter"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-6 p-4 bg-gray-50 rounded-xl",children:[r.jsxs("div",{className:`text-center p-3 rounded-lg cursor-pointer transition ${u===""?"bg-blue-100 ring-2 ring-blue-400":"bg-white hover:bg-blue-50"}`,onClick:()=>h(""),children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.totalStaff}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Staff"})]}),r.jsxs("div",{className:`text-center p-3 rounded-lg cursor-pointer transition ${u==="PRESENT"?"bg-green-100 ring-2 ring-green-400":"bg-white hover:bg-green-50"}`,onClick:()=>h(u==="PRESENT"?"":"PRESENT"),children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:A.presentToday}),r.jsx("p",{className:"text-xs text-gray-500",children:"Present"})]}),r.jsxs("div",{className:`text-center p-3 rounded-lg cursor-pointer transition ${u==="ABSENT"?"bg-red-100 ring-2 ring-red-400":"bg-white hover:bg-red-50"}`,onClick:()=>h(u==="ABSENT"?"":"ABSENT"),children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:A.absentToday}),r.jsx("p",{className:"text-xs text-gray-500",children:"Absent"})]}),r.jsxs("div",{className:`text-center p-3 rounded-lg cursor-pointer transition ${u==="ON_LEAVE"?"bg-yellow-100 ring-2 ring-yellow-400":"bg-white hover:bg-yellow-50"}`,onClick:()=>h(u==="ON_LEAVE"?"":"ON_LEAVE"),children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:A.onLeave}),r.jsx("p",{className:"text-xs text-gray-500",children:"On Leave"})]}),r.jsxs("div",{className:`text-center p-3 rounded-lg cursor-pointer transition ${u==="NOT_MARKED"?"bg-gray-200 ring-2 ring-gray-400":"bg-white hover:bg-gray-100"}`,onClick:()=>h(u==="NOT_MARKED"?"":"NOT_MARKED"),children:[r.jsx("p",{className:"text-2xl font-bold text-gray-600",children:A.notMarked}),r.jsx("p",{className:"text-xs text-gray-500",children:"Not Marked"})]})]}),y||N?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):w.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(Oc,{className:"text-4xl mb-4"}),r.jsx("p",{className:"font-medium",children:"No staff members found"})]}):r.jsx("div",{className:"space-y-2",children:w.map(U=>{const le=z(U.id,m),re=le?le.toUpperCase().replace("-","_").replace("LEAVE","ON_LEAVE"):null;return{staff:U,status:le,backendStatus:re}}).filter(({backendStatus:U})=>u?u==="NOT_MARKED"?!U:U===u:!0).map(({staff:U,status:le})=>{var re,ie,Y,oe;return r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-100 hover:bg-gray-50 transition",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${le==="present"?"bg-green-500":le==="absent"?"bg-red-500":le==="leave"?"bg-yellow-500":le==="half-day"?"bg-blue-500":"bg-gray-300"}`,children:r.jsx("span",{className:"text-white font-bold",children:((re=U.name)==null?void 0:re.charAt(0).toUpperCase())||((Y=(ie=U.user)==null?void 0:ie.name)==null?void 0:Y.charAt(0).toUpperCase())||"S"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:U.name||((oe=U.user)==null?void 0:oe.name)}),r.jsxs("p",{className:"text-xs text-gray-500",children:[U.designation,"  ",U.department]})]})]}),r.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-semibold ${le==="present"?"bg-green-100 text-green-700":le==="absent"?"bg-red-100 text-red-700":le==="leave"?"bg-yellow-100 text-yellow-700":le==="half-day"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"}`,children:le?le==="half-day"?"Half Day":le.charAt(0).toUpperCase()+le.slice(1):"Not Marked"})]},U.id)})})]}):s==="mark"?r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ma,{className:"text-gray-400"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",value:m,onChange:U=>f(U.target.value),max:t.toISOString().split("T")[0],className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("select",{value:c,onChange:U=>d(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Departments"}),r.jsx("option",{value:"Administration",children:"Administration"}),r.jsx("option",{value:"Medical",children:"Medical"}),r.jsx("option",{value:"Nursing",children:"Nursing"}),r.jsx("option",{value:"Pharmacy",children:"Pharmacy"}),r.jsx("option",{value:"Laboratory",children:"Laboratory"}),r.jsx("option",{value:"Reception",children:"Reception"})]})]}),y?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):w.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(Oc,{className:"text-4xl mb-4"}),r.jsx("p",{className:"font-medium",children:"No staff members found"})]}):r.jsx("div",{className:"space-y-4",children:w.map(U=>{var re,ie,Y,oe;const le=z(U.id,m);return r.jsxs("div",{className:`flex flex-col lg:flex-row lg:items-center justify-between gap-4 p-4 rounded-xl border transition ${le?"bg-gray-50 border-gray-200":"bg-white border-gray-100 hover:border-blue-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:((re=U.name)==null?void 0:re.charAt(0).toUpperCase())||((Y=(ie=U.user)==null?void 0:ie.name)==null?void 0:Y.charAt(0).toUpperCase())||"S"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:U.name||((oe=U.user)==null?void 0:oe.name)}),r.jsxs("p",{className:"text-sm text-gray-500",children:[U.designation,"  ",U.department]})]}),le&&r.jsx("span",{className:`ml-4 px-3 py-1 rounded-full text-sm font-medium ${le==="present"?"bg-green-100 text-green-700":le==="absent"?"bg-red-100 text-red-700":le==="leave"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:le==="half-day"?"Half Day":le.charAt(0).toUpperCase()+le.slice(1)})]}),r.jsx(K,{staffId:U.id,currentStatus:le})]},U.id)})})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>$("prev"),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:r.jsx(yi,{className:"text-gray-600"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("select",{value:i,onChange:U=>a(parseInt(U.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:xQ.map((U,le)=>r.jsx("option",{value:le,children:U},U))}),r.jsx("select",{value:o,onChange:U=>l(parseInt(U.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:v.map(U=>r.jsx("option",{value:U,children:U},U))})]}),r.jsx("button",{onClick:()=>$("next"),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:r.jsx(bi,{className:"text-gray-600"})})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"P"}),"Present"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"A"}),"Absent"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"L"}),"Leave"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"H"}),"Half Day"]})]})]}),J?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):w.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(Oc,{className:"text-4xl mb-4"}),r.jsx("p",{className:"font-medium",children:"No staff members found"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase sticky left-0 bg-gray-50 min-w-[180px]",children:"Staff"}),p.map(U=>r.jsx("th",{className:`px-1 py-3 text-center text-xs font-semibold min-w-[36px] ${M(U)?"bg-red-50 text-red-600":"text-gray-600"}`,children:U},U)),r.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-green-600 bg-green-50 min-w-[50px]",children:"P"}),r.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-red-600 bg-red-50 min-w-[50px]",children:"A"}),r.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-yellow-600 bg-yellow-50 min-w-[50px]",children:"L"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:w.map(U=>{var oe,Se;const le=F.filter(je=>je.staffId===U.id),re=le.filter(je=>je.status==="PRESENT").length,ie=le.filter(je=>je.status==="ABSENT").length,Y=le.filter(je=>je.status==="ON_LEAVE").length;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-2 whitespace-nowrap sticky left-0 bg-white",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-medium text-sm",children:((oe=U.name)==null?void 0:oe.charAt(0).toUpperCase())||"S"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:U.name||((Se=U.user)==null?void 0:Se.name)}),r.jsx("p",{className:"text-xs text-gray-500",children:U.designation})]})]})}),p.map(je=>{const ne=B(U.id,je),ke=D(je),Ee=`${o}-${String(i+1).padStart(2,"0")}-${String(je).padStart(2,"0")}`;return r.jsx("td",{className:`px-1 py-2 text-center ${M(je)?"bg-red-50":""}`,children:ke?r.jsx("span",{className:"text-gray-300",children:"-"}):ne?r.jsx("button",{onClick:()=>{const Ue=["present","absent","leave","half-day"],se=Ue[(Ue.indexOf(ne)+1)%Ue.length];_(U.id,se,Ee)},className:"transition hover:scale-110",title:`Click to change (currently: ${ne})`,children:r.jsx(ce,{status:ne})}):r.jsx("button",{onClick:()=>_(U.id,"present",Ee),className:"w-7 h-7 rounded-full border-2 border-dashed border-gray-300 text-gray-400 hover:border-green-500 hover:text-green-500 hover:bg-green-50 transition text-xs",title:"Click to mark present",children:"+"})},je)}),r.jsx("td",{className:"px-3 py-2 text-center bg-green-50",children:r.jsx("span",{className:"font-bold text-green-600",children:re})}),r.jsx("td",{className:"px-3 py-2 text-center bg-red-50",children:r.jsx("span",{className:"font-bold text-red-600",children:ie})}),r.jsx("td",{className:"px-3 py-2 text-center bg-yellow-50",children:r.jsx("span",{className:"font-bold text-yellow-600",children:Y})})]},U.id)})})]})})]})})]})]})})}const yQ=Object.freeze(Object.defineProperty({__proto__:null,default:uk},Symbol.toStringTag,{value:"Module"})),bN=[{value:"CASUAL",label:"Casual Leave"},{value:"SICK",label:"Sick Leave"},{value:"EARNED",label:"Earned Leave"},{value:"UNPAID",label:"Unpaid Leave"}],vN={PENDING:"bg-yellow-100 text-yellow-800 border-yellow-200",APPROVED:"bg-green-100 text-green-800 border-green-200",REJECTED:"bg-red-100 text-red-800 border-red-200"},bQ={PENDING:Or,APPROVED:fa,REJECTED:Vd};function hk(){var le,re,ie;const e=Ht(),[t,s]=x.useState(1),[n,i]=x.useState(""),[a,o]=x.useState(!1),[l,c]=x.useState(null),d=10,{register:u,handleSubmit:h,reset:m,watch:f,formState:{errors:g}}=Vt(),p=f("startDate"),{data:v,isLoading:b}=Te({queryKey:["staff-list"],queryFn:()=>js.getAll({limit:100}),staleTime:3e4}),y=(v==null?void 0:v.data)||[],w=st("leaves:read"),j=st("leaves:create"),N=st("leaves:update"),{data:S,isLoading:P,error:C}=Te({queryKey:["leaves-list",t,d,n],queryFn:()=>js.getLeaves({page:t,limit:d,status:n||void 0}),staleTime:1e4}),F=(S==null?void 0:S.data)||[],T=((le=S==null?void 0:S.pagination)==null?void 0:le.totalPages)||1,te=((re=S==null?void 0:S.pagination)==null?void 0:re.total)||0,{data:A}=Te({queryKey:["leaves-summary"],queryFn:()=>js.getLeaves({limit:500}),staleTime:3e4,refetchOnWindowFocus:!1}),q=(A==null?void 0:A.data)||[],z={total:q.length,pending:q.filter(Y=>Y.status==="PENDING").length,approved:q.filter(Y=>Y.status==="APPROVED").length,rejected:q.filter(Y=>Y.status==="REJECTED").length};if(!w)return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-100 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"You don't have permission to view Leave Management."})]})})});const B=We({mutationFn:Y=>js.applyLeave(Y),onSuccess:()=>{X.success("Leave application submitted successfully"),e.invalidateQueries({queryKey:["leaves-list"]}),e.invalidateQueries({queryKey:["leaves-summary"]}),o(!1),m()},onError:Y=>{var oe,Se;X.error(((Se=(oe=Y.response)==null?void 0:oe.data)==null?void 0:Se.message)||"Failed to submit leave application")}}),_=We({mutationFn:({id:Y,status:oe})=>js.updateLeaveStatus(Y,{status:oe}),onSuccess:(Y,oe)=>{X.success(`Leave ${oe.status.toLowerCase()} successfully`),e.invalidateQueries({queryKey:["leaves-list"]}),e.invalidateQueries({queryKey:["leaves-summary"]})},onError:Y=>{var oe,Se;X.error(((Se=(oe=Y.response)==null?void 0:oe.data)==null?void 0:Se.message)||"Failed to update leave status")}}),$=Y=>{B.mutate({staffId:Y.staffId,startDate:Y.startDate,endDate:Y.endDate,type:Y.type,reason:Y.reason})},M=Y=>{if(!N){X.error("You don't have permission to update leave status");return}window.confirm(`Approve leave for ${ce(Y)}?`)&&_.mutate({id:Y.id,status:"APPROVED"})},D=Y=>{if(!N){X.error("You don't have permission to update leave status");return}window.confirm(`Reject leave for ${ce(Y)}?`)&&_.mutate({id:Y.id,status:"REJECTED"})},J=Y=>Y?new Date(Y).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",K=(Y,oe)=>{if(!Y||!oe)return 0;const Se=new Date(Y),je=new Date(oe),ne=Math.abs(je-Se);return Math.ceil(ne/(1e3*60*60*24))+1},ce=Y=>{var oe,Se,je;return((Se=(oe=Y.staff)==null?void 0:oe.user)==null?void 0:Se.name)||((je=Y.staff)==null?void 0:je.name)||"Unknown Staff"},U=Y=>{const oe=bN.find(Se=>Se.value===Y);return(oe==null?void 0:oe.label)||Y};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave Management"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Review and manage staff leave requests"})]}),j?r.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[r.jsx(Js,{}),"Apply Leave"]}):r.jsx("div",{className:"text-sm text-gray-500",children:"You don't have permission to apply for leave."})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(ma,{className:"text-blue-600 text-xl"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Requests"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z.total})]})]})}),r.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-4 cursor-pointer transition hover:border-yellow-300 ${n==="PENDING"?"ring-2 ring-yellow-400":""}`,onClick:()=>i(n==="PENDING"?"":"PENDING"),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:r.jsx(Or,{className:"text-yellow-600 text-xl"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:z.pending})]})]})}),r.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-4 cursor-pointer transition hover:border-green-300 ${n==="APPROVED"?"ring-2 ring-green-400":""}`,onClick:()=>i(n==="APPROVED"?"":"APPROVED"),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(fa,{className:"text-green-600 text-xl"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Approved"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:z.approved})]})]})}),r.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-4 cursor-pointer transition hover:border-red-300 ${n==="REJECTED"?"ring-2 ring-red-400":""}`,onClick:()=>i(n==="REJECTED"?"":"REJECTED"),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:r.jsx(Vd,{className:"text-red-600 text-xl"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Rejected"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:z.rejected})]})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(y1,{className:"text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Filter:"}),r.jsxs("select",{value:n,onChange:Y=>{i(Y.target.value),s(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[r.jsx("option",{value:"",children:"All Requests"}),r.jsx("option",{value:"PENDING",children:"Pending Only"}),r.jsx("option",{value:"APPROVED",children:"Approved Only"}),r.jsx("option",{value:"REJECTED",children:"Rejected Only"})]})]}),n&&r.jsx("button",{onClick:()=>i(""),className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear Filter"})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:P?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):C?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-red-500",children:[r.jsx(Vd,{className:"text-4xl mb-4"}),r.jsx("p",{className:"font-medium",children:"Failed to load leave requests"}),r.jsx("p",{className:"text-sm mt-1",children:C.message})]}):F.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(jU,{className:"text-4xl mb-4"}),r.jsx("p",{className:"font-medium",children:"No leave requests found"}),r.jsx("p",{className:"text-sm mt-1",children:n?"Try adjusting your filters":'Click "Apply Leave" to create the first request'})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"divide-y divide-gray-100",children:F.map(Y=>{var je;const oe=bQ[Y.status]||Or,Se=K(Y.startDate,Y.endDate);return r.jsx("div",{className:"p-4 hover:bg-gray-50 transition",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold text-lg",children:ce(Y).charAt(0).toUpperCase()})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:ce(Y)}),r.jsx("p",{className:"text-sm text-gray-500",children:((je=Y.staff)==null?void 0:je.designation)||"Staff"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[r.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-blue-50 text-blue-700 text-xs font-medium",children:U(Y.type)}),r.jsxs("span",{className:"text-xs text-gray-500",children:[J(Y.startDate)," - ",J(Y.endDate)]}),r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-gray-100 text-gray-700 text-xs font-medium",children:[Se," day",Se>1?"s":""]})]}),Y.reason&&r.jsxs("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:[r.jsx("span",{className:"font-medium",children:"Reason:"})," ",Y.reason]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium border ${vN[Y.status]}`,children:[r.jsx(oe,{className:"text-xs"}),Y.status]}),Y.status==="PENDING"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>M(Y),disabled:_.isPending,className:"flex items-center gap-1.5 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 transition text-sm",children:[r.jsx(Os,{}),"Approve"]}),r.jsxs("button",{onClick:()=>D(Y),disabled:_.isPending,className:"flex items-center gap-1.5 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 transition text-sm",children:[r.jsx(go,{}),"Reject"]})]}),r.jsx("button",{onClick:()=>c(Y),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition",title:"View Details",children:r.jsx(Ls,{})})]})]})},Y.id)})}),r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100 bg-gray-50",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(t-1)*d+1," to"," ",Math.min(t*d,te)," of ",te," requests"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>s(Y=>Math.max(1,Y-1)),disabled:t===1,className:"p-2 border border-gray-300 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition",children:r.jsx(yi,{className:"text-gray-600"})}),r.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",t," of ",T]}),r.jsx("button",{onClick:()=>s(Y=>Math.min(T,Y+1)),disabled:t===T,className:"p-2 border border-gray-300 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition",children:r.jsx(bi,{className:"text-gray-600"})})]})]})]})})]}),r.jsx(At,{isOpen:a,onClose:()=>{o(!1),m()},title:"Apply for Leave",size:"md",children:r.jsx("form",{onSubmit:h($),className:"space-y-4",children:b?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):y.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("p",{children:"No staff members found."}),r.jsx("p",{className:"text-sm mt-1",children:"Please add staff members first."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Staff Member ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{...u("staffId",{required:"Staff member is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Staff Member"}),y.map(Y=>{var oe;return r.jsxs("option",{value:Y.id,children:[((oe=Y.user)==null?void 0:oe.name)||Y.name," - ",Y.designation||"Staff"]},Y.id)})]}),g.staffId&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.staffId.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Leave Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{...u("type",{required:"Leave type is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Leave Type"}),bN.map(Y=>r.jsx("option",{value:Y.value,children:Y.label},Y.value))]}),g.type&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.type.message})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",...u("startDate",{required:"Start date is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),g.startDate&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.startDate.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["End Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",...u("endDate",{required:"End date is required"}),min:p,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),g.endDate&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.endDate.message})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),r.jsx("textarea",{...u("reason"),rows:3,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Enter reason for leave (optional)..."})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{o(!1),m()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:B.isPending||y.length===0,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:B.isPending?"Submitting...":"Submit Application"})]})]})})}),r.jsx(At,{isOpen:!!l,onClose:()=>c(null),title:"Leave Details",size:"md",children:l&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-2xl",children:ce(l).charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900 text-xl",children:ce(l)}),r.jsx("p",{className:"text-gray-500",children:((ie=l.staff)==null?void 0:ie.designation)||"Staff"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Leave Type"}),r.jsx("p",{className:"font-medium text-gray-900",children:U(l.type)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),r.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-sm font-medium ${vN[l.status]}`,children:l.status})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Start Date"}),r.jsx("p",{className:"font-medium text-gray-900",children:J(l.startDate)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"End Date"}),r.jsx("p",{className:"font-medium text-gray-900",children:J(l.endDate)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),r.jsxs("p",{className:"font-medium text-gray-900",children:[K(l.startDate,l.endDate)," day(s)"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Applied On"}),r.jsx("p",{className:"font-medium text-gray-900",children:J(l.createdAt)})]})]}),l.reason&&r.jsxs("div",{className:"pt-4 border-t",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Reason"}),r.jsx("p",{className:"text-gray-900",children:l.reason})]}),l.status==="PENDING"&&r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs("button",{onClick:()=>{M(l),c(null)},disabled:_.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:opacity-50 transition",children:[r.jsx(Os,{}),"Approve Leave"]}),r.jsxs("button",{onClick:()=>{D(l),c(null)},disabled:_.isPending,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 transition",children:[r.jsx(go,{}),"Reject Leave"]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{onClick:()=>c(null),className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition",children:"Close"})})]})})]})}const vQ=Object.freeze(Object.defineProperty({__proto__:null,default:hk},Symbol.toStringTag,{value:"Module"})),vc={getSalesReport:async(e={})=>(await ee.get("/reports/sales",{params:e})).data,getOPDReport:async(e={})=>(await ee.get("/reports/opd",{params:e})).data,getPatientReport:async(e={})=>(await ee.get("/reports/patients",{params:e})).data,getPharmacyReport:async(e={})=>(await ee.get("/reports/pharmacy",{params:e})).data,getCommissionReport:async(e={})=>(await ee.get("/reports/commissions",{params:e})).data};ju.register(tf,sf,id,si,ad,Fc,z8,H8,B8,F8);const jQ=[{id:"sales",label:"Billing & Collections",icon:Ki},{id:"opd",label:"Appointments & OPD",icon:ed},{id:"pharmacy",label:"Pharmacy Performance",icon:Fd},{id:"commissions",label:"Referral Commissions",icon:rp}],As=({title:e,value:t,change:s,changeType:n,icon:i,color:a})=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t}),s!==void 0&&r.jsxs("p",{className:`text-sm mt-1 flex items-center gap-1 ${n==="increase"?"text-green-600":"text-red-600"}`,children:[n==="increase"?r.jsx(Xz,{className:"text-xs"}):r.jsx(Yz,{className:"text-xs"}),Math.abs(s),"% from last period"]})]}),r.jsx("div",{className:`w-12 h-12 ${a} rounded-xl flex items-center justify-center`,children:r.jsx(i,{className:"text-xl text-white"})})]})}),$r=({title:e,columns:t=[],rows:s=[],emptyText:n="No data available"})=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e}),s.length===0?r.jsx("p",{className:"text-sm text-gray-500",children:n}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsx("tr",{className:"border-b border-gray-100",children:t.map(i=>r.jsx("th",{className:"text-left py-2.5 px-2 text-xs font-semibold uppercase tracking-wide text-gray-500",children:i.label},i.key))})}),r.jsx("tbody",{children:s.map((i,a)=>r.jsx("tr",{className:"border-b border-gray-50 last:border-b-0",children:t.map(o=>r.jsx("td",{className:"py-2.5 px-2 text-sm text-gray-700",children:o.render?o.render(i):i[o.key]??"-"},o.key))},a))})]})})]});function mk(){var _,$,M,D,J,K,ce,U,le;const[e,t]=x.useState("sales"),[s,n]=x.useState({startDate:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[i,a]=x.useState("day"),o=st("reports:sales",["SUPER_ADMIN","DOCTOR","ACCOUNTANT"]),l=st("reports:opd",["SUPER_ADMIN","DOCTOR","ACCOUNTANT"]),c=st("reports:pharmacy",["SUPER_ADMIN","DOCTOR","ACCOUNTANT"]),d=st("reports:commissions",["SUPER_ADMIN","DOCTOR","ACCOUNTANT"]);if(!(st("reports:view",["DOCTOR","SUPER_ADMIN","ACCOUNTANT"])||o||l||c||d))return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Reports not available"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Your role does not have access to reports. Contact the clinic administrator if you need access."})]})})});const m=jQ.filter(re=>{switch(re.id){case"sales":return o;case"opd":return l;case"pharmacy":return c;case"commissions":return d;default:return!1}}),{data:f,isLoading:g}=Te({queryKey:["report",e,s,i],queryFn:()=>{const re={startDate:s.startDate,endDate:s.endDate,groupBy:i};switch(e){case"sales":return vc.getSalesReport(re);case"opd":return vc.getOPDReport(re);case"pharmacy":return vc.getPharmacyReport(re);case"commissions":return vc.getCommissionReport(re);default:return vc.getSalesReport(re)}}}),p=(f==null?void 0:f.data)||{},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}},interaction:{mode:"nearest",axis:"x",intersect:!1}},b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}},w=x.useMemo(()=>{const re=[],ie=new Date(s.startDate),Y=new Date(s.endDate),oe=new Date(ie);for(;oe<=Y;)i==="day"?(re.push(oe.toLocaleDateString("en-IN",{day:"2-digit",month:"short"})),oe.setDate(oe.getDate()+1)):i==="week"?(re.push(`Week ${Math.ceil(oe.getDate()/7)}`),oe.setDate(oe.getDate()+7)):(re.push(oe.toLocaleDateString("en-IN",{month:"short",year:"numeric"})),oe.setMonth(oe.getMonth()+1));return re.slice(0,30)},[s,i]),j={labels:((_=p.chartData)==null?void 0:_.labels)||w,datasets:[{label:"Revenue",data:(($=p.chartData)==null?void 0:$.revenue)||w.map(()=>0),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},N={labels:((M=p.chartData)==null?void 0:M.labels)||w,datasets:[{label:"New Patients",data:((D=p.chartData)==null?void 0:D.patients)||w.map(()=>0),backgroundColor:"rgba(16, 185, 129, 0.8)",borderRadius:4},{label:"Consultations",data:((J=p.chartData)==null?void 0:J.consultations)||w.map(()=>0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderRadius:4}]},S={labels:((K=p.chartData)==null?void 0:K.labels)||w,datasets:[{label:"Sales",data:((ce=p.chartData)==null?void 0:ce.sales)||w.map(()=>0),borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",fill:!0,tension:.4}]},P=(p.byLab||[]).reduce((re,ie)=>{var Y;return re+(Number(ie.amount)||Number((Y=ie._sum)==null?void 0:Y.amount)||0)},0),C=(p.byAgent||[]).reduce((re,ie)=>{var Y;return re+(Number(ie.amount)||Number((Y=ie._sum)==null?void 0:Y.amount)||0)},0),F=Number(((U=p.summary)==null?void 0:U.pendingAmount)||0),T=Number(((le=p.summary)==null?void 0:le.totalCommission)||0),te=Math.max(0,T-F),A={labels:["Labs","Agents","Pending","Paid"],datasets:[{data:[P,C,F,te],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(139, 92, 246, 0.8)","rgba(245, 158, 11, 0.8)","rgba(16, 185, 129, 0.8)"],borderWidth:0}]},q=re=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(re||0),z=()=>{const re=[["Report Type",e.toUpperCase()],["Date Range",`${s.startDate} to ${s.endDate}`],["Generated On",new Date().toLocaleString()],[],["Date","Value"],...w.map((Se,je)=>[Se,e==="sales"?j.datasets[0].data[je]:e==="opd"?N.datasets[0].data[je]:S.datasets[0].data[je]])].map(Se=>Se.join(",")).join(`
`),ie=new Blob([re],{type:"text/csv"}),Y=window.URL.createObjectURL(ie),oe=document.createElement("a");oe.href=Y,oe.download=`${e}-report-${s.startDate}-${s.endDate}.csv`,oe.click(),window.URL.revokeObjectURL(Y)},B=()=>{var re,ie,Y,oe,Se,je,ne;switch(e){case"sales":return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx(As,{title:"Total Revenue",value:q(p.totalRevenue||0),change:p.revenueChange,changeType:"increase",icon:Ki,color:"bg-blue-500"}),r.jsx(As,{title:"Total Transactions",value:p.totalTransactions||0,change:p.transactionsChange,changeType:"increase",icon:th,color:"bg-green-500"}),r.jsx(As,{title:"Average Bill",value:q(p.avgBill||0),change:p.avgBillChange,changeType:"increase",icon:ol,color:"bg-purple-500"}),r.jsx(As,{title:"Outstanding",value:q(p.outstanding||0),change:p.outstandingChange,changeType:"decrease",icon:Ki,color:"bg-orange-500"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),r.jsx("div",{className:"h-80",children:r.jsx(ey,{data:j,options:v})})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[r.jsx($r,{title:"Billing Type Breakdown",columns:[{key:"type",label:"Type"},{key:"count",label:"Bills",render:se=>se._count||0},{key:"amount",label:"Amount",render:se=>{var me;return q(((me=se._sum)==null?void 0:me.totalAmount)||0)}}],rows:p.byType||[],emptyText:"No billing data in selected period"}),r.jsx($r,{title:"Collection by Payment Method",columns:[{key:"method",label:"Method"},{key:"count",label:"Transactions",render:se=>se._count||0},{key:"amount",label:"Collected",render:se=>{var me;return q(((me=se._sum)==null?void 0:me.amount)||0)}}],rows:p.byPaymentMethod||[],emptyText:"No payment collections in selected period"}),r.jsx("div",{className:"xl:col-span-2",children:r.jsx($r,{title:"Top Patients by Billing",columns:[{key:"patientCode",label:"Patient ID",render:se=>se.patientCode||"-"},{key:"patientName",label:"Patient Name"},{key:"count",label:"Bills"},{key:"totalAmount",label:"Total Amount",render:se=>q(se.totalAmount||0)}],rows:p.topPatients||[],emptyText:"No patient billing records in selected period"})})]})]});case"opd":return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx(As,{title:"Total Patients",value:p.totalPatients||0,change:p.patientsChange,changeType:"increase",icon:ed,color:"bg-blue-500"}),r.jsx(As,{title:"Consultations",value:p.totalConsultations||0,change:p.consultationsChange,changeType:"increase",icon:th,color:"bg-green-500"}),r.jsx(As,{title:"New Patients",value:p.newPatients||0,change:p.newPatientsChange,changeType:"increase",icon:ol,color:"bg-purple-500"}),r.jsx(As,{title:"Revisits",value:p.revisits||0,change:p.revisitsChange,changeType:"increase",icon:ed,color:"bg-orange-500"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Patient & Consultation Trends"}),r.jsx("div",{className:"h-80",children:r.jsx(K8,{data:N,options:b})})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[r.jsx($r,{title:"Appointments by Status",columns:[{key:"status",label:"Status"},{key:"count",label:"Count",render:se=>se._count||0}],rows:p.byStatus||[],emptyText:"No appointment status data in selected period"}),r.jsx($r,{title:"Appointments by Type",columns:[{key:"type",label:"Type"},{key:"count",label:"Count",render:se=>se._count||0}],rows:p.byType||[],emptyText:"No appointment type data in selected period"})]})]});case"pharmacy":return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx(As,{title:"Total Sales",value:q(p.totalSales||0),change:p.salesChange,changeType:"increase",icon:Ki,color:"bg-purple-500"}),r.jsx(As,{title:"Transactions",value:p.totalTransactions||0,change:p.transactionsChange,changeType:"increase",icon:Fd,color:"bg-blue-500"}),r.jsx(As,{title:"Low Stock Items",value:p.lowStockCount||0,change:p.lowStockChange,changeType:"decrease",icon:th,color:"bg-red-500"}),r.jsx(As,{title:"Total Products",value:p.totalProducts||0,change:p.productsChange,changeType:"increase",icon:ol,color:"bg-green-500"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pharmacy Sales Trend"}),r.jsx("div",{className:"h-80",children:r.jsx(ey,{data:S,options:v})})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[r.jsx($r,{title:"Low Stock Items",columns:[{key:"code",label:"Code"},{key:"name",label:"Product"},{key:"quantity",label:"Current Qty"},{key:"minStock",label:"Min Stock"}],rows:p.lowStock||[],emptyText:"No low-stock products in selected scope"}),r.jsx($r,{title:"Stock Movement Summary",columns:[{key:"type",label:"Movement Type"},{key:"count",label:"Entries",render:se=>se._count||0},{key:"qty",label:"Total Qty",render:se=>{var me;return Number(((me=se._sum)==null?void 0:me.quantity)||0).toFixed(0)}}],rows:p.stockMovement||[],emptyText:"No stock movement data in selected period"})]})]});case"commissions":const ke=((re=p.summary)==null?void 0:re.totalCommission)||0,Ee=ke-(((ie=p.summary)==null?void 0:ie.pendingAmount)||0),Ue=((Y=p.summary)==null?void 0:Y.pendingAmount)||0;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx(As,{title:"Total Commissions",value:q(ke),change:p.commissionsChange,changeType:"increase",icon:rp,color:"bg-green-500"}),r.jsx(As,{title:"Paid",value:q(Ee),change:p.paidChange,changeType:"increase",icon:Ki,color:"bg-blue-500"}),r.jsx(As,{title:"Pending",value:q(Ue),change:p.pendingChange,changeType:"decrease",icon:th,color:"bg-orange-500"}),r.jsx(As,{title:"Total Records",value:((oe=p.summary)==null?void 0:oe.count)||0,change:p.recordsChange,changeType:"increase",icon:ed,color:"bg-purple-500"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Commission Breakdown"}),r.jsx("div",{className:"h-64",children:r.jsx(bK,{data:A,options:y})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Commission Summary"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm",children:"L"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Lab Commissions"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[((Se=p.byLab)==null?void 0:Se.length)||0," labs"]})]})]}),r.jsx("span",{className:"font-semibold text-green-600",children:q((p.byLab||[]).reduce((se,me)=>{var W;return se+(Number(me.amount)||Number((W=me._sum)==null?void 0:W.amount)||0)},0))})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-semibold text-sm",children:"A"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Agent Commissions"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[((je=p.byAgent)==null?void 0:je.length)||0," agents"]})]})]}),r.jsx("span",{className:"font-semibold text-green-600",children:q((p.byAgent||[]).reduce((se,me)=>{var W;return se+(Number(me.amount)||Number((W=me._sum)==null?void 0:W.amount)||0)},0))})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-600 font-semibold text-sm",children:"P"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Pending Payments"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[((ne=p.summary)==null?void 0:ne.pendingCount)||0," records"]})]})]}),r.jsx("span",{className:"font-semibold text-orange-600",children:q(Ue)})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[r.jsx($r,{title:"Lab Commission Details",columns:[{key:"name",label:"Lab Name"},{key:"count",label:"Records"},{key:"amount",label:"Commission",render:se=>{var me;return q(Number(se.amount||((me=se._sum)==null?void 0:me.amount)||0))}}],rows:p.byLab||[],emptyText:"No lab commission records in selected period"}),r.jsx($r,{title:"Agent Commission Details",columns:[{key:"name",label:"Agent Name"},{key:"count",label:"Records"},{key:"amount",label:"Commission",render:se=>{var me;return q(Number(se.amount||((me=se._sum)==null?void 0:me.amount)||0))}}],rows:p.byAgent||[],emptyText:"No agent commission records in selected period"})]})]});default:return null}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Clinic Reports"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Connected financial, OPD, pharmacy, and commission reports for daily monitoring."})]}),r.jsxs("button",{onClick:z,className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-blue-700 transition",children:[r.jsx(oU,{}),"Export Report"]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[r.jsx("div",{className:"flex border-b border-gray-100",children:m.map(re=>r.jsxs("button",{onClick:()=>t(re.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition ${e===re.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(re.icon,{}),re.label]},re.id))}),r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ma,{className:"text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:"From:"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",value:s.startDate,onChange:re=>n(ie=>({...ie,startDate:re.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"To:"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",value:s.endDate,onChange:re=>n(ie=>({...ie,endDate:re.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),r.jsxs("select",{value:i,onChange:re=>a(re.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[r.jsx("option",{value:"day",children:"Daily"}),r.jsx("option",{value:"week",children:"Weekly"}),r.jsx("option",{value:"month",children:"Monthly"})]}),r.jsxs("div",{className:"flex gap-2 ml-auto",children:[r.jsx("button",{onClick:()=>{const re=new Date,ie=new Date(re);ie.setDate(ie.getDate()-7),n({startDate:ie.toISOString().split("T")[0],endDate:re.toISOString().split("T")[0]})},className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Last 7 Days"}),r.jsx("button",{onClick:()=>{const re=new Date,ie=new Date(re);ie.setDate(ie.getDate()-30),n({startDate:ie.toISOString().split("T")[0],endDate:re.toISOString().split("T")[0]})},className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Last 30 Days"}),r.jsx("button",{onClick:()=>{const re=new Date,ie=new Date(re);ie.setMonth(ie.getMonth()-3),n({startDate:ie.toISOString().split("T")[0],endDate:re.toISOString().split("T")[0]})},className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Last 3 Months"})]})]})})]}),g?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):B()]})})}const wQ=Object.freeze(Object.defineProperty({__proto__:null,default:mk},Symbol.toStringTag,{value:"Module"})),xh=[{id:"labs",label:"Labs",icon:Il},{id:"agents",label:"Agents",icon:Ux},{id:"commissions",label:"Commissions",icon:rp}];function Qh(){var ji,So,ja,nt,wa,as,Co;const e=Ht(),t=xn(),n=t.pathname==="/labs"||t.pathname.startsWith("/labs/")?xh.filter(de=>de.id==="labs"):xh.filter(de=>de.id!=="labs"),i=new URLSearchParams(t.search),a=i.get("tab"),o=n.some(de=>de.id===a)?a:n[0].id,[l,c]=x.useState(o);x.useEffect(()=>{n.find(de=>de.id===l)||c(n[0].id)},[l,n]),x.useEffect(()=>{const de=i.get("tab"),L=t.pathname==="/labs"||t.pathname.startsWith("/labs/")?xh.filter(De=>De.id==="labs"):xh.filter(De=>De.id!=="labs"),Ne=L.some(De=>De.id===de)?de:L[0].id;Ne!==l&&(c(Ne),m(1),u(""))},[t.pathname,t.search]);const[d,u]=x.useState(""),[h,m]=x.useState(1),[f,g]=x.useState("all"),[p,v]=x.useState(!1),[b,y]=x.useState(!1),[w,j]=x.useState(!1),[N,S]=x.useState(!1),[P,C]=x.useState(null),F=10,{register:T,handleSubmit:te,reset:A,formState:{errors:q}}=Vt(),{register:z,handleSubmit:B,reset:_,formState:{errors:$}}=Vt(),{register:M,handleSubmit:D,reset:J,setValue:K,formState:{errors:ce}}=Vt(),{register:U,handleSubmit:le,reset:re}=Vt(),{data:ie,isLoading:Y}=Te({queryKey:["labs",h,F,d],queryFn:()=>Ks.getLabs({page:h,limit:F,search:d}),enabled:l==="labs"}),{data:oe,isLoading:Se}=Te({queryKey:["agents",h,F,d],queryFn:()=>Ks.getAgents({page:h,limit:F,search:d}),enabled:l==="agents"}),{data:je,isLoading:ne}=Te({queryKey:["commissions",h,F,f],queryFn:()=>Ks.getCommissions({page:h,limit:F,status:f==="all"?void 0:f}),enabled:l==="commissions"}),ke=(ie==null?void 0:ie.data)||[],Ee=(oe==null?void 0:oe.data)||[],Ue=(je==null?void 0:je.data)||[],se=l==="labs"?((ji=ie==null?void 0:ie.pagination)==null?void 0:ji.totalPages)||1:l==="agents"?((So=oe==null?void 0:oe.pagination)==null?void 0:So.totalPages)||1:((ja=je==null?void 0:je.pagination)==null?void 0:ja.totalPages)||1,me=l==="labs"?((nt=ie==null?void 0:ie.pagination)==null?void 0:nt.total)||0:l==="agents"?((wa=oe==null?void 0:oe.pagination)==null?void 0:wa.total)||0:((as=je==null?void 0:je.pagination)==null?void 0:as.total)||0,W=x.useMemo(()=>{var et,xt;const de=((et=ie==null?void 0:ie.pagination)==null?void 0:et.total)||0,L=ke.filter(Je=>Je.isActive!==!1).length,Ne=((xt=oe==null?void 0:oe.pagination)==null?void 0:xt.total)||0,De=Ee.filter(Je=>Je.isActive!==!1).length,St=Ue.filter(Je=>(Je.status||"").toUpperCase()!=="PAID").length,mt=Ue.filter(Je=>(Je.status||"").toUpperCase()!=="PAID").reduce((Je,Ss)=>Je+Number(Ss.amount||0),0);return{totalLabs:de,activeLabsOnPage:L,totalAgents:Ne,activeAgentsOnPage:De,pendingCount:St,pendingAmount:mt}},[ke,Ee,Ue,ie,oe]),pe=We({mutationFn:de=>Ks.createAgent(de),onSuccess:()=>{X.success("Agent added successfully"),e.invalidateQueries(["agents"]),v(!1),A()},onError:de=>{var L,Ne;X.error(((Ne=(L=de.response)==null?void 0:L.data)==null?void 0:Ne.message)||"Failed to add agent")}}),Ce=We({mutationFn:de=>Ks.createLab(de),onSuccess:()=>{X.success("Lab added successfully"),e.invalidateQueries(["labs"]),y(!1),_()},onError:de=>{var L,Ne;X.error(((Ne=(L=de.response)==null?void 0:L.data)==null?void 0:Ne.message)||"Failed to add lab")}}),_e=We({mutationFn:({id:de,data:L})=>Ks.updateAgent(de,L),onSuccess:()=>{X.success("Agent updated successfully"),e.invalidateQueries(["agents"]),j(!1),C(null),J()},onError:de=>{var L,Ne;X.error(((Ne=(L=de.response)==null?void 0:L.data)==null?void 0:Ne.message)||"Failed to update agent")}}),I=We({mutationFn:de=>Ks.deleteAgent(de),onSuccess:()=>{X.success("Agent deleted successfully"),e.invalidateQueries(["agents"])},onError:de=>{var L,Ne;X.error(((Ne=(L=de.response)==null?void 0:L.data)==null?void 0:Ne.message)||"Failed to delete agent")}}),k=We({mutationFn:({id:de,data:L})=>Ks.markCommissionPaid(de,L),onSuccess:()=>{X.success("Commission marked as paid"),e.invalidateQueries(["commissions"]),S(!1),C(null),re()},onError:de=>{var L,Ne;X.error(((Ne=(L=de.response)==null?void 0:L.data)==null?void 0:Ne.message)||"Failed to process payment")}}),G=de=>{u(de.target.value),m(1)},ge=de=>{c(de),m(1),u("")},O=de=>{pe.mutate({name:de.name,address:de.address,phone:de.phone,email:de.email,commissionType:"PERCENTAGE",commissionValue:de.commissionRate?parseFloat(de.commissionRate):0,discountAllowed:de.discountAllowed?parseFloat(de.discountAllowed):0})},E=de=>{Ce.mutate({name:de.name,address:de.address,phone:de.phone,email:de.email,contactPerson:de.contactPerson,commissionType:"PERCENTAGE",commissionValue:de.commissionValue?parseFloat(de.commissionValue):0})},Q=de=>{P&&_e.mutate({id:P.id,data:{name:de.name,address:de.address,phone:de.phone,email:de.email,commissionValue:de.commissionRate?parseFloat(de.commissionRate):void 0,discountAllowed:de.discountAllowed?parseFloat(de.discountAllowed):void 0}})},V=de=>{P&&k.mutate({id:P.id,data:{paymentMethod:de.paymentMethod,paymentReference:de.paymentReference,paymentDate:de.paymentDate,notes:de.notes}})},fe=de=>{C(de),K("name",de.name),K("email",de.email),K("phone",de.phone),K("address",de.address),K("commissionRate",de.commissionRate||de.commissionValue),K("discountAllowed",de.discountAllowed||0),j(!0)},be=de=>{C(de),S(!0)},Fe=de=>{window.confirm(`Are you sure you want to delete "${de.name}"?`)&&I.mutate(de.id)},Z=de=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(de||0),he=de=>de?new Date(de).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",ye=Y||Se||ne,we=st("agents:create",["SUPER_ADMIN","DOCTOR"]),Be=st("labs:manage",["SUPER_ADMIN","DOCTOR","ADMIN"]),ae=st("agents:update",["SUPER_ADMIN","DOCTOR"]),Ae=st("agents:manage",["SUPER_ADMIN","DOCTOR"]),R=st("commissions:pay",["SUPER_ADMIN","ACCOUNTANT"]),Ie=()=>r.jsx("div",{className:"grid gap-4",children:ke.map(de=>r.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-5 shadow-sm",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-sky-100 text-sky-700 flex items-center justify-center",children:r.jsx(Il,{})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:de.name}),r.jsxs("div",{className:"text-sm text-gray-600 flex flex-wrap gap-4 mt-1",children:[r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(Gm,{})," ",de.phone||"-"]}),r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(po,{})," ",de.email||"-"]}),r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx($x,{})," ",de.address||"-"]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsxs("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-emerald-100 text-emerald-700",children:["Commission: ",de.commissionValue||0,"%"]}),r.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${de.isActive!==!1?"bg-blue-100 text-blue-700":"bg-rose-100 text-rose-700"}`,children:de.isActive!==!1?"Active":"Inactive"})]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(Ke,{to:`/labs-agents/${de.id}/tests`,className:"px-3 py-2 text-sm rounded-lg border border-sky-200 text-sky-700 hover:bg-sky-50",children:"Manage Tests"})})]})},de.id))}),$e=()=>r.jsx("div",{className:"grid gap-4",children:Ee.map(de=>r.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-5 shadow-sm",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 text-amber-700 flex items-center justify-center",children:r.jsx(Ux,{})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:de.name}),r.jsxs("div",{className:"text-sm text-gray-600 flex flex-wrap gap-4 mt-1",children:[r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(Gm,{})," ",de.phone||"-"]}),r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(po,{})," ",de.email||"-"]}),r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx($x,{})," ",de.address||"-"]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsxs("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-emerald-100 text-emerald-700",children:["Commission: ",de.commissionRate||de.commissionValue||0,"%"]}),r.jsxs("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-slate-100 text-slate-700",children:["Discount Allowed: ",de.discountAllowed||0,"%"]}),r.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${de.isActive!==!1?"bg-blue-100 text-blue-700":"bg-rose-100 text-rose-700"}`,children:de.isActive!==!1?"Active":"Inactive"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[ae&&r.jsxs("button",{onClick:()=>fe(de),className:"px-3 py-2 text-sm rounded-lg border border-blue-200 text-blue-600 hover:bg-blue-50",children:[r.jsx(yu,{className:"inline-block mr-2"})," Edit"]}),Ae&&r.jsxs("button",{onClick:()=>Fe(de),className:"px-3 py-2 text-sm rounded-lg border border-rose-200 text-rose-600 hover:bg-rose-50",children:[r.jsx(Fl,{className:"inline-block mr-2"})," Remove"]})]})]})},de.id))}),Hs=()=>r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Agent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:Ue.map(de=>{var L;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:((L=de.agent)==null?void 0:L.name)||de.partnerName||"Agent"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Ref: ",de.reference||de.refNo||"-"]})]}),r.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900",children:Z(de.amount)}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:he(de.createdAt)}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${(de.status||"").toUpperCase()==="PAID"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:(de.status||"PENDING").toUpperCase()})}),r.jsx("td",{className:"px-6 py-4 text-right",children:R&&(de.status||"").toUpperCase()!=="PAID"&&r.jsxs("button",{onClick:()=>be(de),className:"inline-flex items-center gap-2 px-3 py-2 bg-emerald-600 text-white rounded-lg text-sm hover:bg-emerald-700",children:[r.jsx(Os,{})," Mark Paid"]})})]},de.id)})})]})}),Jl=l==="labs"?"Labs":"Agents & Commissions",Zl=l==="labs"?"Manage referral labs and open their test catalog from here.":"Hire agents on commission to bring patients to your clinic. Track payouts in one place.";return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"bg-gradient-to-r from-amber-50 via-white to-blue-50 border border-gray-100 rounded-2xl p-6 mb-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:Jl}),r.jsx("p",{className:"text-gray-600 mt-1",children:Zl})]}),l==="labs"&&Be&&r.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center justify-center gap-2 bg-sky-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-sky-700",children:[r.jsx(Js,{})," Add Lab"]}),l==="agents"&&we&&r.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center justify-center gap-2 bg-amber-600 text-white px-4 py-2.5 rounded-lg font-medium hover:bg-amber-700",children:[r.jsx(Js,{})," Add Agent"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:l==="labs"?"Total Labs":"Total Agents"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:l==="labs"?W.totalLabs:W.totalAgents})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Active (Page)"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:l==="labs"?W.activeLabsOnPage:W.activeAgentsOnPage})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Pending Commissions"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:W.pendingCount})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4",children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Pending Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:Z(W.pendingAmount)})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[n.length>1&&r.jsx("div",{className:"flex border-b border-gray-100",children:n.map(de=>r.jsxs("button",{onClick:()=>ge(de.id),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition ${l===de.id?"text-amber-700 border-b-2 border-amber-600 bg-amber-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(de.icon,{}),de.label]},de.id))}),(l==="agents"||l==="labs")&&r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:d,onChange:G,placeholder:l==="labs"?"Search labs by name or contact person...":"Search agents by name or phone...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]})}),l==="commissions"&&r.jsxs("div",{className:"p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Track commission payouts for patient referrals."}),r.jsxs("select",{value:f,onChange:de=>{g(de.target.value),m(1)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"paid",children:"Paid"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[ye?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600"})}):l==="labs"?ke.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(Il,{className:"text-4xl mb-3"}),r.jsx("p",{className:"font-medium",children:"No labs yet"}),r.jsx("p",{className:"text-sm mt-1",children:"Lab records will appear here once created."})]}):Ie():l==="agents"?Ee.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(Ux,{className:"text-4xl mb-3"}),r.jsx("p",{className:"font-medium",children:"No agents yet"}),r.jsx("p",{className:"text-sm mt-1",children:"Add your first agent to start tracking referrals."})]}):$e():Ue.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[r.jsx(rp,{className:"text-4xl mb-3"}),r.jsx("p",{className:"font-medium",children:"No commissions yet"}),r.jsx("p",{className:"text-sm mt-1",children:"Commission records will appear here when created."})]}):Hs(),(l==="labs"?ke.length:l==="agents"?Ee.length:Ue.length)>0&&r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(h-1)*F+1," to"," ",Math.min(h*F,me)," of ",me," items"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>m(de=>Math.max(1,de-1)),disabled:h===1,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(yi,{className:"text-gray-600"})}),r.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",h," of ",se]}),r.jsx("button",{onClick:()=>m(de=>Math.min(se,de+1)),disabled:h===se,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(bi,{className:"text-gray-600"})})]})]})]}),r.jsx(At,{isOpen:b,onClose:()=>{y(!1),_()},title:"Add Lab",size:"lg",children:r.jsxs("form",{onSubmit:B(E),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Lab Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...z("name",{required:"Lab name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Lab name"}),$.name&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:$.name.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),r.jsx("input",{type:"text",...z("contactPerson"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Contact person"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",...z("phone"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Phone number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",...z("email"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commission Rate (%)"}),r.jsx("input",{type:"number",step:"0.1",...z("commissionValue"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"0"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("textarea",{...z("address"),rows:2,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sky-500",placeholder:"Address"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{y(!1),_()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:Ce.isPending,className:"px-4 py-2.5 bg-sky-600 text-white rounded-lg font-medium hover:bg-sky-700 disabled:opacity-50",children:Ce.isPending?"Adding...":"Add Lab"})]})]})}),r.jsx(At,{isOpen:p,onClose:()=>{v(!1),A()},title:"Add Agent",size:"lg",children:r.jsxs("form",{onSubmit:te(O),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...T("name",{required:"Name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Agent name"}),q.name&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:q.name.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",...T("email"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Email"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",...T("phone",{required:"Phone is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Phone number"}),q.phone&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:q.phone.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commission Rate (%)"}),r.jsx("input",{type:"number",step:"0.1",...T("commissionRate"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"10"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Allowed (%)"}),r.jsx("input",{type:"number",step:"0.1",...T("discountAllowed"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"0"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("textarea",{...T("address"),rows:2,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Address"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{v(!1),A()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:pe.isPending,className:"px-4 py-2.5 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700 disabled:opacity-50",children:pe.isPending?"Adding...":"Add Agent"})]})]})}),r.jsx(At,{isOpen:w,onClose:()=>{j(!1),C(null),J()},title:"Edit Agent",size:"lg",children:r.jsxs("form",{onSubmit:D(Q),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...M("name",{required:"Name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"}),ce.name&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:ce.name.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",...M("email"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",...M("phone",{required:"Phone is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"}),ce.phone&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:ce.phone.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commission Rate (%)"}),r.jsx("input",{type:"number",step:"0.1",...M("commissionRate"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Allowed (%)"}),r.jsx("input",{type:"number",step:"0.1",...M("discountAllowed"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("textarea",{...M("address"),rows:2,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{j(!1),C(null),J()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:_e.isPending,className:"px-4 py-2.5 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700 disabled:opacity-50",children:_e.isPending?"Saving...":"Save Changes"})]})]})}),r.jsx(At,{isOpen:N,onClose:()=>{S(!1),C(null),re()},title:"Mark Commission as Paid",size:"md",children:r.jsxs("form",{onSubmit:le(V),className:"space-y-4",children:[P&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Agent: ",r.jsx("span",{className:"font-medium text-gray-900",children:((Co=P.agent)==null?void 0:Co.name)||P.partnerName||"Agent"})]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Amount: ",r.jsx("span",{className:"font-medium text-gray-900",children:Z(P.amount)})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Payment Method ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{...U("paymentMethod",{required:"Payment method is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[r.jsx("option",{value:"",children:"Select payment method"}),r.jsx("option",{value:"cash",children:"Cash"}),r.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),r.jsx("option",{value:"upi",children:"UPI"}),r.jsx("option",{value:"cheque",children:"Cheque"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Reference"}),r.jsx("input",{type:"text",...U("paymentReference"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Transaction ID / Cheque No."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date"}),r.jsx("input",{type:"date",lang:"en-GB",placeholder:"dd/mm/yyyy",...U("paymentDate"),defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{...U("notes"),rows:2,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Any additional notes..."})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{S(!1),C(null),re()},className:"px-4 py-2.5 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:k.isPending,className:"px-4 py-2.5 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 disabled:opacity-50",children:k.isPending?"Processing...":"Confirm Payment"})]})]})})]})})}const NQ=Object.freeze(Object.defineProperty({__proto__:null,default:Qh},Symbol.toStringTag,{value:"Module"}));function fk(){const{labId:e}=iu(),t=Ht(),[s,n]=x.useState(!1),[i,a]=x.useState(!1),[o,l]=x.useState(null),{register:c,handleSubmit:d,reset:u}=Vt(),{register:h,handleSubmit:m,setValue:f,reset:g}=Vt(),{data:p,isLoading:v}=Te({queryKey:["labTests",e],queryFn:()=>Ks.getLabTests(e,{limit:100}),enabled:!!e}),b=We({mutationFn:C=>Ks.createLabTest(e,C),onSuccess:()=>{X.success("Test created"),t.invalidateQueries(["labTests",e]),n(!1),u()},onError:C=>{var F,T;return X.error(((T=(F=C.response)==null?void 0:F.data)==null?void 0:T.message)||"Failed to create")}}),y=We({mutationFn:({id:C,data:F})=>Ks.updateLabTest(e,C,F),onSuccess:()=>{X.success("Test updated"),t.invalidateQueries(["labTests",e]),a(!1),l(null),g()},onError:C=>{var F,T;return X.error(((T=(F=C.response)==null?void 0:F.data)==null?void 0:T.message)||"Failed to update")}}),w=We({mutationFn:C=>Ks.deleteLabTest(e,C),onSuccess:()=>{X.success("Test deleted"),t.invalidateQueries(["labTests",e])},onError:C=>{var F,T;return X.error(((T=(F=C.response)==null?void 0:F.data)==null?void 0:T.message)||"Failed to delete")}}),j=(p==null?void 0:p.data)||[],N=C=>{b.mutate({name:C.name,code:C.code,category:C.category,price:parseFloat(C.price||0),description:C.description})},S=C=>{o&&y.mutate({id:o.id,data:{name:C.name,code:C.code,category:C.category,price:parseFloat(C.price||0),description:C.description}})},P=C=>{l(C),f("name",C.name),f("code",C.code),f("category",C.category),f("price",C.price),f("description",C.description),a(!0)};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Lab Tests"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage tests for the selected lab"}),r.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Lab: ",r.jsx(Ke,{to:"/labs-agents",className:"text-blue-600",children:"Back to Labs"})]})]}),r.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg",children:[" ",r.jsx(Js,{})," Add Test"]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:v?r.jsx("div",{className:"p-8 text-center",children:"Loading..."}):j.length===0?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"No tests found. Add one to get started."}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left px-4 py-3 text-sm text-gray-600",children:"Name"}),r.jsx("th",{className:"text-left px-4 py-3 text-sm text-gray-600",children:"Code"}),r.jsx("th",{className:"text-left px-4 py-3 text-sm text-gray-600",children:"Category"}),r.jsx("th",{className:"text-left px-4 py-3 text-sm text-gray-600",children:"Price"}),r.jsx("th",{className:"text-right px-4 py-3 text-sm text-gray-600",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y",children:j.map(C=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3",children:C.name}),r.jsx("td",{className:"px-4 py-3",children:C.code||"-"}),r.jsx("td",{className:"px-4 py-3",children:C.category||"-"}),r.jsx("td",{className:"px-4 py-3",children:C.price?`${C.price}`:"-"}),r.jsxs("td",{className:"px-4 py-3 text-right",children:[r.jsx("button",{onClick:()=>P(C),className:"p-2 text-blue-600 mr-2",children:r.jsx(yu,{})}),r.jsx("button",{onClick:()=>{confirm("Delete test?")&&w.mutate(C.id)},className:"p-2 text-red-600",children:r.jsx(Fl,{})})]})]},C.id))})]})}),r.jsx(At,{isOpen:s,onClose:()=>{n(!1),u()},title:"Add Lab Test",children:r.jsxs("form",{onSubmit:d(N),className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700",children:"Name"}),r.jsx("input",{...c("name",{required:!0}),className:"w-full px-3 py-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700",children:"Code"}),r.jsx("input",{...c("code"),className:"w-full px-3 py-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700",children:"Category"}),r.jsx("input",{...c("category"),className:"w-full px-3 py-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700",children:"Price"}),r.jsx("input",{type:"number",step:"0.01",...c("price"),className:"w-full px-3 py-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700",children:"Description"}),r.jsx("textarea",{...c("description"),className:"w-full px-3 py-2 border rounded"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border rounded",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Add"})]})]})}),r.jsx(At,{isOpen:i,onClose:()=>{a(!1),l(null),g()},title:"Edit Lab Test",children:r.jsxs("form",{onSubmit:m(S),className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700",children:"Name"}),r.jsx("input",{...h("name",{required:!0}),className:"w-full px-3 py-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700",children:"Code"}),r.jsx("input",{...h("code"),className:"w-full px-3 py-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700",children:"Category"}),r.jsx("input",{...h("category"),className:"w-full px-3 py-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700",children:"Price"}),r.jsx("input",{type:"number",step:"0.01",...h("price"),className:"w-full px-3 py-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700",children:"Description"}),r.jsx("textarea",{...h("description"),className:"w-full px-3 py-2 border rounded"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{a(!1),l(null),g()},className:"px-4 py-2 border rounded",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Save"})]})]})})]})})}const SQ=Object.freeze(Object.defineProperty({__proto__:null,default:fk},Symbol.toStringTag,{value:"Module"})),Ri={getEmailConfig:async()=>{var t;return((t=(await ee.get("/notifications/email/config")).data)==null?void 0:t.data)||null},saveEmailConfig:async e=>(await ee.post("/notifications/email/config",e)).data,testEmailConfig:async()=>(await ee.post("/notifications/email/test")).data,sendAppointmentReminder:async e=>(await ee.post(`/notifications/appointment-reminder/${e}`)).data,sendPrescriptionEmail:async e=>(await ee.post(`/notifications/prescription/${e}`)).data,sendBillEmail:async e=>(await ee.post(`/notifications/bill/${e}`)).data,sendBulkReminders:async(e=24)=>(await ee.post("/notifications/bulk-reminders",{hours:e})).data,getEmailLogs:async(e={})=>{var s;return((s=(await ee.get("/notifications/email/logs",{params:e})).data)==null?void 0:s.data)||{logs:[],pagination:{}}},getOtpTemplate:async()=>{var t;return((t=(await ee.get("/notifications/email/otp-template")).data)==null?void 0:t.data)||null},saveOtpTemplate:async e=>(await ee.post("/notifications/email/otp-template",e)).data,getWhatsAppConfig:async()=>{var t;return((t=(await ee.get("/notifications/whatsapp/config")).data)==null?void 0:t.data)||null},saveWhatsAppConfig:async e=>(await ee.post("/notifications/whatsapp/config",e)).data,testWhatsAppConfig:async e=>(await ee.post("/notifications/whatsapp/test",{phoneNumber:e})).data},CQ=[{id:"gmail-app-password",name:"Gmail (App Password)",icon:mU,color:"text-green-500",recommended:!0},{id:"gmail",name:"Gmail (OAuth2)",icon:Wz,color:"text-red-500"},{id:"outlook",name:"Outlook (OAuth2)",icon:Gz,color:"text-blue-500"},{id:"smtp",name:"SMTP (Custom)",icon:gU,color:"text-gray-500"}];function PQ(){const e=Ht(),[t,s]=x.useState("gmail-app-password"),[n,i]=x.useState({}),[a,o]=x.useState(!1),{register:l,handleSubmit:c,reset:d,setValue:u,watch:h,formState:{errors:m}}=Vt({defaultValues:{provider:"gmail-app-password",userEmail:"",fromName:"Docsy",appPassword:"",clientId:"",clientSecret:"",refreshToken:"",tenantId:"",host:"",port:587,user:"",password:"",secure:!1}});h("provider");const{data:f,isLoading:g}=Te({queryKey:["emailConfig"],queryFn:()=>Ri.getEmailConfig()});x.useEffect(()=>{f!=null&&f.configured&&(s(f.provider),u("provider",f.provider),u("userEmail",f.userEmail||""),u("fromName",f.fromName||"Docsy"))},[f,u]);const p=We({mutationFn:Ri.saveEmailConfig,onSuccess:()=>{X.success("Email configuration saved successfully"),e.invalidateQueries(["emailConfig"])},onError:A=>{var q,z;X.error(((z=(q=A.response)==null?void 0:q.data)==null?void 0:z.message)||"Failed to save configuration")}}),v=We({mutationFn:Ri.testEmailConfig,onSuccess:A=>{X.success(A.message||"Test email sent successfully")},onError:A=>{var q,z;X.error(((z=(q=A.response)==null?void 0:q.data)==null?void 0:z.message)||"Failed to send test email")}}),{data:b,isLoading:y}=Te({queryKey:["otpTemplate"],queryFn:()=>Ri.getOtpTemplate()}),[w,j]=x.useState(""),[N,S]=x.useState([]);x.useEffect(()=>{typeof b<"u"&&(b&&typeof b=="object"?(j(b.template||""),S(b.placeholders||[])):(j(b||""),S([])))},[b]);const P=We({mutationFn:A=>Ri.saveOtpTemplate(A),onSuccess:()=>{X.success("OTP email template saved"),e.invalidateQueries(["otpTemplate"])},onError:A=>{var q,z;X.error(((z=(q=A.response)==null?void 0:q.data)==null?void 0:z.message)||"Failed to save template")}}),C=()=>{P.mutate({template:w})},F=A=>{const q={provider:t,userEmail:A.userEmail,fromName:A.fromName};t==="gmail-app-password"?q.appPassword=A.appPassword:t==="gmail"?(q.clientId=A.clientId,q.clientSecret=A.clientSecret,q.refreshToken=A.refreshToken):t==="outlook"?(q.clientId=A.clientId,q.clientSecret=A.clientSecret,q.refreshToken=A.refreshToken,q.tenantId=A.tenantId):t==="smtp"&&(q.host=A.host,q.port=parseInt(A.port),q.user=A.user,q.password=A.password,q.secure=A.secure),p.mutate(q)},T=()=>{o(!0),v.mutate(void 0,{onSettled:()=>o(!1)})},te=A=>{i(q=>({...q,[A]:!q[A]}))};return g?r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),r.jsx("div",{className:"h-32 bg-gray-200 rounded"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(po,{className:"text-sky-500"}),"Email Notifications"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure OAuth2 email for appointment reminders, prescriptions, and bills"})]}),(f==null?void 0:f.configured)&&r.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600 bg-green-50 px-3 py-1 rounded-full",children:[r.jsx(fa,{})," Configured"]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:CQ.map(A=>r.jsxs("button",{type:"button",onClick:()=>{s(A.id),u("provider",A.id)},className:`p-4 rounded-lg border-2 transition-all relative ${t===A.id?"border-sky-500 bg-sky-50":"border-gray-200 hover:border-gray-300"}`,children:[A.recommended&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-0.5 rounded-full",children:"Easy"}),r.jsx(A.icon,{className:`text-2xl mx-auto ${A.color}`}),r.jsx("p",{className:"text-sm font-medium mt-2",children:A.name})]},A.id))}),r.jsxs("form",{onSubmit:c(F),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",...l("userEmail",{required:"Email is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"your-email@gmail.com"}),m.userEmail&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.userEmail.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),r.jsx("input",{type:"text",...l("fromName"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"Docsy"})]})]}),t==="gmail-app-password"&&r.jsxs("div",{className:"space-y-4 p-4 bg-green-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[r.jsx(Dc,{}),r.jsx("span",{children:"Simple setup - just need Gmail App Password"}),r.jsxs("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline flex items-center gap-1",children:["Get App Password ",r.jsx(Zc,{className:"text-xs"})]})]}),r.jsxs("div",{className:"bg-green-100 p-3 rounded-lg text-sm text-green-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"How to get App Password:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[r.jsx("li",{children:"Enable 2-Factor Authentication on your Google Account"}),r.jsxs("li",{children:["Go to ",r.jsx("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"myaccount.google.com/apppasswords"})]}),r.jsx("li",{children:'Select "Mail" and your device, click Generate'}),r.jsx("li",{children:"Copy the 16-character password (no spaces needed)"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["App Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:n.appPassword?"text":"password",...l("appPassword",{required:t==="gmail-app-password"&&"App Password is required"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"xxxx xxxx xxxx xxxx"}),r.jsx("button",{type:"button",onClick:()=>te("appPassword"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.appPassword?r.jsx(Un,{}):r.jsx(Ls,{})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"16-character password from Google App Passwords"})]})]}),t==="gmail"&&r.jsxs("div",{className:"space-y-4 p-4 bg-red-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-700",children:[r.jsx(Dc,{}),r.jsx("span",{children:"Requires Google Cloud Console OAuth2 credentials"}),r.jsxs("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:underline flex items-center gap-1",children:["Get Credentials ",r.jsx(Zc,{className:"text-xs"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client ID ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...l("clientId",{required:t==="gmail"&&"Client ID is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"xxxx.apps.googleusercontent.com"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client Secret ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:n.clientSecret?"text":"password",...l("clientSecret",{required:t==="gmail"&&"Client Secret is required"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"GOCSPX-xxxx"}),r.jsx("button",{type:"button",onClick:()=>te("clientSecret"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.clientSecret?r.jsx(Un,{}):r.jsx(Ls,{})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Refresh Token ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:n.refreshToken?"text":"password",...l("refreshToken",{required:t==="gmail"&&"Refresh Token is required"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"1//xxxx"}),r.jsx("button",{type:"button",onClick:()=>te("refreshToken"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.refreshToken?r.jsx(Un,{}):r.jsx(Ls,{})})]})]})]}),t==="outlook"&&r.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[r.jsx(Dc,{}),r.jsx("span",{children:"Requires Azure AD App Registration"}),r.jsxs("a",{href:"https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1",children:["Get Credentials ",r.jsx(Zc,{className:"text-xs"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client ID ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...l("clientId",{required:t==="outlook"&&"Client ID is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tenant ID ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...l("tenantId",{required:t==="outlook"&&"Tenant ID is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client Secret ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:n.clientSecret?"text":"password",...l("clientSecret",{required:t==="outlook"&&"Client Secret is required"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"xxxx~xxxx"}),r.jsx("button",{type:"button",onClick:()=>te("clientSecret"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.clientSecret?r.jsx(Un,{}):r.jsx(Ls,{})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Refresh Token ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:n.refreshToken?"text":"password",...l("refreshToken",{required:t==="outlook"&&"Refresh Token is required"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"M.xxxx"}),r.jsx("button",{type:"button",onClick:()=>te("refreshToken"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.refreshToken?r.jsx(Un,{}):r.jsx(Ls,{})})]})]})]}),t==="smtp"&&r.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[r.jsx(Dc,{}),r.jsx("span",{children:"Use any SMTP server (AWS SES, SendGrid, Mailgun, etc.)"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["SMTP Host ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...l("host",{required:t==="smtp"&&"Host is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"smtp.example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Port"}),r.jsx("input",{type:"number",...l("port"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"587"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Username ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...l("user",{required:t==="smtp"&&"Username is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"your-smtp-user"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:n.password?"text":"password",...l("password",{required:t==="smtp"&&"Password is required"}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:"your-smtp-password"}),r.jsx("button",{type:"button",onClick:()=>te("password"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.password?r.jsx(Un,{}):r.jsx(Ls,{})})]})]})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",...l("secure"),className:"w-4 h-4 text-sky-500 rounded focus:ring-sky-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Use TLS/SSL (port 465)"})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:T,disabled:a||!(f!=null&&f.configured),className:"flex items-center gap-2 px-4 py-2 text-sky-600 bg-sky-50 rounded-lg hover:bg-sky-100 disabled:opacity-50 disabled:cursor-not-allowed",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-sky-500 border-t-transparent rounded-full animate-spin"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ip,{})," Send Test Email"]})}),r.jsx("button",{type:"submit",disabled:p.isPending,className:"flex items-center gap-2 px-6 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 disabled:opacity-50",children:p.isPending?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(jn,{})," Save Configuration"]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"OTP Email Template"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Customize the HTML template used for email OTPs. Use ",r.jsx("span",{className:"font-mono",children:"{{code}}"})," and ",r.jsx("span",{className:"font-mono",children:"{{expiryMinutes}}"})," as placeholders."]})]})}),r.jsx("div",{className:"mt-4",children:r.jsx("textarea",{value:w,onChange:A=>j(A.target.value),className:"w-full h-48 p-3 border border-gray-200 rounded-lg font-sans",placeholder:"<p>Your OTP is <strong>{{code}}</strong></p>"})}),r.jsx("div",{className:"flex justify-end mt-4",children:r.jsxs("button",{type:"button",onClick:C,disabled:P==null?void 0:P.isLoading,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-sky-600 text-white rounded-lg hover:bg-sky-700 disabled:opacity-50",children:[r.jsx(jn,{})," ",P!=null&&P.isLoading?"Saving...":"Save Template"]})})]}),(N==null?void 0:N.length)>0&&r.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[r.jsx("p",{className:"font-medium",children:"Available placeholders:"}),r.jsx("ul",{className:"list-disc list-inside",children:N.map(A=>r.jsx("li",{className:"font-mono",children:A},A))})]})]})}function pk(e){return xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.381-.008.008 5.352 0 11.971V12c0 6.64 5.359 12 12 12 6.64 0 12-5.36 12-12 0-6.641-5.36-12-12-12zm0 20.801c-4.846.015-8.786-3.904-8.801-8.75V12c-.014-4.846 3.904-8.786 8.75-8.801H12c4.847-.014 8.786 3.904 8.801 8.75V12c.015 4.847-3.904 8.786-8.75 8.801H12zm5.44-11.76c0 1.359-1.12 2.479-2.481 2.479-1.366-.007-2.472-1.113-2.479-2.479 0-1.361 1.12-2.481 2.479-2.481 1.361 0 2.481 1.12 2.481 2.481zm0 5.919c0 1.36-1.12 2.48-2.481 2.48-1.367-.008-2.473-1.114-2.479-2.48 0-1.359 1.12-2.479 2.479-2.479 1.361-.001 2.481 1.12 2.481 2.479zm-5.919 0c0 1.36-1.12 2.48-2.479 2.48-1.368-.007-2.475-1.113-2.481-2.48 0-1.359 1.12-2.479 2.481-2.479 1.358-.001 2.479 1.12 2.479 2.479zm0-5.919c0 1.359-1.12 2.479-2.479 2.479-1.367-.007-2.475-1.112-2.481-2.479 0-1.361 1.12-2.481 2.481-2.481 1.358 0 2.479 1.12 2.479 2.481z"},child:[]}]})(e)}const kQ=[{id:"manual",name:"Manual (wa.me links)",icon:fo,color:"text-green-500",description:"Opens WhatsApp Web for staff to send manually",recommended:!0},{id:"twilio",name:"Twilio WhatsApp",icon:pk,color:"text-red-500",description:"Automated sending via Twilio API"},{id:"whatsapp-business",name:"WhatsApp Business API",icon:zP,color:"text-green-600",description:"Official WhatsApp Business Cloud API"}];function AQ(){const e=Ht(),[t,s]=x.useState("manual"),[n,i]=x.useState({}),[a,o]=x.useState(!1),{register:l,handleSubmit:c,reset:d,setValue:u,watch:h,formState:{errors:m}}=Vt({defaultValues:{provider:"manual",clinicWhatsAppNumber:"",clinicWhatsAppName:"",twilioAccountSid:"",twilioAuthToken:"",twilioWhatsAppNumber:"",wabAccessToken:"",wabPhoneNumberId:"",wabBusinessId:""}});h("provider");const{data:f,isLoading:g}=Te({queryKey:["whatsappConfig"],queryFn:()=>Ri.getWhatsAppConfig()});x.useEffect(()=>{f!=null&&f.configured&&(s(f.provider),u("provider",f.provider),u("clinicWhatsAppNumber",f.clinicWhatsAppNumber||""),u("clinicWhatsAppName",f.clinicWhatsAppName||""))},[f,u]);const p=We({mutationFn:Ri.saveWhatsAppConfig,onSuccess:()=>{X.success("WhatsApp configuration saved successfully"),e.invalidateQueries(["whatsappConfig"])},onError:j=>{var N,S;X.error(((S=(N=j.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to save configuration")}}),v=We({mutationFn:Ri.testWhatsAppConfig,onSuccess:j=>{j.url?(window.open(j.url,"_blank"),X.success("WhatsApp Web opened. Send the test message to verify.")):X.success(j.message||"Test message sent successfully")},onError:j=>{var N,S;X.error(((S=(N=j.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to send test message")}}),b=j=>{const N={provider:t,clinicWhatsAppNumber:j.clinicWhatsAppNumber,clinicWhatsAppName:j.clinicWhatsAppName};t==="twilio"?(N.twilioAccountSid=j.twilioAccountSid,N.twilioAuthToken=j.twilioAuthToken,N.twilioWhatsAppNumber=j.twilioWhatsAppNumber):t==="whatsapp-business"&&(N.wabAccessToken=j.wabAccessToken,N.wabPhoneNumberId=j.wabPhoneNumberId,N.wabBusinessId=j.wabBusinessId),p.mutate(N)},y=()=>{o(!0),v.mutate(void 0,{onSettled:()=>o(!1)})},w=j=>{i(N=>({...N,[j]:!N[j]}))};return g?r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),r.jsx("div",{className:"h-32 bg-gray-200 rounded"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"WhatsApp Notifications"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure WhatsApp messaging for your clinic"})]}),r.jsx("div",{className:"flex items-center gap-2",children:f!=null&&f.configured?r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-green-100 text-green-700 text-sm",children:[r.jsx(fa,{}),"Configured"]}):r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-sm",children:[r.jsx(Vd,{}),"Not Configured"]})})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Dc,{className:"text-blue-500 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"Multi-Clinic WhatsApp Setup"}),r.jsx("p",{children:"Each clinic can have its own WhatsApp number. Messages will appear to patients as coming from your clinic's WhatsApp account."}),r.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside text-blue-700",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Manual:"})," Staff sends from clinic's phone with pre-filled message"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Twilio:"})," Automated sending from your Twilio WhatsApp number"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Business API:"})," Official WhatsApp Business for verified business accounts"]})]})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"WhatsApp Provider"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:kQ.map(j=>{const N=j.icon;return r.jsxs("button",{type:"button",onClick:()=>{s(j.id),u("provider",j.id)},className:`relative p-4 border-2 rounded-xl text-left transition-all ${t===j.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[j.recommended&&r.jsx("span",{className:"absolute top-2 right-2 text-xs bg-green-500 text-white px-2 py-0.5 rounded-full",children:"Recommended"}),r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(N,{className:`text-2xl ${j.color}`}),r.jsx("span",{className:"font-medium text-gray-900",children:j.name})]}),r.jsx("p",{className:"text-xs text-gray-500",children:j.description})]},j.id)})})]}),r.jsxs("form",{onSubmit:c(b),className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[r.jsxs("h3",{className:"font-medium text-gray-900 flex items-center gap-2",children:[r.jsx(fo,{className:"text-green-500"}),"Clinic WhatsApp Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Clinic WhatsApp Number *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Gm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"tel",...l("clinicWhatsAppNumber",{required:"Phone number is required"}),placeholder:"+91 9876543210",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),m.clinicWhatsAppNumber&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.clinicWhatsAppNumber.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This is the phone number patients will see as the sender"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Name (as shown in WhatsApp)"}),r.jsx("input",{type:"text",...l("clinicWhatsAppName"),placeholder:"City Health Clinic",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your WhatsApp Business profile name"})]})]})]}),t==="twilio"&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"font-medium text-gray-900 flex items-center gap-2",children:[r.jsx(pk,{className:"text-red-500"}),"Twilio Configuration"]}),r.jsxs("a",{href:"https://console.twilio.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-red-600 hover:underline flex items-center gap-1",children:["Get credentials ",r.jsx(Zc,{className:"text-xs"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account SID *"}),r.jsx("input",{type:"text",...l("twilioAccountSid",{required:t==="twilio"?"Account SID is required":!1}),placeholder:"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Auth Token *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:n.twilioAuthToken?"text":"password",...l("twilioAuthToken",{required:t==="twilio"?"Auth Token is required":!1}),placeholder:"Your Auth Token",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),r.jsx("button",{type:"button",onClick:()=>w("twilioAuthToken"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.twilioAuthToken?r.jsx(Un,{}):r.jsx(Ls,{})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Twilio WhatsApp Number *"}),r.jsx("input",{type:"text",...l("twilioWhatsAppNumber",{required:t==="twilio"?"WhatsApp number is required":!1}),placeholder:"+14155238886",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Twilio sandbox number or your registered WhatsApp number"})]})]})]}),t==="whatsapp-business"&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"font-medium text-gray-900 flex items-center gap-2",children:[r.jsx(zP,{className:"text-green-600"}),"WhatsApp Business API Configuration"]}),r.jsxs("a",{href:"https://developers.facebook.com/docs/whatsapp/cloud-api/get-started",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-600 hover:underline flex items-center gap-1",children:["Setup Guide ",r.jsx(Zc,{className:"text-xs"})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"Note:"})," WhatsApp Business API requires a verified Facebook Business account and approved WhatsApp Business phone number."]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Access Token *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:n.wabAccessToken?"text":"password",...l("wabAccessToken",{required:t==="whatsapp-business"?"Access Token is required":!1}),placeholder:"Your permanent access token",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),r.jsx("button",{type:"button",onClick:()=>w("wabAccessToken"),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.wabAccessToken?r.jsx(Un,{}):r.jsx(Ls,{})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number ID *"}),r.jsx("input",{type:"text",...l("wabPhoneNumberId",{required:t==="whatsapp-business"?"Phone Number ID is required":!1}),placeholder:"1234567890123456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Business Account ID"}),r.jsx("input",{type:"text",...l("wabBusinessId"),placeholder:"1234567890123456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]})]}),t==="manual"&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-medium text-green-900 flex items-center gap-2 mb-2",children:[r.jsx(fo,{className:"text-green-500"}),"How Manual Mode Works"]}),r.jsxs("ol",{className:"text-sm text-green-800 space-y-2 list-decimal list-inside",children:[r.jsx("li",{children:'When you click "Send via WhatsApp", a new tab opens with WhatsApp Web'}),r.jsx("li",{children:"The message is pre-filled with prescription/appointment details"}),r.jsx("li",{children:'Staff clicks "Send" in WhatsApp Web to complete sending'}),r.jsx("li",{children:"The message appears to come from your clinic's WhatsApp account (the one logged into WhatsApp Web)"})]}),r.jsxs("p",{className:"text-sm text-green-700 mt-3",children:[r.jsx("strong",{children:"Tip:"})," Keep WhatsApp Web logged in on the clinic's computer with the clinic's WhatsApp Business account."]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:y,disabled:a||!(f!=null&&f.configured),className:"inline-flex items-center gap-2 px-4 py-2 text-green-600 bg-green-50 rounded-lg hover:bg-green-100 transition disabled:opacity-50",children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:""}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ip,{}),"Send Test Message"]})}),r.jsx("button",{type:"submit",disabled:p.isPending,className:"inline-flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50",children:p.isPending?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:""}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(jn,{}),"Save Configuration"]})})]})]})]})}const jN=["DOCTOR","RECEPTIONIST","PHARMACIST","ACCOUNTANT","STAFF","PATIENT"],iy=["dashboard:view","patients:read","patients:create","patients:update","appointments:read","appointments:create","appointments:update","prescriptions:read","prescriptions:create","staff:read","staff:create","staff:update","pharmacy:read","pharmacy:create","billing:read","billing:create","billing:edit","reports:opd","purchases:read","purchases:create","ledger:read","ledger:create","ledger:update","ledger:delete"];iy.push("leaves:read","leaves:create","leaves:update");const TQ=["labs:read","labs:create","labs:update","labs:tests"],EQ=["agents:read","agents:create","agents:update","commissions:read","commissions:pay"];function _Q(){const e=Ht(),{data:t,isLoading:s,isError:n,error:i,refetch:a}=Te({queryKey:["rolePermissions"],queryFn:()=>ut.getRolePermissions()}),[o,l]=x.useState(null);x.useEffect(()=>{if(t!=null&&t.data)l(t.data);else if(!s&&!n){const m={};jN.forEach(f=>{m[f]=iy.slice()}),l(m)}},[t,s,n]);const c=We({mutationFn:ut.updateRolePermissions,onSuccess:()=>{e.invalidateQueries({queryKey:["rolePermissions"]}),X.success("Role permissions updated")},onError:m=>{var f,g;X.error(((g=(f=m==null?void 0:m.response)==null?void 0:f.data)==null?void 0:g.message)||"Failed to update role permissions")}}),d={"patients:create":["patients:read"],"patients:update":["patients:read"],"appointments:create":["appointments:read"],"appointments:update":["appointments:read"],"prescriptions:create":["prescriptions:read"],"billing:create":["billing:read"],"billing:edit":["billing:read"],"pharmacy:create":["pharmacy:read"],"staff:create":["staff:read"],"staff:update":["staff:read"],"labs:manage":["labs:read"],"labs:create":["labs:read"],"labs:update":["labs:read"],"labs:tests":["labs:read"],"agents:manage":["agents:read"],"agents:create":["agents:read"],"agents:update":["agents:read"],"commissions:pay":["commissions:read"],"ledger:create":["ledger:read"],"ledger:update":["ledger:read"],"ledger:delete":["ledger:read"],"leaves:create":["leaves:read"],"leaves:update":["leaves:read"]},u=Object.keys(d).reduce((m,f)=>(d[f].forEach(g=>{m[g]=m[g]||[],m[g].push(f)}),m),{}),h=(m,f)=>{l(g=>{const p=new Set(g[m]||[]);if(p.has(f)){p.delete(f);const v=[f];for(;v.length;){const b=v.shift(),y=u[b]||[];for(const w of y)p.has(w)&&(p.delete(w),v.push(w))}}else{p.add(f);const v=d[f]||[];for(const b of v)p.add(b)}return{...g,[m]:Array.from(p)}})};return s?r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Role-based Feature Access"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]}):n?r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Role-based Feature Access"}),r.jsxs("p",{className:"text-sm text-red-500 mb-4",children:["Failed to load role permissions: ",(i==null?void 0:i.message)||"Unknown error"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ps,{variant:"secondary",onClick:()=>a(),children:"Retry"}),r.jsx(ps,{variant:"ghost",onClick:()=>{alert("If this persists, ensure the backend migration/role-permissions endpoint is applied and the server is running.")},children:"Help"})]})]}):o?r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Role-based Feature Access"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Grant or revoke feature access per role. Changes affect only this clinic."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:jN.map(m=>r.jsxs("div",{className:"p-4 border rounded",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsx("strong",{children:m})}),r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"General"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:iy.map(f=>r.jsxs("label",{className:"inline-flex items-center space-x-2 bg-gray-50 px-2 py-1 rounded",children:[r.jsx("input",{type:"checkbox",checked:(o[m]||[]).includes(f),onChange:()=>h(m,f)}),r.jsx("span",{className:"text-sm",children:f})]},f))})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Labs"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:TQ.map(f=>r.jsxs("label",{className:"inline-flex items-center space-x-2 bg-gray-50 px-2 py-1 rounded",children:[r.jsx("input",{type:"checkbox",checked:(o[m]||[]).includes(f),onChange:()=>h(m,f)}),r.jsx("span",{className:"text-sm",children:f})]},f))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Agents & Commissions"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:EQ.map(f=>r.jsxs("label",{className:"inline-flex items-center space-x-2 bg-gray-50 px-2 py-1 rounded",children:[r.jsx("input",{type:"checkbox",checked:(o[m]||[]).includes(f),onChange:()=>h(m,f)}),r.jsx("span",{className:"text-sm",children:f})]},f))})]})]},m))}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(ps,{variant:"primary",onClick:()=>c.mutate(o),loading:c.isLoading,children:"Save Role Permissions"})})]}):null}const MQ=["appointments:read","prescriptions:read","billing:read","pharmacy:read"];function DQ(){const e=Ht(),{data:t,isLoading:s,isError:n,refetch:i}=Te({queryKey:["rolePermissions"],queryFn:()=>ut.getRolePermissions()}),[a,o]=x.useState([]);x.useEffect(()=>{t&&t.data&&t.data.PATIENT?o(Array.isArray(t.data.PATIENT)?t.data.PATIENT:[]):!s&&!n&&o([])},[t,s,n]);const l=We({mutationFn:u=>ut.updateRolePermissions(u),onSuccess:()=>{e.invalidateQueries({queryKey:["rolePermissions"]}),X.success("Mobile access updated")},onError:u=>{var h,m;X.error(((m=(h=u==null?void 0:u.response)==null?void 0:h.data)==null?void 0:m.message)||"Failed to update mobile access")}}),c=u=>{o(h=>{const m=new Set(h||[]);return m.has(u)?m.delete(u):m.add(u),Array.from(m)})},d=()=>{const u=t&&t.data?{...t.data}:{};u.PATIENT=a,l.mutate(u)};return s?r.jsx("div",{className:"p-4",children:"Loading mobile access..."}):n?r.jsxs("div",{className:"p-4",children:[r.jsx("div",{className:"text-red-600",children:"Failed to load mobile access settings."}),r.jsx("div",{className:"mt-2",children:r.jsx(ps,{variant:"ghost",onClick:()=>i(),children:"Retry"})})]}):r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[r.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Mobile App"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Grant mobile (patient) access to select features."}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:MQ.map(u=>r.jsxs("label",{className:"inline-flex items-center space-x-2 bg-gray-50 px-3 py-1 rounded",children:[r.jsx("input",{type:"checkbox",checked:(a||[]).includes(u),onChange:()=>c(u)}),r.jsx("span",{className:"text-sm",children:u})]},u))}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ps,{variant:"primary",onClick:d,loading:l.isLoading,children:"Save Mobile Access"})})]})}const OQ=[{id:"profile",label:"Profile",icon:Bd},{id:"clinic",label:"Clinic",icon:rU},{id:"consultation",label:"Consultation Fees",icon:Ki},{id:"tax",label:"Tax Setup",icon:qP},{id:"print",label:"Print Templates",icon:Ll},{id:"email",label:"Email",icon:po},{id:"whatsapp",label:"WhatsApp",icon:fo},{id:"preferences",label:"Preferences",icon:aU},{id:"access",label:"Access Management",icon:Bd}],RQ=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],IQ=[{id:"todayAppointments",label:"Today's Appointments",enabled:!0},{id:"revenue",label:"Revenue Stats",enabled:!0},{id:"recentPatients",label:"Recent Patients",enabled:!0},{id:"lowStock",label:"Low Stock Alerts",enabled:!0},{id:"pendingBills",label:"Pending Bills",enabled:!0},{id:"upcomingFollowups",label:"Upcoming Follow-ups",enabled:!1}];function gk(){const e=Ht(),{user:t,loadUser:s}=dr(),[n,i]=x.useState("profile"),[a,o]=x.useState(!1),[l,c]=x.useState(!1),{register:d,handleSubmit:u,formState:{errors:h}}=Vt({defaultValues:{name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}}),{register:m,handleSubmit:f,reset:g,watch:p,formState:{errors:v}}=Vt(),b=p("newPassword"),{register:y,handleSubmit:w,setValue:j,formState:{errors:N}}=Vt(),{register:S,handleSubmit:P,setValue:C}=Vt(),[F,T]=x.useState(RQ.map(ae=>({day:ae,isOpen:ae!=="Sunday",openTime:"09:00",closeTime:"18:00",breakStart:"13:00",breakEnd:"14:00"}))),[te,A]=x.useState(IQ),[q,z]=x.useState({}),[B,_]=x.useState(od({})),[$,M]=x.useState("bill"),{data:D,isLoading:J}=Te({queryKey:["clinic-settings"],queryFn:()=>ut.getClinicSettings()});x.useEffect(()=>{D&&(j("clinicName",D.clinicName||""),j("address",D.address||""),j("phone",D.phone||""),j("email",D.email||""),j("website",D.website||""),j("registrationNo",D.registrationNo||""),j("gstNo",D.gstNo||""))},[D,j]);const{data:K,isLoading:ce}=Te({queryKey:["tax-settings"],queryFn:()=>ut.getTaxSettings()});x.useEffect(()=>{K&&(C("consultationGST",K.consultationGST||""),C("pharmacyGST",K.pharmacyGST||""),C("labGST",K.labGST||""),C("otherGST",K.otherGST||""),C("inclusiveTax",K.inclusiveTax||!1))},[K,C]);const{data:U,isLoading:le}=Te({queryKey:["preferences"],queryFn:()=>ut.getPreferences()});x.useEffect(()=>{U!=null&&U.dashboardWidgets&&A(U.dashboardWidgets)},[U]);const{data:re,isLoading:ie}=Te({queryKey:["consultation-fees"],queryFn:()=>ut.getConsultationFees()});x.useEffect(()=>{var Ae;const ae=((Ae=re==null?void 0:re.data)==null?void 0:Ae.fees)||{};z(ae)},[re]);const{data:Y,isLoading:oe}=Te({queryKey:["print-templates"],queryFn:()=>ut.getPrintTemplates()});x.useEffect(()=>{Y&&_(od(Y))},[Y]);const Se=We({mutationFn:ae=>ut.updateProfile(ae),onSuccess:async()=>{X.success("Profile updated successfully"),e.invalidateQueries(["user"]),await s()},onError:ae=>{var Ae,R;X.error(((R=(Ae=ae.response)==null?void 0:Ae.data)==null?void 0:R.message)||"Failed to update profile")}}),je=We({mutationFn:ae=>ut.changePassword(ae),onSuccess:()=>{X.success("Password changed successfully"),g()},onError:ae=>{var Ae,R;X.error(((R=(Ae=ae.response)==null?void 0:Ae.data)==null?void 0:R.message)||"Failed to change password")}}),ne=We({mutationFn:ae=>ut.updateClinicSettings(ae),onSuccess:()=>{X.success("Clinic settings updated successfully"),e.invalidateQueries(["clinic-settings"])},onError:ae=>{var Ae,R;X.error(((R=(Ae=ae.response)==null?void 0:Ae.data)==null?void 0:R.message)||"Failed to update clinic settings")}}),ke=We({mutationFn:ae=>ut.updateTaxSettings(ae),onSuccess:()=>{X.success("Tax settings updated successfully"),e.invalidateQueries(["tax-settings"])},onError:ae=>{var Ae,R;X.error(((R=(Ae=ae.response)==null?void 0:Ae.data)==null?void 0:R.message)||"Failed to update tax settings")}});We({mutationFn:ae=>ut.updateWorkingHours(ae),onSuccess:()=>{X.success("Working hours updated successfully"),e.invalidateQueries(["working-hours"])},onError:ae=>{var Ae,R;X.error(((R=(Ae=ae.response)==null?void 0:Ae.data)==null?void 0:R.message)||"Failed to update working hours")}});const Ee=We({mutationFn:ae=>ut.updatePreferences(ae),onSuccess:()=>{X.success("Preferences updated successfully"),e.invalidateQueries(["preferences"])},onError:ae=>{var Ae,R;X.error(((R=(Ae=ae.response)==null?void 0:Ae.data)==null?void 0:R.message)||"Failed to update preferences")}}),Ue=We({mutationFn:ae=>ut.updateConsultationFees(ae),onSuccess:()=>{X.success("Consultation fees updated successfully"),e.invalidateQueries(["consultation-fees"])},onError:ae=>{var Ae,R;X.error(((R=(Ae=ae.response)==null?void 0:Ae.data)==null?void 0:R.message)||"Failed to update consultation fees")}}),se=We({mutationFn:ae=>ut.updatePrintTemplates(ae),onSuccess:()=>{X.success("Print templates updated successfully"),e.invalidateQueries(["print-templates"])},onError:ae=>{var Ae,R;X.error(((R=(Ae=ae.response)==null?void 0:Ae.data)==null?void 0:R.message)||"Failed to update print templates")}}),me=ae=>{Se.mutate(ae)},W=ae=>{je.mutate({currentPassword:ae.currentPassword,newPassword:ae.newPassword})},pe=ae=>{ne.mutate(ae)},Ce=ae=>{ke.mutate({...ae,consultationGST:parseFloat(ae.consultationGST)||0,pharmacyGST:parseFloat(ae.pharmacyGST)||0,labGST:parseFloat(ae.labGST)||0,otherGST:parseFloat(ae.otherGST)||0})},_e=ae=>{A(Ae=>Ae.map(R=>R.id===ae?{...R,enabled:!R.enabled}:R))},I=()=>{Ee.mutate({dashboardWidgets:te})},k=(ae,Ae)=>{z(R=>({...R,[ae]:Ae===""?"":Math.max(0,Number(Ae))}))},G=()=>{const ae={};Object.entries(q||{}).forEach(([Ae,R])=>{const Ie=Number(R);Number.isFinite(Ie)&&Ie>=0&&(ae[Ae]=Ie)}),Ue.mutate(ae)},ge=()=>{const ae=od(B);se.mutate(ae)},O={clinicName:(D==null?void 0:D.clinicName)||"DocClinic Demo",phone:(D==null?void 0:D.phone)||"+91 98765 43210",address:(D==null?void 0:D.address)||"123 Wellness Street, Tricity"},E={id:"demo-bill",billNo:"B-01024",createdAt:new Date().toISOString(),paymentStatus:"PENDING",patient:{name:"Ravi Kumar",phone:"+91 90000 11111"},doctor:{name:"Neha Sharma"},items:[{description:"Consultation Fee",quantity:1,unitPrice:500},{description:"CBC Test",quantity:1,unitPrice:350},{description:"Medicine Pack",quantity:2,unitPrice:180}],subtotal:1210,discountAmount:50,taxAmount:139.2,totalAmount:1299.2,paidAmount:500,dueAmount:799.2,notes:"Demo preview data"},Q={id:"demo-rx",prescriptionNo:"P-0102",createdAt:new Date().toISOString(),followUpDate:new Date(Date.now()+7*24*60*60*1e3).toISOString(),patient:{name:"Ravi Kumar",patientId:"P-0102",phone:"+91 90000 11111"},doctor:{name:"Neha Sharma"},vitalsSnapshot:{bp:"120/80",pulse:76,temp:98.4,spo2:99,weight:72},diagnosis:["Viral fever","Mild dehydration"],medicines:[{medicineName:"Paracetamol 650",dosage:"1 tab",frequency:"TID",duration:"3 days",timing:"After food"},{medicineName:"ORS",dosage:"200 ml",frequency:"BID",duration:"2 days",timing:"Anytime"}],labTests:[{testName:"CBC",instructions:"Fasting not required"}],clinicalNotes:"Plenty of fluids, rest recommended.",advice:"Review after 3 days if fever persists."},V=$==="bill"?nk(E,O,B):rk(Q,O,B),fe=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),r.jsxs("form",{onSubmit:u(me),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...d("name",{required:"Name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.name&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",...d("email",{required:"Email is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",...d("phone"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs("button",{type:"submit",disabled:Se.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[r.jsx(jn,{}),Se.isPending?"Saving...":"Save Changes"]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),r.jsxs("form",{onSubmit:f(W),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:a?"text":"password",...m("currentPassword",{required:"Current password is required"}),className:"w-full px-4 py-2.5 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?r.jsx(Un,{}):r.jsx(Ls,{})})]}),v.currentPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.currentPassword.message})]}),r.jsx("div",{}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["New Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:l?"text":"password",...m("newPassword",{required:"New password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),className:"w-full px-4 py-2.5 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?r.jsx(Un,{}):r.jsx(Ls,{})})]}),v.newPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.newPassword.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm New Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"password",...m("confirmPassword",{required:"Please confirm your password",validate:ae=>ae===b||"Passwords do not match"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),v.confirmPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.confirmPassword.message})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs("button",{type:"submit",disabled:je.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[r.jsx(jn,{}),je.isPending?"Changing...":"Change Password"]})})]})]})]});if((t==null?void 0:t.role)==="STAFF")return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Settings"}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),r.jsxs("form",{onSubmit:f(W),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:a?"text":"password",...m("currentPassword",{required:"Current password is required"}),className:"w-full px-4 py-2.5 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?r.jsx(Un,{}):r.jsx(Ls,{})})]}),v.currentPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.currentPassword.message})]}),r.jsx("div",{}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["New Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:l?"text":"password",...m("newPassword",{required:"New password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),className:"w-full px-4 py-2.5 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?r.jsx(Un,{}):r.jsx(Ls,{})})]}),v.newPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.newPassword.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm New Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"password",...m("confirmPassword",{required:"Please confirm your password",validate:ae=>ae===b||"Passwords do not match"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),v.confirmPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:v.confirmPassword.message})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs("button",{type:"submit",disabled:je.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[r.jsx(jn,{}),je.isPending?"Changing...":"Change Password"]})})]})]})]})});const Fe=()=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Clinic Information"}),J?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("form",{onSubmit:w(pe),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Clinic Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",...y("clinicName",{required:"Clinic name is required"}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter clinic name"}),N.clinicName&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.clinicName.message})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("textarea",{...y("address"),rows:2,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",...y("phone"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",...y("email"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),r.jsx("input",{type:"url",...y("website"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://www.example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),r.jsx("input",{type:"text",...y("registrationNo"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter registration number"})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs("button",{type:"submit",disabled:ne.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[r.jsx(jn,{}),ne.isPending?"Saving...":"Save Changes"]})})]})]}),Z=()=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tax Configuration"}),ce?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("form",{onSubmit:P(Ce),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Consultation GST (%)"}),r.jsx("input",{type:"number",step:"0.01",...S("consultationGST"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pharmacy GST (%)"}),r.jsx("input",{type:"number",step:"0.01",...S("pharmacyGST"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lab GST (%)"}),r.jsx("input",{type:"number",step:"0.01",...S("labGST"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Other GST (%)"}),r.jsx("input",{type:"number",step:"0.01",...S("otherGST"),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]})]}),r.jsx("div",{className:"pt-4",children:r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",...S("inclusiveTax"),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Prices are inclusive of tax (Tax will be calculated from the total price)"})]})}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs("button",{type:"submit",disabled:ke.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[r.jsx(jn,{}),ke.isPending?"Saving...":"Save Changes"]})})]})]}),he=()=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dashboard Customization"}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Choose which widgets to display on your dashboard"}),le?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:te.map(ae=>r.jsx("div",{onClick:()=>_e(ae.id),className:`p-4 border rounded-lg cursor-pointer transition ${ae.enabled?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`font-medium ${ae.enabled?"text-blue-700":"text-gray-700"}`,children:ae.label}),r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${ae.enabled?"bg-blue-600":"bg-gray-200"}`,children:ae.enabled&&r.jsx(Os,{className:"text-white text-xs"})})]})},ae.id))}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs("button",{onClick:I,disabled:Ee.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[r.jsx(jn,{}),Ee.isPending?"Saving...":"Save Preferences"]})})]})]}),ye=()=>{var Ae;const ae=((Ae=re==null?void 0:re.data)==null?void 0:Ae.doctors)||[];return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Doctor Consultation Fees"}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Set consultation amount per doctor. These values are used in new bills and auto-bill from prescription."}),ie?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):ae.length===0?r.jsx("p",{className:"text-sm text-gray-500",children:"No doctors found in this clinic."}):r.jsxs("div",{className:"space-y-3",children:[ae.map(R=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-center border border-gray-100 rounded-lg p-3",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"font-medium text-gray-900",children:R.name}),R.email&&r.jsx("p",{className:"text-xs text-gray-500",children:R.email})]}),r.jsx("div",{children:r.jsx("input",{type:"number",min:"0",step:"0.01",value:(q==null?void 0:q[R.id])??"",onChange:Ie=>k(R.id,Ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})})]},R.id)),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs("button",{onClick:G,disabled:Ue.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[r.jsx(jn,{}),Ue.isPending?"Saving...":"Save Consultation Fees"]})})]})]})},we=()=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Print Templates"}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Choose a design for Bill and Prescription print. You can also use custom HTML with placeholders."}),oe?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bill Template"}),r.jsx("select",{value:B.billTemplateId,onChange:ae=>_(Ae=>({...Ae,billTemplateId:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:FK.map(ae=>r.jsx("option",{value:ae.value,children:ae.label},ae.value))})]}),r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prescription Template"}),r.jsx("select",{value:B.prescriptionTemplateId,onChange:ae=>_(Ae=>({...Ae,prescriptionTemplateId:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:VK.map(ae=>r.jsx("option",{value:ae.value,children:ae.label},ae.value))})]})]}),B.billTemplateId==="custom"&&r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Bill HTML"}),r.jsx("textarea",{rows:10,value:B.customBillHtml,onChange:ae=>_(Ae=>({...Ae,customBillHtml:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-xs focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"<h1>{{clinicName}}</h1><div>Bill {{billNo}}</div><table>{{itemsTableRows}}</table>"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Bill placeholders: ",fN.bill.join(", ")]})]}),B.prescriptionTemplateId==="custom"&&r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Prescription HTML"}),r.jsx("textarea",{rows:10,value:B.customPrescriptionHtml,onChange:ae=>_(Ae=>({...Ae,customPrescriptionHtml:ae.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-xs focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"<h1>{{clinicName}}</h1><div>Prescription {{prescriptionNo}}</div><table>{{medicinesTableRows}}</table>"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Prescription placeholders: ",fN.prescription.join(", ")]})]}),r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-3",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Live Preview"}),r.jsxs("div",{className:"inline-flex rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("button",{type:"button",onClick:()=>M("bill"),className:`px-3 py-1.5 text-sm ${$==="bill"?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Bill Preview"}),r.jsx("button",{type:"button",onClick:()=>M("prescription"),className:`px-3 py-1.5 text-sm border-l border-gray-200 ${$==="prescription"?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Prescription Preview"})]})]}),r.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Preview uses sample data. Actual print will use real patient, doctor, bill, and prescription data."}),r.jsx("div",{className:"rounded-lg border border-gray-200 overflow-hidden bg-white",children:r.jsx("iframe",{title:"Print template preview",srcDoc:V,className:"w-full h-[640px] bg-white"})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{onClick:ge,disabled:se.isPending,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 transition",children:[r.jsx(jn,{}),se.isPending?"Saving...":"Save Print Templates"]})})]})]}),Be=()=>{switch(n){case"profile":return fe();case"clinic":return Fe();case"consultation":return ye();case"tax":return Z();case"print":return we();case"hours":return renderHoursTab();case"email":return r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsx(PQ,{})});case"whatsapp":return r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsx(AQ,{})});case"preferences":return he();case"access":return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsx(_Q,{})}),r.jsx("div",{children:r.jsx(DQ,{})})]});default:return fe()}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),r.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your account and clinic settings"})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"lg:w-64 flex-shrink-0",children:r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:OQ.map(ae=>r.jsxs("button",{onClick:()=>i(ae.id),className:`w-full flex items-center gap-3 px-4 py-3 text-left transition ${n===ae.id?"bg-blue-50 text-blue-600 border-l-4 border-blue-600":"text-gray-600 hover:bg-gray-50 border-l-4 border-transparent"}`,children:[r.jsx(ae.icon,{className:n===ae.id?"text-blue-600":"text-gray-400"}),r.jsx("span",{className:"font-medium",children:ae.label})]},ae.id))})}),r.jsx("div",{className:"flex-1",children:Be()})]})]})})}const LQ=Object.freeze(Object.defineProperty({__proto__:null,default:gk},Symbol.toStringTag,{value:"Module"})),FQ=["clinic management blog","healthcare operations blog","patient management insights","clinic growth strategies"];function VQ(){var u;const[e,t]=x.useState(1),[s,n]=x.useState(""),{data:i,isLoading:a}=Te({queryKey:["blogs-public",e,s],queryFn:()=>$a.getPublicList({page:e,limit:9,search:s})}),o=(i==null?void 0:i.data)||[],l=(i==null?void 0:i.pagination)||{page:1,totalPages:1},c=x.useMemo(()=>o.length?o[0]:null,[o]),d=x.useMemo(()=>o.length>1?o.slice(1):o,[o]);return r.jsxs("div",{className:"min-h-screen bg-slate-50",children:[r.jsx(bu,{title:"Healthcare & Clinic Management Blog | Docsy ERP",description:"Expert blog on clinic growth, patient experience, billing workflows, and digital healthcare operations.",keywords:FQ,path:"/blogs",schema:[{"@context":"https://schema.org","@type":"Blog",name:"Docsy ERP Blog",description:"Insights on clinic growth, patient workflows, and healthcare operations.",url:"https://docsyerp.in/blogs"}]}),r.jsx("section",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-indigo-900 text-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-14",children:[r.jsx("p",{className:"text-blue-200 uppercase text-sm tracking-wider font-semibold",children:"Docsy ERP Insights"}),r.jsx("h1",{className:"text-3xl md:text-5xl font-bold mt-2",children:"Clinic Growth, Operations, and Digital Healthcare Playbooks"}),r.jsx("p",{className:"text-blue-100 mt-4 max-w-3xl",children:"High-quality content for doctors, clinic admins, and healthcare teams who want better systems and better outcomes."}),r.jsxs("div",{className:"mt-8 max-w-xl relative",children:[r.jsx(pn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:s,onChange:h=>{n(h.target.value),t(1)},placeholder:"Search topics: patient wait time, billing leakages, OPD growth...",className:"w-full rounded-xl pl-12 pr-4 py-3 text-gray-900 border border-white/30"})]})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[a?r.jsx("div",{className:"text-gray-600",children:"Loading blogs..."}):o.length===0?r.jsx("div",{className:"bg-white border border-gray-100 rounded-xl p-8 text-gray-600",children:"No blogs found."}):r.jsxs(r.Fragment,{children:[c&&r.jsx("article",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm mb-8",children:r.jsxs("div",{className:"grid lg:grid-cols-2",children:[r.jsx("div",{className:"h-72 lg:h-full bg-gray-100",children:c.coverImage?r.jsx("img",{src:c.coverImage,alt:c.coverImageAlt||c.title,className:"w-full h-full object-cover"}):null}),r.jsxs("div",{className:"p-6 md:p-8",children:[r.jsx("span",{className:"inline-flex text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:c.category||"Healthcare Insights"}),r.jsx("h2",{className:"mt-3 text-2xl md:text-3xl font-bold text-gray-900",children:c.title}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[((u=c.clinic)==null?void 0:u.name)||"Docsy ERP"," | ",new Date(c.publishedAt||c.createdAt).toLocaleDateString("en-GB")," | ",r.jsx(Hx,{className:"inline mb-0.5"})," ",c.readingMinutes||1," min read"]}),r.jsx("p",{className:"text-gray-700 mt-4 line-clamp-4",children:c.excerpt||""}),r.jsxs(Ke,{to:`/blogs/${c.slug}`,className:"inline-flex items-center gap-2 mt-6 text-blue-700 font-semibold hover:text-blue-800",children:["Read Featured Story",r.jsx(Ld,{})]})]})]})}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:d.map(h=>r.jsxs("article",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[h.coverImage&&r.jsx("img",{src:h.coverImage,alt:h.coverImageAlt||h.title,className:"w-full h-44 object-cover"}),r.jsxs("div",{className:"p-4",children:[r.jsx("span",{className:"inline-flex text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:h.category||"General"}),r.jsx("h2",{className:"font-semibold text-lg text-gray-900 line-clamp-2 mt-2",children:h.title}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[new Date(h.publishedAt||h.createdAt).toLocaleDateString("en-GB")," | ",r.jsx(Hx,{className:"inline mb-0.5"})," ",h.readingMinutes||1," min"]}),r.jsx("p",{className:"text-gray-600 text-sm mt-3 line-clamp-3",children:h.excerpt||""}),r.jsxs(Ke,{to:`/blogs/${h.slug}`,className:"inline-flex items-center gap-2 mt-4 text-blue-600 font-medium hover:text-blue-700",children:["Read article",r.jsx(Ld,{})]})]})]},h.id))})]}),r.jsxs("div",{className:"flex items-center justify-center gap-3 mt-8",children:[r.jsx("button",{onClick:()=>t(h=>Math.max(1,h-1)),disabled:e<=1,className:"px-3 py-2 rounded-lg border border-gray-300 disabled:opacity-50",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",l.page," of ",l.totalPages]}),r.jsx("button",{onClick:()=>t(h=>Math.min(l.totalPages||1,h+1)),disabled:e>=(l.totalPages||1),className:"px-3 py-2 rounded-lg border border-gray-300 disabled:opacity-50",children:"Next"})]})]})]})}function BQ(e){var i;if(!e)return null;const t=typeof window<"u"?window.location.origin:"https://docsyerp.in",s=e.canonicalUrl||`${t}/blogs/${e.slug}`,n=e.coverImage?e.coverImage.startsWith("http")?e.coverImage:`${t}${e.coverImage}`:void 0;return[{"@context":"https://schema.org","@type":"Article",headline:e.metaTitle||e.title,description:e.metaDescription||e.excerpt||"",image:n?[n]:void 0,author:{"@type":"Person",name:((i=e.author)==null?void 0:i.name)||"Docsy ERP"},publisher:{"@type":"Organization",name:"Docsy ERP",logo:{"@type":"ImageObject",url:`${t}/favicon.ico`}},datePublished:e.publishedAt||e.createdAt,dateModified:e.updatedAt||e.createdAt,mainEntityOfPage:{"@type":"WebPage","@id":s},articleSection:e.category||"Healthcare",keywords:e.focusKeywords||void 0}]}function $Q(){var a,o;const{slug:e}=iu(),{data:t,isLoading:s,isError:n}=Te({queryKey:["blog-public-detail",e],queryFn:()=>$a.getPublicBySlug(e),enabled:!!e}),i=t==null?void 0:t.data;return s?r.jsx("div",{className:"min-h-screen bg-slate-50 p-8 text-gray-600",children:"Loading blog..."}):n||!i?r.jsx("div",{className:"min-h-screen bg-slate-50 p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl border border-gray-100 p-8",children:[r.jsx("p",{className:"text-red-600",children:"Blog not found."}),r.jsx(Ke,{to:"/blogs",className:"inline-block mt-4 text-blue-600 hover:text-blue-700",children:"Back to blogs"})]})}):r.jsxs("div",{className:"min-h-screen bg-slate-50",children:[r.jsx(bu,{title:`${i.metaTitle||i.title} | Docsy ERP Blog`,description:i.metaDescription||i.excerpt||"Healthcare and clinic management blog.",keywords:i.focusKeywords||void 0,path:`/blogs/${i.slug}`,image:i.coverImage||void 0,canonicalUrl:i.canonicalUrl||void 0,ogType:"article",schema:BQ(i)}),r.jsxs("article",{className:"max-w-5xl mx-auto px-4 py-10",children:[r.jsx(Ke,{to:"/blogs",className:"text-blue-600 hover:text-blue-700 text-sm",children:"Back to blogs"}),r.jsxs("div",{className:"mt-4 bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-sm",children:[i.coverImage&&r.jsx("img",{src:i.coverImage,alt:i.coverImageAlt||i.title,className:"w-full h-72 md:h-96 object-cover"}),r.jsxs("div",{className:"p-6 md:p-10",children:[r.jsx("span",{className:"inline-flex text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:i.category||"Healthcare Insights"}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mt-3",children:i.title}),r.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:[((a=i.author)==null?void 0:a.name)||"Docsy ERP"," | ",((o=i.clinic)==null?void 0:o.name)||"Docsy ERP"," | ",new Date(i.publishedAt||i.createdAt).toLocaleDateString("en-GB")," | ",r.jsx(Hx,{className:"inline mb-0.5"})," ",i.readingMinutes||1," min read"]}),i.excerpt&&r.jsx("p",{className:"mt-6 text-lg text-gray-700 border-l-4 border-blue-500 pl-4",children:i.excerpt}),r.jsx("div",{className:"mt-8 text-gray-800 whitespace-pre-wrap leading-8",children:i.content})]})]})]})]})}const zQ=["Clinic Growth","Patient Experience","Practice Management","Billing & Finance","Pharmacy Operations","Digital Health","Product Updates"];function wN(e){const t=String(e||"").trim().split(/\s+/).filter(Boolean).length;return Math.max(1,Math.ceil(t/220))}function UQ(){var w;const e=Ht(),[t,s]=x.useState({title:"",slug:"",category:"Practice Management",excerpt:"",coverImage:"",coverImageAlt:"",content:"",metaTitle:"",metaDescription:"",focusKeywords:"",canonicalUrl:"",readingMinutes:"",isPublished:!0}),{data:n,isLoading:i,isError:a,error:o}=Te({queryKey:["blogs-manage-list"],queryFn:()=>$a.getManagePosts({page:1,limit:50})}),l=We({mutationFn:$a.createPost,onSuccess:()=>{X.success("Blog posted"),s({title:"",slug:"",category:"Practice Management",excerpt:"",coverImage:"",coverImageAlt:"",content:"",metaTitle:"",metaDescription:"",focusKeywords:"",canonicalUrl:"",readingMinutes:"",isPublished:!0}),e.invalidateQueries({queryKey:["blogs-manage-list"]}),e.invalidateQueries({queryKey:["blogs-public"]}),e.invalidateQueries({queryKey:["blogs-recent"]})},onError:j=>{var N,S;X.error(((S=(N=j==null?void 0:j.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to create blog")}}),c=We({mutationFn:({id:j,isPublished:N})=>$a.updatePublishStatus(j,N),onSuccess:()=>{e.invalidateQueries({queryKey:["blogs-manage-list"]}),e.invalidateQueries({queryKey:["blogs-public"]}),e.invalidateQueries({queryKey:["blogs-recent"]})},onError:j=>{var N,S;X.error(((S=(N=j==null?void 0:j.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to update blog status")}}),d=We({mutationFn:$a.deletePost,onSuccess:()=>{X.success("Blog deleted"),e.invalidateQueries({queryKey:["blogs-manage-list"]}),e.invalidateQueries({queryKey:["blogs-public"]}),e.invalidateQueries({queryKey:["blogs-recent"]})},onError:j=>{var N,S;X.error(((S=(N=j==null?void 0:j.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to delete blog")}}),u=(n==null?void 0:n.data)||[],h=a&&((w=o==null?void 0:o.response)==null?void 0:w.status)===403,m=t.metaTitle.trim().length,f=t.metaDescription.trim().length,g=t.excerpt.trim()||t.content.trim().slice(0,200),p=t.readingMinutes||wN(t.content),v=x.useMemo(()=>({titleOk:t.title.trim().length>=20&&t.title.trim().length<=65,excerptOk:g.length>=110&&g.length<=180,metaTitleOk:m>0&&m<=70,metaDescriptionOk:f>0&&f<=170,keywordOk:t.focusKeywords.trim().split(",").map(j=>j.trim()).filter(Boolean).length>=2,imageAltOk:t.coverImage?t.coverImageAlt.trim().length>0:!0}),[t,g.length,f,m]),b=Object.values(v).filter(Boolean).length,y=j=>{j.preventDefault(),l.mutate({...t,readingMinutes:t.readingMinutes?Number(t.readingMinutes):void 0})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 md:p-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Professional Blog Publisher"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"SEO-ready publishing for Admin and Super Admin. Compete with top healthcare platforms using structured content."}),h&&r.jsx("div",{className:"mt-3 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:"You do not have permission to manage blogs."}),r.jsxs("div",{className:"mt-5 grid lg:grid-cols-3 gap-5",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),r.jsx("input",{value:t.title,onChange:j=>s(N=>({...N,title:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Ex: How Indian Clinics Can Reduce Patient Wait Time by 40%",disabled:h,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom Slug (optional)"}),r.jsx("input",{value:t.slug,onChange:j=>s(N=>({...N,slug:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"clinic-wait-time-reduction-strategy",disabled:h})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsx("select",{value:t.category,onChange:j=>s(N=>({...N,category:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",disabled:h,children:zQ.map(j=>r.jsx("option",{value:j,children:j},j))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reading Minutes"}),r.jsx("input",{type:"number",min:"1",value:t.readingMinutes,onChange:j=>s(N=>({...N,readingMinutes:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:`Auto: ${wN(t.content)} min`,disabled:h})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover Image URL"}),r.jsx("input",{value:t.coverImage,onChange:j=>s(N=>({...N,coverImage:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"https://...",disabled:h})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover Image ALT text"}),r.jsx("input",{value:t.coverImageAlt,onChange:j=>s(N=>({...N,coverImageAlt:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Doctor consulting patient in OPD",disabled:h})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Excerpt (",g.length," chars)"]}),r.jsx("textarea",{value:t.excerpt,onChange:j=>s(N=>({...N,excerpt:j.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"2-3 lines summary used in blog cards and search snippets",disabled:h})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content *"}),r.jsx("textarea",{value:t.content,onChange:j=>s(N=>({...N,content:j.target.value})),rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Write original, actionable, high-quality content...",disabled:h,required:!0})]}),r.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 bg-gray-50",children:[r.jsx("h2",{className:"font-semibold text-gray-900",children:"SEO Settings"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These fields directly impact search ranking and CTR."}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-3",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Meta Title (",m,"/70)"]}),r.jsx("input",{value:t.metaTitle,onChange:j=>s(N=>({...N,metaTitle:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"SEO title shown in search result",disabled:h})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Focus Keywords"}),r.jsx("input",{value:t.focusKeywords,onChange:j=>s(N=>({...N,focusKeywords:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"clinic management software, opd workflow, patient engagement",disabled:h})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Meta Description (",f,"/170)"]}),r.jsx("textarea",{value:t.metaDescription,onChange:j=>s(N=>({...N,metaDescription:j.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"SEO description for search snippet",disabled:h})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Canonical URL (optional)"}),r.jsx("input",{value:t.canonicalUrl,onChange:j=>s(N=>({...N,canonicalUrl:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"https://docsyerp.in/blogs/your-blog-slug",disabled:h})]})]})]}),r.jsxs("label",{className:"inline-flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:t.isPublished,onChange:j=>s(N=>({...N,isPublished:j.target.checked})),disabled:h}),r.jsx("span",{className:"text-sm text-gray-700",children:"Publish immediately"})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:l.isPending||h,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:l.isPending?"Posting...":"Post SEO Blog"})})]})}),r.jsxs("aside",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-slate-900 text-white rounded-xl p-4",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-300",children:"SEO Readiness"}),r.jsxs("p",{className:"text-3xl font-bold mt-1",children:[b,"/6"]}),r.jsx("p",{className:"text-xs text-slate-300 mt-2",children:"Target 6/6 before publishing for best outcomes."})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Checklist"}),r.jsxs("ul",{className:"mt-2 text-sm text-gray-600 space-y-1",children:[r.jsxs("li",{children:[v.titleOk?"OK":"Fix",": Title length 20-65"]}),r.jsxs("li",{children:[v.excerptOk?"OK":"Fix",": Excerpt 110-180"]}),r.jsxs("li",{children:[v.metaTitleOk?"OK":"Fix",": Meta title set"]}),r.jsxs("li",{children:[v.metaDescriptionOk?"OK":"Fix",": Meta description set"]}),r.jsxs("li",{children:[v.keywordOk?"OK":"Fix",": 2+ focus keywords"]}),r.jsxs("li",{children:[v.imageAltOk?"OK":"Fix",": Cover image alt text"]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Search Preview"}),r.jsx("p",{className:"text-sm text-blue-700 mt-2 line-clamp-2",children:t.metaTitle||t.title||"Your blog title"}),r.jsx("p",{className:"text-xs text-green-700 mt-1",children:t.canonicalUrl||`https://docsyerp.in/blogs/${(t.slug||t.title||"blog-post").toLowerCase().replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-")}`}),r.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-3",children:t.metaDescription||g||"Meta description preview appears here."}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Estimated read time: ",p," min"]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Blog Posts"}),i?r.jsx("p",{className:"text-gray-600",children:"Loading..."}):u.length===0?r.jsx("p",{className:"text-gray-600",children:"No blog posts yet."}):r.jsx("div",{className:"space-y-3",children:u.map(j=>r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:j.title}),r.jsxs("p",{className:"text-sm text-gray-500",children:[j.category||"General"," | ",j.isPublished?"Published":"Draft"," | ",new Date(j.createdAt).toLocaleDateString("en-GB")]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>c.mutate({id:j.id,isPublished:!j.isPublished}),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:j.isPublished?"Unpublish":"Publish"}),r.jsx("button",{type:"button",onClick:()=>d.mutate(j.id),className:"px-3 py-1.5 text-sm border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Delete"})]})]},j.id))})]})]})}const HQ=x.lazy(()=>it(()=>import("./Login-C0yhls0z.js"),[])),qQ=x.lazy(()=>it(()=>import("./ForgotPassword-Bkvrqyt5.js"),[])),WQ=x.lazy(()=>it(()=>import("./ResetPassword-CxpdavX5.js"),[])),GQ=x.lazy(()=>it(()=>import("./Register-Bu5U86_O.js"),[])),KQ=x.lazy(()=>it(()=>import("./AdminDashboard-QMwhlzfZ.js"),__vite__mapDeps([0,1]))),QQ=x.lazy(()=>it(()=>import("./Clinics-fzYowwWo.js"),__vite__mapDeps([2,1]))),YQ=x.lazy(()=>it(()=>import("./ClinicDetail-BhU5RuEE.js"),__vite__mapDeps([3,1]))),XQ=x.lazy(()=>it(()=>import("./Users-BO4LkST-.js"),__vite__mapDeps([4,1]))),JQ=x.lazy(()=>it(()=>import("./PrivacyPolicy-CEyD-bEF.js"),[])),ZQ=x.lazy(()=>it(()=>import("./TermsOfService-DtsChx1w.js"),[])),eY=x.lazy(()=>it(()=>import("./PatientManagementClinics-PriznNqt.js"),__vite__mapDeps([5,6]))),tY=x.lazy(()=>it(()=>import("./PharmacyManagementTricity-CX6397a1.js"),__vite__mapDeps([7,6]))),sY=x.lazy(()=>it(()=>import("./OnlineReportDashboardClinicsHospitals-DjxXXQnP.js"),__vite__mapDeps([8,6]))),nY=x.lazy(()=>it(()=>import("./SmartPrescriptionDoctors-S7kqfYAG.js"),__vite__mapDeps([9,6])));function _o({children:e,allowedRoles:t}){const{user:s,isLoading:n}=dr();if(n)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!s)return r.jsx(br,{to:"/login",replace:!0});if(t){const i=((s==null?void 0:s.role)||"").toString().toUpperCase();if(!t.map(o=>o.toString().toUpperCase()).includes(i))return r.jsx(br,{to:"/dashboard",replace:!0})}return e}function rY(){const{user:e}=dr();return x.useEffect(()=>{document.documentElement.setAttribute("lang","en-GB");const t=s=>{const n=s.target;n instanceof HTMLInputElement&&n.type==="number"&&(s.key==="ArrowUp"||s.key==="ArrowDown")&&s.preventDefault()};return window.addEventListener("keydown",t,!0),()=>window.removeEventListener("keydown",t,!0)},[]),x.useEffect(()=>{if(!e)return;const t=async()=>{try{await Promise.allSettled([it(()=>Promise.resolve().then(()=>wK),void 0),it(()=>Promise.resolve().then(()=>SK),void 0),it(()=>Promise.resolve().then(()=>AK),void 0),it(()=>Promise.resolve().then(()=>DK),void 0),it(()=>Promise.resolve().then(()=>IK),void 0),it(()=>Promise.resolve().then(()=>LK),void 0),it(()=>Promise.resolve().then(()=>ZK),void 0),it(()=>Promise.resolve().then(()=>QK),void 0),it(()=>Promise.resolve().then(()=>tQ),void 0),it(()=>Promise.resolve().then(()=>cQ),void 0),it(()=>Promise.resolve().then(()=>aQ),void 0),it(()=>Promise.resolve().then(()=>nQ),void 0),it(()=>Promise.resolve().then(()=>iQ),void 0),it(()=>Promise.resolve().then(()=>uQ),void 0),it(()=>Promise.resolve().then(()=>pQ),void 0),it(()=>Promise.resolve().then(()=>gQ),void 0),it(()=>Promise.resolve().then(()=>yQ),void 0),it(()=>Promise.resolve().then(()=>vQ),void 0),it(()=>Promise.resolve().then(()=>wQ),void 0),it(()=>Promise.resolve().then(()=>LQ),void 0),it(()=>Promise.resolve().then(()=>NQ),void 0),it(()=>Promise.resolve().then(()=>SQ),void 0)])}catch{}},s=async()=>{if(((e==null?void 0:e.role)||"").toString().toUpperCase()==="SUPER_ADMIN")try{await Promise.allSettled([it(()=>import("./AdminDashboard-QMwhlzfZ.js"),__vite__mapDeps([0,1])),it(()=>import("./Clinics-fzYowwWo.js"),__vite__mapDeps([2,1])),it(()=>import("./ClinicDetail-BhU5RuEE.js"),__vite__mapDeps([3,1])),it(()=>import("./Users-BO4LkST-.js"),__vite__mapDeps([4,1]))])}catch{}};let n,i;return typeof window.requestIdleCallback=="function"?n=window.requestIdleCallback(()=>{t(),s()}):i=window.setTimeout(()=>{t(),s()},400),()=>{n&&typeof window.cancelIdleCallback=="function"&&window.cancelIdleCallback(n),i&&window.clearTimeout(i)}},[e]),r.jsxs(r.Fragment,{children:[e&&r.jsx(Uz,{}),r.jsx(x.Suspense,{fallback:r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary-600"})}),children:r.jsxs(LT,{children:[r.jsx(ze,{path:"/",element:e?r.jsx(br,{to:"/dashboard"}):r.jsx(EU,{})}),r.jsx(ze,{path:"/privacy",element:r.jsx(JQ,{})}),r.jsx(ze,{path:"/terms",element:r.jsx(ZQ,{})}),r.jsx(ze,{path:"/features/patient-management-system-for-clinics",element:r.jsx(eY,{})}),r.jsx(ze,{path:"/features/pharmacy-management-software-tricity",element:r.jsx(tY,{})}),r.jsx(ze,{path:"/features/online-report-dashboard-software-for-clinics-hospitals",element:r.jsx(sY,{})}),r.jsx(ze,{path:"/features/smart-prescription-software-for-doctors",element:r.jsx(nY,{})}),r.jsx(ze,{path:"/pricing",element:r.jsx(DU,{})}),r.jsx(ze,{path:"/help-center",element:r.jsx(LU,{})}),r.jsx(ze,{path:"/blogs",element:r.jsx(VQ,{})}),r.jsx(ze,{path:"/blogs/:slug",element:r.jsx($Q,{})}),r.jsxs(ze,{element:r.jsx(Hz,{}),children:[r.jsx(ze,{path:"/login",element:e?r.jsx(br,{to:"/dashboard"}):r.jsx(HQ,{})}),r.jsx(ze,{path:"/register",element:e?r.jsx(br,{to:"/dashboard"}):r.jsx(GQ,{})}),r.jsx(ze,{path:"/forgot-password",element:r.jsx(qQ,{})}),r.jsx(ze,{path:"/reset-password",element:r.jsx(WQ,{})})]}),r.jsxs(ze,{element:r.jsx(_o,{children:r.jsx(F4,{})}),children:[r.jsx(ze,{path:"/dashboard",element:r.jsx(Q8,{})}),r.jsx(ze,{path:"/patients",element:r.jsx(Y8,{})}),r.jsx(ze,{path:"/patients/:id",element:r.jsx(X8,{})}),r.jsx(ze,{path:"/appointments",element:r.jsx(Kh,{})}),r.jsx(ze,{path:"/appointments/new",element:r.jsx(Kh,{})}),r.jsx(ze,{path:"/appointments/calendar",element:r.jsx(J8,{})}),r.jsx(ze,{path:"/appointments/:id",element:r.jsx(Kh,{})}),r.jsx(ze,{path:"/prescriptions",element:r.jsx(Z8,{})}),r.jsx(ze,{path:"/prescriptions/:id",element:r.jsx(ik,{})}),r.jsx(ze,{path:"/prescriptions/new",element:r.jsx(sy,{})}),r.jsx(ze,{path:"/prescriptions/new/:appointmentId",element:r.jsx(sy,{})}),r.jsx(ze,{path:"/pharmacy",element:r.jsx(ak,{})}),r.jsx(ze,{path:"/pharmacy/suppliers",element:r.jsx(ck,{})}),r.jsx(ze,{path:"/pharmacy/purchases",element:r.jsx(I1,{})}),r.jsx(ze,{path:"/pharmacy/upload",element:r.jsx(sQ,{})}),r.jsx(ze,{path:"/pharmacy/ledger",element:r.jsx(br,{to:"/ledger",replace:!0})}),r.jsx(ze,{path:"/pharmacy/ledger/manual",element:r.jsx(br,{to:"/ledger/manual",replace:!0})}),r.jsx(ze,{path:"/ledger",element:r.jsx(ok,{})}),r.jsx(ze,{path:"/ledger/manual",element:r.jsx(lk,{})}),r.jsx(ze,{path:"/billing",element:r.jsx(ny,{})}),r.jsx(ze,{path:"/billing/new",element:r.jsx(ry,{})}),r.jsx(ze,{path:"/billing/:id/edit",element:r.jsx(ry,{})}),r.jsx(ze,{path:"/billing/:id",element:r.jsx(ny,{})}),r.jsx(ze,{path:"/staff",element:r.jsx(dk,{})}),r.jsx(ze,{path:"/staff/attendance",element:r.jsx(uk,{})}),r.jsx(ze,{path:"/staff/leave",element:r.jsx(hk,{})}),r.jsx(ze,{path:"/reports",element:r.jsx(iY,{})}),r.jsx(ze,{path:"/labs-agents",element:r.jsx(_o,{allowedRoles:["SUPER_ADMIN","DOCTOR","ACCOUNTANT","ADMIN"],children:r.jsx(Qh,{})})}),r.jsx(ze,{path:"/labs",element:r.jsx(_o,{allowedRoles:["SUPER_ADMIN","DOCTOR","ACCOUNTANT","ADMIN"],children:r.jsx(Qh,{})})}),r.jsx(ze,{path:"/labs-agents/:labId/tests",element:r.jsx(_o,{allowedRoles:["SUPER_ADMIN","DOCTOR","ACCOUNTANT","ADMIN"],children:r.jsx(fk,{})})}),r.jsx(ze,{path:"/agents",element:r.jsx(_o,{allowedRoles:["SUPER_ADMIN","DOCTOR","ACCOUNTANT","ADMIN"],children:r.jsx(Qh,{})})}),r.jsx(ze,{path:"/settings",element:r.jsx(gk,{})}),r.jsx(ze,{path:"/blogs/manage",element:r.jsx(UQ,{})}),r.jsx(ze,{path:"/profile",element:r.jsx(br,{to:"/settings",replace:!0})})]}),r.jsxs(ze,{element:r.jsx(_o,{allowedRoles:["SUPER_ADMIN"],children:r.jsx(F4,{})}),children:[r.jsx(ze,{path:"/admin",element:r.jsx(KQ,{})}),r.jsx(ze,{path:"/admin/clinics",element:r.jsx(QQ,{})}),r.jsx(ze,{path:"/admin/clinics/:id",element:r.jsx(YQ,{})}),r.jsx(ze,{path:"/admin/users",element:r.jsx(XQ,{})})]}),r.jsx(ze,{path:"*",element:r.jsx(br,{to:e?"/dashboard":"/",replace:!0})})]})})]})}function iY(){return st("reports:opd")||st("reports:sales")||st("reports:pharmacy")||st("reports:commissions")||st("reports:view",["SUPER_ADMIN","DOCTOR","ACCOUNTANT"])?r.jsx(mk,{}):r.jsx(br,{to:"/dashboard",replace:!0})}const aY=new jE({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}});z0.createRoot(document.getElementById("root")).render(r.jsx(Re.StrictMode,{children:r.jsx(wE,{client:aY,children:r.jsx(WT,{children:r.jsxs(MD,{children:[r.jsx(rY,{}),r.jsx(j_,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})}));export{$Y as $,WY as A,_Y as B,KY as C,IY as D,OY as E,Bx as F,RY as G,VY as H,DY as I,QY as J,ps as K,Ke as L,UY as M,HY as N,FY as O,LY as P,zY as Q,Re as R,YY as S,GY as T,At as U,Qs as V,iu as W,MY as X,rF as Y,qY as Z,XY as _,dr as a,ir as a0,ee as a1,bu as a2,Vt as b,We as c,Un as d,Ls as e,Uh as f,_i as g,po as h,fa as i,r as j,np as k,r6 as l,mU as m,Bd as n,zP as o,Os as p,Ld as q,x as r,lY as s,ON as t,yn as u,BY as v,EY as w,ZY as x,JY as y,X as z};
