import{u as q,r as m,b as $,c as F,j as e,L as u,F as A,n as E,o as R,m as L,p as z,d as g,e as h,k as D,q as M,f as V,g as B,z as b}from"./index-DCuY5ReO.js";const p=[{id:1,title:"Personal Info",icon:E},{id:2,title:"Clinic Info",icon:R},{id:3,title:"Password",icon:L}];function I(){const f=q(),[r,x]=m.useState(1),[d,y]=m.useState(!1),[o,j]=m.useState(!1),{register:a,handleSubmit:N,watch:w,trigger:v,formState:{errors:s}}=$({defaultValues:{name:"",email:"",phone:"",clinicName:"",address:"",city:"",state:"",pincode:"",password:"",confirmPassword:""}}),l=w("password"),c=F({mutationFn:B.register,onSuccess:()=>{b.success("Registration successful! Please login."),f("/login")},onError:t=>{var i,n;b.error(((n=(i=t.response)==null?void 0:i.data)==null?void 0:n.message)||"Registration failed")}}),P=async t=>{let i=[];switch(t){case 1:i=["name","email","phone"];break;case 2:i=["clinicName","address","city","state","pincode"];break;case 3:i=["password","confirmPassword"];break;default:return!0}return await v(i)},k=async()=>{await P(r)&&r<3&&x(r+1)},S=()=>{r>1&&x(r-1)},C=t=>{const{confirmPassword:i,...n}=t;c.mutate(n)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-lg",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(u,{to:"/",className:"inline-flex items-center space-x-2",children:[e.jsx(A,{className:"h-10 w-10 text-blue-600"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"Docsy ERP"})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mt-6",children:"Create your account"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Start managing your clinic in minutes"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-center",children:p.map((t,i)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all ${r>t.id?"bg-green-500 border-green-500 text-white":r===t.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-400"}`,children:r>t.id?e.jsx(z,{}):e.jsx(t.icon,{})}),e.jsx("span",{className:`text-xs mt-2 ${r>=t.id?"text-blue-600 font-medium":"text-gray-400"}`,children:t.title})]}),i<p.length-1&&e.jsx("div",{className:`w-16 h-0.5 mx-2 mb-6 ${r>t.id?"bg-green-500":"bg-gray-200"}`})]},t.id))})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("form",{onSubmit:N(C),children:[r===1&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",...a("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),className:`w-full px-4 py-3 rounded-lg border ${s.name?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"Dr. John Smith"}),s.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",...a("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Enter a valid email address"}}),className:`w-full px-4 py-3 rounded-lg border ${s.email?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"doctor@clinic.com"}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",...a("phone",{required:"Phone number is required",pattern:{value:/^[6-9]\d{9}$/,message:"Enter a valid 10-digit phone number"}}),className:`w-full px-4 py-3 rounded-lg border ${s.phone?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"9876543210"}),s.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.phone.message})]})]}),r===2&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Clinic Name"}),e.jsx("input",{type:"text",...a("clinicName",{required:"Clinic name is required"}),className:`w-full px-4 py-3 rounded-lg border ${s.clinicName?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"City Health Clinic"}),s.clinicName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.clinicName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("textarea",{...a("address",{required:"Address is required"}),rows:2,className:`w-full px-4 py-3 rounded-lg border ${s.address?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition resize-none`,placeholder:"123, Main Street, Near City Hospital"}),s.address&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.address.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",...a("city",{required:"City is required"}),className:`w-full px-4 py-3 rounded-lg border ${s.city?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"Mumbai"}),s.city&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.city.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),e.jsx("input",{type:"text",...a("state",{required:"State is required"}),className:`w-full px-4 py-3 rounded-lg border ${s.state?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"Maharashtra"}),s.state&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.state.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),e.jsx("input",{type:"text",...a("pincode",{required:"Pincode is required",pattern:{value:/^\d{6}$/,message:"Enter a valid 6-digit pincode"}}),className:`w-full px-4 py-3 rounded-lg border ${s.pincode?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition`,placeholder:"400001"}),s.pincode&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.pincode.message})]})]}),r===3&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",...a("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:"Password must contain uppercase, lowercase, and number"}}),className:`w-full px-4 py-3 rounded-lg border ${s.password?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition pr-12`,placeholder:"Create a strong password"}),e.jsx("button",{type:"button",onClick:()=>y(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?e.jsx(g,{}):e.jsx(h,{})})]}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.password.message}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx("p",{className:`text-xs ${(l==null?void 0:l.length)>=8?"text-green-500":"text-gray-400"}`,children:"• At least 8 characters"}),e.jsx("p",{className:`text-xs ${/[A-Z]/.test(l)?"text-green-500":"text-gray-400"}`,children:"• One uppercase letter"}),e.jsx("p",{className:`text-xs ${/[a-z]/.test(l)?"text-green-500":"text-gray-400"}`,children:"• One lowercase letter"}),e.jsx("p",{className:`text-xs ${/\d/.test(l)?"text-green-500":"text-gray-400"}`,children:"• One number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",...a("confirmPassword",{required:"Please confirm your password",validate:t=>t===l||"Passwords do not match"}),className:`w-full px-4 py-3 rounded-lg border ${s.confirmPassword?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-blue-500 transition pr-12`,placeholder:"Confirm your password"}),e.jsx("button",{type:"button",onClick:()=>j(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?e.jsx(g,{}):e.jsx(h,{})})]}),s.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.confirmPassword.message})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"terms",...a("terms",{required:"You must accept the terms"}),className:"w-4 h-4 mt-1 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),s.terms&&e.jsx("p",{className:"text-sm text-red-500",children:s.terms.message})]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[r>1&&e.jsxs("button",{type:"button",onClick:S,className:"flex-1 flex items-center justify-center gap-2 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:border-gray-400 transition",children:[e.jsx(D,{}),"Back"]}),r<3?e.jsxs("button",{type:"button",onClick:k,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition",children:["Next",e.jsx(M,{})]}):e.jsx("button",{type:"submit",disabled:c.isPending,className:"flex-1 flex items-center justify-center gap-2 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:c.isPending?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"animate-spin"}),"Creating Account..."]}):"Create Account"})]})]}),e.jsxs("p",{className:"text-center text-gray-600 mt-6",children:["Already have an account?"," ",e.jsx(u,{to:"/login",className:"text-blue-600 font-semibold hover:text-blue-700",children:"Sign in"})]})]}),e.jsxs("p",{className:"text-center text-gray-400 text-sm mt-8",children:["© ",new Date().getFullYear()," Docsy ERP. All rights reserved."]})]})})}export{I as default};
